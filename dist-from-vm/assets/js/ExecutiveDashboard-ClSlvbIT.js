function e(){const e=g(),{data:k,isLoading:V}=j({queryKey:["executive-dashboard","kpis"],queryFn:T,refetchInterval:6e4,staleTime:3e4,gcTime:6e4}),{data:P,isLoading:A}=j({queryKey:["executive-dashboard","fleet-health"],queryFn:I,refetchInterval:6e4,staleTime:3e4,gcTime:6e4}),{data:K,isLoading:L}=j({queryKey:["executive-dashboard","cost-analysis"],queryFn:D,refetchInterval:6e4,staleTime:3e4,gcTime:6e4}),{data:O,isLoading:E}=j({queryKey:["executive-dashboard","insights"],queryFn:q,refetchInterval:6e4,staleTime:3e4,gcTime:6e4}),{data:R,isLoading:U}=j({queryKey:["executive-dashboard","trends"],queryFn:z,refetchInterval:6e4,staleTime:3e4,gcTime:6e4}),Q=V||A||L||E||U,$=t.useMemo(()=>new Date,[k,P,K,O,R]),B=e=>85>e?70>e?S:M:C,H=e=>{switch(e){case"critical":return s.jsx(u,{className:"w-5 h-5",weight:"fill"});case"warning":return s.jsx(x,{className:"w-5 h-5",weight:"fill"});case"recommendation":return s.jsx(h,{className:"w-5 h-5",weight:"fill"});default:return s.jsx(m,{className:"w-5 h-5",weight:"fill"})}},W=e=>{switch(e){case"critical":return"destructive";case"warning":return"default";case"recommendation":return"secondary";default:return"outline"}};return Q?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx(a,{className:"w-12 h-12 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading executive dashboard..."})]})}):k&&P&&K?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Executive Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Real-time fleet insights and AI-powered recommendations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last updated: ",$.toLocaleTimeString()]}),s.jsxs(p,{variant:"outline",size:"sm",onClick:async()=>{await Promise.all([e.invalidateQueries({queryKey:["executive-dashboard","kpis"]}),e.invalidateQueries({queryKey:["executive-dashboard","fleet-health"]}),e.invalidateQueries({queryKey:["executive-dashboard","cost-analysis"]}),e.invalidateQueries({queryKey:["executive-dashboard","insights"]}),e.invalidateQueries({queryKey:["executive-dashboard","trends"]})])},disabled:Q,children:[s.jsx(a,{className:"w-4 h-4 mr-2 "+(Q?"animate-spin":"")}),"Refresh"]}),s.jsxs(p,{variant:"outline",size:"sm",onClick:()=>{alert("PDF Export functionality - integrate with jsPDF or similar library")},children:[s.jsx(i,{className:"w-4 h-4 mr-2"}),"Export PDF"]})]})]}),s.jsxs(f,{className:"border-2",children:[s.jsx(v,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(y,{className:"flex items-center gap-2",children:[s.jsx(n,{className:"w-6 h-6"}),"Overall Fleet Health"]}),s.jsx(N,{children:"Comprehensive health score across all categories"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-5xl font-bold",style:{color:B(P.overall)},children:P.overall.toFixed(1)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"out of 100"})]})]})}),s.jsx(w,{children:s.jsx("div",{className:"grid grid-cols-4 gap-4",children:P.breakdown.map(e=>s.jsx(f,{children:s.jsx(w,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.category}),s.jsx("p",{className:"text-3xl font-bold",style:{color:B(e.score)},children:e.score.toFixed(1)}),s.jsxs(b,{variant:"outline",className:"mt-2",children:[(100*e.weight).toFixed(0),"% weight"]})]})})},e.category))})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(f,{children:s.jsx(w,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Vehicles"}),s.jsx("p",{className:"text-2xl font-bold",children:k.totalVehicles}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[k.activeVehicles," active â€¢ ",k.maintenanceVehicles," in maintenance"]})]}),s.jsx(r,{className:"w-8 h-8 text-primary",weight:"duotone"})]})})}),s.jsx(f,{children:s.jsx(w,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fleet Utilization"}),s.jsxs("p",{className:"text-2xl font-bold",children:[k.fleetUtilizationRate.toFixed(1),"%"]}),s.jsxs(b,{variant:"outline",className:"mt-1",children:[k.assetUtilizationPercentage.toFixed(1),"% assets active"]})]}),s.jsx(c,{className:"w-8 h-8 text-success",weight:"duotone"})]})})}),s.jsx(f,{children:s.jsx(w,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Mileage"}),s.jsx("p",{className:"text-2xl font-bold",children:k.totalMileageThisMonth.toLocaleString()}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[0>k.mileageChange?s.jsx(d,{className:"w-4 h-4 text-danger"}):s.jsx(l,{className:"w-4 h-4 text-success"}),s.jsxs("span",{className:"text-xs "+(0>k.mileageChange?"text-danger":"text-success"),children:[k.mileageChange.toFixed(1),"% from last month"]})]})]}),s.jsx(n,{className:"w-8 h-8 text-primary",weight:"duotone"})]})})}),s.jsx(f,{children:s.jsx(w,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Fuel Efficiency"}),s.jsxs("p",{className:"text-2xl font-bold",children:[k.avgFuelEfficiency.toFixed(1)," MPG"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Fleet average"})]}),s.jsx(o,{className:"w-8 h-8 text-warning",weight:"duotone"})]})})})]}),s.jsxs(f,{children:[s.jsxs(v,{children:[s.jsxs(y,{className:"flex items-center gap-2",children:[s.jsx(m,{className:"w-6 h-6"}),"AI-Powered Insights"]}),s.jsx(N,{children:"Intelligent recommendations and alerts"})]}),s.jsx(w,{children:s.jsx(F,{className:"h-72",children:s.jsx("div",{className:"space-y-4",children:O?.map(e=>s.jsxs("div",{className:"border rounded-md p-4 bg-muted/50",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`text-${W(e.type)}-foreground`,children:H(e.type)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:e.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Confidence: ",(100*e.confidence).toFixed(0),"%"]})]})]}),e.actionable&&s.jsx(p,{variant:"outline",size:"sm",children:"Take Action"})]}),s.jsx("p",{className:"mt-2 text-sm",children:e.message}),s.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]},e.id))})})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"Unable to load dashboard data"})})}import{r as t,j as s,bi as a,bj as i,aJ as n,ab as r,A as c,b5 as l,bk as d,aK as o,bl as m,bm as h,C as x,bn as u}from"./react-core-hQu9tqS1.js";import{a as g,u as j}from"./query-vendor--Fe2N4Al.js";import{h as p,C as f,d as v,e as y,i as N,f as w,B as b,S as F}from"./index-BDwglPMF.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./react-router-cBrq_s0x.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./animation-vendor-Cf_i_fm0.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";const C="#10b981",M="#f59e0b",S="#ef4444",T=async()=>({totalVehicles:124,activeVehicles:98,inactiveVehicles:8,maintenanceVehicles:18,fleetUtilizationRate:78.5,totalMileageThisMonth:45230,totalMileageLastMonth:42150,mileageChange:7.3,avgFuelEfficiency:18.4,maintenanceCostPerVehicle:1245.5,incidentRatePer100kMiles:2.3,avgDriverSafetyScore:87.5,assetUtilizationPercentage:79,taskCompletionRate:92.5,avgAlertResponseTime:2.4}),I=async()=>({overall:82.5,mechanical:85,safety:87.5,compliance:78,efficiency:79.5,breakdown:[{category:"Mechanical",score:85,weight:.3},{category:"Safety",score:87.5,weight:.35},{category:"Compliance",score:78,weight:.2},{category:"Efficiency",score:79.5,weight:.15}]}),D=async()=>({totalCosts:154680,fuelCosts:78340,maintenanceCosts:62140,incidentCosts:14200,costPerMile:3.42,costPerVehicle:1247.58,breakdown:[{category:"Fuel",amount:78340,percentage:50.6},{category:"Maintenance",amount:62140,percentage:40.2},{category:"Incidents",amount:14200,percentage:9.2}]}),q=async()=>[{id:"1",type:"critical",title:"High Maintenance Costs Detected",message:"Vehicle F-150 (VIN: 1FTFW1E84MFC12345) has incurred $8,450 in maintenance costs over the last 90 days. Consider replacement evaluation.",confidence:.92,actionable:!0,relatedVehicle:"1FTFW1E84MFC12345",timestamp:(new Date).toISOString()},{id:"2",type:"warning",title:"Overdue Maintenance Alert",message:"12 vehicles have overdue maintenance schedules. Immediate action required to prevent breakdowns and ensure compliance.",confidence:.95,actionable:!0,timestamp:(new Date).toISOString()},{id:"3",type:"recommendation",title:"Fleet Optimization Opportunity",message:"Current utilization is at 78.5%. Consider redistributing 8 underutilized vehicles to high-demand routes to improve efficiency by 12%.",confidence:.78,actionable:!0,timestamp:(new Date).toISOString()},{id:"4",type:"insight",title:"AI Strategic Recommendation",message:"Based on historical patterns, implementing predictive maintenance could reduce emergency repairs by 35% and save approximately $18,500 monthly.",confidence:.85,actionable:!0,timestamp:(new Date).toISOString()}],z=async()=>({utilization:Array.from({length:30},(e,t)=>({date:new Date(Date.now()-24*(29-t)*60*60*1e3).toISOString().split("T")[0],value:70+20*Math.random(),label:"Utilization %"})),costs:Array.from({length:30},(e,t)=>({date:new Date(Date.now()-24*(29-t)*60*60*1e3).toISOString().split("T")[0],value:3e3+2e3*Math.random(),label:"Daily Costs"})),incidents:Array.from({length:30},(e,t)=>({date:new Date(Date.now()-24*(29-t)*60*60*1e3).toISOString().split("T")[0],value:Math.floor(5*Math.random()),label:"Incidents"}))});export{e as ExecutiveDashboard};
