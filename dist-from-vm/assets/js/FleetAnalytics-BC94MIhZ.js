function e(){const e=h(),z=e?.vehicles||[],S=e?.fuelTransactions||[],k=e?.workOrders||[],[T,$]=s.useState("month"),[L,V]=s.useState("overview"),A=s.useMemo(()=>["Jan","Feb","Mar","Apr","May","Jun"].map((e,s)=>{const t=Math.floor(15*Math.random()+35);return{name:e,active:t,idle:Math.floor(10*Math.random()+5),service:Math.floor(5*Math.random()+2),utilization:Math.floor(t/50*100)}}),[]),P=s.useMemo(()=>["Jan","Feb","Mar","Apr","May","Jun"].map(e=>({name:e,fuel:Math.floor(15e3*Math.random()+25e3),maintenance:Math.floor(1e4*Math.random()+15e3),insurance:Math.floor(5e3*Math.random()+8e3)})),[]),K=s.useMemo(()=>["Sedan","SUV","Truck","Van","Emergency"].map(e=>({name:e,utilization:Math.floor(30*Math.random()+65),count:z.filter(s=>s?.type?.toLowerCase()===e.toLowerCase()).length})),[z]),U=s.useMemo(()=>{const e=S.reduce((e,s)=>e+(s?.totalCost??0),0),s=k.filter(e=>e?.cost).reduce((e,s)=>e+(s?.cost??0),0),t=z.filter(e=>"active"===e?.status).length,a=z.length>0?Math.round(t/z.length*100):0,l=z.length>0?Math.round(z.reduce((e,s)=>e+(s?.mileage??0),0)/z.length):0,i=z.filter(e=>"service"===e?.status).length;return{totalFleet:z.length,utilization:a,totalFuelCost:e,totalMaintenanceCost:s,avgMileage:l,downtime:i}},[z,S,k]),E=s.useMemo(()=>({costPerVehicle:U.totalFleet>0?Math.round((U.totalFuelCost+U.totalMaintenanceCost)/U.totalFleet):0,costPerMile:U.avgMileage>0&&U.totalFleet>0?((U.totalFuelCost+U.totalMaintenanceCost)/(U.avgMileage*U.totalFleet)).toFixed(2):"0.00",downtimeRate:U.totalFleet>0?(U.downtime/U.totalFleet*100).toFixed(1):"0.0",fuelEfficiency:S.length>0?(S.reduce((e,s)=>e+(s?.mpg??0),0)/S.length).toFixed(1):"0.0"}),[U,S]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Fleet Analytics"}),t.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive analytics and performance insights"})]}),t.jsxs(M,{value:T,onValueChange:$,children:[t.jsx(y,{className:"w-[180px]",children:t.jsx(w,{placeholder:"Time Period"})}),t.jsxs(C,{children:[t.jsx(F,{value:"week",children:"This Week"}),t.jsx(F,{value:"month",children:"This Month"}),t.jsx(F,{value:"quarter",children:"This Quarter"}),t.jsx(F,{value:"year",children:"This Year"})]})]})]}),t.jsxs(u,{value:L,onValueChange:V,children:[t.jsxs(x,{className:"grid w-full grid-cols-4",children:[t.jsx(j,{value:"overview",children:"Overview"}),t.jsx(j,{value:"financial",children:"Financial"}),t.jsx(j,{value:"utilization",children:"Utilization"}),t.jsx(j,{value:"kpis",children:"Key Metrics"})]}),t.jsxs(g,{value:"overview",className:"space-y-6 mt-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(m,{title:"Total Fleet Size",value:U.totalFleet,subtitle:"vehicles",icon:t.jsx(a,{className:"w-5 h-5"}),status:"info"}),t.jsx(m,{title:"Fleet Utilization",value:`${U.utilization}%`,trend:"up",change:3.2,subtitle:"vs last period",icon:t.jsx(l,{className:"w-5 h-5"}),status:"success"}),t.jsx(m,{title:"Avg Mileage",value:`${U.avgMileage.toLocaleString()}mi`,subtitle:"per vehicle",icon:t.jsx(i,{className:"w-5 h-5"}),status:"info"}),t.jsx(m,{title:"Vehicles in Service",value:U.downtime,subtitle:"requiring attention",icon:t.jsx(n,{className:"w-5 h-5"}),status:U.downtime>5?"warning":"success"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(d,{title:"Fleet Status Over Time",subtitle:"Monthly vehicle status breakdown",type:"area",data:A,dataKey:"active",color:"oklch(0.45 0.15 250)"}),t.jsx(d,{title:"Fleet Utilization Rate",subtitle:"Percentage of fleet in active use",type:"line",data:A,dataKey:"utilization",color:"oklch(0.75 0.12 210)"})]})]}),t.jsxs(g,{value:"financial",className:"space-y-6 mt-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(m,{title:"Total Fuel Cost",value:`$${U.totalFuelCost.toLocaleString()}`,trend:"up",change:8.5,subtitle:"vs last period",icon:t.jsx(r,{className:"w-5 h-5"}),status:"warning"}),t.jsx(m,{title:"Maintenance Cost",value:`$${U.totalMaintenanceCost.toLocaleString()}`,trend:"down",change:2.3,subtitle:"vs last period",icon:t.jsx(n,{className:"w-5 h-5"}),status:"success"}),t.jsx(m,{title:"Cost per Vehicle",value:`$${E.costPerVehicle.toLocaleString()}`,subtitle:"average total cost",icon:t.jsx(o,{className:"w-5 h-5"}),status:"info"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(d,{title:"Cost Analysis Breakdown",subtitle:"Monthly operating costs by category",type:"bar",data:P,dataKey:"fuel",color:"oklch(0.45 0.15 250)"}),t.jsxs(p,{children:[t.jsx(v,{children:t.jsx(f,{children:"Cost Distribution"})}),t.jsx(N,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Fuel"}),t.jsxs("span",{className:"text-sm font-semibold",children:["$",U.totalFuelCost.toLocaleString()]})]}),t.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary",style:{width:U.totalFuelCost/(U.totalFuelCost+U.totalMaintenanceCost)*100+"%"}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Maintenance"}),t.jsxs("span",{className:"text-sm font-semibold",children:["$",U.totalMaintenanceCost.toLocaleString()]})]}),t.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-accent",style:{width:U.totalMaintenanceCost/(U.totalFuelCost+U.totalMaintenanceCost)*100+"%"}})})]}),t.jsx("div",{className:"pt-4 border-t",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-semibold",children:"Total Operating Cost"}),t.jsxs("span",{className:"font-semibold text-lg",children:["$",(U.totalFuelCost+U.totalMaintenanceCost).toLocaleString()]})]})})]})})]})]})]}),t.jsx(g,{value:"utilization",className:"space-y-6 mt-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(d,{title:"Utilization by Vehicle Type",subtitle:"Average utilization percentage by category",type:"bar",data:K,dataKey:"utilization",color:"oklch(0.65 0.15 160)"}),t.jsxs(p,{children:[t.jsx(v,{children:t.jsx(f,{children:"Fleet Composition"})}),t.jsx(N,{children:t.jsx("div",{className:"space-y-4",children:K.map(e=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium",children:e.name}),t.jsxs(b,{variant:"outline",className:"text-xs",children:[e.count," vehicles"]})]}),t.jsxs("span",{className:"text-sm font-semibold",children:[e.utilization,"%"]})]}),t.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full "+(80>e.utilization?60>e.utilization?"bg-warning":"bg-accent":"bg-success"),style:{width:`${e.utilization}%`}})})]},e.name))})})]})]})}),t.jsx(g,{value:"kpis",className:"space-y-6 mt-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(p,{children:t.jsxs(N,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:t.jsx(o,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cost per Mile"})]}),t.jsxs("p",{className:"text-3xl font-semibold",children:["$",E.costPerMile]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"fleet average"})]})}),t.jsx(p,{children:t.jsxs(N,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-accent/10 text-accent",children:t.jsx(r,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fuel Efficiency"})]}),t.jsxs("p",{className:"text-3xl font-semibold",children:[E.fuelEfficiency," MPG"]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"fleet average"})]})}),t.jsx(p,{children:t.jsxs(N,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-warning/10 text-warning",children:t.jsx(c,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Downtime Rate"})]}),t.jsxs("p",{className:"text-3xl font-semibold",children:[E.downtimeRate,"%"]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"of total fleet"})]})}),t.jsx(p,{children:t.jsxs(N,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-success/10 text-success",children:t.jsx(l,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Utilization"})]}),t.jsxs("p",{className:"text-3xl font-semibold",children:[U.utilization,"%"]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"of total fleet"})]})})]})})]})]})}import{r as s,j as t,b4 as a,b5 as l,A as i,y as n,ar as r,aK as o,as as c}from"./react-core-hQu9tqS1.js";import{C as d}from"./ChartCard-DFH6_mI0.js";import{M as m}from"./MetricCard-pRY2Qop8.js";import{u as h,T as u,a as x,b as j,c as g,C as p,d as v,e as f,f as N,B as b}from"./index-BDwglPMF.js";import{S as M,a as y,b as w,c as C,d as F}from"./select-Bmd3s7f4.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./animation-vendor-Cf_i_fm0.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";export{e as FleetAnalytics};
