function e(){const[e,Q]=s.useState("incidents"),[X,Y]=s.useState("all"),[_,ee]=s.useState("all"),[se,te]=s.useState(!1),ae=s.useMemo(()=>B.filter(e=>!("all"!==X&&e.severity!==X||"all"!==_&&e.status!==_)),[X,_]),ie=s.useMemo(()=>[...H].sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()).slice(0,5),[]);return t.jsxs("div",{className:"h-screen overflow-hidden bg-background flex flex-col",children:[t.jsx("div",{className:"border-b bg-card px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(a,{className:"w-6 h-6 text-red-500"}),"Safety Hub"]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Incident tracking, hazard zones, and OSHA compliance monitoring"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(p,{variant:"outline",children:[t.jsx(i,{className:"w-4 h-4 mr-2"}),"Export Report"]}),t.jsxs(p,{children:[t.jsx(l,{className:"w-4 h-4 mr-2"}),"Report Incident"]})]})]})}),t.jsx("div",{className:"px-6 py-4 border-b bg-card",children:t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs(u,{children:[t.jsx(v,{className:"pb-2",children:t.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:"Days Without Incident"})}),t.jsxs(y,{children:[t.jsx("div",{className:"text-3xl font-bold text-green-500",children:P}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target: 30 days"})]})]}),t.jsxs(u,{children:[t.jsx(v,{className:"pb-2",children:t.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:"OSHA Compliance Score"})}),t.jsxs(y,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"text-3xl font-bold",children:[Z,"%"]}),t.jsx(r,{className:"w-5 h-5 text-green-500"})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+3% from last month"})]})]}),t.jsxs(u,{children:[t.jsx(v,{className:"pb-2",children:t.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:"Recordable Incidents"})}),t.jsxs(y,{children:[t.jsx("div",{className:"text-3xl font-bold text-orange-500",children:V}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[O," total incidents"]})]})]}),t.jsxs(u,{children:[t.jsx(v,{className:"pb-2",children:t.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:"Work Days Lost"})}),t.jsxs(y,{children:[t.jsx("div",{className:"text-3xl font-bold text-red-500",children:W}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Severity Rate: ",q]})]})]})]})}),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsxs("div",{className:"grid grid-cols-2 h-full",children:[t.jsx("div",{className:"border-r relative",children:t.jsxs(f,{value:e,onValueChange:Q,className:"h-full flex flex-col",children:[t.jsxs(N,{className:"w-full justify-start rounded-none border-b",children:[t.jsx(b,{value:"incidents",children:"Incident Map"}),t.jsx(b,{value:"hazards",children:"Hazard Zones"}),t.jsx(b,{value:"inspections",children:"Inspection Routes"})]}),t.jsx(w,{value:"incidents",className:"flex-1 m-0 p-0",children:t.jsx(h,{googleMapsApiKey:"",children:t.jsx(m,{mapContainerStyle:K,center:$,zoom:12,onLoad:()=>te(!0),options:{styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]}]},children:se&&ae.map(e=>t.jsx(x,{position:{lat:e.location.lat,lng:e.location.lng},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:U(e.severity),fillOpacity:.8,strokeColor:"#fff",strokeWeight:2},title:`${e.type} - ${e.severity}`},e.id))})})}),t.jsx(w,{value:"hazards",className:"flex-1 m-0 p-0",children:t.jsx(h,{googleMapsApiKey:"",children:t.jsx(m,{mapContainerStyle:K,center:$,zoom:12,onLoad:()=>te(!0),options:{styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]}]},children:se&&E.map(e=>t.jsx(j,{center:{lat:e.location.lat,lng:e.location.lng},radius:e.radius,options:{fillColor:G(e.severity),fillOpacity:.3,strokeColor:G(e.severity),strokeOpacity:.8,strokeWeight:2}},e.id))})})}),t.jsx(w,{value:"inspections",className:"flex-1 m-0 p-0",children:t.jsx(h,{googleMapsApiKey:"",children:t.jsx(m,{mapContainerStyle:K,center:$,zoom:12,onLoad:()=>te(!0),options:{styles:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]}]}})})})]})}),t.jsx("div",{className:"overflow-auto",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsxs(I,{value:X,onValueChange:Y,children:[t.jsx(C,{className:"w-[180px]",children:t.jsx(T,{placeholder:"Severity"})}),t.jsxs(k,{children:[t.jsx(L,{value:"all",children:"All Severities"}),t.jsx(L,{value:"critical",children:"Critical"}),t.jsx(L,{value:"high",children:"High"}),t.jsx(L,{value:"medium",children:"Medium"}),t.jsx(L,{value:"low",children:"Low"})]})]}),t.jsxs(I,{value:_,onValueChange:ee,children:[t.jsx(C,{className:"w-[180px]",children:t.jsx(T,{placeholder:"Status"})}),t.jsxs(k,{children:[t.jsx(L,{value:"all",children:"All Statuses"}),t.jsx(L,{value:"open",children:"Open"}),t.jsx(L,{value:"investigating",children:"Investigating"}),t.jsx(L,{value:"resolved",children:"Resolved"}),t.jsx(L,{value:"closed",children:"Closed"})]})]})]}),t.jsxs(f,{defaultValue:"incidents-list",children:[t.jsxs(N,{className:"w-full",children:[t.jsx(b,{value:"incidents-list",className:"flex-1",children:"Incidents"}),t.jsx(b,{value:"inspections-list",className:"flex-1",children:"Inspections"}),t.jsx(b,{value:"hazards-list",className:"flex-1",children:"Hazard Zones"})]}),t.jsx(w,{value:"incidents-list",className:"mt-4",children:t.jsxs(u,{children:[t.jsx(v,{children:t.jsx(g,{children:"Recent Incidents"})}),t.jsx(y,{children:t.jsxs(D,{children:[t.jsx(R,{children:t.jsxs(z,{children:[t.jsx(A,{children:"Date"}),t.jsx(A,{children:"Type"}),t.jsx(A,{children:"Severity"}),t.jsx(A,{children:"Status"}),t.jsx(A,{children:"OSHA"}),t.jsx(A,{className:"text-right",children:"Days Lost"})]})}),t.jsx(F,{children:ae.map(e=>t.jsxs(z,{className:"cursor-pointer hover:bg-muted/50",children:[t.jsx(M,{className:"font-medium",children:new Date(e.date).toLocaleDateString()}),t.jsx(M,{children:e.type}),t.jsx(M,{children:t.jsx(S,{variant:J(e.severity),children:e.severity})}),t.jsx(M,{children:t.jsx(S,{variant:"outline",children:e.status})}),t.jsx(M,{children:e.oshaRecordable?t.jsx(n,{className:"w-4 h-4 text-orange-500"}):t.jsx(c,{className:"w-4 h-4 text-muted-foreground"})}),t.jsx(M,{className:"text-right",children:e.workDaysLost})]},e.id))})]})})]})}),t.jsx(w,{value:"inspections-list",className:"mt-4",children:t.jsxs(u,{children:[t.jsx(v,{children:t.jsx(g,{children:"Recent Safety Inspections"})}),t.jsx(y,{children:t.jsxs(D,{children:[t.jsx(R,{children:t.jsxs(z,{children:[t.jsx(A,{children:"Date"}),t.jsx(A,{children:"Vehicle"}),t.jsx(A,{children:"Inspector"}),t.jsx(A,{children:"Result"}),t.jsx(A,{className:"text-right",children:"Violations"})]})}),t.jsx(F,{children:ie.map(e=>t.jsxs(z,{className:"cursor-pointer hover:bg-muted/50",children:[t.jsx(M,{className:"font-medium",children:new Date(e.date).toLocaleDateString()}),t.jsx(M,{children:e.vehicleName}),t.jsx(M,{children:e.inspectorName}),t.jsx(M,{children:t.jsxs(S,e.passed?{variant:"outline",className:"bg-green-500/10 text-green-500",children:[t.jsx(n,{className:"w-3 h-3 mr-1"}),"Passed"]}:{variant:"outline",className:"bg-red-500/10 text-red-500",children:[t.jsx(c,{className:"w-3 h-3 mr-1"}),"Failed"]})}),t.jsx(M,{className:"text-right",children:e.violations})]},e.id))})]})})]})}),t.jsx(w,{value:"hazards-list",className:"mt-4",children:t.jsxs(u,{children:[t.jsx(v,{children:t.jsx(g,{children:"Active Hazard Zones"})}),t.jsx(y,{children:t.jsx("div",{className:"space-y-4",children:E.map(e=>t.jsxs(u,{children:[t.jsx(v,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx(g,{className:"text-base",children:e.name}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.type.charAt(0).toUpperCase()+e.type.slice(1)," hazard"]})]}),t.jsx(S,{variant:"high"===e.severity?"destructive":"secondary",children:e.severity})]})}),t.jsx(y,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(d,{className:"w-4 h-4 text-muted-foreground"}),t.jsxs("span",{children:["Radius: ",e.radius,"m"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(o,{className:"w-4 h-4 text-muted-foreground"}),t.jsxs("span",{children:["Active from ",new Date(e.activeFrom).toLocaleDateString(),e.activeTo&&` to ${new Date(e.activeTo).toLocaleDateString()}`]})]}),t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm font-medium mb-1",children:"Restrictions:"}),t.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.restrictions.map((e,s)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:"â€¢"}),t.jsx("span",{children:e})]},s))})]})]})})]},e.id))})})]})})]})]})})]})})]})}import{r as s,j as t,df as a,aq as i,C as l,b5 as r,ah as n,by as c,at as d,bq as o}from"./react-core-hQu9tqS1.js";import{L as h,G as m,M as x,C as j}from"./esm-BrthVOBN.js";import{h as p,C as u,d as v,e as g,f as y,T as f,a as N,b,c as w,B as S}from"./index-BDwglPMF.js";import{S as I,a as C,b as T,c as k,d as L}from"./select-Bmd3s7f4.js";import{T as D,a as R,b as z,c as A,d as F,e as M}from"./table-_lE51wjz.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./animation-vendor-Cf_i_fm0.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";const B=[{id:"inc-001",type:"Vehicle Collision",severity:"critical",status:"investigating",location:{lat:30.4383,lng:-84.2807,address:"1500 S Adams St, Tallahassee, FL"},vehicleId:"veh-demo-1001",driverId:"drv-001",date:"2025-12-15",description:"Rear-end collision at intersection during peak hours",injuries:2,oshaRecordable:!0,workDaysLost:5,reportedBy:"John Smith"},{id:"inc-002",type:"Slip and Fall",severity:"medium",status:"resolved",location:{lat:30.455,lng:-84.25,address:"North Service Center, Tallahassee, FL"},date:"2025-12-10",description:"Employee slipped on wet floor in maintenance bay",injuries:1,oshaRecordable:!0,workDaysLost:2,reportedBy:"Sarah Johnson"},{id:"inc-003",type:"Near Miss",severity:"low",status:"closed",location:{lat:30.42,lng:-84.31,address:"South Warehouse, Tallahassee, FL"},date:"2025-12-08",description:"Forklift nearly collided with pedestrian in warehouse",injuries:0,oshaRecordable:!1,workDaysLost:0,reportedBy:"Mike Davis"},{id:"inc-004",type:"Equipment Malfunction",severity:"high",status:"open",location:{lat:30.44,lng:-84.26,address:"East Depot, Tallahassee, FL"},vehicleId:"veh-demo-1015",date:"2025-12-14",description:"Brake failure reported during routine operation",injuries:0,oshaRecordable:!1,workDaysLost:0,reportedBy:"Lisa Chen"},{id:"inc-005",type:"Chemical Exposure",severity:"medium",status:"investigating",location:{lat:30.43,lng:-84.3,address:"West Facility, Tallahassee, FL"},date:"2025-12-12",description:"Minor chemical spill during refueling operation",injuries:0,oshaRecordable:!0,workDaysLost:1,reportedBy:"Tom Wilson"}],E=[{id:"hz-001",name:"Construction Zone - I-10 East",type:"physical",location:{lat:30.45,lng:-84.27},radius:500,severity:"high",restrictions:["Speed limit 35 mph","No lane changes","Increased following distance"],activeFrom:"2025-12-01",activeTo:"2026-03-31"},{id:"hz-002",name:"Flood Prone Area - S Monroe St",type:"environmental",location:{lat:30.42,lng:-84.28},radius:300,severity:"medium",restrictions:["Avoid during heavy rain","Check water levels","Use alternate route if flooded"],activeFrom:"2025-06-01",activeTo:"2025-11-30"},{id:"hz-003",name:"Chemical Storage Facility",type:"chemical",location:{lat:30.46,lng:-84.29},radius:200,severity:"high",restrictions:["Authorized personnel only","PPE required","No smoking"],activeFrom:"2024-01-01"}],H=[{id:"insp-001",vehicleId:"veh-demo-1001",vehicleName:"Ford F-150",inspectorId:"emp-001",inspectorName:"Safety Inspector A",date:"2025-12-14",passed:!0,violations:0,notes:"All safety systems operational",nextInspection:"2026-01-14"},{id:"insp-002",vehicleId:"veh-demo-1002",vehicleName:"Chevrolet Silverado",inspectorId:"emp-001",inspectorName:"Safety Inspector A",date:"2025-12-13",passed:!1,violations:2,notes:"Brake pad wear exceeds limits, windshield wiper replacement needed",nextInspection:"2025-12-20"},{id:"insp-003",vehicleId:"veh-demo-1003",vehicleName:"Mercedes Sprinter",inspectorId:"emp-002",inspectorName:"Safety Inspector B",date:"2025-12-12",passed:!0,violations:0,notes:"Excellent condition, no issues found",nextInspection:"2026-01-12"}],O=5,V=3,W=8,q=1.2,P=2,Z=87,K={width:"100%",height:"100%"},$={lat:30.4383,lng:-84.2807},J=e=>{switch(e){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline"}},U=e=>{switch(e){case"critical":return"#dc2626";case"high":return"#ea580c";case"medium":return"#f59e0b";case"low":return"#22c55e";default:return"#6b7280"}},G=e=>{switch(e){case"high":return"#dc2626";case"medium":return"#f59e0b";case"low":return"#22c55e";default:return"#6b7280"}};export{e as SafetyHub};
