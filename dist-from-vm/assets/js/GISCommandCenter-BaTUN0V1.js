function e(){const e=x().vehicles||[],{data:A=[]}=h(),[F,k]=s.useState("all"),[z,G]=s.useState("map"),[T,E]=s.useState({vehicles:!0,facilities:!0,routes:!0,traffic:!1,weather:!1,cameras:!1,incidents:!1,charging:!1,geofences:!1}),I=s.useMemo(()=>{const s=new Set(e.map(e=>e.region));return["all",...Array.from(s)]},[e]),_=s.useMemo(()=>"all"===F?e:e.filter(e=>e.region===F),[e,F]),U=s.useMemo(()=>"all"===F?A:A.filter(e=>e.region===F),[A,F]),q=s.useMemo(()=>{const e=_.filter(e=>"active"===e.status),s=U.filter(e=>"operational"===e.status),a=_.filter(e=>"emergency"===e.status),i=_.filter(e=>"service"===e.status);return{totalVehicles:_.length,active:e.length,facilities:s.length,emergency:a.length,inService:i.length}},[_,U]),B=e=>{switch(e){case"office":return a.jsx(l,{className:"w-5 h-5"});case"depot":return a.jsx(i,{className:"w-5 h-5"});case"service-center":return a.jsx(c,{className:"w-5 h-5"});case"fueling-station":return a.jsx(d,{className:"w-5 h-5"});default:return e}},H=e=>{const s={vehicles:!0,facilities:!0,routes:!0,traffic:!1,weather:!1,cameras:!1,incidents:!1,charging:!1,geofences:!1};E(a=>{const i=a||s;return{...i,[e]:!i[e]}})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"GIS Command Center"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Geographic fleet monitoring and facility management"})]}),a.jsxs(S,{value:F,onValueChange:k,children:[a.jsx(C,{className:"w-[180px]",children:a.jsx(M,{placeholder:"Select Region"})}),a.jsx(V,{children:I.map(e=>a.jsx(R,{value:e,children:"all"===e?"All Regions":e},e))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[a.jsx(m,{title:"Total Vehicles",value:q.totalVehicles,subtitle:"in region",icon:a.jsx(i,{className:"w-5 h-5"}),status:"info"}),a.jsx(m,{title:"Active",value:q.active,subtitle:"on the move",icon:a.jsx(t,{className:"w-5 h-5"}),status:"success"}),a.jsx(m,{title:"Facilities",value:q.facilities,subtitle:"operational",icon:a.jsx(l,{className:"w-5 h-5"}),status:"info"}),a.jsx(m,{title:"Emergency",value:q.emergency,subtitle:"urgent response",icon:a.jsx(r,{className:"w-5 h-5"}),status:"warning"}),a.jsx(m,{title:"In Service",value:q.inService,subtitle:"being serviced",icon:a.jsx(c,{className:"w-5 h-5"}),status:"info"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsxs(u,{className:"lg:col-span-3",children:[a.jsx(j,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(f,{children:"Geographic Map View"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(g,{size:"sm",variant:T?.vehicles?"default":"outline",onClick:()=>H("vehicles"),children:"Vehicles"}),a.jsx(g,{size:"sm",variant:T?.facilities?"default":"outline",onClick:()=>H("facilities"),children:"Facilities"}),a.jsx(g,{size:"sm",variant:T?.routes?"default":"outline",onClick:()=>H("routes"),children:"Routes"})]})]})}),a.jsxs(p,{children:[a.jsxs(v,{value:z,onValueChange:G,children:[a.jsxs(N,{className:"grid w-full grid-cols-3",children:[a.jsx(w,{value:"map",children:"Map View"}),a.jsx(w,{value:"satellite",children:"Satellite"}),a.jsx(w,{value:"terrain",children:"Terrain"})]}),a.jsx(b,{value:z||"map",className:"mt-4",children:a.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:a.jsx(o,{vehicles:_,facilities:U,showVehicles:T?.vehicles??!0,showFacilities:T?.facilities??!0,showRoutes:T?.routes??!0,mapStyle:"satellite"===z?"satellite_road_labels":"terrain"===z?"grayscale_dark":"road",className:"w-full h-full"})})})]}),a.jsx("div",{className:"mt-4 flex items-center justify-between p-3 border rounded-lg",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"w-3 h-3 text-success",weight:"fill"}),a.jsxs("span",{className:"text-sm",children:["Active (",q.active,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"w-3 h-3 text-muted-foreground",weight:"fill"}),a.jsxs("span",{className:"text-sm",children:["Idle (",_.filter(e=>"idle"===e.status).length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"w-3 h-3 text-destructive",weight:"fill"}),a.jsxs("span",{className:"text-sm",children:["Emergency (",q.emergency,")"]})]})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(u,{children:[a.jsx(j,{children:a.jsx(f,{className:"text-base",children:"Facilities"})}),a.jsx(p,{children:a.jsx("div",{className:"space-y-3",children:U.slice(0,6).map(e=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:B(e.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.type.replace("-"," ")}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.address})]}),a.jsx(y,{variant:"outline",className:"operational"===e.status?"bg-success/10 text-success border-success/20":"bg-warning/10 text-warning border-warning/20",children:e.status})]},e.id))})})]}),a.jsxs(u,{children:[a.jsx(j,{children:a.jsx(f,{className:"text-base",children:"Region Summary"})}),a.jsx(p,{children:a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Coverage Area"}),a.jsx("span",{className:"font-medium",children:"all"===F?"Statewide":F})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Vehicles"}),a.jsx("span",{className:"font-medium",children:_.length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Facilities"}),a.jsx("span",{className:"font-medium",children:U.length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Avg Response Time"}),a.jsx("span",{className:"font-medium",children:"12 min"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Region Status"}),a.jsx(y,{className:"bg-success/10 text-success border-success/20",children:"Operational"})]})]})})]})]})]})]})}import{r as s,j as a,b4 as i,ah as t,ca as l,C as r,y as c,bw as n,ar as d}from"./react-core-hQu9tqS1.js";import{M as m}from"./MetricCard-pRY2Qop8.js";import{U as o}from"./UniversalMap-ZyGzQ1ui.js";import{u as x,x as h,C as u,d as j,e as f,h as g,f as p,T as v,a as N,b as w,c as b,B as y}from"./index-BDwglPMF.js";import{S,a as C,b as M,c as V,d as R}from"./select-Bmd3s7f4.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./animation-vendor-Cf_i_fm0.js";import"./GoogleMap-BAYip6gy.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";export{e as GISCommandCenter};
