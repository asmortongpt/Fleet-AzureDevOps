const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/browser-ponyfill-Dd_SPAIz.js","assets/js/chart-vendor-DWRb53_H.js","assets/js/utils-vendor-Bojdf5C8.js","assets/js/react-core-hQu9tqS1.js","assets/js/lazy-modules-Bs19xeuI.js","assets/js/form-vendor-DKCvS-hL.js","assets/js/mui-core-BKffG9O1.js","assets/js/FleetAnalytics-BC94MIhZ.js","assets/js/ChartCard-DFH6_mI0.js","assets/js/MetricCard-pRY2Qop8.js","assets/js/animation-vendor-Cf_i_fm0.js","assets/js/select-Bmd3s7f4.js","assets/js/ui-menus--48tEbqQ.js","assets/js/ui-radix-C-X5Qx_8.js","assets/js/three-helpers-DedzJcO9.js","assets/js/three-core-ZrcxJ5g9.js","assets/js/three-react-B1s7Iy2r.js","assets/js/ui-dialogs-C2yTnBPV.js","assets/js/react-router-cBrq_s0x.js","assets/js/query-vendor--Fe2N4Al.js","assets/js/date-vendor-npJ7nI92.js","assets/js/VehicleTelemetry-N30Mla0T.js","assets/js/index-savvei9t.js","assets/js/UniversalMap-ZyGzQ1ui.js","assets/js/GoogleMap-BAYip6gy.js","assets/js/table-_lE51wjz.js","assets/js/VirtualGarage-DaoxvrAF.js","assets/js/FleetOptimizer-Cp4fWaNr.js","assets/js/ExecutiveDashboard-ClSlvbIT.js","assets/js/DataWorkbench-CWAHVKFh.js","assets/js/label-C9sYRYKW.js","assets/js/EndpointMonitor-BqZD5FU8.js","assets/js/useDispatchSocket-C_8Ly_Ll.js","assets/js/CostAnalysisCenter-e-TMscVj.js","assets/js/usePermissions-CvNvsKyo.js","assets/js/CustomReportBuilder-D1azPCf7.js","assets/js/textarea-BOBjqKNu.js","assets/js/AnalyticsDashboard-DQPoS5sJ.js","assets/js/MapFirstLayout-DjypJrVA.js","assets/js/sheet-B4c1gADU.js","assets/js/ProfessionalFleetMap-CXhovPIf.js","assets/js/separator-Dey2K2dP.js","assets/js/CommandCenter-uMGqCtq3.js","assets/js/ProfessionalFleetMap-DPQoniTv.js","assets/js/MaintenanceRequestDialog-Rxhi54iS.js","assets/js/switch-9MiV1CpI.js","assets/js/AdminDashboard-BTePoR1o.js","assets/js/mui-icons-ChfCmgJo.js","assets/js/PolicyEngineWorkbench-Cb90fQoD.js","assets/js/Notifications-Cfw1O6LK.js","assets/js/PushNotificationAdmin-n5JbsCEM.js","assets/js/GarageService-XuhZ5uTP.js","assets/js/PredictiveMaintenance-Bhzjf381.js","assets/js/MaintenanceScheduling-Clydqdjb.js","assets/js/MaintenanceRequest-Dfpf-Vbm.js","assets/js/FuelManagement-ect1J8pH.js","assets/js/FuelPurchasing-B4JvWCze.js","assets/js/RouteManagement-C9h278ea.js","assets/js/AdvancedRouteOptimization-Gxu0K3FS.js","assets/js/TaskManagement-C-iFWiud.js","assets/js/responses-Dn12yLoR.js","assets/js/GISCommandCenter-BaTUN0V1.js","assets/js/TeamsIntegration-DPNE_n59.js","assets/js/msOfficeIntegration--qOuKPN6.js","assets/js/EmailCenter-BG6EZVPY.js","assets/js/ArcGISIntegration-CyKdC6nR.js","assets/js/slider-DpXVN0eA.js","assets/js/MapSettings-Dfergjv_.js","assets/js/radio-group-am2T2p6t.js","assets/js/skeleton-D5f7LGYG.js","assets/js/EnhancedMapLayers-BXHp51hy.js","assets/js/VendorManagement-OK35dFwa.js","assets/js/PartsInventory-ChjaI6Du.js","assets/js/PurchaseOrders-BEgaeDgM.js","assets/js/Invoices-DZNWWsMm.js","assets/js/MileageReimbursement-BCVvq_81.js","assets/js/ReceiptProcessing-D2m-U21v.js","assets/js/CustomFormBuilder-Dtf--VNi.js","assets/js/CommunicationLog-CNGr0ueI.js","assets/js/checkbox-J0MWk58s.js","assets/js/LiveFleetDashboard-4P0eraFq.js","assets/js/OSHAForms-Cj3wQcjW.js","assets/js/VideoTelematics-DdrrdOoq.js","assets/js/IncidentManagement-CFmdSLaF.js","assets/js/DocumentManagement-WwWvX3Hx.js","assets/js/DocumentQA-DyF0Axeo.js","assets/js/EVChargingManagement-k47oCseS.js","assets/js/PersonalUseDashboard-BUXZ8QUd.js","assets/js/PersonalUsePolicyConfig-C3xINxC2.js","assets/js/ReimbursementQueue-DTZDfkYy.js","assets/js/ChargesAndBilling-BQeGw6JH.js","assets/js/AssetManagement-BPoQHciJ.js","assets/js/EquipmentDashboard-BDAREN1g.js","assets/js/AnalyticsPage-AyQTRy5n.js","assets/js/DriverPerformance-Bkzn121a.js","assets/js/DriverScorecard-RVK8H353.js","assets/js/OperationsWorkspace-DaQGUh3C.js","assets/js/FleetWorkspace-DsOHrfJ_.js","assets/js/useVehicleTelemetry-DuT1yBRR.js","assets/js/DriversWorkspace-BaEcENGI.js","assets/js/MaintenanceWorkspace-mVFmDuFP.js","assets/js/index-B79owE5d.js","assets/js/AnalyticsWorkspace-CmNHg-DQ.js","assets/js/ComplianceWorkspace-CrQ0ooHB.js","assets/js/ReportsHub-BybY7hP3.js","assets/js/OperationsHub-B_52zNaS.js","assets/js/MaintenanceHub-CXZdVKD4.js","assets/js/esm-BrthVOBN.js","assets/js/ProcurementHub-DTKi6Rpd.js","assets/js/CommunicationHub-D1ptikOX.js","assets/js/SafetyHub-Bxj-5FbI.js","assets/js/AssetsHub-DRcReBop.js","assets/js/FleetHub-BfTMmOpV.js","assets/js/stat-card-DHir2vxC.js","assets/js/OperationsHub-CXpQebQY.js","assets/js/MaintenanceHub-DOYcylkg.js","assets/js/DriversHub-CsdDKSFF.js","assets/js/AnalyticsHub-v-sTHNjZ.js","assets/js/ComplianceHub-CsJacydP.js","assets/js/ProcurementHub-CCY37cwm.js","assets/js/AdminHub-DJLLedSb.js","assets/js/SafetyHub-B-XxNbWY.js","assets/js/AssetsHub-BuqsaBsR.js","assets/js/CommunicationHub-Bi_SnHQm.js","assets/js/SettingsPage-CuzGgRXk.js","assets/js/reactive-state-BaSbv9rd.js","assets/js/ProfilePage-Cm7KTA6V.js","assets/js/SafetyAlertsPage-BGSKxLeJ.js","assets/js/HeavyEquipmentPage-CT7lMJuS.js"])))=>i.map(i=>d[i]);
function e(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;s>n;n++)a[n-1]=arguments[n];return Bo(e,t,a)}}function t(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xo;Mo&&Mo(e,null);let a=t.length;for(;a--;){let n=t[a];if("string"==typeof n){const e=s(n);e!==n&&(Fo(t)||(t[a]=e),n=e)}e[n]=!0}return e}function s(e){for(let t=0;e.length>t;t++)al(e,t)||(e[t]=null);return e}function a(e){const t=Ho(null);for(const[n,r]of Lo(e))al(e,n)&&(t[n]=Array.isArray(r)?s(r):r&&"object"==typeof r&&r.constructor===Object?a(r):r);return t}function n(t,s){for(;null!==t;){const a=zo(t,s);if(a){if(a.get)return e(a.get);if("function"==typeof a.value)return e(a.value)}t=$o(t)}return function(){return null}}function r(e,t,s,a=0){return new Yr((n,i)=>{const o=e[a];if(null===t||"function"!=typeof o)n(t);else{const l=o({...t},s);Il&&o.id&&null===l&&Xr.log(`Event processor "${o.id}" dropped event`),Qr(l)?l.then(t=>r(e,t,s,a+1).then(n)).then(null,i):r(e,l,s,a+1).then(n).then(null,i)}})}function i(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Zr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ei()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=0>t?0:t}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function o(e){const{spanId:t,traceId:s}=e.spanContext(),{data:a,op:n,parent_span_id:r,status:i,tags:o,origin:l}=u(e);return ti({data:a,op:n,parent_span_id:r,span_id:t,status:i,tags:o,trace_id:s,origin:l})}function l(e){const{traceId:t,spanId:s}=e.spanContext(),a=m(e);return si(t,s,a)}function c(e){return"number"==typeof e?d(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?d(e.getTime()):Zr()}function d(e){return e>9999999999?e/1e3:e}function u(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function m(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}function h(){return j().getClient()}function p(){return j().getScope()}function f(e){return e.transaction}function g(e,t,s){const a=t.getOptions(),{publicKey:n}=t.getDsn()||{},{segment:r}=s&&s.getUser()||{},i=ti({environment:a.environment||Pl,release:a.release,user_segment:r,public_key:n,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function x(e){const t=h();if(!t)return{};const s=g(u(e).trace_id||"",t,p()),a=f(e);if(!a)return s;const n=a&&a._frozenDynamicSamplingContext;if(n)return n;const{sampleRate:r,source:i}=a.metadata;null!=r&&(s.sample_rate=`${r}`);const o=u(a);return i&&"url"!==i&&(s.transaction=o.description),s.sampled=String(m(a)),t.emit&&t.emit("createDsc",s),s}function v(){return{traceId:ei(),spanId:ei().substring(16)}}function y(){return ii.__SENTRY__=ii.__SENTRY__||{extensions:{},hub:void 0},ii}function b(e){const t=y(),s=N(t);return _(t,e),s}function j(){const e=y();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=y()){var t;return(t=e)&&t.__SENTRY__&&t.__SENTRY__.hub&&!N(e).isOlderThan(Ml)||_(e,new $l),N(e)}(e)}function w(){return j().getIsolationScope()}function N(e){return Jr("hub",()=>new $l,e)}function _(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function S(e){return(e||j()).getScope().getTransaction()}function T(){const e=S();if(e){const t="internal_error";Il&&Xr.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}function E(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const s=function(e){if(400>e&&e>=100)return"ok";if(e>=400&&500>e)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&600>e)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);"unknown_error"!==s&&e.setStatus(s)}function k(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=h(),s=e||t&&t.getOptions();return!!s&&(s.enableTracing||"tracesSampleRate"in s||"tracesSampler"in s)}function A(e){if(!k())return;const t=function(e){if(e.startTime){const t={...e};return t.startTimestamp=c(e.startTime),delete t.startTime,t}return e}(e),s=j(),a=e.scope?e.scope.getSpan():p().getSpan();if(e.onlyIfParent&&!a)return;const n=(e.scope||p()).clone();return function(e,{parentSpan:t,spanContext:s,forceTransaction:a,scope:n}){if(!k())return;const r=w();let i;if(t&&!a)i=t.startChild(s);else if(t){const a=x(t),{traceId:n,spanId:r}=t.spanContext(),o=m(t);i=e.startTransaction({traceId:n,parentSpanId:r,parentSampled:o,...s,metadata:{dynamicSamplingContext:a,...s.metadata}})}else{const{traceId:t,dsc:a,parentSpanId:o,sampled:l}={...r.getPropagationContext(),...n.getPropagationContext()};i=e.startTransaction({traceId:t,parentSpanId:o,parentSampled:l,...s,metadata:{dynamicSamplingContext:a,...s.metadata}})}return n.setSpan(i),function(e,t,s){e&&(di(e,Hl,s),di(e,Ul,t))}(i,n,r),i}(s,{parentSpan:a,spanContext:t,forceTransaction:e.forceTransaction,scope:n})}function C(e,t,s){if(!k(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(ql,Number(e.sampled)),e;let a;return"function"==typeof t.tracesSampler?(a=t.tracesSampler(s),e.setAttribute(ql,Number(a))):void 0!==s.parentSampled?a=s.parentSampled:void 0!==t.tracesSampleRate?(a=t.tracesSampleRate,e.setAttribute(ql,Number(a))):(a=1,e.setAttribute(ql,a)),R(a)?a?(e.sampled=Math.random()<a,e.sampled?(Il&&Xr.log(`[Tracing] starting ${e.op} transaction - ${u(e).description}`),e):(Il&&Xr.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(a)})`),e)):(Il&&Xr.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(Il&&Xr.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function R(e){return ui(e)||"number"!=typeof e&&"boolean"!=typeof e?(Il&&Xr.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e>=0&&1>=e||(Il&&Xr.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function O(){const e=this.getScope().getSpan();return e?{"sentry-trace":l(e)}:{}}function D(e,t){const s=this.getClient(),a=s&&s.getOptions()||{},n=a.instrumenter||"sentry",r=e.instrumenter||"sentry";n!==r&&(Il&&Xr.error(`A transaction was started with instrumenter=\`${r}\`, but the SDK is configured with the \`${n}\` instrumenter.\nThe transaction will not be sampled. Please use the ${n} instrumentation to start transactions.`),e.sampled=!1);let i=new Yl(e,this);return i=C(i,a,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),i.isRecording()&&i.initSpanRecorder(a._experiments&&a._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",i),i}function I(e,t,s,a,n,r,i,o=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let d=new ec(t,e,s,a,i,n,o);return d=C(d,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...r}),d.isRecording()&&d.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",d),d}function P(){const e=y();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=D),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=O),zl||(zl=!0,li(T),ci(T)))}function L(e){return[{type:"span"},e]}function M(e,t){return q(e,t),_c[e]||(function(e){const t={};"event"===e&&(t.durationThreshold=0),oc(e,t=>{F(e,{entries:t})},t)}(e),_c[e]=!0),W(e,t)}function F(e,t){const s=Nc[e];if(s&&s.length)for(const a of s)try{a(t)}catch(_d){tc&&Xr.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${pi(a)}\nError:`,_d)}}function $(){return((e,t={})=>{const s=ic("CLS",0);let a,n=0,r=[];const i=e=>{e.forEach(e=>{e.hadRecentInput||(n&&0!==r.length&&1e3>e.startTime-r[r.length-1].startTime&&5e3>e.startTime-r[0].startTime?(n+=e.value,r.push(e)):(n=e.value,r=[e]),n>s.value&&(s.value=n,s.entries=r,a&&a()))})},o=oc("layout-shift",i);if(o){a=ac(e,s,t.reportAllChanges);const n=()=>{i(o.takeRecords()),a(!0)};return lc(n),n}})(e=>{F("cls",{metric:e}),Sc=e},{reportAllChanges:!0})}function z(){return(()=>{const e=dc(),t=ic("FID");let s;const a=a=>{e.firstHiddenTime>a.startTime&&(t.value=a.processingStart-a.startTime,t.entries.push(a),s(!0))},n=e=>{e.forEach(a)},r=oc("first-input",n);s=ac(e=>{F("fid",{metric:e}),Tc=e},t),r&&lc(()=>{n(r.takeRecords()),r.disconnect()},!0)})()}function V(){return(()=>{const e=dc(),t=ic("LCP");let s;const a=a=>{const n=a[a.length-1];if(n){const a=Math.max(n.startTime-rc(),0);e.firstHiddenTime>a&&(t.value=a,t.entries=[n],s())}},n=oc("largest-contentful-paint",a);if(n){s=ac(e=>{F("lcp",{metric:e}),Ec=e},t);const e=()=>{jc[t.id]||(a(n.takeRecords()),n.disconnect(),jc[t.id]=!0,s(!0))};return["keydown","click"].forEach(t=>{sc.document&&addEventListener(t,e,{once:!0,capture:!0})}),lc(e,!0),e}})()}function U(){return((e,t)=>{t=t||{};const s=ic("TTFB"),a=ac(e=>{F("ttfb",{metric:e}),kc=e},s,t.reportAllChanges);wc(()=>{const e=nc();if(e){if(s.value=Math.max(e.responseStart-rc(),0),0>s.value||s.value>performance.now())return;s.entries=[e],a(!0)}})})()}function H(){return((e,t)=>{t=t||{},gc();const s=ic("INP");let a;const n=e=>{e.forEach(e=>{e.interactionId&&bc(e),"first-input"===e.entryType&&!vc.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))&&bc(e)});const t=(()=>{const e=Math.min(vc.length-1,Math.floor(xc()/50));return vc[e]})();t&&t.latency!==s.value&&(s.value=t.latency,s.entries=t.entries,a())},r=oc("event",n,{durationThreshold:t.durationThreshold||40});a=ac(e=>{F("inp",{metric:e}),Ac=e},s,t.reportAllChanges),r&&(r.observe({type:"first-input",buffered:!0}),lc(()=>{n(r.takeRecords()),0>s.value&&xc()>0&&(s.value=0,s.entries=[]),a(!0)}))})()}function B(e,t,s,a,n=!1){let r;return q(e,t),_c[e]||(r=s(),_c[e]=!0),a&&t({metric:a}),W(e,t,n?r:void 0)}function q(e,t){Nc[e]=Nc[e]||[],Nc[e].push(t)}function W(e,t,s){return()=>{s&&s();const a=Nc[e];if(!a)return;const n=a.indexOf(t);-1!==n&&a.splice(n,1)}}function K(e){return"number"==typeof e&&isFinite(e)}function G(e,{startTimestamp:t,...s}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...s})}function J(e){return e/1e3}function Y(){return sc&&sc.addEventListener&&sc.performance}function X(e,t,s,a,n,r){const i=r?t[r]:t[`${s}End`],o=t[`${s}Start`];o&&i&&G(e,{op:"browser",origin:"auto.browser.browser.metrics",description:n||s,startTimestamp:a+J(o),endTimestamp:a+J(i)})}function Q(e,t,s,a){const n=t[s];null!=n&&2147483647>n&&(e[a]=n)}function Z(e){const{url:t}=u(e).data||{};if(!t||"string"!=typeof t)return;const s=M("resource",({entries:a})=>{a.forEach(a=>{(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)})(a)&&a.name.endsWith(t)&&(function(e){const{name:t,version:s}=function(e){let t="unknown",s="unknown",a="";for(const n of e){if("/"===n){[t,s]=e.split("/");break}if(!isNaN(Number(n))){t="h"===a?"http":a,s=e.split(a)[1];break}a+=n}return a===e&&(t=a),{name:t,version:s}}(e.nextHopProtocol),a=[];return a.push(["network.protocol.version",s],["network.protocol.name",t]),fi?[...a,["http.request.redirect_start",ee(e.redirectStart)],["http.request.fetch_start",ee(e.fetchStart)],["http.request.domain_lookup_start",ee(e.domainLookupStart)],["http.request.domain_lookup_end",ee(e.domainLookupEnd)],["http.request.connect_start",ee(e.connectStart)],["http.request.secure_connection_start",ee(e.secureConnectionStart)],["http.request.connection_end",ee(e.connectEnd)],["http.request.request_start",ee(e.requestStart)],["http.request.response_start",ee(e.responseStart)],["http.request.response_end",ee(e.responseEnd)]]:a}(a).forEach(t=>e.setAttribute(...t)),setTimeout(s))})})}function ee(e=0){return((fi||performance.timeOrigin)+e)/1e3}function te(e){try{return new URL(e,sc.location.origin).href}catch(_d){return}}function se(e){const t=ki(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function ae(e){return e.attributes&&e.attributes[Bl]||e.data&&e.data[Bl]||e.metadata&&e.metadata.source}function ne(e,t="info",s){return Di(e,{level:t,contexts:s?{custom:s}:void 0})}function re(e,t){Oi(e,t)}function ie(e,t,s,a){var n;void 0===a&&(a=!1);var r=Kc[Wc]=null!==(n=Kc[Wc])&&void 0!==n?n:{version:Uc};if(!a&&r[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return s.error(i.stack||i.message),!1}return r.version!==Uc?(i=new Error("@opentelemetry/api: Registration of version v"+r.version+" for "+e+" does not match previously registered API v"+Uc),s.error(i.stack||i.message),!1):(r[e]=t,s.debug("@opentelemetry/api: Registered a global for "+e+" v"+Uc+"."),!0)}function oe(e){var t,s,a=null===(t=Kc[Wc])||void 0===t?void 0:t.version;if(a&&Bc(a))return null===(s=Kc[Wc])||void 0===s?void 0:s[e]}function le(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Uc+".");var s=Kc[Wc];s&&delete s[e]}function ce(e,t,s){var a=oe("diag");if(a)return s.unshift(t),a[e].apply(a,Jc([],Gc(s),!1))}function de(e){return e.getValue(dd)||void 0}function ue(){return de(ad.getInstance().active())}function me(e,t){return e.setValue(dd,t)}function he(e){return e.deleteValue(dd)}function pe(e,t){return me(e,new cd(t))}function fe(e){var t;return null===(t=de(e))||void 0===t?void 0:t.spanContext()}function ge(e){return ud.test(s=e.traceId)&&s!==od&&md.test(t=e.spanId)&&t!==id;var t,s}function xe(e){return new cd(e)}function ve(e,t){return Rd.get(e)||Rd.set(e,new t),Rd.get(e)}function ye(e,t){return e||t}function be(e,t){return e[t]}function je(e,t){try{return{v:e.apply(this,t)}}catch(_d){return{e:_d}}}function we(e,t){var s="",a=vu.toString.call(e);"[object Error]"===a&&(e={stack:yu(e.stack),message:yu(e.message),name:yu(e.name)});try{s=((s=JSON.stringify(e,pu,t?"number"==typeof t?t:4:hu))?s.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):pu)||yu(e)}catch(_d){s=" - "+we(_d,t)}return a+": "+s}function Ne(e){throw new TypeError(e)}function _e(){var e;return typeof globalThis!==gu&&(e=globalThis),e||typeof self===gu||(e=self),e||typeof window===gu||(e=window),e||typeof global===gu||(e=global),e}function Se(e,t){function s(){}var a,n=null;if((a=e)!==pu&&a!==hu){var r=typeof e;"object"!==r&&"function"!==r&&Ne("Prototype must be an Object or function: "+we(e)),s[fu]=e,je(function(){s.__proto__=e}),n=new s}else n={};return t&&je(ju,[n,t]),n}function Te(){return(Date.now||Ee)()}function Ee(){return(new Date).getTime()}function ke(e){var t;return!lu&&(lu=function(){if(!ou){var e=je(_e).v||{};ou=e[Nu]=e[Nu]||{}}return ou}()),cu&&!1!==e&&!lu.lzy||(t=je(_e).v||pu,cu=bu({toJSON:function(){return t}},"v",{value:t})),cu.v}function Ae(e,t){function s(){this.constructor=e}"function"!=typeof t&&null!==t&&Ne("Class extends value "+String(t)+" is not a constructor or null"),Eu(e,t),e[du]=null===t?_u(t):(s[du]=t[du],new s)}function Ce(e,t=0){if(t>10)return"[MAX_DEPTH]";if(null==e)return e;if("string"==typeof e){let t=e.replace(Ru,e=>e.substring(0,3)+"***@***.***");return t=t.replace(Ou,"***-***-****"),t.length>50&&/^[A-Za-z0-9+/=_-]+$/.test(t)?"[REDACTED_TOKEN]":t}if(Array.isArray(e))return e.map(e=>Ce(e,t+1));if("object"==typeof e){const s={};for(const[a,n]of Object.entries(e)){const e=a.toLowerCase(),r=Cu.some(t=>e.includes(t.toLowerCase()));s[a]=r?"[REDACTED]":Ce(n,t+1)}return s}return e}function Re(e,t){const{[rm]:s}=e(function(){const e=[],t=Object.create(null);let s;return t.get=(a,n)=>(s?.revoke?.(),n===rm?e:(e.push(n),s=Proxy.revocable(a,t),s.proxy)),Proxy.revocable(Object.create(null),t).proxy}());return s.join(t?.keySeparator??".")}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function De(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":Oe(XMLHttpRequest))}function Ie(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function Pe(e){for(var t=1;arguments.length>t;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(s),!0).forEach(function(t){Le(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ie(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Le(e,t,s){return(t=function(e){var t=function(e){if("object"!=Me(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,"string");if("object"!=Me(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Me(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function $e(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function ze(e){for(var t=1;arguments.length>t;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(s),!0).forEach(function(t){Ve(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$e(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Ve(e,t,s){return(t=Ue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ue(e){var t=function(e){if("object"!=Fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,"string");if("object"!=Fe(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fe(t)?t:t+""}async function He(){return ih||oh||(oh=(async()=>{try{const e=await fetch("/api/v1/csrf-token",{method:"GET",credentials:"include"});if(e.ok){const t=await e.json();return ih=t.csrfToken||t.token||"",Du.debug("[CSRF] Token fetched successfully"),ih}return Du.warn("[CSRF] Failed to fetch token:",e.status),""}catch(e){return Du.error("[CSRF] Error fetching token:",e),""}finally{oh=null}})(),oh)}async function Be(){ih="",oh=null,await He()}async function qe(e,t={}){const s=t.method?.toUpperCase()||"GET",a=["POST","PUT","PATCH","DELETE"].includes(s);let n="";a&&(n=await He());const r={"Content-Type":"application/json",...t.headers||{}};a&&n&&(r["X-CSRF-Token"]=n);const i=await fetch(e,{...t,headers:r,credentials:"include"});if(403===i.status&&a){const s=await i.json().catch(()=>({}));if(("CSRF_VALIDATION_FAILED"===s.code||s.error?.includes("CSRF"))&&(await Be(),n=await He(),n))return r["X-CSRF-Token"]=n,await fetch(e,{...t,headers:r,credentials:"include"})}return i}function We(e={tenant_id:""}){return zi({queryKey:lh(e),queryFn:async()=>{const t=new URLSearchParams(e),s=await qe(`/api/vehicles?${t}`,{method:"GET"});if(!s.ok)throw new Error("Network response was not ok");return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1})}function Ke(e={tenant_id:""}){return zi({queryKey:ch(e),queryFn:async()=>{const t=new URLSearchParams(e),s=await qe(`/api/drivers?${t}`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1})}function Ge(e={tenant_id:"",startDate:"",endDate:""}){return zi({queryKey:dh(e),queryFn:async()=>{const t=new URLSearchParams(e),s=await qe(`/api/maintenance?${t}`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1})}function Je(e={tenant_id:""}){return zi({queryKey:uh(e),queryFn:async()=>{const t=new URLSearchParams(e),s=await qe(`/api/work-orders?${t}`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1})}function Ye(e={tenant_id:""}){return zi({queryKey:mh(e),queryFn:async()=>{const t=new URLSearchParams(e),s=await qe(`/api/fuel-transactions?${t}`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1})}function Xe(e={tenant_id:""}){return zi({queryKey:hh(e),queryFn:async()=>{const t=new URLSearchParams(e),s=await qe(`/api/facilities?${t}`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1})}function Qe(e={tenant_id:""}){return zi({queryKey:ph(e),queryFn:async()=>{const t=new URLSearchParams(e),s=await qe(`/api/maintenance-schedules?${t}`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1})}function Ze(){const e=Vi();return{createVehicle:Ui({mutationFn:async e=>{const t=await qe("/api/vehicles",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error("Network response was not ok");return t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:lh({tenant_id:""})})}}),updateVehicle:Ui({mutationFn:async e=>{const t=await qe(`/api/vehicles/${e.id}`,{method:"PUT",body:JSON.stringify(e)});if(!t.ok)throw new Error("Network response was not ok");return t.json()},onMutate:async t=>{await e.cancelQueries({queryKey:lh({tenant_id:t.tenant_id})});const s=e.getQueryData(lh({tenant_id:t.tenant_id}));return e.setQueryData(lh({tenant_id:t.tenant_id}),e=>e?.map(e=>e.id===t.id?t:e)),{previousVehicles:s}},onError:(t,s,a)=>{a?.previousVehicles&&e.setQueryData(lh({tenant_id:s.tenant_id}),a.previousVehicles)},onSettled:t=>{t&&e.invalidateQueries({queryKey:lh({tenant_id:t.tenant_id})})}}),deleteVehicle:Ui({mutationFn:async({id:e})=>{if(!(await qe(`/api/vehicles/${e}`,{method:"DELETE"})).ok)throw new Error("Network response was not ok")},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:lh({tenant_id:s.tenant_id})})}})}}function et(){return zi({queryKey:["safetyIncidents"],queryFn:async()=>[]})}function tt(){return zi({queryKey:["chargingStations"],queryFn:async()=>[]})}function st(e){return vh||(vh=new xh(e),vh.start(),vh)}function at(){const e=sn.useContext(kh);if(!e)throw new Error("useInspect must be used inside InspectProvider");return e}function nt({children:e}){const[t,s]=sn.useState([]),a=sn.useCallback(e=>{const t=e.label||e.data?.title||e.type||"Details",a=e.id||`drilldown-${Date.now()}`;s(s=>[...s,{...e,id:a,label:t,timestamp:Date.now()}])},[]),n=sn.useCallback(()=>{s(e=>e.slice(0,-1))},[]),r=sn.useCallback(()=>{s([])},[]),i=sn.useCallback(e=>{s(t=>t.slice(0,e+1))},[]);return an.jsx(Ch.Provider,{value:{levels:t,currentLevel:t[t.length-1]||null,push:a,pop:n,reset:r,goToLevel:i,canGoBack:t.length>0,canGoForward:!1},children:e})}function rt(){const e=sn.useContext(Ch);if(!e)throw new Error("useDrilldown must be used within DrilldownProvider");return e}function it({children:e}){const{user:t,isSuperAdmin:s}=bh(),a=Pi(),n=Li(),r=e=>{const t=e.substring(1);return""===t?"live-fleet-dashboard":t},[i,o]=sn.useState(r(a.pathname));sn.useEffect(()=>{const e=r(a.pathname);o(e)},[a.pathname]);const l=sn.useMemo(()=>t?Rh.filter(e=>{if(e.roles&&e.roles.length>0){if(s())return!0;if(!e.roles.includes(t.role))return!1}return!0}):[],[t,s]),c=sn.useCallback(e=>l.filter(t=>t.section===e),[l]),d=sn.useCallback(e=>{n("live-fleet-dashboard"===e?"/":`/${e}`)},[n]);return an.jsx(Oh.Provider,{value:{activeModule:i,setActiveModule:o,visibleNavItems:l,getNavItemsBySection:c,navigateTo:d,updateNavigation:()=>{o(i)}},children:e})}function ot(){const e=sn.useContext(Oh);if(void 0===e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function lt(...e){return po(ho(e))}function ct({className:e,...t}){return an.jsx("div",{"data-slot":"card",className:lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function dt({className:e,...t}){return an.jsx("div",{"data-slot":"card-header",className:lt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ut({className:e,...t}){return an.jsx("div",{"data-slot":"card-title",className:lt("leading-none font-semibold",e),...t})}function mt({className:e,...t}){return an.jsx("div",{"data-slot":"card-description",className:lt("text-muted-foreground text-sm",e),...t})}function ht({className:e,...t}){return an.jsx("div",{"data-slot":"card-content",className:lt("px-6",e),...t})}function pt({className:e,...t}){return an.jsx("div",{"data-slot":"card-footer",className:lt("flex items-center px-6 [.border-t]:pt-6",e),...t})}function ft(e,t,s,a,n,r,i){if(r===t.length)return n===e.length?1:.99;var o=`${n},${r}`;if(void 0!==i[o])return i[o];for(var l,c,d,u,m=a.charAt(r),h=s.indexOf(m,n),p=0;h>=0;)(l=ft(e,t,s,a,h+1,r+1,i))>p&&(h===n?l*=1:zh.test(e.charAt(h-1))?(l*=.8,(d=e.slice(n,h-1).match(Vh))&&n>0&&(l*=Math.pow($h,d.length))):Uh.test(e.charAt(h-1))?(l*=.9,(u=e.slice(n,h-1).match(Hh))&&n>0&&(l*=Math.pow($h,u.length))):(l*=.17,n>0&&(l*=Math.pow($h,h-n))),e.charAt(h)!==t.charAt(r)&&(l*=.9999)),(.1>l&&s.charAt(h-1)===a.charAt(r+1)||a.charAt(r+1)===a.charAt(r)&&s.charAt(h-1)!==a.charAt(r))&&.1*(c=ft(e,t,s,a,h+1,r+2,i))>l&&(l=.1*c),l>p&&(p=l),h=s.indexOf(m,h+1);return i[o]=p,p}function gt(e){return e.toLowerCase().replace(Hh," ")}function xt(e,t,s){return ft(e=s&&s.length>0?e+" "+s.join(" "):e,t,gt(e),gt(t),0,0,{})}function vt(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}}function yt(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}}function bt(e){let t=sn.useRef(e);return mp(()=>{t.current=e}),t}function jt(e){let t=sn.useRef();return void 0===t.current&&(t.current=e()),t}function wt(e){let t=ep(),s=()=>e(t.snapshot());return sn.useSyncExternalStore(t.subscribe,s,s)}function Nt(e,t,s,a=[]){let n=sn.useRef(),r=Qh();return mp(()=>{var i;let o=(()=>{var e;for(let t of s){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():n.current}})(),l=a.map(e=>e.trim());r.value(e,o,l),null==(i=t.current)||i.setAttribute(Jh,o),n.current=o}),n}function _t({asChild:e,children:t},s){return e&&sn.isValidElement(t)?sn.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},s(t.props.children)):s(t)}function St({...e}){return an.jsx(go,{"data-slot":"dialog",...e})}function Tt({...e}){return an.jsx(No,{"data-slot":"dialog-trigger",...e})}function Et({...e}){return an.jsx(xo,{"data-slot":"dialog-portal",...e})}function kt({className:e,...t}){return an.jsx(vo,{"data-slot":"dialog-overlay",className:lt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function At({className:e,children:t,...s}){return an.jsxs(Et,{"data-slot":"dialog-portal",children:[an.jsx(kt,{}),an.jsxs(yo,{"data-slot":"dialog-content",className:lt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,an.jsxs(bo,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[an.jsx(wn,{}),an.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ct({className:e,...t}){return an.jsx("div",{"data-slot":"dialog-header",className:lt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Rt({className:e,...t}){return an.jsx("div",{"data-slot":"dialog-footer",className:lt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Ot({className:e,...t}){return an.jsx(jo,{"data-slot":"dialog-title",className:lt("text-lg leading-none font-semibold",e),...t})}function Dt({className:e,...t}){return an.jsx(wo,{"data-slot":"dialog-description",className:lt("text-muted-foreground text-sm",e),...t})}function It({className:e,...t}){return an.jsx(up,{"data-slot":"command",className:lt("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function Pt({title:e="Command Palette",description:t="Search for a command to run...",children:s,...a}){return an.jsxs(St,{...a,children:[an.jsxs(Ct,{className:"sr-only",children:[an.jsx(Ot,{children:e}),an.jsx(Dt,{children:t})]}),an.jsx(At,{className:"overflow-hidden p-0",children:an.jsx(It,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:s})})]})}function Lt({className:e,...t}){return an.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[an.jsx(Nn,{className:"size-4 shrink-0 opacity-50","aria-hidden":"true"}),an.jsx(up.Input,{"data-slot":"command-input",className:lt("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function Mt({className:e,...t}){return an.jsx(up.List,{"data-slot":"command-list",className:lt("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function Ft({...e}){return an.jsx(up.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function $t({className:e,...t}){return an.jsx(up.Group,{"data-slot":"command-group",className:lt("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function zt({className:e,...t}){return an.jsx(up.Separator,{"data-slot":"command-separator",className:lt("bg-border -mx-1 h-px",e),...t})}function Vt({className:e,...t}){return an.jsx(up.Item,{"data-slot":"command-item",className:lt("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Ut({className:e,...t}){return an.jsx("span",{"data-slot":"command-shortcut",className:lt("text-muted-foreground ml-auto text-xs tracking-widest",e),...t})}function Ht(){const[e,t]=sn.useState(!1),s=Li();sn.useEffect(()=>{const e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),t(e=>!e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const a=sn.useCallback(e=>{t(!1),e()},[]),n=[{id:"home",label:"Go to Dashboard",icon:an.jsx(bn,{className:"mr-2 h-4 w-4"}),shortcut:"⌘D",action:()=>s("/"),keywords:["home","dashboard","main"]},{id:"fleet",label:"Fleet Hub",icon:an.jsx(_n,{className:"mr-2 h-4 w-4"}),shortcut:"⌘F",action:()=>s("/fleet-hub-consolidated"),keywords:["fleet","vehicles","cars","trucks"]},{id:"drivers",label:"Drivers Hub",icon:an.jsx(Sn,{className:"mr-2 h-4 w-4"}),shortcut:"⌘R",action:()=>s("/drivers-hub-consolidated"),keywords:["drivers","team","staff","employees"]},{id:"maintenance",label:"Maintenance Hub",icon:an.jsx(Tn,{className:"mr-2 h-4 w-4"}),shortcut:"⌘M",action:()=>s("/maintenance-hub-consolidated"),keywords:["maintenance","repairs","service","garage"]},{id:"operations",label:"Operations Hub",icon:an.jsx(En,{className:"mr-2 h-4 w-4"}),shortcut:"⌘O",action:()=>s("/operations-hub-consolidated"),keywords:["operations","dispatch","routes"]},{id:"analytics",label:"Analytics Hub",icon:an.jsx(kn,{className:"mr-2 h-4 w-4"}),shortcut:"⌘A",action:()=>s("/analytics-hub-consolidated"),keywords:["analytics","reports","metrics","data"]},{id:"compliance",label:"Compliance Hub",icon:an.jsx(An,{className:"mr-2 h-4 w-4"}),action:()=>s("/compliance-hub-consolidated"),keywords:["compliance","dot","regulations","ifta"]},{id:"safety",label:"Safety Hub",icon:an.jsx(gn,{className:"mr-2 h-4 w-4"}),action:()=>s("/safety-hub"),keywords:["safety","alerts","incidents","osha"]}],r=[{id:"new-vehicle",label:"Add New Vehicle",icon:an.jsx(_n,{className:"mr-2 h-4 w-4"}),action:()=>s("/fleet-hub-consolidated?action=add-vehicle"),keywords:["add","new","vehicle","create"]},{id:"new-driver",label:"Add New Driver",icon:an.jsx(Sn,{className:"mr-2 h-4 w-4"}),action:()=>s("/drivers-hub-consolidated?action=add-driver"),keywords:["add","new","driver","hire"]},{id:"schedule-maintenance",label:"Schedule Maintenance",icon:an.jsx(Cn,{className:"mr-2 h-4 w-4"}),action:()=>s("/maintenance-hub-consolidated?action=schedule"),keywords:["schedule","maintenance","service","appointment"]},{id:"view-map",label:"Open Live Map",icon:an.jsx(Rn,{className:"mr-2 h-4 w-4"}),action:()=>s("/gps-tracking"),keywords:["map","gps","tracking","location"]},{id:"fuel-log",label:"Log Fuel Transaction",icon:an.jsx(On,{className:"mr-2 h-4 w-4"}),action:()=>s("/fleet-hub-consolidated?tab=fuel"),keywords:["fuel","gas","diesel","fill"]}],i=[{id:"notifications",label:"View Notifications",icon:an.jsx(Dn,{className:"mr-2 h-4 w-4"}),action:()=>s("/notifications"),keywords:["notifications","alerts","messages"]},{id:"settings",label:"Settings",icon:an.jsx(In,{className:"mr-2 h-4 w-4"}),action:()=>s("/admin-hub-consolidated"),keywords:["settings","preferences","config"]},{id:"reports",label:"Generate Report",icon:an.jsx(Pn,{className:"mr-2 h-4 w-4"}),action:()=>s("/analytics-hub-consolidated?tab=reports"),keywords:["report","export","pdf","csv"]},{id:"search",label:"Global Search",icon:an.jsx(Nn,{className:"mr-2 h-4 w-4"}),action:()=>s("/search"),keywords:["search","find","lookup"]}];return an.jsxs(Pt,{open:e,onOpenChange:t,children:[an.jsx(Lt,{placeholder:"Type a command or search..."}),an.jsxs(Mt,{children:[an.jsx(Ft,{children:"No results found."}),an.jsx($t,{heading:"Navigation",children:n.map(e=>an.jsxs(Vt,{value:e.id,onSelect:()=>a(e.action),keywords:e.keywords,children:[e.icon,an.jsx("span",{children:e.label}),e.shortcut&&an.jsx(Ut,{children:e.shortcut})]},e.id))}),an.jsx(zt,{}),an.jsx($t,{heading:"Quick Actions",children:r.map(e=>an.jsxs(Vt,{value:e.id,onSelect:()=>a(e.action),keywords:e.keywords,children:[e.icon,an.jsx("span",{children:e.label})]},e.id))}),an.jsx(zt,{}),an.jsx($t,{heading:"System",children:i.map(e=>an.jsxs(Vt,{value:e.id,onSelect:()=>a(e.action),keywords:e.keywords,children:[e.icon,an.jsx("span",{children:e.label})]},e.id))})]})]})}function Bt({className:e,type:t,...s}){return an.jsx("input",{type:t,"data-slot":"input",className:lt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-11 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}function qt({className:e,children:t,...s}){return an.jsxs(Xi,{"data-slot":"scroll-area",className:lt("relative",e),...s,children:[an.jsx(Qi,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),an.jsx(Wt,{}),an.jsx(Zi,{})]})}function Wt({className:e,orientation:t="vertical",...s}){return an.jsx(eo,{"data-slot":"scroll-area-scrollbar",orientation:t,className:lt("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...s,children:an.jsx(to,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Kt({message:e,ariaLive:t="polite",ariaAtomic:s=!0,className:a=""}){return e?an.jsx("div",{role:"status","aria-live":t,"aria-atomic":s,className:`sr-only ${a}`,children:e}):null}function Gt(){const e="fleet-assistant-default",[t,s]=sn.useState([{id:"1",role:"assistant",content:"Hello! I'm your Fleet Intelligence Assistant powered by advanced AI. I can help you with maintenance scheduling, route optimization, cost analysis, safety compliance, and vehicle management. What would you like to know?",timestamp:new Date}]),[a,n]=sn.useState(""),[r,i]=sn.useState(!1),[o,l]=sn.useState(null),c=sn.useRef(null),d=sn.useRef(null),u=fp.getProviderInfo(),{announcement:m,ariaLive:h,announce:p}=function(){const[e,t]=sn.useState(""),[s,a]=sn.useState("polite");return{announcement:e,ariaLive:s,announce:(e,s="polite")=>{t(""),setTimeout(()=>{a(s),t(e)},100)}}}(),f=async()=>{if(!a.trim())return;const t={id:Date.now().toString(),role:"user",content:a,timestamp:new Date};s(e=>[...e,t]);const r=a;n(""),i(!0),l(null);try{const t=await fp.chat(r,e,{model:"openai"===u.provider?"gpt-4":"claude-3-sonnet",temperature:.7,maxTokens:1e3}),a={id:t.id,role:"assistant",content:t.content,timestamp:t.timestamp,tokenCount:t.tokenCount};s(e=>[...e,a]),p(`AI Assistant responded: ${t.content.substring(0,100)}`,"polite")}catch(o){const e={id:(Date.now()+1).toString(),role:"assistant",content:o instanceof Error?o.message:"An unexpected error occurred. Please try again.",timestamp:new Date,error:!0};s(t=>[...t,e]),l("Failed to get AI response. Please try again."),p("Error getting AI response. Please try again.","assertive")}finally{i(!1),d.current?.focus()}};sn.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[t]);const g=({label:e,onClick:t})=>an.jsxs(Mh,{variant:"outline",size:"sm",onClick:t,className:"text-xs",children:[an.jsx(Vn,{className:"h-3 w-3 mr-1"}),e]});return an.jsxs("div",{className:"h-full flex flex-col",role:"region","aria-label":"AI Assistant Chat",children:[an.jsx(Kt,{message:m,ariaLive:h}),an.jsxs(ct,{className:"flex-1 flex flex-col",children:[an.jsxs(dt,{children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsxs(ut,{className:"flex items-center gap-2",id:"chat-title",children:[an.jsx(Ln,{className:"h-5 w-5 text-primary","aria-hidden":"true"}),"Fleet Intelligence Assistant"]}),an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx("div",{className:"text-xs text-muted-foreground",...vp({live:"off"}),"aria-label":"AI Provider: "+(u.isProduction?"openai"===u.provider?"OpenAI GPT-4":"Anthropic Claude":"Mock Mode Development"),children:an.jsxs("span",u.isProduction?{className:"flex items-center gap-1",children:[an.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full","aria-hidden":"true"}),"openai"===u.provider?"OpenAI GPT-4":"Anthropic Claude"]}:{className:"flex items-center gap-1",children:[an.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full","aria-hidden":"true"}),"Mock Mode (Dev)"]})}),an.jsxs(Mh,{variant:"ghost",size:"sm",onClick:()=>{s([{id:"1",role:"assistant",content:"Conversation cleared. How can I help you today?",timestamp:new Date}]),fp.clearHistory(e),l(null),p("Conversation history cleared","polite"),d.current?.focus()},disabled:r,...xp({label:"Clear conversation history",disabled:r}),children:[an.jsx(Mn,{className:"h-4 w-4","aria-hidden":"true"}),an.jsx("span",{className:"sr-only",children:"Clear conversation"})]})]})]}),an.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",role:"toolbar","aria-label":"Quick action buttons",children:[an.jsx(g,{label:"Vehicle Status",onClick:()=>n("Show me all vehicle statuses")}),an.jsx(g,{label:"Maintenance Due",onClick:()=>n("Which vehicles need maintenance?")}),an.jsx(g,{label:"Cost Report",onClick:()=>n("Show me this month's costs")}),an.jsx(g,{label:"Safety Alerts",onClick:()=>n("Are there any safety alerts?")})]}),!u.isProduction&&an.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded text-xs",...yp({live:"polite"}),children:[an.jsx(Fn,{className:"h-3 w-3 inline mr-1","aria-hidden":"true"}),"Mock AI mode. Set VITE_OPENAI_API_KEY or VITE_ANTHROPIC_API_KEY for production."]}),o&&an.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded text-xs flex items-center justify-between",...yp({live:"assertive"}),children:[an.jsxs("div",{className:"flex items-center gap-1",children:[an.jsx(Fn,{className:"h-3 w-3","aria-hidden":"true"}),o]}),an.jsxs(Mh,{variant:"ghost",size:"sm",onClick:()=>{const e=[...t].reverse().find(e=>"user"===e.role);e&&(n(e.content),p("Message restored for retry","polite"),d.current?.focus())},className:"h-6 text-xs",...xp({label:"Retry last message"}),children:[an.jsx(yn,{className:"h-3 w-3 mr-1","aria-hidden":"true"}),"Retry"]})]})]}),an.jsxs(ht,{className:"flex-1 flex flex-col p-0",children:[an.jsx(qt,{className:"flex-1 p-4",ref:c,role:"log","aria-label":"Chat conversation history","aria-live":"polite","aria-atomic":"false",children:an.jsxs("div",{className:"space-y-4",children:[t.map((e,t)=>an.jsxs("div",{className:"flex gap-3 "+("user"===e.role?"justify-end":""),role:"article","aria-label":`${"user"===e.role?"Your":"AI Assistant"} message at ${e.timestamp.toLocaleTimeString()}`,children:["assistant"===e.role&&an.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 "+(e.error?"bg-red-100 dark:bg-red-900":"bg-primary/10"),"aria-hidden":"true",children:e.error?an.jsx(Fn,{className:"h-4 w-4 text-red-600 dark:text-red-400"}):an.jsx(Ln,{className:"h-4 w-4 text-primary"})}),an.jsxs("div",{className:"max-w-[80%] rounded-lg p-3 "+("user"===e.role?"bg-primary text-primary-foreground":e.error?"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800":"bg-muted"),children:[an.jsx("p",{className:"text-sm whitespace-pre-line",children:e.content}),an.jsxs("p",{className:"text-xs opacity-70 mt-1 flex items-center justify-between",children:[an.jsx("span",{"aria-label":`Sent at ${e.timestamp.toLocaleTimeString()}`,children:e.timestamp.toLocaleTimeString()}),e.tokenCount&&an.jsxs("span",{className:"ml-2",title:"Tokens used","aria-label":`${e.tokenCount} tokens used`,children:[e.tokenCount," tokens"]})]})]}),"user"===e.role&&an.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center flex-shrink-0","aria-hidden":"true",children:an.jsx($n,{className:"h-4 w-4 text-primary-foreground"})})]},e.id)),r&&an.jsxs("div",{className:"flex gap-3",...vp({live:"polite"}),children:[an.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:an.jsx(Ln,{className:"h-4 w-4 text-primary","aria-hidden":"true"})}),an.jsxs("div",{className:"bg-muted rounded-lg p-3",children:[an.jsxs("div",{className:"flex gap-1","aria-label":"AI is typing",children:[an.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"}),an.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),an.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),an.jsx("span",{className:"sr-only",children:"AI Assistant is thinking..."})]})]})]})}),an.jsxs("div",{className:"p-4 border-t",role:"form","aria-label":"Chat input form",children:[an.jsxs("div",{className:"flex gap-2",children:[an.jsx(Bt,{ref:d,id:"chat-input",placeholder:"Ask about fleet operations, maintenance, costs, routes...",value:a,onChange:e=>n(e.target.value),onKeyDown:e=>{e.key!==gp||e.shiftKey||(e.preventDefault(),f())},disabled:r,className:"flex-1","aria-label":"Chat message input","aria-describedby":"chat-input-help",autoComplete:"off"}),an.jsxs(Mh,{onClick:f,disabled:r||!a.trim(),...xp({label:"Send message",disabled:r||!a.trim()}),children:[an.jsx(zn,{className:"h-4 w-4","aria-hidden":"true"}),an.jsx("span",{className:"sr-only",children:"Send"})]})]}),an.jsx("p",{id:"chat-input-help",className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})]})]})}function Jt(){const{levels:e,goToLevel:t,reset:s}=rt();return 0===e.length?null:an.jsxs("nav",{className:"flex items-center space-x-2 px-4 py-3 bg-muted/50 border-b","aria-label":"Breadcrumb navigation",children:[an.jsx(Mh,{variant:"ghost",size:"sm",onClick:s,className:"h-8 px-2","aria-label":"Return to home",children:an.jsx(bn,{className:"h-4 w-4"})}),e.map((s,a)=>an.jsxs(Un.Fragment,{children:[an.jsx(Hn,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"}),an.jsx(Mh,{variant:"ghost",size:"sm",onClick:()=>t(a),className:lt("h-8 px-3 text-sm font-medium",a===e.length-1?"text-foreground cursor-default":"text-muted-foreground hover:text-foreground"),disabled:a===e.length-1,"aria-current":a===e.length-1?"page":void 0,children:s.label})]},`${s.id}-${a}`))]})}function Yt({children:e,className:t}){const{currentLevel:s,pop:a,reset:n,canGoBack:r}=rt();return sn.useEffect(()=>{const e=e=>{if("Escape"===e.key&&s)e.preventDefault(),n();else if("Backspace"===e.key&&r&&s){const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(e.preventDefault(),a())}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,r,a,n]),sn.useEffect(()=>(document.body.style.overflow=s?"hidden":"",()=>{document.body.style.overflow=""}),[s]),an.jsx(_o,{children:s&&an.jsxs(an.Fragment,{children:[an.jsx(So.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40",onClick:n,"aria-hidden":"true"}),an.jsxs(So.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:lt("fixed right-0 top-0 bottom-0 w-full md:w-2/3 lg:w-1/2 xl:w-2/5","bg-background border-l shadow-2xl z-50","flex flex-col",t),role:"dialog","aria-modal":"true","aria-labelledby":"drilldown-title",children:[an.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/50",children:[an.jsxs("div",{className:"flex items-center space-x-2",children:[r&&an.jsx(Mh,{variant:"ghost",size:"sm",onClick:a,className:"h-9 w-9 p-0","aria-label":"Go back one level",children:an.jsx(Bn,{className:"h-5 w-5"})}),an.jsx("h2",{id:"drilldown-title",className:"text-lg font-semibold truncate",children:s.label})]}),an.jsx(Mh,{variant:"ghost",size:"sm",onClick:n,className:"h-9 w-9 p-0","aria-label":"Close panel",children:an.jsx(wn,{className:"h-5 w-5"})})]}),an.jsx(qt,{className:"flex-1",children:an.jsx("div",{className:"p-6",children:e})}),an.jsxs("div",{className:"p-3 border-t bg-muted/30 text-xs text-muted-foreground text-center",children:["Press ",an.jsx("kbd",{className:"px-2 py-1 bg-background border rounded",children:"Esc"})," to close",r&&an.jsxs(an.Fragment,{children:[" "," or ",an.jsx("kbd",{className:"px-2 py-1 bg-background border rounded",children:"Backspace"})," to go back"]})]})]})]})})}function Xt({loading:e,error:t,onRetry:s,children:a}){return e?an.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[an.jsx(qn,{className:"h-8 w-8 animate-spin text-primary"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading data..."})]}):t?an.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[an.jsxs("div",{className:"text-center space-y-2",children:[an.jsx("p",{className:"text-sm font-medium text-destructive",children:"Error loading data"}),an.jsx("p",{className:"text-xs text-muted-foreground",children:t.message||"An unexpected error occurred"})]}),s&&an.jsx(Mh,{onClick:s,variant:"outline",size:"sm",children:"Try Again"})]}):an.jsx(an.Fragment,{children:a})}function Qt({className:e,variant:t,asChild:s=!1,...a}){return an.jsx(s?Ki:"span",{"data-slot":"badge",className:lt(bp({variant:t}),e),...a})}function Zt(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-red-900/30 border-red-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-red-400",children:"3"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Open"})]})}),an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"5"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Under Review"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"12"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Resolved (30d)"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsxs(ut,{className:"text-white text-lg flex items-center gap-2",children:[an.jsx(un,{className:"w-5 h-5 text-amber-400"}),"Recent Incidents"]})}),an.jsx(ht,{className:"space-y-2",children:[{id:"1",type:"Minor Collision",status:"open",severity:"medium",date:"2024-01-15",driver:"John Smith",vehicle:"TRK-001"},{id:"2",type:"Near Miss",status:"under-review",severity:"low",date:"2024-01-14",driver:"Jane Doe",vehicle:"TRK-012"},{id:"3",type:"Hard Braking",status:"open",severity:"low",date:"2024-01-14",driver:"Bob Wilson",vehicle:"TRK-008"},{id:"4",type:"Speeding",status:"under-review",severity:"medium",date:"2024-01-13",driver:"Alice Brown",vehicle:"TRK-003"},{id:"5",type:"Property Damage",status:"open",severity:"high",date:"2024-01-12",driver:"Tom Davis",vehicle:"TRK-015"}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[an.jsxs("div",{children:[an.jsx("div",{className:"font-medium text-white",children:e.type}),an.jsxs("div",{className:"text-xs text-slate-400",children:[e.driver," • ",e.vehicle," • ",e.date]})]}),an.jsx(Qt,{variant:"outline",className:"high"===e.severity?"border-red-500 text-red-400":"medium"===e.severity?"border-amber-500 text-amber-400":"border-slate-500 text-slate-400",children:e.severity})]},e.id))})]})]})}function es(){return an.jsxs("div",{className:"space-y-6",children:[an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-6 text-center",children:[an.jsx(Yn,{className:"w-10 h-10 text-emerald-400 mx-auto mb-2"}),an.jsx("div",{className:"text-4xl font-bold text-white",children:"92"}),an.jsx("div",{className:"text-sm text-slate-400",children:"Fleet Safety Score"})]})}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Score Components"})}),an.jsx(ht,{className:"space-y-4",children:[{label:"Safe Driving Behaviors",score:94,color:"bg-emerald-500"},{label:"Speed Compliance",score:91,color:"bg-blue-500"},{label:"Hours of Service",score:96,color:"bg-emerald-500"},{label:"Vehicle Inspections",score:88,color:"bg-amber-500"},{label:"Incident Prevention",score:90,color:"bg-blue-500"}].map(e=>an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-slate-300",children:e.label}),an.jsxs("span",{className:"text-white font-medium",children:[e.score,"%"]})]}),an.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:an.jsx("div",{className:`h-full ${e.color} transition-all`,style:{width:`${e.score}%`}})})]},e.label))})]})]})}function ts(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(Kn,{className:"w-6 h-6 text-emerald-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"148"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Cameras Online"})]})}),an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"23"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Events Today"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Today's Events"})}),an.jsx(ht,{className:"space-y-2",children:[{id:"1",type:"Hard Braking",vehicle:"TRK-001",time:"10:34 AM",reviewed:!0},{id:"2",type:"Distraction",vehicle:"TRK-015",time:"09:22 AM",reviewed:!1},{id:"3",type:"Lane Departure",vehicle:"TRK-008",time:"08:45 AM",reviewed:!1},{id:"4",type:"Speeding",vehicle:"TRK-003",time:"08:12 AM",reviewed:!0},{id:"5",type:"Near Miss",vehicle:"TRK-012",time:"07:55 AM",reviewed:!1}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx(Gn,{className:"w-5 h-5 text-blue-400"}),an.jsxs("div",{children:[an.jsx("div",{className:"font-medium text-white",children:e.type}),an.jsxs("div",{className:"text-xs text-slate-400",children:[e.vehicle," • ",e.time]})]})]}),e.reviewed?an.jsxs(Qt,{variant:"outline",className:"border-emerald-500 text-emerald-400",children:[an.jsx(Jn,{className:"w-3 h-3 mr-1"})," Reviewed"]}):an.jsx(Qt,{variant:"outline",className:"border-amber-500 text-amber-400",children:"Pending"})]},e.id))})]})]})}function ss(){return rt(),an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[an.jsx(ct,{className:"bg-blue-900/30 border-blue-700/50",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsx("div",{className:"text-xl font-bold text-blue-400",children:"24"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Active"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsx("div",{className:"text-xl font-bold text-emerald-400",children:"18"}),an.jsx("div",{className:"text-xs text-slate-400",children:"In Transit"})]})}),an.jsx(ct,{className:"bg-purple-900/30 border-purple-700/50",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsx("div",{className:"text-xl font-bold text-purple-400",children:"156"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Completed"})]})}),an.jsx(ct,{className:"bg-red-900/30 border-red-700/50",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsx("div",{className:"text-xl font-bold text-red-400",children:"3"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Delayed"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsxs(ut,{className:"text-white text-lg flex items-center gap-2",children:[an.jsx(mn,{className:"w-5 h-5 text-blue-400"}),"Active Jobs"]})}),an.jsx(ht,{className:"space-y-2",children:[{id:"1",status:"in-transit",destination:"123 Main St, Boston",driver:"John Smith",eta:"15 min"},{id:"2",status:"pending",destination:"456 Oak Ave, Cambridge",driver:"Jane Doe",eta:"45 min"},{id:"3",status:"in-transit",destination:"789 Elm Rd, Somerville",driver:"Bob Wilson",eta:"22 min"},{id:"4",status:"delayed",destination:"321 Pine St, Brookline",driver:"Alice Brown",eta:"TBD"},{id:"5",status:"in-transit",destination:"654 Cedar Ln, Newton",driver:"Tom Davis",eta:"8 min"}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx(Wn,{className:"w-5 h-5 "+("in-transit"===e.status?"text-emerald-400":"delayed"===e.status?"text-red-400":"text-slate-400")}),an.jsxs("div",{children:[an.jsx("div",{className:"font-medium text-white text-sm",children:e.destination}),an.jsxs("div",{className:"text-xs text-slate-400",children:[e.driver," • ETA: ",e.eta]})]})]}),an.jsx(Qt,{variant:"outline",className:"in-transit"===e.status?"border-emerald-500 text-emerald-400":"delayed"===e.status?"border-red-500 text-red-400":"border-slate-500 text-slate-400",children:e.status})]},e.id))})]})]})}function as(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-blue-900/30 border-blue-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(nn,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"45"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Active Routes"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"12"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Optimized Today"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-slate-300",children:"2.4h"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Avg Duration"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Route Optimization"})}),an.jsx(ht,{})]})]})}function ns(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsx(ut,{className:"text-white",children:"Tasks Drilldown"})}),an.jsx(ht,{className:"text-slate-400",children:"Task details will be displayed here"})]})}function rs(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsx(ut,{className:"text-white",children:"Vendors Drilldown"})}),an.jsx(ht,{className:"text-slate-400",children:"Vendor details will be displayed here"})]})}function is(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsx(ut,{className:"text-white",children:"Parts Inventory Drilldown"})}),an.jsx(ht,{className:"text-slate-400",children:"Parts inventory details will be displayed here"})]})}function os(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsx(ut,{className:"text-white",children:"Purchase Orders Drilldown"})}),an.jsx(ht,{className:"text-slate-400",children:"Purchase order details will be displayed here"})]})}function ls(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsx(ut,{className:"text-white",children:"Fuel Purchasing Drilldown"})}),an.jsx(ht,{className:"text-slate-400",children:"Fuel purchasing details will be displayed here"})]})}function cs(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[an.jsx(ct,{className:"bg-blue-900/30 border-blue-700/50",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsx(ln,{className:"w-5 h-5 text-blue-400 mx-auto mb-1"}),an.jsx("div",{className:"text-xl font-bold text-white",children:"42"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Sessions"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsx("div",{className:"text-xl font-bold text-emerald-400",children:"99.9%"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Uptime"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsx(er,{className:"w-5 h-5 text-slate-400 mx-auto mb-1"}),an.jsx("div",{className:"text-xl font-bold text-slate-300",children:"24%"}),an.jsx("div",{className:"text-xs text-slate-400",children:"CPU"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsx("div",{className:"text-xl font-bold text-slate-300",children:"68%"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Memory"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsxs(ut,{className:"text-white text-lg flex items-center gap-2",children:[an.jsx(tr,{className:"w-5 h-5 text-blue-400"}),"Service Status"]})}),an.jsx(ht,{className:"space-y-2",children:[{service:"API Gateway",status:"operational",latency:"12ms"},{service:"Database Cluster",status:"operational",latency:"3ms"},{service:"Authentication",status:"operational",latency:"8ms"},{service:"File Storage",status:"operational",latency:"45ms"},{service:"Background Jobs",status:"operational",latency:"—"}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-900/50 rounded",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"}),an.jsx("span",{className:"text-slate-300",children:e.service})]}),an.jsx("span",{className:"text-slate-400 text-sm",children:e.latency})]},e.service))})]})]})}function ds(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(Qn,{className:"w-6 h-6 text-emerald-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"0"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Critical"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"12"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Resolved Today"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-slate-300",children:"2"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Suppressed"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsxs(ut,{className:"text-white text-lg flex items-center gap-2",children:[an.jsx(Zn,{className:"w-5 h-5 text-amber-400"}),"Recent Alerts"]})}),an.jsx(ht,{className:"space-y-2",children:[{id:"1",message:"High memory usage on db-02",severity:"warning",time:"15 min ago",ack:!1},{id:"2",message:"API rate limit approaching",severity:"info",time:"1 hr ago",ack:!0},{id:"3",message:"Backup completed successfully",severity:"info",time:"2 hrs ago",ack:!0},{id:"4",message:"SSL certificate expires in 30 days",severity:"warning",time:"1 day ago",ack:!1}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[an.jsxs("div",{className:"flex items-center gap-3",children:["warning"===e.severity?an.jsx(un,{className:"w-5 h-5 text-amber-400"}):an.jsx(Zn,{className:"w-5 h-5 text-blue-400"}),an.jsxs("div",{children:[an.jsx("div",{className:"font-medium text-white text-sm",children:e.message}),an.jsx("div",{className:"text-xs text-slate-400",children:e.time})]})]}),e.ack&&an.jsx(Qt,{variant:"outline",className:"border-emerald-500 text-emerald-400",children:"Ack"})]},e.id))})]})]})}function us(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-blue-900/30 border-blue-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(Xn,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"2.4 TB"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Total Storage"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-slate-300",children:"456"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Shared Files"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"24"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Uploaded Today"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Storage by Type"})}),an.jsx(ht,{className:"space-y-4",children:[{type:"Documents",size:"890 GB",percent:37,color:"bg-blue-500"},{type:"Video Telematics",size:"1.2 TB",percent:50,color:"bg-purple-500"},{type:"Images",size:"180 GB",percent:8,color:"bg-emerald-500"},{type:"Other",size:"130 GB",percent:5,color:"bg-slate-500"}].map(e=>an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-slate-300",children:e.type}),an.jsx("span",{className:"text-white font-medium",children:e.size})]}),an.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:an.jsx("div",{className:`h-full ${e.color}`,style:{width:`${e.percent}%`}})})]},e.type))})]})]})}function ms({className:e,value:t,...s}){return an.jsx(so,{"data-slot":"progress",className:lt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...s,children:an.jsx(ao,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function hs(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(ir,{className:"w-6 h-6 text-emerald-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"94%"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Satisfaction"})]})}),an.jsx(ct,{className:"bg-blue-900/30 border-blue-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"1.2s"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Avg Response"})]})}),an.jsx(ct,{className:"bg-purple-900/30 border-purple-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"89"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Conversations"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsxs(ut,{className:"text-white text-lg flex items-center gap-2",children:[an.jsx(nr,{className:"w-5 h-5 text-blue-400"}),"Recent Conversations"]})}),an.jsx(ht,{className:"space-y-2",children:[{id:"1",user:"John Smith",topic:"Vehicle Status",status:"resolved",time:"2 min ago"},{id:"2",user:"Jane Doe",topic:"Fuel Card Issue",status:"active",time:"5 min ago"},{id:"3",user:"Bob Wilson",topic:"Route Change",status:"resolved",time:"12 min ago"},{id:"4",user:"Alice Brown",topic:"Maintenance ETA",status:"resolved",time:"18 min ago"}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[an.jsxs("div",{children:[an.jsx("div",{className:"font-medium text-white",children:e.user}),an.jsxs("div",{className:"text-xs text-slate-400",children:[e.topic," • ",e.time]})]}),an.jsx(Qt,{variant:"outline",className:"resolved"===e.status?"border-emerald-500 text-emerald-400":"border-blue-500 text-blue-400",children:e.status})]},e.id))})]})]})}function ps(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-blue-900/30 border-blue-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(nr,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"234"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Messages Today"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-slate-300",children:"12"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Channels"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"8"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Automations"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Channel Activity"})}),an.jsx(ht,{className:"space-y-4",children:[{channel:"#dispatch",messages:89,active:!0},{channel:"#maintenance",messages:56,active:!0},{channel:"#drivers",messages:45,active:!0},{channel:"#safety",messages:28,active:!1},{channel:"#general",messages:16,active:!1}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-900/50 rounded",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx("span",{className:"w-2 h-2 rounded-full "+(e.active?"bg-emerald-400":"bg-slate-500")}),an.jsx("span",{className:"text-slate-300",children:e.channel})]}),an.jsxs("span",{className:"text-white font-medium",children:[e.messages," msgs"]})]},e.channel))})]})]})}function fs(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(rr,{className:"w-6 h-6 text-slate-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"24"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Templates"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"42%"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Open Rate"})]})}),an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"12"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Scheduled"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Campaign Performance"})}),an.jsx(ht,{className:"space-y-4",children:[{name:"Weekly Fleet Update",sent:156,opened:72,rate:46},{name:"Maintenance Reminder",sent:48,opened:38,rate:79},{name:"Safety Bulletin",sent:156,opened:52,rate:33}].map(e=>an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-slate-300",children:e.name}),an.jsxs("span",{className:"text-white",children:[e.rate,"% opened"]})]}),an.jsx(ms,{value:e.rate,className:"h-2 bg-slate-700"})]},e.name))})]})]})}function gs(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"456"}),an.jsx("div",{className:"text-xs text-slate-400",children:"This Week"})]})}),an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"12"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Flagged"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(sr,{className:"w-6 h-6 text-slate-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-slate-300",children:"3.2K"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Archived"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Recent Communications"})}),an.jsx(ht,{className:"space-y-2",children:[{id:"1",type:"email",subject:"Weekly Fleet Report",recipients:45,time:"2 hrs ago"},{id:"2",type:"sms",subject:"Route Update Alert",recipients:12,time:"4 hrs ago"},{id:"3",type:"push",subject:"Maintenance Reminder",recipients:8,time:"6 hrs ago"},{id:"4",type:"email",subject:"Safety Bulletin",recipients:156,time:"1 day ago"}].map(e=>an.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:an.jsxs("div",{className:"flex items-center gap-3",children:["email"===e.type?an.jsx(ar,{className:"w-5 h-5 text-blue-400"}):"sms"===e.type?an.jsx(nr,{className:"w-5 h-5 text-emerald-400"}):an.jsx(Zn,{className:"w-5 h-5 text-purple-400"}),an.jsxs("div",{children:[an.jsx("div",{className:"font-medium text-white",children:e.subject}),an.jsxs("div",{className:"text-xs text-slate-400",children:[e.recipients," recipients • ",e.time]})]})]})},e.id))})]})]})}function xs(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(Yn,{className:"w-6 h-6 text-emerald-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"98%"}),an.jsx("div",{className:"text-xs text-slate-400",children:"DOT Compliance"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"100%"}),an.jsx("div",{className:"text-xs text-slate-400",children:"IFTA Compliance"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Compliance Status"})}),an.jsx(ht,{className:"space-y-4",children:[{regulation:"DOT Hours of Service",status:"compliant",score:98},{regulation:"IFTA Fuel Tax",status:"compliant",score:100},{regulation:"Vehicle Inspections",status:"attention",score:94},{regulation:"Driver Qualifications",status:"compliant",score:97},{regulation:"ELD Mandate",status:"compliant",score:100}].map(e=>an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-slate-300",children:e.regulation}),an.jsxs(Qt,{variant:"outline",className:"compliant"===e.status?"border-emerald-500 text-emerald-400":"border-amber-500 text-amber-400",children:[e.score,"%"]})]}),an.jsx(ms,{value:e.score,className:"h-2 bg-slate-700"})]},e.regulation))})]})]})}function vs(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(dr,{className:"w-6 h-6 text-emerald-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"10"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Compliant Zones"})]})}),an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"2"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Attention Needed"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Zone Status"})}),an.jsx(ht,{className:"space-y-2",children:[{name:"Downtown Distribution",status:"compliant",violations:0},{name:"Airport Cargo Area",status:"compliant",violations:0},{name:"Highway Corridor",status:"attention",violations:2},{name:"Industrial Park",status:"compliant",violations:0},{name:"Residential Zone",status:"compliant",violations:0}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx("span",{className:"w-2 h-2 rounded-full "+("compliant"===e.status?"bg-emerald-400":"bg-amber-400")}),an.jsx("span",{className:"text-white",children:e.name})]}),an.jsxs("span",{className:"text-slate-400 text-sm",children:[e.violations," violations"]})]},e.name))})]})]})}function ys(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(cr,{className:"w-6 h-6 text-amber-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"8"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Inspections Due"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"0"}),an.jsx("div",{className:"text-xs text-slate-400",children:"HOS Violations"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"100%"}),an.jsx("div",{className:"text-xs text-slate-400",children:"ELD Status"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Upcoming Inspections"})}),an.jsx(ht,{className:"space-y-2",children:[{vehicle:"TRK-001",type:"Annual DOT",due:"In 5 days",status:"scheduled"},{vehicle:"TRK-008",type:"Brake Check",due:"In 7 days",status:"pending"},{vehicle:"TRK-015",type:"Annual DOT",due:"In 12 days",status:"pending"},{vehicle:"TRK-022",type:"Tire Inspection",due:"In 14 days",status:"pending"}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[an.jsxs("div",{children:[an.jsxs("div",{className:"font-medium text-white",children:[e.vehicle," - ",e.type]}),an.jsx("div",{className:"text-xs text-slate-400",children:e.due})]}),an.jsx(Qt,{variant:"outline",className:"scheduled"===e.status?"border-emerald-500 text-emerald-400":"border-amber-500 text-amber-400",children:e.status})]},e.vehicle))})]})]})}function bs(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsx(ct,{className:"bg-blue-900/30 border-blue-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(lr,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-white",children:"2.4M"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Miles Tracked"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-slate-300",children:"$12,450"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Fuel Tax Due"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Tax by Jurisdiction"})}),an.jsx(ht,{className:"space-y-2",children:[{state:"Texas",miles:"890K",tax:"$4,200"},{state:"California",miles:"520K",tax:"$3,100"},{state:"Arizona",miles:"380K",tax:"$2,150"},{state:"Nevada",miles:"290K",tax:"$1,800"},{state:"New Mexico",miles:"320K",tax:"$1,200"}].map(e=>an.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-900/50 rounded",children:[an.jsx("span",{className:"text-slate-300",children:e.state}),an.jsxs("div",{className:"text-right",children:[an.jsx("span",{className:"text-white font-medium",children:e.tax}),an.jsxs("span",{className:"text-slate-400 text-sm ml-2",children:["(",e.miles,")"]})]})]},e.state))})]})]})}function js(){return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(or,{className:"w-6 h-6 text-amber-400 mx-auto mb-2"}),an.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"3"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Pending"})]})}),an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"2"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Incidents YTD"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"47"}),an.jsx("div",{className:"text-xs text-slate-400",children:"Days Safe"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"CSA BASIC Scores"})}),an.jsx(ht,{className:"space-y-4",children:[{category:"Unsafe Driving",score:12,threshold:65},{category:"HOS Compliance",score:8,threshold:65},{category:"Vehicle Maintenance",score:22,threshold:80},{category:"Controlled Substances",score:0,threshold:80},{category:"Driver Fitness",score:5,threshold:80}].map(e=>an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-slate-300",children:e.category}),an.jsxs("span",{className:"font-medium "+(e.threshold/2>e.score?"text-emerald-400":"text-amber-400"),children:[e.score,"%"]})]}),an.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:an.jsx("div",{className:"h-full "+(e.threshold/2>e.score?"bg-emerald-500":"bg-amber-500"),style:{width:e.score/e.threshold*100+"%"}})})]},e.category))})]})]})}async function ws(...e){async function t(t){const[a]=Xp(t);if(!a)return;const[r,u]=Lp(s,a),[m,h,p,f]=wp.get(s),g=()=>{const e=m[a];return(Ep(i.revalidate)?i.revalidate(r().data,t):!1!==i.revalidate)&&(delete p[a],delete f[a],e&&e[0])?e[0](2).then(()=>r().data):r().data};if(3>e.length)return g();let x,v=n,y=!1;const b=Zp();h[a]=[b,0];const j=!Tp(c),w=r(),N=w.data,_=w._c,S=Tp(_)?N:_;if(j&&(c=Ep(c)?c(S,N):c,u({data:c,_c:S})),Ep(v))try{v=v(S)}catch(T){x=T,y=!0}if(v&&Ap(v)){if(v=await v.catch(e=>{x=e,y=!0}),b!==h[a][0]){if(y)throw x;return v}y&&j&&(e=>"function"==typeof l?l(e):!1!==l)(x)&&(o=!0,u({data:S,_c:_p}))}if(o&&!y)if(Ep(o)){const e=o(v,S);u({data:e,error:_p,_c:_p})}else u({data:v,error:_p,_c:_p});if(h[a][1]=Zp(),Promise.resolve(g()).then(()=>{u({_c:_p})}),!y)return v;if(d)throw x}const[s,a,n,r]=e,i=kp({populateCache:!0,throwOnError:!0},"boolean"==typeof r?{revalidate:r}:r||{});let o=i.populateCache;const l=i.rollbackOnError;let c=i.optimisticData;const d=i.throwOnError;if(Ep(a)){const e=a,n=[],r=s.keys();for(const t of r)!/^\$(inf|sub)\$/.test(t)&&e(s.get(t)._k)&&n.push(t);return Promise.all(n.map(t))}return t(a)}function Ns({className:e,...t}){return an.jsx(ro,{"data-slot":"avatar",className:lt("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function _s({className:e,...t}){return an.jsx(io,{"data-slot":"avatar-image",className:lt("aspect-square size-full",e),...t})}function Ss({className:e,...t}){return an.jsx(oo,{"data-slot":"avatar-fallback",className:lt("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function Ts({driverId:e}){const{push:t}=rt(),{data:s,error:a,isLoading:n,mutate:r}=uf(`/api/drivers/${e}`,hf);return an.jsx(Xt,{loading:n,error:a,onRetry:()=>r(),children:s&&an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"flex items-start gap-4",children:[an.jsxs(Ns,{className:"h-20 w-20",children:[an.jsx(_s,{src:s.avatar_url,alt:s.name}),an.jsx(Ss,{children:(i=s.name,i.split(" ").map(e=>e[0]).join("").toUpperCase())})]}),an.jsxs("div",{className:"flex-1 space-y-1",children:[an.jsx("h3",{className:"text-2xl font-bold",children:s.name}),an.jsxs("p",{className:"text-sm text-muted-foreground",children:["Employee ID: ",s.employee_id||"N/A"]}),an.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[an.jsx(Qt,{variant:"active"===s.status?"default":"secondary",children:s.status}),s.verified&&an.jsxs(Qt,{variant:"outline",className:"gap-1",children:[an.jsx(An,{className:"h-3 w-3"}),"Verified"]})]})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Contact Information"})}),an.jsxs(ht,{className:"space-y-3",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(ur,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("span",{className:"text-sm",children:s.email||"N/A"})]}),an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("span",{className:"text-sm",children:s.phone||"N/A"})]}),an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"}),an.jsxs("span",{className:"text-sm",children:["Joined ",s.hire_date?new Date(s.hire_date).toLocaleDateString():"N/A"]})]})]})]}),an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(hr,{className:"h-4 w-4"}),"Safety Score"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"text-2xl font-bold",children:[s.safety_score||0,"%"]}),an.jsx(ms,{value:s.safety_score||0,className:"mt-2"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(pr,{className:"h-4 w-4"}),"Performance"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"text-2xl font-bold",children:[s.performance_score||0,"%"]}),an.jsx(ms,{value:s.performance_score||0,className:"mt-2"})]})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Driver Statistics"})}),an.jsx(ht,{className:"space-y-4",children:an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Miles"}),an.jsx("p",{className:"text-xl font-bold",children:s.total_miles?.toLocaleString()||"0"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Trips"}),an.jsx("p",{className:"text-xl font-bold",children:s.total_trips?.toLocaleString()||"0"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Hours Driven"}),an.jsx("p",{className:"text-xl font-bold",children:s.total_hours?.toLocaleString()||"0"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Incidents"}),an.jsx("p",{className:"text-xl font-bold",children:s.incident_count||0})]})]})})]}),s.certifications&&s.certifications.length>0&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(fr,{className:"h-5 w-5"}),"Certifications & Licenses"]})}),an.jsx(ht,{children:an.jsx("ul",{className:"space-y-3",children:s.certifications.map((e,t)=>an.jsxs("li",{className:"flex items-center justify-between p-2 rounded bg-muted/50",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(fr,{className:"h-4 w-4 text-primary"}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm font-medium",children:e.name}),e.number&&an.jsxs("p",{className:"text-xs text-muted-foreground",children:["#",e.number]})]})]}),an.jsxs("div",{className:"text-right",children:[an.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expires:"," ",e.expiry_date?new Date(e.expiry_date).toLocaleDateString():"N/A"]}),e.expiry_date&&new Date(e.expiry_date)<new Date&&an.jsx(Qt,{variant:"destructive",className:"mt-1",children:"Expired"})]})]},t))})})]}),s.violations&&s.violations.length>0&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2 text-destructive",children:[an.jsx(gn,{className:"h-5 w-5"}),"Recent Violations (",s.violations.length,")"]})}),an.jsx(ht,{children:an.jsx("ul",{className:"space-y-2",children:s.violations.map((e,t)=>an.jsxs("li",{className:"flex items-start gap-2 p-2 rounded bg-destructive/10",children:[an.jsx(gn,{className:"h-4 w-4 text-destructive mt-0.5"}),an.jsxs("div",{className:"flex-1",children:[an.jsx("p",{className:"text-sm font-medium",children:e.type}),an.jsx("p",{className:"text-xs text-muted-foreground",children:e.date?new Date(e.date).toLocaleDateString():"N/A"})]})]},t))})})]}),an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsxs(Mh,{onClick:()=>{t({id:`driver-performance-${e}`,type:"driver-performance",label:"Performance Metrics",data:{driverId:e,driverName:s?.name}})},className:"w-full",children:[an.jsx(hr,{className:"h-4 w-4 mr-2"}),"View Performance"]}),an.jsxs(Mh,{onClick:()=>t({id:`driver-trips-${e}`,type:"driver-trips",label:"Trip History",data:{driverId:e,driverName:s.name}}),variant:"outline",className:"w-full",children:[an.jsx(gr,{className:"h-4 w-4 mr-2"}),"View Trips"]})]})]})});var i}function Es({className:e,...t}){return an.jsx(lo,{"data-slot":"tabs",className:lt("flex flex-col gap-2",e),...t})}function ks({className:e,...t}){return an.jsx(co,{"data-slot":"tabs-list",className:lt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function As({className:e,...t}){return an.jsx(uo,{"data-slot":"tabs-trigger",className:lt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Cs({className:e,...t}){return an.jsx(mo,{"data-slot":"tabs-content",className:lt("flex-1 outline-none",e),...t})}function Rs({driverId:e,driverName:t}){const{push:s}=rt(),{data:a,error:n,isLoading:r,mutate:i}=uf(`/api/drivers/${e}/performance`,pf),o=e=>90>e?70>e?"text-red-600":"text-yellow-600":"text-green-600";return an.jsx(Xt,{loading:r,error:n,onRetry:()=>i(),children:a&&an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{children:[an.jsxs("h3",{className:"text-lg font-semibold",children:["Performance Metrics ",t&&`for ${t}`]}),an.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Last updated: ",a.last_updated?new Date(a.last_updated).toLocaleString():"N/A"]})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Overall Performance Score"})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"flex items-center justify-between mb-4",children:[an.jsxs("div",{children:[an.jsxs("div",{className:`text-4xl font-bold ${o(a.overall_score||0)}`,children:[a.overall_score||0,"%"]}),an.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:90>a.overall_score?70>a.overall_score?"Needs Improvement":"Good":"Excellent"})]}),90>a.overall_score?an.jsx(gn,{className:"h-12 w-12 text-yellow-600"}):an.jsx(xr,{className:"h-12 w-12 text-green-600"})]}),an.jsx(ms,{value:a.overall_score||0})]})]}),an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(pr,{className:"h-4 w-4"}),"Safety Score"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:`text-2xl font-bold ${o(a.safety_score||0)}`,children:[a.safety_score||0,"%"]}),an.jsx(ms,{value:a.safety_score||0,className:"mt-2"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(vr,{className:"h-4 w-4"}),"Efficiency"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:`text-2xl font-bold ${o(a.efficiency_score||0)}`,children:[a.efficiency_score||0,"%"]}),an.jsx(ms,{value:a.efficiency_score||0,className:"mt-2"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(On,{className:"h-4 w-4"}),"Fuel Economy"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:`text-2xl font-bold ${o(a.fuel_score||0)}`,children:[a.fuel_score||0,"%"]}),an.jsx(ms,{value:a.fuel_score||0,className:"mt-2"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(yr,{className:"h-4 w-4"}),"On-Time"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:`text-2xl font-bold ${o(a.punctuality_score||0)}`,children:[a.punctuality_score||0,"%"]}),an.jsx(ms,{value:a.punctuality_score||0,className:"mt-2"})]})]})]}),an.jsxs(Es,{defaultValue:"safety",children:[an.jsxs(ks,{className:"grid w-full grid-cols-3",children:[an.jsx(As,{value:"safety",children:"Safety"}),an.jsx(As,{value:"efficiency",children:"Efficiency"}),an.jsx(As,{value:"violations",children:"Violations"})]}),an.jsx(Cs,{value:"safety",className:"space-y-4",children:an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Safety Metrics"})}),an.jsxs(ht,{className:"space-y-3",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Hard Braking Events"}),an.jsx("span",{className:"font-medium",children:a.hard_braking||0})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Rapid Acceleration"}),an.jsx("span",{className:"font-medium",children:a.rapid_acceleration||0})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Speeding Incidents"}),an.jsx("span",{className:"font-medium",children:a.speeding||0})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Distracted Driving"}),an.jsx("span",{className:"font-medium",children:a.distracted_driving||0})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Seatbelt Violations"}),an.jsx("span",{className:"font-medium",children:a.seatbelt_violations||0})]})]})]})}),an.jsx(Cs,{value:"efficiency",className:"space-y-4",children:an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Efficiency Metrics"})}),an.jsxs(ht,{className:"space-y-3",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Avg Fuel Economy"}),an.jsx("span",{className:"font-medium",children:a.avg_mpg?`${a.avg_mpg.toFixed(1)} mpg`:"N/A"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Idle Time"}),an.jsx("span",{className:"font-medium",children:a.idle_time?`${a.idle_time} hrs`:"N/A"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Route Adherence"}),an.jsxs("span",{className:"font-medium",children:[a.route_adherence||0,"%"]})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"On-Time Deliveries"}),an.jsxs("span",{className:"font-medium",children:[a.on_time_deliveries||0,"%"]})]})]})]})}),an.jsx(Cs,{value:"violations",className:"space-y-4",children:an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Recent Violations"})}),an.jsx(ht,{children:a.violations&&a.violations.length>0?an.jsx("ul",{className:"space-y-2",children:a.violations.map((e,t)=>an.jsxs("li",{className:"flex items-start gap-2 p-2 rounded bg-destructive/10",children:[an.jsx(gn,{className:"h-4 w-4 text-destructive mt-0.5"}),an.jsxs("div",{className:"flex-1",children:[an.jsx("p",{className:"text-sm font-medium",children:e.type}),an.jsx("p",{className:"text-xs text-muted-foreground",children:e.date?new Date(e.date).toLocaleDateString():"N/A"}),e.description&&an.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]})]},t))}):an.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No violations recorded"})})]})})]}),an.jsx(Mh,{onClick:()=>{s({id:`driver-trips-${e}`,type:"driver-trips",label:"Trip History",data:{driverId:e,driverName:t}})},className:"w-full",children:"View Trip Details"})]})})}function Os({driverId:e,driverName:t}){const{data:s,error:a,isLoading:n,mutate:r}=uf(`/api/drivers/${e}/trips`,ff);return an.jsx(Xt,{loading:n,error:a,onRetry:()=>r(),children:s&&an.jsxs("div",{className:"space-y-4",children:[an.jsxs("div",{children:[an.jsxs("h3",{className:"text-lg font-semibold",children:["Trip History ",t&&`for ${t}`]}),an.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s.length," trip",1!==s.length?"s":""," found"]})]}),0===s.length?an.jsx(ct,{children:an.jsxs(ht,{className:"py-12 text-center",children:[an.jsx(gr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:"No trips recorded"})]})}):an.jsx("div",{className:"space-y-3",children:s.map(e=>{const t=90>(s=e.performance_score||0)?70>s?{variant:"destructive",label:"Poor"}:{variant:"secondary",label:"Good"}:{variant:"default",label:"Excellent"};var s;return an.jsx(ct,{className:"hover:shadow-md transition-shadow",children:an.jsx(ht,{className:"p-4",children:an.jsxs("div",{className:"space-y-4",children:[an.jsxs("div",{className:"flex items-start justify-between",children:[an.jsxs("div",{className:"space-y-1",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Qt,{variant:"default",children:e.status}),an.jsxs("span",{className:"text-xs text-muted-foreground",children:["Trip #",e.id.slice(0,8)]})]}),e.vehicle_name&&an.jsx("p",{className:"text-sm font-medium",children:e.vehicle_name})]}),an.jsxs(Qt,{variant:t.variant,children:[e.performance_score||0,"% - ",t.label]})]}),an.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("span",{children:e.start_time?new Date(e.start_time).toLocaleDateString():"N/A"})]}),an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(yr,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("span",{children:e.duration||"N/A"})]})]}),an.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[an.jsx(br,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),an.jsxs("div",{className:"flex-1 space-y-1",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx("span",{className:"font-medium",children:"From:"}),an.jsx("span",{className:"text-muted-foreground truncate",children:e.start_location||"Unknown"})]}),an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx("span",{className:"font-medium",children:"To:"}),an.jsx("span",{className:"text-muted-foreground truncate",children:e.end_location||"Unknown"})]})]})]}),an.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-3 border-t",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Distance"}),an.jsx("p",{className:"font-medium",children:e.distance?`${e.distance.toFixed(1)} mi`:"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Speed"}),an.jsx("p",{className:"font-medium",children:e.avg_speed?`${e.avg_speed.toFixed(0)} mph`:"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Fuel"}),an.jsx("p",{className:"font-medium",children:e.fuel_used?`${e.fuel_used.toFixed(1)} gal`:"N/A"})]})]}),e.incidents&&e.incidents.length>0&&an.jsxs("div",{className:"pt-3 border-t",children:[an.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[an.jsx(gn,{className:"h-4 w-4 text-destructive"}),an.jsxs("span",{className:"text-sm font-medium text-destructive",children:[e.incidents.length," Incident",1!==e.incidents.length?"s":""]})]}),an.jsx("ul",{className:"space-y-2",children:e.incidents.map((e,t)=>an.jsxs("li",{className:"text-xs p-2 rounded bg-destructive/10 flex items-start gap-2",children:[an.jsx(gn,{className:"h-3 w-3 text-destructive mt-0.5 flex-shrink-0"}),an.jsxs("div",{className:"flex-1",children:[an.jsx("p",{className:"font-medium",children:e.type}),e.severity&&an.jsxs("p",{className:"text-muted-foreground",children:["Severity: ",e.severity]}),e.timestamp&&an.jsx("p",{className:"text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t))})]}),e.highlights&&e.highlights.length>0&&an.jsxs("div",{className:"pt-3 border-t",children:[an.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[an.jsx(xr,{className:"h-4 w-4 text-green-600"}),an.jsx("span",{className:"text-sm font-medium",children:"Highlights"})]}),an.jsx("ul",{className:"space-y-1",children:e.highlights.map((e,t)=>an.jsxs("li",{className:"text-xs flex items-center gap-2 text-green-600",children:[an.jsx(hr,{className:"h-3 w-3 flex-shrink-0"}),an.jsx("span",{children:e})]},t))})]}),e.start_time&&an.jsx("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:To(new Date(e.start_time),{addSuffix:!0})})]})})},e.id)})})]})})}function Ds({facilityId:e}){const{push:t}=rt(),{data:s,error:a,isLoading:n,mutate:r}=uf(`/api/facilities/${e}`,gf),i=s?.capacity?Math.round(s.current_vehicles/s.capacity*100):0;return an.jsx(Xt,{loading:n,error:a,onRetry:()=>r(),children:s&&an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"flex items-start justify-between",children:[an.jsxs("div",{className:"space-y-1",children:[an.jsx("h3",{className:"text-2xl font-bold",children:s.name}),an.jsx("p",{className:"text-sm text-muted-foreground",children:s.type||"Facility"}),an.jsx("div",{className:"flex items-center gap-2 mt-2",children:an.jsx(Qt,{variant:"default",children:s.status})})]}),an.jsx(jr,{className:"h-12 w-12 text-muted-foreground"})]}),an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(wr,{className:"h-4 w-4"}),"Vehicles"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"text-2xl font-bold",children:[s.current_vehicles||0," / ",s.capacity||0]}),an.jsx(ms,{value:i,className:"mt-2"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(Nr,{className:"h-4 w-4"}),"Utilization"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"text-2xl font-bold",children:[i,"%"]}),an.jsx(ms,{value:i,className:"mt-2"})]})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Facility Information"})}),an.jsxs(ht,{className:"space-y-3",children:[an.jsxs("div",{className:"flex items-start gap-2",children:[an.jsx(br,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm font-medium",children:"Address"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:s.address||"N/A"})]})]}),s.phone&&an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(mr,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("p",{className:"text-sm",children:s.phone})]}),s.manager&&an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"}),an.jsxs("p",{className:"text-sm",children:["Manager: ",s.manager]})]})]})]}),s.stats&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(pr,{className:"h-5 w-5"}),"Statistics"]})}),an.jsxs(ht,{className:"grid grid-cols-2 gap-4",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Vehicles"}),an.jsx("p",{className:"text-xl font-bold",children:s.stats.active_vehicles||0})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"In Maintenance"}),an.jsx("p",{className:"text-xl font-bold",children:s.stats.in_maintenance||0})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Available"}),an.jsx("p",{className:"text-xl font-bold",children:s.stats.available||0})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Out of Service"}),an.jsx("p",{className:"text-xl font-bold",children:s.stats.out_of_service||0})]})]})]}),an.jsxs(Mh,{onClick:()=>{t({id:`facility-vehicles-${e}`,type:"facility-vehicles",label:"Facility Vehicles",data:{facilityId:e,facilityName:s?.name}})},className:"w-full",children:[an.jsx(wr,{className:"h-4 w-4 mr-2"}),"View All Vehicles"]})]})})}function Is({facilityId:e,facilityName:t}){const{data:s,error:a,isLoading:n,mutate:r}=uf(`/api/facilities/${e}/vehicles`,xf);return an.jsx(Xt,{loading:n,error:a,onRetry:()=>r(),children:s&&an.jsxs("div",{className:"space-y-4",children:[an.jsxs("div",{children:[an.jsxs("h3",{className:"text-lg font-semibold",children:["Vehicles ",t&&`at ${t}`]}),an.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s.length," vehicle",1!==s.length?"s":""]})]}),0===s.length?an.jsx(ct,{children:an.jsxs(ht,{className:"py-12 text-center",children:[an.jsx(wr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:"No vehicles at this facility"})]})}):an.jsx("div",{className:"space-y-3",children:s.map(e=>an.jsx(ct,{children:an.jsx(ht,{className:"p-4",children:an.jsxs("div",{className:"space-y-3",children:[an.jsxs("div",{className:"flex items-start justify-between",children:[an.jsxs("div",{children:[an.jsx("p",{className:"font-medium",children:e.name}),an.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.year," ",e.make," ",e.model]})]}),an.jsx(Qt,{variant:"outline",children:e.status})]}),an.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[an.jsxs("div",{children:[an.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[an.jsx(_r,{className:"h-3 w-3"}),an.jsx("span",{children:"Mileage"})]}),an.jsxs("p",{className:"text-sm font-medium",children:[e.mileage?.toLocaleString()??"0"," mi"]})]}),an.jsxs("div",{children:[an.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[an.jsx(On,{className:"h-3 w-3"}),an.jsx("span",{children:"Fuel"})]}),an.jsxs("p",{className:"text-sm font-medium",children:[e.fuel_level??0,"%"]})]}),an.jsxs("div",{children:[an.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[an.jsx(pr,{className:"h-3 w-3"}),an.jsx("span",{children:"Health"})]}),an.jsxs("p",{className:"text-sm font-medium",children:[e.health_score??0,"%"]})]})]}),e.assigned_to&&an.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Assigned to: ",e.assigned_to]})]})})},e.id))})]})})}function Ps(e=50){const t=[],s=[{make:"Honda",models:["Accord","Civic","CR-V"]},{make:"Toyota",models:["Camry","Corolla","RAV4","Highlander"]},{make:"Ford",models:["F-150","Explorer","Transit","Escape"]},{make:"Chevrolet",models:["Silverado","Tahoe","Malibu","Equinox"]},{make:"Tesla",models:["Model 3","Model Y","Semi"]},{make:"Nissan",models:["Altima","Rogue","Leaf"]},{make:"Ram",models:["1500","2500","ProMaster"]},{make:"Mercedes",models:["Sprinter","Metris"]},{make:"Caterpillar",models:["320 Excavator","966 Loader","D6 Dozer"]},{make:"John Deere",models:["4066R Tractor","310SL Backhoe","324G Loader"]},{make:"Freightliner",models:["Cascadia","M2 106","Columbia"]}],a=["Operations","Logistics","Field Services","Maintenance","Executive","Construction"],n=["North Florida","Central Florida","Tallahassee Metro","Capital District","Panhandle"],r=["Oil Change Due","Tire Pressure Low","Inspection Required","Brake Service Soon","Filter Replacement"],i=["Priority Fleet","Heavy Duty","City Routes","Long Haul","Training Vehicle","EV Fleet"];for(let o=0;e>o;o++){const e=vf[Math.floor(o/10)%vf.length],l=yf[o%yf.length],c=s[o%s.length],d=c.models[Math.floor(Math.random()*c.models.length)],u="Caterpillar"===c.make||"John Deere"===c.make,m=d.includes("Trailer"),h="truck"===l||"Freightliner"===c.make,p=[.4,.3,.1,.1,.05,.05],f=Math.random();let g="active",x=0;for(let t=0;p.length>t;t++)if(x+=p[t],x>f){g=bf[t];break}e.name.substring(0,3).toUpperCase();const v=`TAL-${1001+o}`,y=Math.floor(8e4*Math.random()+1e4),b=u?Math.floor(5e3*Math.random()+500):void 0;t.push({id:`veh-${Math.random().toString(36).substr(2,6)}`,tenantId:"demo-tenant-001",name:`${c.make} ${d}`,number:v,type:u?"construction":m?"trailer":l,make:c.make,model:d,year:2018+o%7,vin:`1HGBH${Math.random().toString(36).substr(2,12).toUpperCase()}`,licensePlate:`${String.fromCharCode(65+Math.floor(26*Math.random()))}${String.fromCharCode(65+Math.floor(26*Math.random()))}${Math.floor(1e4*Math.random())}`,status:g,location:{lat:e.lat+.1*(Math.random()-.5),lng:e.lng+.1*(Math.random()-.5),address:`${Math.floor(9e3*Math.random()+1e3)} ${["Main","Oak","Broadway","Park","5th","Monroe","Tennessee"][Math.floor(7*Math.random())]} St, ${e.name}, FL`},region:n[o%n.length],department:a[o%a.length],fuelLevel:"active"===g?Math.floor(40*Math.random()+40):Math.floor(100*Math.random()),fuelType:d.includes("Tesla")||d.includes("Leaf")?"electric":h?"diesel":"gasoline",mileage:y,hoursUsed:b,driver:"active"===g?`Driver ${Math.floor(o/3)+1}`:"",assignedDriver:"active"===g?"drv-demo-"+(2e3+o%30):"",ownership:["owned","leased","rented"][o%3],odometer:y,lastService:new Date(Date.now()-60*Math.random()*24*60*60*1e3).toISOString().split("T")[0],nextService:new Date(Date.now()+60*Math.random()*24*60*60*1e3).toISOString().split("T")[0],alerts:o%5==0?[r[Math.floor(Math.random()*r.length)]||""]:[],customFields:{costCenter:`CC-${1e3+Math.floor(o/10)}`,insurancePolicy:`POL-${1e5+o}`,purchaseDate:new Date(Date.now()-365*Math.random()*3*24*60*60*1e3).toISOString().split("T")[0],warrantyExpiry:new Date(Date.now()+365*Math.random()*2*24*60*60*1e3).toISOString().split("T")[0]},tags:[i[Math.floor(Math.random()*i.length)]||""],asset_category:u?"HEAVY_EQUIPMENT":h?"HEAVY_TRUCK":"PASSENGER_VEHICLE",asset_type:u?"EXCAVATOR":h?"BOX_TRUCK":"SEDAN",power_type:m?"TOWED":"SELF_POWERED",primary_metric:u?"ENGINE_HOURS":"ODOMETER",engine_hours:b,pto_hours:u?Math.floor(1e3*Math.random()):void 0,aux_hours:u?Math.floor(500*Math.random()):void 0,cycle_count:u?Math.floor(1e4*Math.random()):void 0,last_metric_update:(new Date).toISOString(),capacity_tons:u?Math.floor(30*Math.random()+10):void 0,max_reach_feet:u?Math.floor(40*Math.random()+20):void 0,lift_height_feet:u?Math.floor(30*Math.random()+15):void 0,bucket_capacity_yards:u?Math.floor(5*Math.random()+1):void 0,operating_weight_lbs:u?Math.floor(5e4*Math.random()+2e4):void 0,axle_count:m?Math.floor(3*Math.random()+2):void 0,max_payload_kg:m?Math.floor(2e4*Math.random()+5e3):void 0,tank_capacity_l:m?Math.floor(5e3*Math.random()+1e3):void 0,has_pto:u||h,has_aux_power:u,is_road_legal:!u,requires_cdl:h||u,requires_special_license:u,max_speed_kph:u?40:h?120:180,is_off_road_only:u,operational_status:"active"===g?"IN_USE":"service"===g?"MAINTENANCE":"AVAILABLE",parent_asset_id:void 0,group_id:`group-${Math.floor(o/10)}`,fleet_id:"fleet-main-001",location_id:`loc-${Math.floor(o/20)}`})}return t}function Ls(e=30){const t=[],s=["James","Maria","David","Jennifer","Michael","Sarah","Robert","Emily","John","Lisa"],a=["Thompson","Rodriguez","Anderson","Taylor","Chen","Williams","Martinez","Brown","Garcia","Wilson"],n=["Operations","Logistics","Field Services","Transportation","Maintenance"],r=["CDL Class A","CDL Class B","Standard","CDL Class C","Passenger"],i=[["HAZMAT","Tanker"],["Doubles/Triples","HAZMAT"],["Passenger","School Bus"],["Tanker"],["HAZMAT","Doubles/Triples","Tanker"],[]];for(let o=0;e>o;o++){const e=s[o%s.length]||"Unknown",l=a[Math.floor(o/s.length)%a.length]||"Unknown";t.push({id:`drv-demo-${2e3+o}`,tenantId:"demo-tenant-001",employeeId:`EMP-${String(1001+o).padStart(4,"0")}`,name:`${e} ${l}`,email:`${e.toLowerCase()}${o>9?o-9:""}@demofleet.com`,phone:`(555) ${Math.floor(900*Math.random()+100)}-${Math.floor(9e3*Math.random()+1e3)}`,department:n[o%n.length]||"Operations",licenseType:r[o%r.length]||"Standard",licenseExpiry:new Date(Date.now()+24*(365*Math.random()+365)*60*60*1e3).toISOString().split("T")[0],status:20>o?"active":"off-duty",safetyScore:Math.floor(20*Math.random()+80),certifications:i[o%i.length]||[]})}return t}function Ms(e=30){const t=[],s=["completed","in-progress","pending","cancelled"],a=["low","medium","high","urgent"],n=["Oil Change","Tire Rotation","Brake Inspection","Transmission Repair","Engine Service","DOT Inspection","Battery Replacement"];for(let r=0;e>r;r++){const e=s[Math.floor(r/7.5)]||"pending",i=n[r%n.length]||"Oil Change",o=new Date(Date.now()-30*Math.random()*24*60*60*1e3),l=new Date(o.getTime()+14*Math.random()*24*60*60*1e3),c="completed"===e?new Date(l.getTime()+7*Math.random()*24*60*60*1e3):void 0;t.push({id:`WO-2024-${String(r+1).padStart(3,"0")}`,tenantId:"demo-tenant-001",vehicleId:"veh-demo-"+(1e3+r%50),vehicleNumber:"VEH-"+(1e3+r%50),serviceType:i,description:`${i} for vehicle maintenance`,status:e,priority:a[Math.floor(Math.random()*a.length)]||"medium",assignedTo:"pending"!==e?"Technician "+(r%5+1):"",createdDate:o.toISOString().split("T")[0],dueDate:l.toISOString().split("T")[0],completedDate:c?.toISOString().split("T")[0],estimatedCost:Math.floor(800*Math.random()+200),createdBy:"System"})}return t}function Fs({label:e,value:t,trend:s,icon:a}){return an.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-0",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[a&&an.jsx(a,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("span",{className:"text-sm text-muted-foreground",children:e})]}),an.jsxs("div",{className:"flex items-center gap-1",children:[an.jsx("span",{className:"font-semibold",children:t}),"up"===s&&an.jsx(hr,{className:"h-4 w-4 text-emerald-500"}),"down"===s&&an.jsx(Sr,{className:"h-4 w-4 text-red-500"})]})]})}function $s(){const{push:e}=rt(),t=Ps(100),s={active:t.filter(e=>"active"===e.status),idle:t.filter(e=>"idle"===e.status),charging:t.filter(e=>"charging"===e.status),service:t.filter(e=>"service"===e.status),emergency:t.filter(e=>"emergency"===e.status),offline:t.filter(e=>"offline"===e.status)},a={sedan:t.filter(e=>"sedan"===e.type),suv:t.filter(e=>"suv"===e.type),truck:t.filter(e=>"truck"===e.type),van:t.filter(e=>"van"===e.type)};return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsx(ct,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:an.jsxs(ht,{className:"pt-4",children:[an.jsx("div",{className:"text-3xl font-bold text-blue-700",children:t.length}),an.jsx("div",{className:"text-sm text-blue-600",children:"Total Fleet Size"})]})}),an.jsx(ct,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200",children:an.jsxs(ht,{className:"pt-4",children:[an.jsxs("div",{className:"text-3xl font-bold text-emerald-700",children:[Math.round(s.active.length/t.length*100),"%"]}),an.jsx("div",{className:"text-sm text-emerald-600",children:"Utilization Rate"})]})})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"text-base flex items-center gap-2",children:[an.jsx(pr,{className:"h-4 w-4"})," Status Breakdown"]})}),an.jsx(ht,{className:"space-y-3",children:Object.entries(s).map(([s,a])=>an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx("div",{className:"w-20 text-sm capitalize text-muted-foreground",children:s}),an.jsx("div",{className:"flex-1",children:an.jsx(ms,{value:a.length/t.length*100,className:"h-2"})}),an.jsxs(Mh,{variant:"ghost",size:"sm",onClick:()=>e({id:`status-${s}`,type:"vehicle-list",label:`${s.charAt(0).toUpperCase()+s.slice(1)} Vehicles (${a.length})`,data:{vehicles:a,filter:s}}),children:[a.length," →"]})]},s))})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"text-base flex items-center gap-2",children:[an.jsx(_n,{className:"h-4 w-4"})," Fleet by Type"]})}),an.jsx(ht,{children:an.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(a).map(([t,s])=>an.jsxs(Mh,{variant:"outline",className:"h-auto py-3 flex-col items-start",onClick:()=>e({id:`type-${t}`,type:"vehicle-list",label:`${t.charAt(0).toUpperCase()+t.slice(1)} Vehicles`,data:{vehicles:s,filter:t}}),children:[an.jsx("span",{className:"text-lg font-bold",children:s.length}),an.jsxs("span",{className:"text-xs text-muted-foreground capitalize",children:[t,"s"]})]},t))})})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{className:"text-base",children:"Fleet Metrics"})}),an.jsxs(ht,{children:[an.jsx(Fs,{label:"Avg. Mileage",value:`${Math.round(t.reduce((e,t)=>e+t.mileage,0)/t.length).toLocaleString()} mi`,icon:_r}),an.jsx(Fs,{label:"Avg. Fuel Level",value:`${Math.round(t.reduce((e,t)=>e+t.fuelLevel,0)/t.length)}%`,icon:On}),an.jsx(Fs,{label:"Vehicles Due Service",value:t.filter(e=>e.alerts.length>0).length,icon:Tn}),an.jsx(Fs,{label:"Electric Vehicles",value:t.filter(e=>"electric"===e.fuelType).length,icon:vr})]})]})]})}function zs(){const{push:e}=rt(),t=Ps(100).filter(e=>"active"===e.status);return an.jsxs("div",{className:"space-y-4",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsxs(Qt,{variant:"secondary",className:"bg-emerald-100 text-emerald-700",children:[t.length," Active Vehicles"]}),an.jsx("span",{className:"text-sm text-muted-foreground",children:"Real-time status"})]}),an.jsx("div",{className:"space-y-2",children:t.slice(0,20).map(t=>an.jsx(ct,{className:"cursor-pointer hover:bg-accent transition-colors",onClick:()=>e({id:t.id,type:"vehicle",label:t.number,data:{vehicleId:t.id}}),children:an.jsxs(ht,{className:"p-4",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center",children:an.jsx(_n,{className:"h-5 w-5 text-emerald-600"})}),an.jsxs("div",{children:[an.jsx("div",{className:"font-semibold",children:t.number}),an.jsx("div",{className:"text-sm text-muted-foreground",children:t.name})]})]}),an.jsxs("div",{className:"text-right",children:[an.jsx("div",{className:"text-sm font-medium",children:t.driver?.split(" ").pop()||"N/A"}),an.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[an.jsx(br,{className:"h-3 w-3"}),t.location.address.split(",")[1]?.trim()||"On Route"]})]})]}),an.jsxs("div",{className:"mt-2 flex gap-4 text-xs text-muted-foreground",children:[an.jsxs("span",{children:["Fuel: ",t.fuelLevel,"%"]}),an.jsx("span",{children:"|"}),an.jsxs("span",{children:[t.mileage.toLocaleString()," mi"]})]})]})},t.id))}),t.length>20&&an.jsxs("div",{className:"text-center text-sm text-muted-foreground py-4",children:["Showing 20 of ",t.length," active vehicles"]})]})}function Vs(){rt();const e=Ms(75),t={overdue:e.filter(e=>e.dueDate&&new Date(e.dueDate)<new Date&&"completed"!==e.status&&"cancelled"!==e.status),inProgress:e.filter(e=>"in-progress"===e.status),scheduled:e.filter(e=>e.dueDate&&new Date(e.dueDate)>=new Date&&"pending"===e.status),completed:e.filter(e=>"completed"===e.status)},s={urgent:e.filter(e=>"urgent"===e.priority),high:e.filter(e=>"high"===e.priority),medium:e.filter(e=>"medium"===e.priority),low:e.filter(e=>"low"===e.priority)};return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsx(ct,{className:"border-red-200 bg-red-50",children:an.jsx(ht,{className:"pt-4 pb-3",children:an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Fn,{className:"h-5 w-5 text-red-500"}),an.jsxs("div",{children:[an.jsx("div",{className:"text-2xl font-bold text-red-700",children:t.overdue.length}),an.jsx("div",{className:"text-xs text-red-600",children:"Overdue"})]})]})})}),an.jsx(ct,{className:"border-amber-200 bg-amber-50",children:an.jsx(ht,{className:"pt-4 pb-3",children:an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Tn,{className:"h-5 w-5 text-amber-500"}),an.jsxs("div",{children:[an.jsx("div",{className:"text-2xl font-bold text-amber-700",children:t.inProgress.length}),an.jsx("div",{className:"text-xs text-amber-600",children:"In Progress"})]})]})})}),an.jsx(ct,{className:"border-blue-200 bg-blue-50",children:an.jsx(ht,{className:"pt-4 pb-3",children:an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Cn,{className:"h-5 w-5 text-blue-500"}),an.jsxs("div",{children:[an.jsx("div",{className:"text-2xl font-bold text-blue-700",children:t.scheduled.length}),an.jsx("div",{className:"text-xs text-blue-600",children:"Scheduled"})]})]})})}),an.jsx(ct,{className:"border-emerald-200 bg-emerald-50",children:an.jsx(ht,{className:"pt-4 pb-3",children:an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(xr,{className:"h-5 w-5 text-emerald-500"}),an.jsxs("div",{children:[an.jsx("div",{className:"text-2xl font-bold text-emerald-700",children:t.completed.length}),an.jsx("div",{className:"text-xs text-emerald-600",children:"Completed"})]})]})})})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{className:"text-base",children:"By Priority"})}),an.jsx(ht,{className:"space-y-2",children:Object.entries(s).map(([e,t])=>an.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[an.jsx(Qt,{variant:"urgent"===e?"destructive":"high"===e?"default":"secondary",children:e.toUpperCase()}),an.jsx("span",{className:"font-semibold",children:t.length})]},e))})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{className:"text-base",children:"Recent Work Orders"})}),an.jsx(ht,{children:an.jsx("div",{className:"space-y-2",children:e.slice(0,10).map(e=>an.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[an.jsxs("div",{children:[an.jsx("div",{className:"font-medium",children:e.title}),an.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.vehicleId," • Due: ",e.dueDate||"N/A"]})]}),an.jsx(Qt,{variant:"urgent"===e.priority?"destructive":"secondary",children:e.status})]},e.id))})})]})]})}function Us(){return an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(On,{className:"h-5 w-5"})," Fuel Statistics"]})}),an.jsx(ht,{className:"text-muted-foreground",children:"Detailed fuel statistics will be displayed here"})]})}function Hs(){return an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(kn,{className:"h-5 w-5"})," Performance Metrics"]})}),an.jsx(ht,{className:"text-muted-foreground",children:"Performance metrics will be displayed here"})]})}function Bs(){return an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(Sn,{className:"h-5 w-5"})," Driver Statistics"]})}),an.jsx(ht,{className:"text-muted-foreground",children:"Driver statistics will be displayed here"})]})}function qs(){return an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(pr,{className:"h-5 w-5"})," Utilization Details"]})}),an.jsx(ht,{className:"text-muted-foreground",children:"Utilization details will be displayed here"})]})}function Ws(){return an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(Fn,{className:"h-5 w-5"})," Safety Score Details"]})}),an.jsx(ht,{className:"text-muted-foreground",children:"Safety score details will be displayed here"})]})}function Ks(){return an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(_n,{className:"h-5 w-5"})," Vehicle List"]})}),an.jsx(ht,{className:"text-muted-foreground",children:"Vehicle list will be displayed here"})]})}function Gs(){const{push:e}=rt(),t=Ls(48),s=t.filter(e=>"active"===e.status),a=t.filter(e=>"off-duty"===e.status),n=t.filter(e=>"on-leave"===e.status);return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-3xl font-bold text-white",children:t.length}),an.jsx("div",{className:"text-sm text-slate-400",children:"Total Drivers"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:s.length}),an.jsx("div",{className:"text-sm text-slate-400",children:"On Duty"})]})}),an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-3xl font-bold text-amber-400",children:a.length}),an.jsx("div",{className:"text-sm text-slate-400",children:"Off Duty"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx("div",{className:"text-3xl font-bold text-slate-300",children:n.length}),an.jsx("div",{className:"text-sm text-slate-400",children:"On Leave"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Driver Roster"})}),an.jsx(ht,{className:"space-y-2",children:t.slice(0,10).map(t=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg cursor-pointer hover:bg-slate-800/50 transition-colors",onClick:()=>e({type:"driver",data:t}),children:[an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx("div",{className:"p-2 rounded-full "+("active"===t.status?"bg-emerald-500/20":"off-duty"===t.status?"bg-amber-500/20":"bg-slate-500/20"),children:an.jsx(Or,{className:"w-4 h-4 "+("active"===t.status?"text-emerald-400":"off-duty"===t.status?"text-amber-400":"text-slate-400"),weight:"fill"})}),an.jsxs("div",{children:[an.jsxs("div",{className:"font-medium text-white",children:[t.firstName??"Unknown"," ",t.lastName??"Driver"]}),an.jsx("div",{className:"text-xs text-slate-400",children:t.licenseNumber??"N/A"})]})]}),an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Qt,{variant:"outline",className:"active"===t.status?"border-emerald-500 text-emerald-400":"off-duty"===t.status?"border-amber-500 text-amber-400":"border-slate-500 text-slate-400",children:t.status}),an.jsx(Ar,{className:"w-4 h-4 text-slate-500"})]})]},t.id))})]})]})}function Js(){const{push:e}=rt(),t=Ls(48),s=t.filter(e=>(e.safetyScore||0)>=90),a=t.filter(e=>(e.safetyScore||0)>=75&&90>(e.safetyScore||0)),n=t.filter(e=>(e.safetyScore||0)>=60&&75>(e.safetyScore||0)),r=t.filter(e=>60>(e.safetyScore||0));return an.jsxs("div",{className:"space-y-6",children:[an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsxs(ut,{className:"text-white text-lg flex items-center gap-2",children:[an.jsx(cn,{className:"w-5 h-5 text-blue-400"}),"Performance Distribution"]})}),an.jsxs(ht,{className:"space-y-4",children:[an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-emerald-400",children:"Top Performers (90+)"}),an.jsx("span",{className:"text-white",children:s.length})]}),an.jsx(ms,{value:s.length/t.length*100,className:"h-2 bg-slate-700",children:an.jsx("div",{className:"h-full bg-emerald-500 transition-all",style:{width:s.length/t.length*100+"%"}})})]}),an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-blue-400",children:"Meeting Target (75-89)"}),an.jsx("span",{className:"text-white",children:a.length})]}),an.jsx(ms,{value:a.length/t.length*100,className:"h-2 bg-slate-700",children:an.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:a.length/t.length*100+"%"}})})]}),an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-amber-400",children:"Needs Coaching (60-74)"}),an.jsx("span",{className:"text-white",children:n.length})]}),an.jsx(ms,{value:n.length/t.length*100,className:"h-2 bg-slate-700",children:an.jsx("div",{className:"h-full bg-amber-500 transition-all",style:{width:n.length/t.length*100+"%"}})})]}),an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex justify-between text-sm",children:[an.jsx("span",{className:"text-red-400",children:"Needs Improvement (<60)"}),an.jsx("span",{className:"text-white",children:r.length})]}),an.jsx(ms,{value:r.length/t.length*100,className:"h-2 bg-slate-700",children:an.jsx("div",{className:"h-full bg-red-500 transition-all",style:{width:r.length/t.length*100+"%"}})})]})]})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsxs(ut,{className:"text-white text-lg flex items-center gap-2",children:[an.jsx(Rr,{className:"w-5 h-5 text-amber-400",weight:"fill"}),"Top Performers"]})}),an.jsx(ht,{className:"space-y-2",children:s.slice(0,5).map((t,s)=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg cursor-pointer hover:bg-slate-800/50 transition-colors",onClick:()=>e({type:"driver",data:t}),children:[an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white font-bold text-sm",children:s+1}),an.jsxs("div",{children:[an.jsxs("div",{className:"font-medium text-white",children:[t.firstName??"Unknown"," ",t.lastName??"Driver"]}),an.jsxs("div",{className:"text-xs text-slate-400",children:["Safety Score: ",t.safetyScore??0]})]})]}),an.jsx(Cr,{className:"w-5 h-5 text-amber-400",weight:"fill"})]},t.id))})]})]})}function Ys(){const e=Ls(48),t=Math.round(e.reduce((e,t)=>e+(t.safetyScore||85),0)/e.length),s=Math.max(...e.map(e=>e.safetyScore||85));return an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsx(ct,{className:"bg-blue-900/30 border-blue-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(Cr,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),an.jsx("div",{className:"text-3xl font-bold text-white",children:t}),an.jsx("div",{className:"text-sm text-slate-400",children:"Fleet Average"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(Rr,{className:"w-6 h-6 text-amber-400 mx-auto mb-2",weight:"fill"}),an.jsx("div",{className:"text-3xl font-bold text-white",children:s}),an.jsx("div",{className:"text-sm text-slate-400",children:"Highest Score"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Score Components"})}),an.jsx(ht,{className:"space-y-4",children:[{label:"Safe Driving",score:94,icon:dn},{label:"Fuel Efficiency",score:88,icon:Tr},{label:"On-Time Performance",score:91,icon:cr},{label:"Customer Ratings",score:87,icon:Rr},{label:"Compliance",score:96,icon:Qn}].map(e=>an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex items-center justify-between text-sm",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(e.icon,{className:"w-4 h-4 text-slate-400"}),an.jsx("span",{className:"text-slate-300",children:e.label})]}),an.jsxs("span",{className:"text-white font-medium",children:[e.score,"%"]})]}),an.jsx(ms,{value:e.score,className:"h-1.5 bg-slate-700"})]},e.label))})]})]})}function Xs(){const{push:e}=rt(),t=Ms(24),s=t.filter(e=>"in-progress"===e.status),a=t.filter(e=>"pending"===e.status),n=t.filter(e=>"completed"===e.status);return an.jsxs("div",{className:"space-y-6",children:[an.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4,5,6,7,8].map(e=>{const t=5>=e;return an.jsx(ct,{className:t?"bg-blue-900/30 border-blue-700/50":"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-3 text-center",children:[an.jsxs("div",{className:"text-lg font-bold "+(t?"text-blue-400":"text-slate-500"),children:["Bay ",e]}),an.jsx("div",{className:"text-xs text-slate-400",children:t?"In Use":"Open"})]})},e)})}),an.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[an.jsx(ct,{className:"bg-amber-900/30 border-amber-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(on,{className:"w-6 h-6 text-amber-400 mx-auto mb-2"}),an.jsx("div",{className:"text-3xl font-bold text-amber-400",children:s.length}),an.jsx("div",{className:"text-sm text-slate-400",children:"In Progress"})]})}),an.jsx(ct,{className:"bg-slate-800/50 border-slate-700",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(un,{className:"w-6 h-6 text-slate-400 mx-auto mb-2"}),an.jsx("div",{className:"text-3xl font-bold text-slate-300",children:a.length}),an.jsx("div",{className:"text-sm text-slate-400",children:"Pending"})]})}),an.jsx(ct,{className:"bg-emerald-900/30 border-emerald-700/50",children:an.jsxs(ht,{className:"p-4 text-center",children:[an.jsx(Qn,{className:"w-6 h-6 text-emerald-400 mx-auto mb-2"}),an.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:n.length}),an.jsx("div",{className:"text-sm text-slate-400",children:"Completed"})]})})]}),an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{className:"pb-2",children:an.jsx(ut,{className:"text-white text-lg",children:"Active Work Orders"})}),an.jsx(ht,{className:"space-y-2",children:t.slice(0,8).map(t=>an.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg cursor-pointer hover:bg-slate-800/50 transition-colors",onClick:()=>e({type:"workorder",data:t}),children:[an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx("div",{className:"p-2 rounded-full "+("in-progress"===t.status?"bg-amber-500/20":"pending"===t.status?"bg-slate-500/20":"bg-emerald-500/20"),children:an.jsx(on,{className:"w-4 h-4 "+("in-progress"===t.status?"text-amber-400":"pending"===t.status?"text-slate-400":"text-emerald-400"),weight:"fill"})}),an.jsxs("div",{children:[an.jsxs("div",{className:"font-medium text-white",children:["WO-",t.workOrderNumber??"N/A"]}),an.jsx("div",{className:"text-xs text-slate-400",children:t.status})]})]}),an.jsx(Ar,{className:"w-4 h-4 text-slate-500"})]},t.id))})]})]})}function Qs(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsxs(ut,{className:"text-white flex items-center gap-2",children:[an.jsx(on,{className:"w-5 h-5",weight:"fill"})," Predictive Maintenance"]})}),an.jsx(ht,{className:"text-slate-400",children:"Predictive maintenance insights will be displayed here"})]})}function Zs(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsxs(ut,{className:"text-white flex items-center gap-2",children:[an.jsx(kr,{className:"w-5 h-5",weight:"fill"})," Maintenance Calendar"]})}),an.jsx(ht,{className:"text-slate-400",children:"Maintenance calendar will be displayed here"})]})}function ea(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsxs(ut,{className:"text-white flex items-center gap-2",children:[an.jsx(cn,{className:"w-5 w-5",weight:"fill"})," Executive Dashboard"]})}),an.jsx(ht,{className:"text-slate-400",children:"Executive dashboard metrics will be displayed here"})]})}function ta(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsxs(ut,{className:"text-white flex items-center gap-2",children:[an.jsx(Er,{className:"w-5 h-5",weight:"fill"})," Cost Analysis"]})}),an.jsx(ht,{className:"text-slate-400",children:"Cost analysis details will be displayed here"})]})}function sa(){return an.jsxs(ct,{className:"bg-slate-800/50 border-slate-700",children:[an.jsx(dt,{children:an.jsxs(ut,{className:"text-white flex items-center gap-2",children:[an.jsx(Tr,{className:"w-5 h-5",weight:"fill"})," Fleet Optimizer"]})}),an.jsx(ht,{className:"text-slate-400",children:"Fleet optimization recommendations will be displayed here"})]})}function aa({workOrderId:e,workOrderNumber:t}){const{data:s,error:a,isLoading:n,mutate:r}=uf(`/api/work-orders/${e}/labor`,jf),i=s?.reduce((e,t)=>e+(t.hours||0),0)||0,o=s?.reduce((e,t)=>e+(t.hours*t.rate||0),0)||0;return an.jsx(Xt,{loading:n,error:a,onRetry:()=>r(),children:s&&an.jsxs("div",{className:"space-y-4",children:[an.jsxs("div",{children:[an.jsxs("h3",{className:"text-lg font-semibold",children:["Labor Details ",t&&`for WO #${t}`]}),an.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s.length," technician",1!==s.length?"s":""," • ",i.toFixed(1)," hrs • $",o.toFixed(2)]})]}),0===s.length?an.jsx(ct,{children:an.jsxs(ht,{className:"py-12 text-center",children:[an.jsx(Sn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:"No labor entries recorded"})]})}):an.jsx("div",{className:"space-y-3",children:s.map(e=>{return an.jsx(ct,{children:an.jsx(ht,{className:"p-4",children:an.jsxs("div",{className:"space-y-3",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsxs(Ns,{children:[an.jsx(_s,{src:e.technician_avatar,alt:e.technician_name}),an.jsx(Ss,{children:(t=e.technician_name,t.split(" ").map(e=>e[0]).join("").toUpperCase())})]}),an.jsxs("div",{children:[an.jsx("p",{className:"font-medium",children:e.technician_name}),an.jsx("p",{className:"text-sm text-muted-foreground",children:e.role||"Technician"})]})]}),e.certified&&an.jsx(Qt,{variant:"default",children:"Certified"})]}),e.task_description&&an.jsx("p",{className:"text-sm text-muted-foreground pl-12",children:e.task_description}),an.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2 border-t",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Hours"}),an.jsx("p",{className:"font-medium",children:e.hours?.toFixed(1)||"0.0"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Rate"}),an.jsxs("p",{className:"font-medium",children:["$",e.rate?.toFixed(2)||"0.00","/hr"]})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"}),an.jsxs("p",{className:"font-medium text-primary",children:["$",(e.hours*e.rate||0).toFixed(2)]})]})]}),e.date&&an.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground pt-2 border-t",children:[an.jsx(Cn,{className:"h-3 w-3"}),an.jsx("span",{children:new Date(e.date).toLocaleDateString()})]})]})})},e.id);var t})}),an.jsx(ct,{children:an.jsx(ht,{className:"p-4",children:an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Total Hours"}),an.jsxs("span",{className:"font-semibold",children:[i.toFixed(1)," hrs"]})]}),an.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[an.jsx("span",{className:"font-semibold",children:"Total Labor Cost"}),an.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",o.toFixed(2)]})]})]})})})]})})}function na({workOrderId:e,workOrderNumber:t}){const{push:s}=rt(),{data:a,error:n,isLoading:r,mutate:i}=uf(`/api/work-orders/${e}/parts`,wf),o=a?.reduce((e,t)=>e+(t.quantity*t.unit_cost||0),0)||0;return an.jsx(Xt,{loading:r,error:n,onRetry:()=>i(),children:a&&an.jsxs("div",{className:"space-y-4",children:[an.jsxs("div",{children:[an.jsxs("h3",{className:"text-lg font-semibold",children:["Parts Breakdown ",t&&`for WO #${t}`]}),an.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.length," item",1!==a.length?"s":""," • Total: $",o.toFixed(2)]})]}),0===a.length?an.jsx(ct,{children:an.jsxs(ht,{className:"py-12 text-center",children:[an.jsx(Dr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:"No parts recorded"})]})}):an.jsx("div",{className:"space-y-3",children:a.map(e=>an.jsx(ct,{className:"hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>(e=>{s({id:`part-history-${e.id}`,type:"part-history",label:e.name,data:{partId:e.id,part:e}})})(e),children:an.jsx(ht,{className:"p-4",children:an.jsx("div",{className:"flex items-start justify-between",children:an.jsxs("div",{className:"flex-1 space-y-3",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Dr,{className:"h-5 w-5 text-muted-foreground"}),an.jsx("span",{className:"font-medium",children:e.name})]}),an.jsx(Ir,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"})]}),e.part_number&&an.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[an.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("span",{className:"text-muted-foreground",children:e.part_number})]}),an.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2 border-t",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantity"}),an.jsx("p",{className:"font-medium",children:e.quantity})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Unit Cost"}),an.jsxs("p",{className:"font-medium",children:["$",e.unit_cost?.toFixed(2)||"0.00"]})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"}),an.jsxs("p",{className:"font-medium text-primary",children:["$",(e.quantity*e.unit_cost||0).toFixed(2)]})]})]}),e.supplier&&an.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Supplier: ",e.supplier]})]})})})},e.id))}),an.jsx(ct,{children:an.jsx(ht,{className:"p-4",children:an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"font-semibold",children:"Total Parts Cost"}),an.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",o.toFixed(2)]})]})})})]})})}function ra({tripId:e,trip:t}){const[s,a]=sn.useState("overview"),{data:n,error:r,isLoading:i,mutate:o}=uf(`/api/trips/${e}/telemetry`,Nf);return an.jsx(Xt,{loading:i,error:r,onRetry:()=>o(),children:n&&an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{children:[an.jsx("h3",{className:"text-lg font-semibold",children:"Trip Telemetry"}),an.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Detailed data for trip #",e.slice(0,8)]})]}),an.jsxs(Es,{value:s,onValueChange:a,children:[an.jsxs(ks,{className:"grid w-full grid-cols-4",children:[an.jsx(As,{value:"overview",children:"Overview"}),an.jsx(As,{value:"gps",children:"GPS"}),an.jsx(As,{value:"performance",children:"Performance"}),an.jsx(As,{value:"fuel",children:"Fuel"})]}),an.jsxs(Cs,{value:"overview",className:"space-y-4",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(br,{className:"h-4 w-4"}),"GPS Points"]})}),an.jsxs(ht,{children:[an.jsx("div",{className:"text-2xl font-bold",children:n.gps_points?.length||0}),an.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recorded locations"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(yr,{className:"h-4 w-4"}),"Duration"]})}),an.jsxs(ht,{children:[an.jsx("div",{className:"text-2xl font-bold",children:n.duration||t?.duration||"N/A"}),an.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total trip time"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(_r,{className:"h-4 w-4"}),"Max Speed"]})}),an.jsxs(ht,{children:[an.jsx("div",{className:"text-2xl font-bold",children:n.max_speed?`${n.max_speed.toFixed(0)} mph`:"N/A"}),an.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Peak velocity"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(On,{className:"h-4 w-4"}),"Fuel Economy"]})}),an.jsxs(ht,{children:[an.jsx("div",{className:"text-2xl font-bold",children:n.fuel_economy?`${n.fuel_economy.toFixed(1)} mpg`:"N/A"}),an.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average MPG"})]})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Performance Summary"})}),an.jsxs(ht,{className:"space-y-3",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Idle Time"}),an.jsx("span",{className:"font-medium",children:n.idle_time||"0 min"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Hard Braking Events"}),an.jsx("span",{className:"font-medium",children:n.hard_braking||0})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Rapid Acceleration"}),an.jsx("span",{className:"font-medium",children:n.rapid_acceleration||0})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Speeding Incidents"}),an.jsx("span",{className:"font-medium",children:n.speeding||0})]})]})]})]}),an.jsx(Cs,{value:"gps",className:"space-y-4",children:an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"GPS Tracking Points"})}),an.jsx(ht,{children:n.gps_points&&n.gps_points.length>0?an.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.gps_points.map((e,t)=>an.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-muted/50 text-sm",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),an.jsxs("span",{className:"font-mono text-xs",children:[e.lat?.toFixed(6),", ",e.lng?.toFixed(6)]})]}),an.jsx("div",{className:"text-xs text-muted-foreground",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"})]},t))}):an.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No GPS data available"})})]})}),an.jsxs(Cs,{value:"performance",className:"space-y-4",children:[an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Speed Analysis"})}),an.jsx(ht,{className:"space-y-4",children:an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Average Speed"}),an.jsx("span",{className:"font-medium",children:n.avg_speed?`${n.avg_speed.toFixed(0)} mph`:"N/A"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Maximum Speed"}),an.jsxs("span",{className:"font-medium flex items-center gap-1",children:[n.max_speed?`${n.max_speed.toFixed(0)} mph`:"N/A",n.max_speed&&n.max_speed>80&&an.jsx(hr,{className:"h-4 w-4 text-destructive"})]})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Top Speed Location"}),an.jsx("span",{className:"text-xs text-muted-foreground",children:n.max_speed_location||"N/A"})]})]})})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Driving Events"})}),an.jsx(ht,{className:"space-y-3",children:n.events&&n.events.length>0?n.events.map((e,t)=>an.jsxs("div",{className:"flex items-start gap-2 p-2 rounded bg-muted/50",children:[an.jsx(pr,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),an.jsxs("div",{className:"flex-1",children:[an.jsx("p",{className:"text-sm font-medium",children:e.type||"Unknown"}),an.jsx("p",{className:"text-xs text-muted-foreground",children:e.timestamp?new Date(e.timestamp).toLocaleString():"N/A"})]})]},t)):an.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No events recorded"})})]})]}),an.jsx(Cs,{value:"fuel",className:"space-y-4",children:an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Fuel Consumption"})}),an.jsxs(ht,{className:"space-y-4",children:[an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Used"}),an.jsx("p",{className:"text-2xl font-bold",children:n.fuel_used?`${n.fuel_used.toFixed(2)} gal`:"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Economy"}),an.jsx("p",{className:"text-2xl font-bold",children:n.fuel_economy?`${n.fuel_economy.toFixed(1)} mpg`:"N/A"})]})]}),an.jsxs("div",{className:"pt-4 border-t space-y-2",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Start Level"}),an.jsx("span",{className:"font-medium",children:n.fuel_start?`${n.fuel_start}%`:"N/A"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"End Level"}),an.jsx("span",{className:"font-medium",children:n.fuel_end?`${n.fuel_end}%`:"N/A"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Estimated Cost"}),an.jsx("span",{className:"font-medium",children:n.fuel_cost?`$${n.fuel_cost.toFixed(2)}`:"N/A"})]})]})]})]})})]})]})})}function ia({label:e,value:t,unit:s,isPrimary:a=!1,icon:n,className:r}){const i=null!=t?t.toLocaleString():"0";return an.jsxs(ct,{className:lt("relative transition-all",a&&"border-primary border-2 shadow-md",r),children:[an.jsx(dt,{className:"pb-2",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center justify-between gap-2",children:[an.jsxs("span",{className:"flex items-center gap-2",children:[n,e]}),a&&an.jsx(Qt,{variant:"default",className:"text-xs",children:"Primary"})]})}),an.jsx(ht,{children:an.jsxs("div",{className:lt("text-2xl font-bold",a&&"text-primary"),children:[i,an.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:s})]})})]})}function oa({vehicleId:e}){rt();const{data:t,error:s,isLoading:a,mutate:n}=uf(`/api/vehicles/${e}`,kf),[r,i]=sn.useState(!1),[o,l]=sn.useState(null),[c,d]=sn.useState({startDate:new Date(Date.now()-6048e5).toISOString(),endDate:(new Date).toISOString()});return an.jsx(Xt,{loading:a,error:s,onRetry:()=>n(),children:t&&an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"flex items-start justify-between",children:[an.jsxs("div",{className:"space-y-1",children:[an.jsx("h3",{className:"text-2xl font-bold",children:t.name}),an.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.year," ",t.make," ",t.model]}),an.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[an.jsx(Qt,{variant:"active"===t.status?"default":"secondary",children:t.status}),t.assigned_to&&an.jsxs(Qt,{variant:"outline",children:["Assigned to ",t.assigned_to]})]})]}),an.jsx(wr,{className:"h-12 w-12 text-muted-foreground"})]}),an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(_r,{className:"h-4 w-4"}),"Mileage"]})}),an.jsx(ht,{children:an.jsxs("div",{className:"text-2xl font-bold",children:[t.mileage?.toLocaleString()||"0"," mi"]})})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(On,{className:"h-4 w-4"}),"Fuel Level"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"text-2xl font-bold",children:[t.fuel_level||0,"%"]}),an.jsx(ms,{value:t.fuel_level||0,className:"mt-2"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(pr,{className:"h-4 w-4"}),"Health"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"text-2xl font-bold",children:[t.health_score||0,"%"]}),an.jsx(ms,{value:t.health_score||0,className:"mt-2"})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(yr,{className:"h-4 w-4"}),"Uptime"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"text-2xl font-bold",children:[t.uptime||0,"%"]}),an.jsx(ms,{value:t.uptime||0,className:"mt-2"})]})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Vehicle Information"})}),an.jsx(ht,{className:"space-y-3",children:an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"VIN"}),an.jsx("p",{className:"font-medium",children:t.vin||"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"License Plate"}),an.jsx("p",{className:"font-medium",children:t.license_plate||"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),an.jsx("p",{className:"font-medium capitalize",children:t.type||"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Department"}),an.jsx("p",{className:"font-medium",children:t.department||"N/A"})]})]})})]}),(t.asset_category||t.asset_type||t.power_type)&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(wr,{className:"h-5 w-5"}),"Asset Classification"]})}),an.jsx(ht,{children:an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.asset_category&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),an.jsx("p",{className:"font-medium",children:_f[t.asset_category]||t.asset_category})]}),t.asset_type&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),an.jsx("p",{className:"font-medium",children:Sf[t.asset_type]||t.asset_type})]}),t.power_type&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Power Type"}),an.jsx("p",{className:"font-medium",children:Tf[t.power_type]||t.power_type})]}),t.operational_status&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Operational Status"}),an.jsx("div",{className:"flex items-center gap-2 mt-1",children:an.jsx(Qt,{variant:"AVAILABLE"===t.operational_status?"default":"IN_USE"===t.operational_status?"secondary":"MAINTENANCE"===t.operational_status?"destructive":"outline",children:Ef[t.operational_status]||t.operational_status})})]})]})})]}),(t.primary_metric||t.engine_hours||t.pto_hours||t.aux_hours||t.cycle_count)&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(pr,{className:"h-5 w-5"}),"Usage Metrics"]})}),an.jsxs(ht,{children:[an.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(t.odometer||t.mileage)&&an.jsx(ia,{label:"Odometer",value:t.odometer||t.mileage,unit:"mi",isPrimary:"ODOMETER"===t.primary_metric,icon:an.jsx(_r,{className:"h-4 w-4"})}),void 0!==t.engine_hours&&t.engine_hours>0&&an.jsx(ia,{label:"Engine Hours",value:t.engine_hours,unit:"hrs",isPrimary:"ENGINE_HOURS"===t.primary_metric,icon:an.jsx(Lr,{className:"h-4 w-4"})}),void 0!==t.pto_hours&&t.pto_hours>0&&an.jsx(ia,{label:"PTO Hours",value:t.pto_hours,unit:"hrs",isPrimary:"PTO_HOURS"===t.primary_metric,icon:an.jsx(vr,{className:"h-4 w-4"})}),void 0!==t.aux_hours&&t.aux_hours>0&&an.jsx(ia,{label:"Aux Hours",value:t.aux_hours,unit:"hrs",isPrimary:"AUX_HOURS"===t.primary_metric,icon:an.jsx(yr,{className:"h-4 w-4"})}),void 0!==t.cycle_count&&t.cycle_count>0&&an.jsx(ia,{label:"Cycles",value:t.cycle_count,unit:"cycles",isPrimary:"CYCLES"===t.primary_metric,icon:an.jsx(Mr,{className:"h-4 w-4"})})]}),t.last_metric_update&&an.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["Last updated:"," ",new Date(t.last_metric_update).toLocaleString()]})]})]}),"HEAVY_EQUIPMENT"===t.asset_category&&(t.capacity_tons||t.lift_height_feet||t.max_reach_feet||t.bucket_capacity_yards||t.operating_weight_lbs)&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(In,{className:"h-5 w-5"}),"Equipment Specifications"]})}),an.jsx(ht,{children:an.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[t.capacity_tons&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacity"}),an.jsxs("p",{className:"font-medium text-lg",children:[t.capacity_tons," ",an.jsx("span",{className:"text-sm",children:"tons"})]})]}),t.lift_height_feet&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Lift Height"}),an.jsxs("p",{className:"font-medium text-lg",children:[t.lift_height_feet," ",an.jsx("span",{className:"text-sm",children:"ft"})]})]}),t.max_reach_feet&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Max Reach"}),an.jsxs("p",{className:"font-medium text-lg",children:[t.max_reach_feet," ",an.jsx("span",{className:"text-sm",children:"ft"})]})]}),t.bucket_capacity_yards&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Bucket Capacity"}),an.jsxs("p",{className:"font-medium text-lg",children:[t.bucket_capacity_yards," ",an.jsx("span",{className:"text-sm",children:"yd³"})]})]}),t.operating_weight_lbs&&an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Operating Weight"}),an.jsxs("p",{className:"font-medium text-lg",children:[t.operating_weight_lbs," ",an.jsx("span",{className:"text-sm",children:"lbs"})]})]})]})})]})]})})}function la({vehicleId:e,vehicleName:t}){const{push:s}=rt(),{data:a,error:n,isLoading:r,mutate:i}=uf(`/api/vehicles/${e}/trips`,Af);return an.jsx(Xt,{loading:r,error:n,onRetry:()=>i(),children:a&&an.jsxs("div",{className:"space-y-4",children:[an.jsxs("div",{children:[an.jsxs("h3",{className:"text-lg font-semibold",children:["Trip History ",t&&`for ${t}`]}),an.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.length," trip",1!==a.length?"s":""," found"]})]}),0===a.length?an.jsx(ct,{children:an.jsxs(ht,{className:"py-12 text-center",children:[an.jsx(gr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:"No trips recorded"})]})}):an.jsx("div",{className:"space-y-3",children:a.map(e=>an.jsx(ct,{className:"hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>(e=>{s({id:`trip-telemetry-${e.id}`,type:"trip-telemetry",label:`Trip ${e.id.slice(0,8)}`,data:{tripId:e.id,trip:e}})})(e),children:an.jsx(ht,{className:"p-4",children:an.jsx("div",{className:"flex items-start justify-between",children:an.jsxs("div",{className:"space-y-3 flex-1",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(Qt,{variant:"default",children:e.status}),an.jsxs("span",{className:"text-xs text-muted-foreground",children:["Trip #",e.id.slice(0,8)]})]}),an.jsx(Ir,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"})]}),e.driver_name&&an.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[an.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("span",{children:e.driver_name})]}),an.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[an.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"}),an.jsx("span",{children:e.start_time?new Date(e.start_time).toLocaleDateString():"N/A"}),an.jsx(yr,{className:"h-4 w-4 text-muted-foreground ml-2"}),an.jsx("span",{children:e.duration||"N/A"})]}),an.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[an.jsx(br,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),an.jsxs("div",{className:"flex-1 space-y-1",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx("span",{className:"font-medium",children:"From:"}),an.jsx("span",{className:"text-muted-foreground truncate",children:e.start_location||"Unknown"})]}),an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx("span",{className:"font-medium",children:"To:"}),an.jsx("span",{className:"text-muted-foreground truncate",children:e.end_location||"Unknown"})]})]})]}),an.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2 border-t",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Distance"}),an.jsx("p",{className:"font-medium",children:e.distance?`${e.distance.toFixed(1)} mi`:"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Speed"}),an.jsx("p",{className:"font-medium",children:e.avg_speed?`${e.avg_speed.toFixed(0)} mph`:"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-xs text-muted-foreground",children:"Fuel Used"}),an.jsx("p",{className:"font-medium",children:e.fuel_used?`${e.fuel_used.toFixed(1)} gal`:"N/A"})]})]}),e.start_time&&an.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:To(new Date(e.start_time),{addSuffix:!0})})]})})})},e.id))}),a.length>0&&a.length%20==0&&an.jsx(Mh,{variant:"outline",className:"w-full",children:"Load More Trips"})]})})}function ca({workOrderId:e}){const{push:t}=rt(),{data:s,error:a,isLoading:n,mutate:r}=uf(`/api/work-orders/${e}`,Cf);return an.jsx(Xt,{loading:n,error:a,onRetry:()=>r(),children:s&&an.jsxs("div",{className:"space-y-6",children:[an.jsxs("div",{className:"flex items-start justify-between",children:[an.jsxs("div",{className:"space-y-1",children:[an.jsxs("h3",{className:"text-2xl font-bold",children:["WO #",s.wo_number]}),an.jsx("p",{className:"text-sm text-muted-foreground",children:s.title}),an.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[an.jsx(Qt,{variant:(e=>{switch(e?.toLowerCase()){case"completed":case"in_progress":case"in progress":default:return"default";case"pending":return"secondary";case"cancelled":return"destructive"}})(s.status),children:s.status}),an.jsxs(Qt,{variant:(e=>{switch(e?.toLowerCase()){case"critical":return"destructive";case"high":case"medium":default:return"default";case"low":return"secondary"}})(s.priority),children:[s.priority," Priority"]})]})]}),an.jsx(Tn,{className:"h-12 w-12 text-muted-foreground"})]}),an.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(Dr,{className:"h-4 w-4"}),"Parts"]})}),an.jsx(ht,{children:an.jsxs("div",{className:"text-2xl font-bold",children:["$",s.parts_cost?.toFixed(2)||"0.00"]})})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(Sn,{className:"h-4 w-4"}),"Labor"]})}),an.jsx(ht,{children:an.jsxs("div",{className:"text-2xl font-bold",children:["$",s.labor_cost?.toFixed(2)||"0.00"]})})]}),an.jsxs(ct,{children:[an.jsx(dt,{className:"pb-3",children:an.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[an.jsx(Fr,{className:"h-4 w-4"}),"Total"]})}),an.jsx(ht,{children:an.jsxs("div",{className:"text-2xl font-bold text-primary",children:["$",s.total_cost?.toFixed(2)||"0.00"]})})]})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Work Order Information"})}),an.jsx(ht,{className:"space-y-3",children:an.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Vehicle"}),an.jsx("p",{className:"font-medium",children:s.vehicle_name||"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),an.jsx("p",{className:"font-medium capitalize",children:s.work_type||"N/A"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Assigned To"}),an.jsx("p",{className:"font-medium",children:s.assigned_to||"Unassigned"})]}),an.jsxs("div",{children:[an.jsx("p",{className:"text-sm text-muted-foreground",children:"Created By"}),an.jsx("p",{className:"font-medium",children:s.created_by||"N/A"})]})]})})]}),an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(Cn,{className:"h-5 w-5"}),"Timeline"]})}),an.jsxs(ht,{className:"space-y-3",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Created"}),an.jsx("span",{className:"font-medium",children:s.created_date?new Date(s.created_date).toLocaleDateString():"N/A"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Scheduled"}),an.jsx("span",{className:"font-medium",children:s.scheduled_date?new Date(s.scheduled_date).toLocaleDateString():"Not scheduled"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Started"}),an.jsx("span",{className:"font-medium",children:s.start_date?new Date(s.start_date).toLocaleDateString():"Not started"})]}),an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Completed"}),an.jsx("span",{className:"font-medium",children:s.completed_date?new Date(s.completed_date).toLocaleDateString():"Not completed"})]})]})]}),"in_progress"===s.status&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(yr,{className:"h-5 w-5"}),"Progress"]})}),an.jsx(ht,{children:an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{className:"flex items-center justify-between",children:[an.jsx("span",{className:"text-sm",children:"Completion"}),an.jsxs("span",{className:"font-medium",children:[s.progress||0,"%"]})]}),an.jsx(ms,{value:s.progress||0}),s.estimated_completion&&an.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Estimated completion:"," ",new Date(s.estimated_completion).toLocaleDateString()]})]})})]}),s.description&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsx(ut,{children:"Description"})}),an.jsx(ht,{children:an.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.description})})]}),s.notes&&s.notes.length>0&&an.jsxs(ct,{children:[an.jsx(dt,{children:an.jsxs(ut,{className:"flex items-center gap-2",children:[an.jsx(Fn,{className:"h-5 w-5"}),"Notes"]})}),an.jsx(ht,{children:an.jsx("ul",{className:"space-y-2",children:s.notes.map((e,t)=>an.jsxs("li",{className:"p-2 rounded bg-muted/50 text-sm",children:[an.jsx("p",{className:"font-medium",children:e.author}),an.jsx("p",{className:"text-muted-foreground",children:e.text}),e.timestamp&&an.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(e.timestamp).toLocaleString()})]},t))})})]}),an.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[an.jsxs(Mh,{onClick:()=>{t({id:`work-order-parts-${e}`,type:"work-order-parts",label:"Parts Breakdown",data:{workOrderId:e,workOrderNumber:s?.wo_number}})},className:"w-full",children:[an.jsx(Dr,{className:"h-4 w-4 mr-2"}),"View Parts"]}),an.jsxs(Mh,{onClick:()=>{t({id:`work-order-labor-${e}`,type:"work-order-labor",label:"Labor Details",data:{workOrderId:e,workOrderNumber:s?.wo_number}})},variant:"outline",className:"w-full",children:[an.jsx(Sn,{className:"h-4 w-4 mr-2"}),"View Labor"]})]})]})})}function da(){const{currentLevel:e}=rt();if(!e)return null;switch(e.type){case"fleet-overview":case"total-vehicles":return an.jsx($s,{});case"active-vehicles":return an.jsx(zs,{});case"maintenance-stats":case"maintenance":return an.jsx(Vs,{});case"fuel-stats":case"fuel-today":return an.jsx(Us,{});case"performance-metrics":case"miles-day":case"on-time":case"idle-time":case"mpg":return an.jsx(Hs,{});case"drivers-stats":return an.jsx(Bs,{});case"utilization":case"fleet-utilization":return an.jsx(qs,{});case"safety-score":case"safety":return an.jsx(Ws,{});case"vehicle-list":return an.jsx(Ks,{});case"vehicle":case"vehicle-detail":return an.jsx(oa,{vehicleId:e.data?.vehicleId});case"vehicle-trips":return an.jsx(la,{vehicleId:e.data?.vehicleId,vehicleName:e.data?.vehicleName});case"trip-telemetry":return an.jsx(ra,{tripId:e.data?.tripId,trip:e.data?.trip});case"driver":case"driver-detail":return an.jsx(Ts,{driverId:e.data?.driverId});case"driver-performance":return an.jsx(Rs,{driverId:e.data?.driverId,driverName:e.data?.driverName});case"driver-trips":return an.jsx(Os,{driverId:e.data?.driverId,driverName:e.data?.driverName});case"workOrder":case"work-order-detail":return an.jsx(ca,{workOrderId:e.data?.workOrderId});case"work-order-parts":return an.jsx(na,{workOrderId:e.data?.workOrderId,workOrderNumber:e.data?.workOrderNumber});case"work-order-labor":return an.jsx(aa,{workOrderId:e.data?.workOrderId,workOrderNumber:e.data?.workOrderNumber});case"drivers-roster":case"total-drivers":case"on-duty":return an.jsx(Gs,{});case"driver-performance-hub":case"top-performers":case"needs-coaching":return an.jsx(Js,{});case"driver-scorecard":case"fleet-avg-score":return an.jsx(Ys,{});case"garage-overview":case"work-orders":case"bay-utilization":case"in-progress":return an.jsx(Xs,{});case"predictive-maintenance":case"predictions-active":return an.jsx(Qs,{});case"maintenance-calendar":case"maintenance-today":case"maintenance-overdue":return an.jsx(Zs,{});case"executive-dashboard":case"fleet-kpis":return an.jsx(ea,{});case"cost-analysis":case"total-tco":case"fuel-cost":return an.jsx(ta,{});case"fleet-optimizer":case"optimization-recommendations":return an.jsx(sa,{});case"incidents":case"open-incidents":case"under-review":return an.jsx(Zt,{});case"safety-score-detail":case"days-incident-free":return an.jsx(es,{});case"video-telematics":case"cameras-online":case"events-today":return an.jsx(ts,{});case"dispatch":case"active-jobs":case"in-transit":case"delayed":return an.jsx(ss,{});case"routes":case"active-routes":case"optimized-today":return an.jsx(as,{});case"tasks":case"open-tasks":case"overdue-tasks":return an.jsx(ns,{});case"vendors":case"active-vendors":return an.jsx(rs,{});case"parts-inventory":case"total-skus":case"low-stock":case"out-of-stock":return an.jsx(is,{});case"purchase-orders":case"open-pos":case"in-transit-pos":return an.jsx(os,{});case"fuel-purchasing":case"fuel-cards":return an.jsx(ls,{});case"ai-agent":case"ai-conversations":case"ai-satisfaction":return an.jsx(hs,{});case"messages":case"messages-today":case"channels":case"automations":return an.jsx(ps,{});case"email":case"email-templates":case"open-rate":case"scheduled-emails":return an.jsx(fs,{});case"communication-history":case"flagged":case"archived":return an.jsx(gs,{});case"regulations":case"dot-compliance":case"ifta-compliance":return an.jsx(xs,{});case"geofence-compliance":case"compliant-zones":case"attention-zones":return an.jsx(vs,{});case"inspections":case"inspections-due":case"hos-violations":case"eld-status":return an.jsx(ys,{});case"ifta":case"miles-tracked":case"fuel-tax-due":return an.jsx(bs,{});case"csa":case"csa-pending":case"incidents-ytd":case"days-safe":return an.jsx(js,{});case"system-health":case"active-sessions":case"uptime":return an.jsx(cs,{});case"system-alerts":case"critical-alerts":case"resolved-today":case"suppressed":return an.jsx(ds,{});case"files":case"shared-files":case"uploaded-today":return an.jsx(us,{});case"facility":case"facility-detail":return an.jsx(Ds,{facilityId:e.data?.facilityId});case"facility-vehicles":return an.jsx(Is,{facilityId:e.data?.facilityId,facilityName:e.data?.facilityName});default:return an.jsx("div",{className:"p-6 text-center",children:an.jsxs("p",{className:"text-muted-foreground",children:["Unknown drilldown type: ",e.type]})})}}function ua({children:e}){return an.jsx(nt,{children:an.jsxs("div",{className:"relative",children:[an.jsx(Jt,{}),e,an.jsx(Yt,{children:an.jsx(da,{})})]})})}function ma({className:e,variant:t,...s}){return an.jsx("div",{"data-slot":"alert",role:"alert",className:lt(Rf({variant:t}),e),...s})}function ha({className:e,...t}){return an.jsx("div",{"data-slot":"alert-title",className:lt("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function pa({className:e,...t}){return an.jsx("div",{"data-slot":"alert-description",className:lt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function fa(e,t={}){const{duration:s=3e3,type:a="info",icon:n,position:r="top-right"}=t,i={id:`toast-${Date.now()}-${Math.random()}`,message:e,type:a,icon:n,duration:s};return Df.emit(i),i.id}function ga(e,t){return function(){return e.apply(t,arguments)}}function xa(e){return null!==e&&!Jf(e)&&null!==e.constructor&&!Jf(e.constructor)&&Qf(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}function va(e,t,{allOwnKeys:s=!1}={}){if(null==e)return;let a,n;if("object"!=typeof e&&(e=[e]),Gf(e))for(a=0,n=e.length;n>a;a++)t.call(null,e[a],a,e);else{if(xa(e))return;const n=s?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let i;for(a=0;r>a;a++)i=n[a],t.call(null,e[i],i,e)}}function ya(e,t){if(xa(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a,n=s.length;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}function ba(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}function ja(e){return wg.isPlainObject(e)||wg.isArray(e)}function wa(e){return wg.endsWith(e,"[]")?e.slice(0,-2):e}function Na(e,t,s){return e?e.concat(t).map(function(e,t){return e=wa(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}function _a(e,t,s){function a(e){if(null===e)return"";if(wg.isDate(e))return e.toISOString();if(wg.isBoolean(e))return e.toString();if(!c&&wg.isBlob(e))throw new ba("Blob is not supported. Use a Buffer instead.");return wg.isArrayBuffer(e)||wg.isTypedArray(e)?c&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function n(e,s,n){let i=e;if(e&&!n&&"object"==typeof e)if(wg.endsWith(s,"{}"))s=r?s:s.slice(0,-2),e=JSON.stringify(e);else if(wg.isArray(e)&&function(e){return wg.isArray(e)&&!e.some(ja)}(e)||(wg.isFileList(e)||wg.endsWith(s,"[]"))&&(i=wg.toArray(e)))return s=wa(s),i.forEach(function(e,n){!wg.isUndefined(e)&&null!==e&&t.append(!0===l?Na([s],n,o):null===l?s:s+"[]",a(e))}),!1;return!!ja(e)||(t.append(Na(n,s,o),a(e)),!1)}if(!wg.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(s=wg.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!wg.isUndefined(t[e])})).metaTokens,i=s.visitor||n,o=s.dots,l=s.indexes,c=(s.Blob||"undefined"!=typeof Blob&&Blob)&&wg.isSpecCompliantForm(t);if(!wg.isFunction(i))throw new TypeError("visitor must be a function");const d=[],u=Object.assign(Sg,{defaultVisitor:n,convertValue:a,isVisitable:ja});if(!wg.isObject(e))throw new TypeError("data must be an object");return function e(s,a){if(!wg.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+a.join("."));d.push(s),wg.forEach(s,function(s,n){!0===(!(wg.isUndefined(s)||null===s)&&i.call(t,s,wg.isString(n)?n.trim():n,a,u))&&e(s,a?a.concat(n):[n])}),d.pop()}}(e),t}function Sa(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ta(e,t){this._pairs=[],e&&_a(e,this,t)}function Ea(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ka(e,t,s){if(!t)return e;const a=s&&s.encode||Ea;wg.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let r;if(r=n?n(t,s):wg.isURLSearchParams(t)?t.toString():new Ta(t,s).toString(a),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}function Aa(e){function t(e,s,a,n){let r=e[n++];if("__proto__"===r)return!0;const i=Number.isFinite(+r),o=n>=e.length;return r=!r&&wg.isArray(a)?a.length:r,o?(a[r]=wg.hasOwnProp(a,r)?[a[r],s]:s,!i):(a[r]&&wg.isObject(a[r])||(a[r]=[]),t(e,s,a[r],n)&&wg.isArray(a[r])&&(a[r]=function(e){const t={},s=Object.keys(e);let a;const n=s.length;let r;for(a=0;n>a;a++)r=s[a],t[r]=e[r];return t}(a[r])),!i)}if(wg.isFormData(e)&&wg.isFunction(e.entries)){const s={};return wg.forEachEntry(e,(e,a)=>{t(function(e){return wg.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,s,0)}),s}return null}function Ca(e){return e&&String(e).trim().toLowerCase()}function Ra(e){return!1===e||null==e?e:wg.isArray(e)?e.map(Ra):String(e)}function Oa(e,t,s,a,n){return wg.isFunction(a)?a.call(this,t,s):(n&&(t=s),wg.isString(t)?wg.isString(a)?-1!==t.indexOf(a):wg.isRegExp(a)?a.test(t):void 0:void 0)}function Da(e,t){const s=this||Lg,a=t||s,n=$g.from(a.headers);let r=a.data;return wg.forEach(e,function(e){r=e.call(s,r,n.normalize(),t?t.status:void 0)}),n.normalize(),r}function Ia(e){return!(!e||!e.__CANCEL__)}function Pa(e,t,s){ba.call(this,null==e?"canceled":e,ba.ERR_CANCELED,t,s),this.name="CanceledError"}function La(e,t,s){const a=s.config.validateStatus;s.status&&a&&!a(s.status)?t(new ba("Request failed with status code "+s.status,[ba.ERR_BAD_REQUEST,ba.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}function Ma(e,t,s){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function Fa(e,t){function s(e,t,s,a){return wg.isPlainObject(e)&&wg.isPlainObject(t)?wg.merge.call({caseless:a},e,t):wg.isPlainObject(t)?wg.merge({},t):wg.isArray(t)?t.slice():t}function a(e,t,a,n){return wg.isUndefined(t)?wg.isUndefined(e)?void 0:s(void 0,e,0,n):s(e,t,0,n)}function n(e,t){if(!wg.isUndefined(t))return s(void 0,t)}function r(e,t){return wg.isUndefined(t)?wg.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function i(a,n,r){return r in t?s(a,n):r in e?s(void 0,a):void 0}t=t||{};const o={},l={url:n,method:n,data:n,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:i,headers:(e,t,s)=>a(qg(e),qg(t),0,!0)};return wg.forEach(Object.keys({...e,...t}),function(s){const n=l[s]||a,r=n(e[s],t[s],s);wg.isUndefined(r)&&n!==i||(o[s]=r)}),o}function $a(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pa(null,e)}function za(e){return $a(e),e.headers=$g.from(e.headers),e.data=Da.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lx.getAdapter(e.adapter||Lg.adapter,e)(e).then(function(t){return $a(e),t.data=Da.call(e,e.transformResponse,t),t.headers=$g.from(t.headers),t},function(t){return Ia(t)||($a(e),t&&t.response&&(t.response.data=Da.call(e,e.transformResponse,t.response),t.response.headers=$g.from(t.response.headers))),Promise.reject(t)})}function Va({...e}){return an.jsx(ko,{"data-slot":"dropdown-menu",...e})}function Ua({className:e,sideOffset:t=4,...s}){return an.jsx(Ao,{children:an.jsx(Co,{"data-slot":"dropdown-menu-content",sideOffset:t,className:lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...s})})}function Ha({className:e,inset:t,variant:s="default",...a}){return an.jsx(Ro,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":s,className:lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function Ba({className:e,inset:t,...s}){return an.jsx(Do,{"data-slot":"dropdown-menu-label","data-inset":t,className:lt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...s})}function qa({className:e,...t}){return an.jsx(Oo,{"data-slot":"dropdown-menu-separator",className:lt("bg-border -mx-1 my-1 h-px",e),...t})}function Wa({onNavigate:e}){const[t,s]=sn.useState([]),[a,n]=sn.useState(0),[r,i]=sn.useState(!1),o=async()=>{try{i(!0);const e=await _x.get("/api/alerts/notifications?limit=10");s(e.notifications||[]),n(e.notifications?.filter(e=>!e.is_read).length||0)}catch(e){Du.error("Error fetching notifications:",e)}finally{i(!1)}};sn.useEffect(()=>{o();const e=setInterval(()=>{o()},3e4);return()=>clearInterval(e)},[]);const l=e=>{switch(e){case"emergency":return"text-red-600 dark:text-red-400";case"critical":return"text-orange-600 dark:text-orange-400";case"warning":return"text-yellow-600 dark:text-yellow-400";default:return"text-blue-600 dark:text-blue-400"}},c=e=>{switch(e){case"emergency":return"bg-red-100 dark:bg-red-900/20";case"critical":return"bg-orange-100 dark:bg-orange-900/20";case"warning":return"bg-yellow-100 dark:bg-yellow-900/20";default:return"bg-blue-100 dark:bg-blue-900/20"}},d=e=>{const t=new Date(e),s=Math.floor(((new Date).getTime()-t.getTime())/1e3);return 60>s?"Just now":3600>s?`${Math.floor(s/60)}m ago`:86400>s?`${Math.floor(s/3600)}h ago`:604800>s?`${Math.floor(s/86400)}d ago`:t.toLocaleDateString()};return an.jsxs(Va,{children:[an.jsx(bx,{asChild:!0,children:an.jsxs(Mh,{variant:"ghost",size:"icon",className:"relative","aria-label":"View notifications",children:[an.jsx(Zn,{className:"w-5 h-5"}),a>0&&an.jsx(Qt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:a>9?"9+":a})]})}),an.jsxs(Ua,{align:"end",className:"w-80",children:[an.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[an.jsx("h3",{className:"font-semibold text-sm",children:"Notifications"}),a>0&&an.jsx(Mh,{variant:"ghost",size:"sm",className:"h-auto p-1 text-xs",onClick:async()=>{try{await _x.post("/api/alerts/notifications/read-all",{}),s(e=>e.map(e=>({...e,is_read:!0}))),n(0)}catch(e){Du.error("Error marking all notifications as read:",e)}},children:"Mark all read"})]}),an.jsx(qt,{className:"h-[400px]",children:r?an.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Loading notifications..."}):0===t.length?an.jsxs("div",{className:"p-8 text-center",children:[an.jsx(Zn,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications"})]}):an.jsx("div",{className:"py-1",children:t.map(e=>an.jsxs(Ha,{className:`flex flex-col items-start gap-1 p-3 cursor-pointer ${e.is_read?"":"bg-accent/50"} ${c(e.severity)}`,onClick:()=>{(async e=>{try{await _x.post(`/api/alerts/notifications/${e}/read`,{}),s(t=>t.map(t=>t.id===e?{...t,is_read:!0}:t)),n(e=>Math.max(0,e-1))}catch(t){Du.error("Error marking notification as read:",t)}})(e.id)},children:[an.jsx("div",{className:"flex items-start justify-between w-full gap-2",children:an.jsxs("div",{className:"flex-1 min-w-0",children:[an.jsxs("div",{className:"flex items-center gap-2",children:[!e.is_read&&an.jsx("div",{className:"w-2 h-2 rounded-full bg-primary flex-shrink-0"}),an.jsx("p",{className:`text-sm font-medium line-clamp-1 ${l(e.severity)}`,children:e.title})]}),an.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:e.message})]})}),an.jsxs("div",{className:"flex items-center justify-between w-full mt-1",children:[an.jsx("span",{className:"text-xs text-muted-foreground",children:d(e.created_at)}),an.jsx(Qt,{variant:"outline",className:`text-xs ${l(e.severity)}`,children:e.severity})]})]},e.id))})}),an.jsx(qa,{}),an.jsx(Ha,{className:"text-center justify-center text-sm font-medium cursor-pointer",onClick:()=>e("notifications"),children:"View all notifications"})]})]})}function Ka(){const{theme:e,toggleTheme:t}=function(){const[e,t]=sn.useState(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return sn.useEffect(()=>{const t=document.documentElement;t.classList.remove("light","dark"),t.classList.add(e),localStorage.setItem("theme",e)},[e]),{theme:e,setTheme:t,toggleTheme:()=>{t(e=>"light"===e?"dark":"light")}}}();return an.jsx(Mh,{variant:"ghost",size:"icon",onClick:t,title:"light"===e?"Switch to dark mode":"Switch to light mode",children:an.jsx("light"===e?Vr:Ur,{className:"w-5 h-5"})})}function Ga(){const{setActiveModule:e}=ot();return an.jsxs("header",{className:"h-16 border-b border-white/5 bg-[#0d1221]/80 backdrop-blur-sm flex items-center justify-between px-6 shrink-0",children:[an.jsx("div",{className:"flex-1 max-w-xl",children:an.jsxs("div",{className:"relative group",children:[an.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-blue-400 transition-colors"}),an.jsx("input",{type:"text",placeholder:"Search fleet, drivers, or assets...",className:"w-full bg-[#151b2d] border border-white/5 rounded-full pl-10 pr-4 py-2 text-sm text-white focus:outline-none focus:ring-1 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all shadow-inner"})]})}),an.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[an.jsx(Ka,{}),an.jsx(Wa,{onNavigate:e}),an.jsx("div",{className:"h-6 w-px bg-white/10 mx-2"}),an.jsxs(Va,{children:[an.jsx(bx,{asChild:!0,children:an.jsxs(Mh,{variant:"ghost",className:"pl-2 pr-1 gap-3 h-10 rounded-full hover:bg-white/5 border border-transparent hover:border-white/5",children:[an.jsxs("div",{className:"flex flex-col items-end hidden md:flex",children:[an.jsx("span",{className:"text-sm font-medium text-white leading-none",children:"Admin User"}),an.jsx("span",{className:"text-[10px] text-slate-400 leading-none mt-1",children:"Fleet Manager"})]}),an.jsxs(Ns,{className:"h-8 w-8 border border-white/10",children:[an.jsx(_s,{src:"https://github.com/shadcn.png"}),an.jsx(Ss,{children:"AD"})]})]})}),an.jsxs(Ua,{align:"end",className:"w-56 bg-[#1a2030] border-white/10 text-slate-200",children:[an.jsx(Ba,{children:"My Account"}),an.jsx(qa,{className:"bg-white/5"}),an.jsxs(Ha,{className:"focus:bg-white/5 cursor-pointer",onClick:()=>e("profile"),children:[an.jsx($n,{className:"w-4 h-4 mr-2"}),"Profile"]}),an.jsxs(Ha,{className:"focus:bg-white/5 cursor-pointer",onClick:()=>e("settings"),children:[an.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Billing"]}),an.jsxs(Ha,{className:"focus:bg-white/5 cursor-pointer",onClick:()=>e("settings"),children:[an.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Team"]}),an.jsx(qa,{className:"bg-white/5"}),an.jsxs(Ha,{className:"text-red-400 focus:bg-red-500/10 focus:text-red-400 cursor-pointer",onClick:()=>{localStorage.removeItem("auth_token"),window.location.href="/login"},children:[an.jsx(Br,{className:"w-4 h-4 mr-2"}),"Log out"]})]})]})]})]})}function Ja({isSidebarOpen:e,setIsSidebarOpen:t}){const s=Li(),{activeModule:a,setActiveModule:n,visibleNavItems:r}=ot(),i=r.filter(e=>"hubs"===e.section),o=r.filter(e=>"main"===e.section),l=r.filter(e=>"management"===e.section),c=r.filter(e=>"tools"===e.section),d=({item:t})=>an.jsxs(Mh,{variant:"ghost",onClick:()=>{n(t.id)},className:lt("w-full justify-start h-10 mb-1 rounded-lg transition-all duration-200",e?"px-3":"px-0 justify-center",a===t.id?"bg-blue-600/10 text-blue-400 border border-blue-600/20 shadow-[0_0_10px_rgba(37,99,235,0.1)]":"text-slate-400 hover:text-white hover:bg-white/5"),title:e?void 0:t.label,children:[an.jsx("div",{className:lt("w-5 h-5 flex items-center justify-center",a===t.id?"text-blue-400":"text-slate-500"),children:t.icon}),e&&an.jsx("span",{className:"ml-3 font-medium text-sm truncate",children:t.label})]},t.id);return an.jsxs("aside",{className:lt("z-20 flex flex-col h-full bg-[#0d1221]/90 backdrop-blur-xl border-r border-white/5 transition-all duration-300 ease-in-out",e?"w-64":"w-20"),children:[an.jsx("div",{className:"h-16 flex items-center px-6 border-b border-white/5 shrink-0",children:an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center shrink-0 shadow-[0_0_15px_rgba(37,99,235,0.5)]",children:an.jsx(qr,{className:"w-5 h-5 text-white"})}),e&&an.jsxs("span",{className:"font-bold text-lg tracking-wide bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent",children:["FLEET",an.jsx("span",{className:"font-extralight text-slate-500",children:"OPS"})]})]})}),an.jsxs("nav",{className:"flex-1 py-4 px-3 space-y-6 overflow-y-auto no-scrollbar",children:[i.length>0&&an.jsxs("div",{className:"space-y-1",children:[e&&an.jsx("div",{className:"px-2 text-[10px] font-bold text-blue-400 uppercase tracking-wider mb-2",children:"Hubs"}),i.map(e=>an.jsx(d,{item:e},e.id))]}),o.length>0&&an.jsxs("div",{className:"space-y-1",children:[e&&an.jsx("div",{className:"px-2 text-[10px] font-bold text-slate-600 uppercase tracking-wider mb-2 mt-4",children:"Command Center"}),o.map(e=>an.jsx(d,{item:e},e.id))]}),l.length>0&&an.jsxs("div",{className:"space-y-1",children:[e&&an.jsx("div",{className:"px-2 text-[10px] font-bold text-slate-600 uppercase tracking-wider mb-2 mt-4",children:"Management"}),l.map(e=>an.jsx(d,{item:e},e.id))]}),c.length>0&&an.jsxs("div",{className:"space-y-1",children:[e&&an.jsx("div",{className:"px-2 text-[10px] font-bold text-slate-600 uppercase tracking-wider mb-2 mt-4",children:"Tools"}),c.map(e=>an.jsx(d,{item:e},e.id))]})]}),an.jsxs("div",{className:"p-3 border-t border-white/5 shrink-0 space-y-1",children:[an.jsxs(Mh,{variant:"ghost",onClick:()=>s("/settings"),className:lt("w-full justify-start h-11 rounded-xl text-slate-400 hover:text-white hover:bg-white/5",e?"px-4":"px-0 justify-center"),children:[an.jsx(In,{className:"w-5 h-5"}),e&&an.jsx("span",{className:"ml-3 font-medium",children:"Settings"})]}),an.jsx("div",{className:"pt-2",children:an.jsx(Mh,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"w-full h-8 text-slate-600 hover:text-slate-300 hover:bg-transparent",children:an.jsx(e?Wr:Kr,{className:"w-4 h-4"})})})]})]})}function Ya({children:e}){const[t,s]=sn.useState(!0),[a,n]=sn.useState(!1),[r,i]=sn.useState(!1);return sn.useEffect(()=>{const e=()=>{const e=1024>window.innerWidth;n(e),e&&s(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),sn.useEffect(()=>{if(r){const e=()=>i(!1);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}return()=>{}},[r]),an.jsxs("div",{className:"flex h-screen w-full bg-[#0a0f1c] text-slate-100 overflow-hidden font-sans",children:[a&&r&&an.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:()=>i(!1)}),an.jsxs("div",{className:lt("z-50",a?lt("fixed inset-y-0 left-0 transform transition-transform duration-300 ease-in-out",r?"translate-x-0":"-translate-x-full"):"relative"),children:[an.jsx(Ja,{isSidebarOpen:t,setIsSidebarOpen:s}),a&&r&&an.jsx(Mh,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-white hover:bg-white/10 lg:hidden",onClick:e=>{e.stopPropagation(),i(!1)},children:an.jsx(wn,{className:"w-5 h-5"})})]}),an.jsxs("main",{className:"flex-1 flex flex-col relative z-10 overflow-hidden bg-[#0a0f1c]",children:[an.jsxs("div",{className:"relative",children:[a&&an.jsx(Mh,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 text-white hover:bg-white/10 lg:hidden",onClick:e=>{e.stopPropagation(),i(!0)},children:an.jsx(Kr,{className:"w-5 h-5"})}),an.jsx(Ga,{})]}),an.jsxs("div",{className:"flex-1 overflow-auto relative p-4 lg:p-6",children:[an.jsx("div",{className:"absolute inset-0 z-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),an.jsx("div",{className:"relative z-10 h-full",children:e})]})]})]})}function Xa({children:e,url:t=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}/ws`,autoConnect:s=!0,debug:a=!1}){const n=sn.useRef(null),[r,i]=sn.useState(!1),[o,l]=sn.useState("disconnected"),[c,d]=sn.useState({messagesSent:0,messagesReceived:0,reconnects:0,errors:0,lastConnectedAt:null,lastDisconnectedAt:null,uptime:0,latency:null});sn.useEffect(()=>{n.current=new Sx({url:t,debug:a,reconnect:!0,reconnectInterval:parseInt("1000"),maxReconnectAttempts:parseInt("10"),heartbeatInterval:parseInt("30000"),queueOfflineMessages:!0,maxQueueSize:100});const e=n.current,r=e.onOpen(()=>{i(!0),l("connected"),d(e=>({...e,lastConnectedAt:new Date,reconnects:e.lastConnectedAt?e.reconnects+1:e.reconnects}))}),o=e.onClose(()=>{i(!1),l("disconnected"),d(e=>({...e,lastDisconnectedAt:new Date}))}),c=e.onError(e=>{Du.error("[WebSocketContext] Error:",e),l("error"),d(e=>({...e,errors:e.errors+1}))}),u=e.subscribe("*",()=>{d(e=>({...e,messagesReceived:e.messagesReceived+1}))});return s&&e.connect(),()=>{r(),o(),c(),u(),e.disconnect()}},[t,s,a]),sn.useEffect(()=>{const e=setInterval(()=>{if(r&&c.lastConnectedAt){const e=Math.floor((Date.now()-c.lastConnectedAt.getTime())/1e3);d(t=>({...t,uptime:e}))}},1e3);return()=>clearInterval(e)},[r,c.lastConnectedAt]);const u=sn.useCallback(()=>{n.current&&(n.current.disconnect(),setTimeout(()=>{n.current?.connect()},100))},[]),m=sn.useCallback(()=>{n.current?.disconnect()},[]),h=sn.useCallback((e,t)=>{n.current&&(n.current.send({type:e,payload:t,timestamp:(new Date).toISOString(),id:crypto.randomUUID()}),d(e=>({...e,messagesSent:e.messagesSent+1})))},[]),p=sn.useCallback((e,t)=>n.current?n.current.subscribe(e,e=>{t(e.payload)}):()=>{},[]);return an.jsx(Tx.Provider,{value:{client:n.current,isConnected:r,connectionStatus:o,stats:c,reconnect:u,disconnect:m,send:h,subscribe:p},children:e})}function Qa(){const e=sn.useContext(Tx);if(!e)throw new Error("useWebSocketContext must be used within WebSocketProvider");return e}function Za(){const{data:e,isLoading:t,error:s}=We(),{data:a,isLoading:n,error:r}=Ke(),{data:i,isLoading:o,error:l}=Je(),{data:c,isLoading:d}=Ye(),{data:u,isLoading:m,error:h}=Xe(),{data:p}=Qe(),{data:f,isLoading:g}=function(e={tenant_id:""}){return zi({queryKey:fh(e),queryFn:async()=>{const t=new URLSearchParams(e),s=await qe(`/api/routes?${t}`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1})}();sn.useEffect(()=>{"undefined"!=typeof window&&(window.__FLEET_API_RESPONSES__={vehicles:{data:e,loading:t,error:s?.message},drivers:{data:a,loading:n,error:r?.message},workOrders:{data:i,loading:o,error:l?.message},facilities:{data:u,loading:m,error:h?.message},lastUpdate:(new Date).toISOString()})},[e,a,i,u,s,r,l,h,t,n,o,m]),sn.useEffect(()=>{Ex&&Du.debug("[useFleetData] API Data State:",{vehicles:{count:e?.length??"N/A",loading:t,error:!!s},drivers:{count:a?.length??"N/A",loading:n,error:!!r},facilities:{count:u?.length??"N/A",loading:m,error:!!h}})},[e,a,u,s,r,h,t,n,m]);const x=Ze(),v=function(){const e=Vi();return{createDriver:Ui({mutationFn:async e=>{const t=await qe("/api/drivers",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error("Network response was not ok");return t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:ch({tenant_id:""})})}}),updateDriver:Ui({mutationFn:async e=>{const t=await qe(`/api/drivers/${e.id}`,{method:"PUT",body:JSON.stringify(e)});if(!t.ok)throw new Error("Network response was not ok");return t.json()},onMutate:async t=>{await e.cancelQueries({queryKey:ch({tenant_id:t.tenant_id})});const s=e.getQueryData(ch({tenant_id:t.tenant_id}));return e.setQueryData(ch({tenant_id:t.tenant_id}),e=>e?.map(e=>e.id===t.id?t:e)),{previousDrivers:s}},onError:(t,s,a)=>{a?.previousDrivers&&e.setQueryData(ch({tenant_id:s.tenant_id}),a.previousDrivers)},onSettled:t=>{t&&e.invalidateQueries({queryKey:ch({tenant_id:t.tenant_id})})}}),deleteDriver:Ui({mutationFn:async({id:e})=>{if(!(await qe(`/api/drivers/${e}`,{method:"DELETE"})).ok)throw new Error("Network response was not ok")},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:ch({tenant_id:s.tenant_id})})}})}}(),y=function(){const e=Vi();return{createWorkOrder:Ui({mutationFn:async e=>{const t=await qe("/api/work-orders",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create work order");return t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["workOrders"]})}}),updateWorkOrder:Ui({mutationFn:async({id:e,updates:t})=>{const s=await qe(`/api/work-orders/${e}`,{method:"PUT",body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update work order");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["workOrders"]})}}),deleteWorkOrder:Ui({mutationFn:async e=>{if(!(await qe(`/api/work-orders/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete work order")},onSuccess:()=>{e.invalidateQueries({queryKey:["workOrders"]})}})}}(),b=function(){const e=Vi();return{createFacility:Ui({mutationFn:async e=>{const t=await qe("/api/facilities",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create facility");return t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["facilities"]})}}),updateFacility:Ui({mutationFn:async({id:e,updates:t})=>{const s=await qe(`/api/facilities/${e}`,{method:"PUT",body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update facility");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["facilities"]})}}),deleteFacility:Ui({mutationFn:async e=>{if(!(await qe(`/api/facilities/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete facility")},onSuccess:()=>{e.invalidateQueries({queryKey:["facilities"]})}})}}(),j=function(){const e=Vi();return{createRoute:Ui({mutationFn:async e=>{const t=await qe("/api/routes",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create route");return t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["routes"]})}}),updateRoute:Ui({mutationFn:async({id:e,updates:t})=>{const s=await qe(`/api/routes/${e}`,{method:"PUT",body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update route");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["routes"]})}}),deleteRoute:Ui({mutationFn:async e=>{if(!(await qe(`/api/routes/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete route")},onSuccess:()=>{e.invalidateQueries({queryKey:["routes"]})}})}}(),w=function(){const e=Vi();return{createMaintenanceSchedule:Ui({mutationFn:async e=>{const t=await qe("/api/maintenance-schedules",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create maintenance schedule");return t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["maintenanceSchedules"]})}}),updateMaintenanceSchedule:Ui({mutationFn:async({id:e,updates:t})=>{const s=await qe(`/api/maintenance-schedules/${e}`,{method:"PUT",body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update maintenance schedule");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["maintenanceSchedules"]})}}),deleteMaintenanceSchedule:Ui({mutationFn:async e=>{if(!(await qe(`/api/maintenance-schedules/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete maintenance schedule")},onSuccess:()=>{e.invalidateQueries({queryKey:["maintenanceSchedules"]})}})}}(),N=function(){const e=Vi();return{createFuelTransaction:Ui({mutationFn:async e=>{const t=await qe("/api/fuel-transactions",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create fuel transaction");return t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["fuelTransactions"]})}}),updateFuelTransaction:Ui({mutationFn:async({id:e,updates:t})=>{const s=await qe(`/api/fuel-transactions/${e}`,{method:"PUT",body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to update fuel transaction");return s.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["fuelTransactions"]})}}),deleteFuelTransaction:Ui({mutationFn:async e=>{if(!(await qe(`/api/fuel-transactions/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete fuel transaction")},onSuccess:()=>{e.invalidateQueries({queryKey:["fuelTransactions"]})}})}}(),_=sn.useMemo(()=>{const t=e||[];return Array.isArray(t)?t.map(e=>({...e,id:e.id||"",tenant_id:e.tenant_id||"",alerts:Array.isArray(e.alerts)?e.alerts:[]})):[]},[e]),S=sn.useMemo(()=>{const e=a||[];return Array.isArray(e)?e:[]},[a]),T=sn.useMemo(()=>{const e=i||[];return Array.isArray(e)?e:[]},[i]),E=sn.useMemo(()=>{const e=c||[];return Array.isArray(e)?e:[]},[c]),k=sn.useMemo(()=>{const e=u||[];return Array.isArray(e)?e:[]},[u]),A=sn.useMemo(()=>{const e=p||[];return Array.isArray(e)?e:[]},[p]),C=sn.useMemo(()=>{const e=f||[];return Array.isArray(e)?e:[]},[f]);sn.useEffect(()=>{Ex&&Du.debug("[useFleetData] Final data counts (Production API):",{vehicles:_.length,drivers:S.length,workOrders:T.length,facilities:k.length,mode:"PRODUCTION"})},[_.length,S.length,T.length,k.length]),sn.useMemo(()=>k,[k]);const R=sn.useMemo(()=>S.filter(e=>"technician"===e.role||"fleet_manager"===e.role),[S]),O=sn.useMemo(()=>S.filter(e=>"technician"===e.role),[S]),D=sn.useCallback(()=>{},[]),I=sn.useCallback(async e=>await x.createVehicle.mutateAsync(e),[x.createVehicle]),P=sn.useCallback(async(e,t)=>await x.updateVehicle.mutateAsync({id:e,...t}),[x.updateVehicle]),L=sn.useCallback(async e=>await x.deleteVehicle.mutateAsync({id:e,tenant_id:""}),[x.deleteVehicle]),M=sn.useCallback(async e=>await v.createDriver.mutateAsync(e),[v.createDriver]),F=sn.useCallback(async(e,t)=>await v.updateDriver.mutateAsync({id:e,...t}),[v.updateDriver]),$=sn.useCallback(async e=>await v.deleteDriver.mutateAsync({id:e,tenant_id:""}),[v.deleteDriver]),z=sn.useCallback(async e=>await v.createDriver.mutateAsync({...e,role:"technician"}),[v.createDriver]),V=sn.useCallback(async(e,t)=>await v.updateDriver.mutateAsync({id:e,...t}),[v.updateDriver]),U=sn.useCallback(async e=>await v.deleteDriver.mutateAsync({id:e,tenant_id:""}),[v.deleteDriver]),H=sn.useCallback(async e=>await y.createWorkOrder.mutateAsync(e),[y.createWorkOrder]),B=sn.useCallback(async(e,t)=>await y.updateWorkOrder.mutateAsync({id:e,updates:t}),[y.updateWorkOrder]),q=sn.useCallback(async e=>await y.deleteWorkOrder.mutateAsync(e),[y.deleteWorkOrder]),W=sn.useCallback(async e=>await N.createFuelTransaction.mutateAsync(e),[N.createFuelTransaction]),K=sn.useCallback(async(e,t)=>await b.updateFacility.mutateAsync({id:e,updates:t}),[b.updateFacility]),G=sn.useCallback(async e=>await N.createFuelTransaction.mutateAsync({...e,type:"mileage"}),[N.createFuelTransaction]),J=sn.useCallback(async(e,t)=>await N.updateFuelTransaction.mutateAsync({id:e,updates:t}),[N.updateFuelTransaction]),Y=sn.useCallback(async e=>await N.deleteFuelTransaction.mutateAsync(e),[N.deleteFuelTransaction]),X=sn.useCallback(async e=>await w.createMaintenanceSchedule.mutateAsync(e),[w.createMaintenanceSchedule]),Q=sn.useCallback(async(e,t)=>await w.updateMaintenanceSchedule.mutateAsync({id:e,updates:t}),[w.updateMaintenanceSchedule]),Z=sn.useCallback(async e=>await j.createRoute.mutateAsync(e),[j.createRoute]),ee=sn.useCallback(async(e,t)=>await j.updateRoute.mutateAsync({id:e,updates:t}),[j.updateRoute]),te=sn.useCallback(async e=>await j.deleteRoute.mutateAsync(e),[j.deleteRoute]),se=sn.useMemo(()=>[],[]);return{vehicles:_,drivers:S,staff:R,serviceBays:k,facilities:k,workOrders:T,technicians:O,fuelTransactions:E,mileageReimbursements:se,maintenanceRequests:A,routes:C,dataInitialized:!0,isLoading:t||n||o||d||g,initializeData:D,addVehicle:I,updateVehicle:P,deleteVehicle:L,addDriver:M,updateDriver:F,deleteDriver:$,addStaff:z,updateStaff:V,deleteStaff:U,addWorkOrder:H,updateWorkOrder:B,deleteWorkOrder:q,addFuelTransaction:W,updateServiceBay:K,addMileageReimbursement:G,updateMileageReimbursement:J,deleteMileageReimbursement:Y,addMaintenanceRequest:X,updateMaintenanceRequest:Q,addRoute:Z,updateRoute:ee,deleteRoute:te}}function en(){const{canAccess:e}=bh(),{activeModule:t,setActiveModule:s}=ot();sn.useState(()=>Iu.initialize());const a=Za(),n=sn.useMemo(()=>Rh.find(e=>e.id===t),[t]),r=sn.useMemo(()=>!n||!n.roles&&!n.permissions||e(n.roles,n.permissions),[n,e]);return an.jsx(Xa,{autoConnect:!0,debug:!1,children:an.jsxs(ua,{children:[an.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md focus:shadow-lg",children:"Skip to main content"}),an.jsx(Ya,{children:an.jsx(Of,{showDetails:!1,onError:(e,t)=>{},children:an.jsx(yx,{children:an.jsx(sn.Suspense,{fallback:an.jsx("div",{className:"h-full w-full flex items-center justify-center",children:an.jsx(ey,{})}),children:(()=>{if(!r)return an.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center bg-gray-50 rounded-lg",children:[an.jsx(An,{className:"w-16 h-16 text-red-500 mb-4"}),an.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),an.jsx("p",{className:"text-gray-600 mb-6",children:"You do not have permission to view this module."}),an.jsx(Mh,{onClick:()=>s("live-fleet-dashboard"),children:"Return to Dashboard"})]});switch(t){case"live-fleet-dashboard":return an.jsx(uv,{});case"dashboard":case"dispatch-console":case"fleet-hub":case"gps-tracking":default:return an.jsx(Mx,{});case"executive-dashboard":return an.jsx(Ox,{});case"admin-dashboard":return an.jsx(Fx,{});case"operations-workspace":return an.jsx(Ev,{});case"fleet-workspace":return an.jsx(kv,{});case"drivers-workspace":case"drivers":return an.jsx(Av,{});case"maintenance-workspace":return an.jsx(Cv,{});case"analytics-workspace":return an.jsx(Rv,{});case"compliance-workspace":return an.jsx(Ov,{});case"reports-hub":return an.jsx(Dv,{});case"operations-hub":return an.jsx(Iv,{});case"procurement-hub":return an.jsx(Lv,{});case"communication-hub":return an.jsx(Mv,{});case"garage":return an.jsx(Ux,{});case"virtual-garage":return an.jsx(Cx,{});case"predictive":return an.jsx(Hx,{});case"fuel":return an.jsx(Wx,{});case"workbench":return an.jsx(Dx,{});case"mileage":return an.jsx(ov,{});case"routes":return an.jsx(Gx,{});case"gis-map":return an.jsx(Xx,{});case"traffic-cameras":return an.jsx(uv,{initialLayer:"traffic-cameras"});case"comprehensive":return an.jsx(kx,{});case"vendor-management":return an.jsx(av,{});case"parts-inventory":return an.jsx(nv,{});case"purchase-orders":return an.jsx(rv,{});case"invoices":return an.jsx(iv,{});case"ai-assistant":return an.jsx(Gt,{});case"teams-integration":return an.jsx(Qx,{});case"email-center":return an.jsx(Zx,{});case"maintenance-scheduling":return an.jsx(Bx,{});case"receipt-processing":return an.jsx(lv,{});case"communication-log":return an.jsx(dv,{});case"geofences":return an.jsx(uv,{initialLayer:"geofences"});case"osha-forms":return an.jsx(mv,{});case"policy-engine":case"policy-management":return an.jsx($x,{});case"video-telematics":return an.jsx(hv,{});case"ev-charging":return an.jsx(xv,{});case"vehicle-telemetry":return an.jsx(Ax,{});case"map-layers":return an.jsx(sv,{});case"route-optimization":return an.jsx(Jx,{});case"form-builder":return an.jsx(cv,{});case"personal-use":return an.jsx(vv,{});case"personal-use-policy":return an.jsx(yv,{});case"reimbursement-queue":return an.jsx(bv,{});case"charges-billing":return an.jsx(jv,{});case"arcgis-integration":return an.jsx(ev,{});case"map-settings":return an.jsx(tv,{});case"asset-management":return an.jsx(wv,{});case"equipment-dashboard":case"heavy-equipment":return an.jsx(Nv,{});case"task-management":return an.jsx(Yx,{});case"incident-management":return an.jsx(pv,{});case"notifications":return an.jsx(zx,{});case"push-notification-admin":return an.jsx(Vx,{});case"documents":return an.jsx(fv,{});case"document-qa":return an.jsx(gv,{});case"fuel-purchasing":return an.jsx(Kx,{});case"endpoint-monitor":return an.jsx(Ix,{});case"driver-mgmt":return an.jsx(Sv,{});case"driver-scorecard":return an.jsx(Tv,{});case"fleet-optimizer":return an.jsx(Rx,{});case"cost-analysis":return an.jsx(Px,{});case"maintenance-hub":return an.jsx(Pv,{});case"custom-reports":return an.jsx(Lx,{});case"analytics":return an.jsx(_v,{});case"maintenance-request":return an.jsx(qx,{data:a});case"safety-hub":return an.jsx(Fv,{});case"safety-alerts":return an.jsx(Zv,{});case"assets-hub":return an.jsx($v,{});case"settings":return an.jsx(Xv,{});case"profile":return an.jsx(Qv,{});case"fleet-hub-consolidated":return an.jsx(zv,{});case"operations-hub-consolidated":return an.jsx(Vv,{});case"maintenance-hub-consolidated":return an.jsx(Uv,{});case"drivers-hub-consolidated":return an.jsx(Hv,{});case"analytics-hub-consolidated":return an.jsx(Bv,{});case"compliance-hub-consolidated":return an.jsx(qv,{});case"procurement-hub-consolidated":return an.jsx(Wv,{});case"admin-hub-consolidated":return an.jsx(Kv,{});case"safety-hub-consolidated":return an.jsx(Gv,{});case"assets-hub-consolidated":return an.jsx(Jv,{});case"communication-hub-consolidated":return an.jsx(Yv,{})}})()})})})}),an.jsx($f,{}),an.jsx(If,{})]})})}import{t as tn,r as sn,j as an,v as nn,x as rn,y as on,z as ln,A as cn,B as dn,C as un,D as mn,E as hn,F as pn,H as fn,I as gn,J as xn,K as vn,L as yn,M as bn,N as jn,X as wn,S as Nn,O as _n,U as Sn,W as Tn,P as En,Q as kn,V as An,Y as Cn,Z as Rn,_ as On,$ as Dn,a0 as In,a1 as Pn,a2 as Ln,a3 as Mn,a4 as Fn,a5 as $n,a6 as zn,a7 as Vn,R as Un,a8 as Hn,a9 as Bn,aa as qn,ab as Wn,ac as Kn,ad as Gn,ae as Jn,af as Yn,ag as Xn,ah as Qn,ai as Zn,aj as er,ak as tr,al as sr,am as ar,an as nr,ao as rr,ap as ir,aq as or,ar as lr,as as cr,at as dr,au as ur,av as mr,aw as hr,ax as pr,ay as fr,az as gr,aA as xr,aB as vr,aC as yr,aD as br,aE as jr,aF as wr,aG as Nr,aH as _r,aI as Sr,aJ as Tr,aK as Er,aL as kr,aM as Ar,aN as Cr,aO as Rr,aP as Or,aQ as Dr,aR as Ir,aS as Pr,aT as Lr,aU as Mr,aV as Fr,aW as $r,aX as zr,aY as Vr,aZ as Ur,a_ as Hr,a$ as Br,b0 as qr,b1 as Wr,b2 as Kr,b3 as Gr}from"./react-core-hQu9tqS1.js";import{D as Jr,S as Yr,E as Xr,F as Qr,G as Zr,H as ei,I as ti,J as si,K as ai,L as ni,M as ri,N as ii,O as oi,P as li,Q as ci,R as di,T as ui,U as mi,V as hi,X as pi,Y as fi,Z as gi,$ as xi,a0 as vi,a1 as yi,a2 as bi,a3 as ji,a4 as wi,a5 as Ni,a6 as _i,a7 as Si,a8 as Ti,a9 as Ei,aa as ki,ab as Ai,ac as Ci,ad as Ri,B as Oi,ae as Di,af as Ii}from"./lazy-modules-Bs19xeuI.js";import{u as Pi,a as Li,B as Mi,R as Fi,b as $i}from"./react-router-cBrq_s0x.js";import{u as zi,a as Vi,b as Ui,Q as Hi,c as Bi,d as qi}from"./query-vendor--Fe2N4Al.js";import{_ as Wi}from"./three-helpers-DedzJcO9.js";import{S as Ki,d as Gi,e as Ji,c as Yi,v as Xi,w as Qi,x as Zi,y as eo,z as to,B as so,E as ao,G as no,H as ro,J as io,K as oo,L as lo,M as co,T as uo,N as mo}from"./ui-radix-C-X5Qx_8.js";import{c as ho,t as po}from"./utils-vendor-Bojdf5C8.js";import{_ as fo}from"./form-vendor-DKCvS-hL.js";import{a as go,P as xo,O as vo,C as yo,b as bo,T as jo,D as wo,c as No}from"./ui-dialogs-C2yTnBPV.js";import{A as _o,m as So}from"./animation-vendor-Cf_i_fm0.js";import{f as To}from"./date-vendor-npJ7nI92.js";import{T as Eo,R as ko,P as Ao,C as Co,I as Ro,S as Oo,L as Do}from"./ui-menus--48tEbqQ.js";import"./chart-vendor-DWRb53_H.js";import"./mui-core-BKffG9O1.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";!function(){function e(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),t.credentials="use-credentials"===e.crossOrigin?"include":"anonymous"===e.crossOrigin?"omit":"same-origin",t}(e);fetch(e.href,t)}const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}}();const Io={enabled:!0,algorithm:"SHA-384",crossOrigin:"anonymous",enforceForCDN:!0,monitorViolations:!0},Po={"X-Frame-Options":"DENY","X-Content-Type-Options":"nosniff","X-XSS-Protection":"1; mode=block","Referrer-Policy":"strict-origin-when-cross-origin","Permissions-Policy":"camera=(), microphone=(), geolocation=(self), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), autoplay=(), encrypted-media=(self), fullscreen=(self), picture-in-picture=(self)","Strict-Transport-Security":"max-age=31536000; includeSubDomains; preload","Cross-Origin-Embedder-Policy":"require-corp","Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Resource-Policy":"same-origin","Expect-CT":"max-age=86400, enforce","X-Permitted-Cross-Domain-Policies":"none","X-Download-Options":"noopen","X-DNS-Prefetch-Control":"off"},{entries:Lo,setPrototypeOf:Mo,isFrozen:Fo,getPrototypeOf:$o,getOwnPropertyDescriptor:zo}=Object;let{freeze:Vo,seal:Uo,create:Ho}=Object,{apply:Bo,construct:qo}="undefined"!=typeof Reflect&&Reflect;Vo||(Vo=function(e){return e}),Uo||(Uo=function(e){return e}),Bo||(Bo=function(e,t){for(var s=arguments.length,a=new Array(s>2?s-2:0),n=2;s>n;n++)a[n-2]=arguments[n];return e.apply(t,a)}),qo||(qo=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;t>a;a++)s[a-1]=arguments[a];return new e(...s)});const Wo=e(Array.prototype.forEach),Ko=e(Array.prototype.lastIndexOf),Go=e(Array.prototype.pop),Jo=e(Array.prototype.push),Yo=e(Array.prototype.splice),Xo=e(String.prototype.toLowerCase),Qo=e(String.prototype.toString),Zo=e(String.prototype.match),el=e(String.prototype.replace),tl=e(String.prototype.indexOf),sl=e(String.prototype.trim),al=e(Object.prototype.hasOwnProperty),nl=e(RegExp.prototype.test),rl=(il=TypeError,function(){for(var e=arguments.length,t=new Array(e),s=0;e>s;s++)t[s]=arguments[s];return qo(il,t)});var il;const ol=Vo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ll=Vo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),cl=Vo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dl=Vo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ul=Vo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ml=Vo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hl=Vo(["#text"]),pl=Vo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),fl=Vo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gl=Vo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xl=Vo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vl=Uo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yl=Uo(/<%[\w\W]*|[\w\W]*%>/gm),bl=Uo(/\$\{[\w\W]*/gm),jl=Uo(/^data-[\-\w.\u00B7-\uFFFF]+$/),wl=Uo(/^aria-[\-\w]+$/),Nl=Uo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_l=Uo(/^(?:\w+script|data):/i),Sl=Uo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Tl=Uo(/^html$/i),El=Uo(/^[a-z][.\w]*(-[.\w]+)+$/i);var kl=Object.freeze({__proto__:null,ARIA_ATTR:wl,ATTR_WHITESPACE:Sl,CUSTOM_ELEMENT:El,DATA_ATTR:jl,DOCTYPE_NAME:Tl,ERB_EXPR:yl,IS_ALLOWED_URI:Nl,IS_SCRIPT_OR_DATA:_l,MUSTACHE_EXPR:vl,TMPLIT_EXPR:bl});const Al=function(){return"undefined"==typeof window?null:window};var Cl=function e(){function s(e,t,s){Wo(e,e=>{e.call(i,t,s,Oe)})}let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Al();const i=t=>e(t);if(i.version="3.3.1",i.removed=[],!r||!r.document||9!==r.document.nodeType||!r.Element)return i.isSupported=!1,i;let{document:o}=r;const l=o,c=l.currentScript,{DocumentFragment:d,HTMLTemplateElement:u,Node:m,Element:h,NodeFilter:p,NamedNodeMap:f=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:g,DOMParser:x,trustedTypes:v}=r,y=h.prototype,b=n(y,"cloneNode"),j=n(y,"remove"),w=n(y,"nextSibling"),N=n(y,"childNodes"),_=n(y,"parentNode");if("function"==typeof u){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let S,T="";const{implementation:E,createNodeIterator:k,createDocumentFragment:A,getElementsByTagName:C}=o,{importNode:R}=l;let O={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported="function"==typeof Lo&&"function"==typeof _&&E&&void 0!==E.createHTMLDocument;const{MUSTACHE_EXPR:D,ERB_EXPR:I,TMPLIT_EXPR:P,DATA_ATTR:L,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:z}=kl;let{IS_ALLOWED_URI:V}=kl,U=null;const H=t({},[...ol,...ll,...cl,...ul,...hl]);let B=null;const q=t({},[...pl,...fl,...gl,...xl]);let W=Object.seal(Ho(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,G=null;const J=Object.seal(Ho(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Y=!0,X=!0,Q=!1,Z=!0,ee=!1,te=!0,se=!1,ae=!1,ne=!1,re=!1,ie=!1,oe=!1,le=!0,ce=!1,de=!0,ue=!1,me={},he=null;const pe=t({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fe=null;const ge=t({},["audio","video","img","source","image","track"]);let xe=null;const ve=t({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ye="http://www.w3.org/1998/Math/MathML",be="http://www.w3.org/2000/svg",je="http://www.w3.org/1999/xhtml";let we=je,Ne=!1,_e=null;const Se=t({},[ye,be,je],Qo);let Te=t({},["mi","mo","mn","ms","mtext"]),Ee=t({},["annotation-xml"]);const ke=t({},["title","style","font","a","script"]);let Ae=null;const Ce=["application/xhtml+xml","text/html"];let Re=null,Oe=null;const De=o.createElement("form"),Ie=function(e){return e instanceof RegExp||e instanceof Function},Pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Oe||Oe!==e){if(e&&"object"==typeof e||(e={}),e=a(e),Ae=-1===Ce.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Re="application/xhtml+xml"===Ae?Qo:Xo,U=al(e,"ALLOWED_TAGS")?t({},e.ALLOWED_TAGS,Re):H,B=al(e,"ALLOWED_ATTR")?t({},e.ALLOWED_ATTR,Re):q,_e=al(e,"ALLOWED_NAMESPACES")?t({},e.ALLOWED_NAMESPACES,Qo):Se,xe=al(e,"ADD_URI_SAFE_ATTR")?t(a(ve),e.ADD_URI_SAFE_ATTR,Re):ve,fe=al(e,"ADD_DATA_URI_TAGS")?t(a(ge),e.ADD_DATA_URI_TAGS,Re):ge,he=al(e,"FORBID_CONTENTS")?t({},e.FORBID_CONTENTS,Re):pe,K=al(e,"FORBID_TAGS")?t({},e.FORBID_TAGS,Re):a({}),G=al(e,"FORBID_ATTR")?t({},e.FORBID_ATTR,Re):a({}),me=!!al(e,"USE_PROFILES")&&e.USE_PROFILES,Y=!1!==e.ALLOW_ARIA_ATTR,X=!1!==e.ALLOW_DATA_ATTR,Q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ee=e.SAFE_FOR_TEMPLATES||!1,te=!1!==e.SAFE_FOR_XML,se=e.WHOLE_DOCUMENT||!1,re=e.RETURN_DOM||!1,ie=e.RETURN_DOM_FRAGMENT||!1,oe=e.RETURN_TRUSTED_TYPE||!1,ne=e.FORCE_BODY||!1,le=!1!==e.SANITIZE_DOM,ce=e.SANITIZE_NAMED_PROPS||!1,de=!1!==e.KEEP_CONTENT,ue=e.IN_PLACE||!1,V=e.ALLOWED_URI_REGEXP||Nl,we=e.NAMESPACE||je,Te=e.MATHML_TEXT_INTEGRATION_POINTS||Te,Ee=e.HTML_INTEGRATION_POINTS||Ee,W=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ie(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ie(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(X=!1),ie&&(re=!0),me&&(U=t({},hl),B=[],!0===me.html&&(t(U,ol),t(B,pl)),!0===me.svg&&(t(U,ll),t(B,fl),t(B,xl)),!0===me.svgFilters&&(t(U,cl),t(B,fl),t(B,xl)),!0===me.mathMl&&(t(U,ul),t(B,gl),t(B,xl))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?J.tagCheck=e.ADD_TAGS:(U===H&&(U=a(U)),t(U,e.ADD_TAGS,Re))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?J.attributeCheck=e.ADD_ATTR:(B===q&&(B=a(B)),t(B,e.ADD_ATTR,Re))),e.ADD_URI_SAFE_ATTR&&t(xe,e.ADD_URI_SAFE_ATTR,Re),e.FORBID_CONTENTS&&(he===pe&&(he=a(he)),t(he,e.FORBID_CONTENTS,Re)),e.ADD_FORBID_CONTENTS&&(he===pe&&(he=a(he)),t(he,e.ADD_FORBID_CONTENTS,Re)),de&&(U["#text"]=!0),se&&t(U,["html","head","body"]),U.table&&(t(U,["tbody"]),delete K.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw rl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw rl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=e.TRUSTED_TYPES_POLICY,T=S.createHTML("")}else void 0===S&&(S=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let s=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(s=t.getAttribute(a));const n="dompurify"+(s?"#"+s:"");try{return e.createPolicy(n,{createHTML:e=>e,createScriptURL:e=>e})}catch(Wd){return null}}(v,c)),null!==S&&"string"==typeof T&&(T=S.createHTML(""));Vo&&Vo(e),Oe=e}},Le=t({},[...ll,...cl,...dl]),Me=t({},[...ul,...ml]),Fe=function(e){Jo(i.removed,{element:e});try{_(e).removeChild(e)}catch(Wd){j(e)}},$e=function(e,t){try{Jo(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(Wd){Jo(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(re||ie)try{Fe(t)}catch(Wd){}else try{t.setAttribute(e,"")}catch(Wd){}},ze=function(e){let t=null,s=null;if(ne)e="<remove></remove>"+e;else{const t=Zo(e,/^[\r\n\t ]+/);s=t&&t[0]}"application/xhtml+xml"===Ae&&we===je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const a=S?S.createHTML(e):e;if(we===je)try{t=(new x).parseFromString(a,Ae)}catch(Wd){}if(!t||!t.documentElement){t=E.createDocument(we,"template",null);try{t.documentElement.innerHTML=Ne?T:a}catch(Wd){}}const n=t.body||t.documentElement;return e&&s&&n.insertBefore(o.createTextNode(s),n.childNodes[0]||null),we===je?C.call(t,se?"html":"body")[0]:se?t.documentElement:n},Ve=function(e){return k.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},Ue=function(e){return e instanceof g&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof f)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},He=function(e){return"function"==typeof m&&e instanceof m},Be=function(e){let t=null;if(s(O.beforeSanitizeElements,e,null),Ue(e))return Fe(e),!0;const a=Re(e.nodeName);if(s(O.uponSanitizeElement,e,{tagName:a,allowedTags:U}),te&&e.hasChildNodes()&&!He(e.firstElementChild)&&nl(/<[/\w!]/g,e.innerHTML)&&nl(/<[/\w!]/g,e.textContent))return Fe(e),!0;if(7===e.nodeType)return Fe(e),!0;if(te&&8===e.nodeType&&nl(/<[/\w]/g,e.data))return Fe(e),!0;if(!(J.tagCheck instanceof Function&&J.tagCheck(a))&&(!U[a]||K[a])){if(!K[a]&&We(a)){if(W.tagNameCheck instanceof RegExp&&nl(W.tagNameCheck,a))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(a))return!1}if(de&&!he[a]){const t=_(e)||e.parentNode,s=N(e)||e.childNodes;if(s&&t)for(let a=s.length-1;a>=0;--a){const n=b(s[a],!0);n.__removalCount=(e.__removalCount||0)+1,t.insertBefore(n,w(e))}}return Fe(e),!0}return e instanceof h&&!function(e){let t=_(e);t&&t.tagName||(t={namespaceURI:we,tagName:"template"});const s=Xo(e.tagName),a=Xo(t.tagName);return!!_e[e.namespaceURI]&&(e.namespaceURI===be?t.namespaceURI===je?"svg"===s:t.namespaceURI===ye?"svg"===s&&("annotation-xml"===a||Te[a]):Boolean(Le[s]):e.namespaceURI===ye?t.namespaceURI===je?"math"===s:t.namespaceURI===be?"math"===s&&Ee[a]:Boolean(Me[s]):e.namespaceURI===je?!(t.namespaceURI===be&&!Ee[a])&&!(t.namespaceURI===ye&&!Te[a])&&!Me[s]&&(ke[s]||!Le[s]):!("application/xhtml+xml"!==Ae||!_e[e.namespaceURI]))}(e)?(Fe(e),!0):"noscript"!==a&&"noembed"!==a&&"noframes"!==a||!nl(/<\/no(script|embed|frames)/i,e.innerHTML)?(ee&&3===e.nodeType&&(t=e.textContent,Wo([D,I,P],e=>{t=el(t,e," ")}),e.textContent!==t&&(Jo(i.removed,{element:e.cloneNode()}),e.textContent=t)),s(O.afterSanitizeElements,e,null),!1):(Fe(e),!0)},qe=function(e,t,s){if(le&&("id"===t||"name"===t)&&(s in o||s in De))return!1;if(X&&!G[t]&&nl(L,t));else if(Y&&nl(M,t));else if(J.attributeCheck instanceof Function&&J.attributeCheck(t,e));else if(!B[t]||G[t]){if(!(We(e)&&(W.tagNameCheck instanceof RegExp&&nl(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&nl(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t,e))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&nl(W.tagNameCheck,s)||W.tagNameCheck instanceof Function&&W.tagNameCheck(s))))return!1}else if(xe[t]);else if(nl(V,el(s,$,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==tl(s,"data:")||!fe[e])if(Q&&!nl(F,el(s,$,"")));else if(s)return!1;return!0},We=function(e){return"annotation-xml"!==e&&Zo(e,z)},Ke=function(e){s(O.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Ue(e))return;const a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B,forceKeepAttr:void 0};let n=t.length;for(;n--;){const r=t[n],{name:o,namespaceURI:l,value:c}=r,d=Re(o),u=c;let m="value"===o?u:sl(u);if(a.attrName=d,a.attrValue=m,a.keepAttr=!0,a.forceKeepAttr=void 0,s(O.uponSanitizeAttribute,e,a),m=a.attrValue,!ce||"id"!==d&&"name"!==d||($e(o,e),m="user-content-"+m),te&&nl(/((--!?|])>)|<\/(style|title|textarea)/i,m)){$e(o,e);continue}if("attributename"===d&&Zo(m,"href")){$e(o,e);continue}if(a.forceKeepAttr)continue;if(!a.keepAttr){$e(o,e);continue}if(!Z&&nl(/\/>/i,m)){$e(o,e);continue}ee&&Wo([D,I,P],e=>{m=el(m,e," ")});const h=Re(e.nodeName);if(qe(h,d,m)){if(S&&"object"==typeof v&&"function"==typeof v.getAttributeType)if(l);else switch(v.getAttributeType(h,d)){case"TrustedHTML":m=S.createHTML(m);break;case"TrustedScriptURL":m=S.createScriptURL(m)}if(m!==u)try{l?e.setAttributeNS(l,o,m):e.setAttribute(o,m),Ue(e)?Fe(e):Go(i.removed)}catch(Wd){$e(o,e)}}else $e(o,e)}s(O.afterSanitizeAttributes,e,null)},Ge=function e(t){let a=null;const n=Ve(t);for(s(O.beforeSanitizeShadowDOM,t,null);a=n.nextNode();)s(O.uponSanitizeShadowNode,a,null),Be(a),Ke(a),a.content instanceof d&&e(a.content);s(O.afterSanitizeShadowDOM,t,null)};return i.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=null,a=null,n=null,r=null;if(Ne=!e,Ne&&(e="\x3c!--\x3e"),"string"!=typeof e&&!He(e)){if("function"!=typeof e.toString)throw rl("toString is not a function");if("string"!=typeof(e=e.toString()))throw rl("dirty is not a string, aborting")}if(!i.isSupported)return e;if(ae||Pe(t),i.removed=[],"string"==typeof e&&(ue=!1),ue){if(e.nodeName){const t=Re(e.nodeName);if(!U[t]||K[t])throw rl("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof m)s=ze("\x3c!----\x3e"),a=s.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?s=a:s.appendChild(a);else{if(!re&&!ee&&!se&&-1===e.indexOf("<"))return S&&oe?S.createHTML(e):e;if(s=ze(e),!s)return re?null:oe?T:""}s&&ne&&Fe(s.firstChild);const o=Ve(ue?e:s);for(;n=o.nextNode();)Be(n),Ke(n),n.content instanceof d&&Ge(n.content);if(ue)return e;if(re){if(ie)for(r=A.call(s.ownerDocument);s.firstChild;)r.appendChild(s.firstChild);else r=s;return(B.shadowroot||B.shadowrootmode)&&(r=R.call(l,r,!0)),r}let c=se?s.outerHTML:s.innerHTML;return se&&U["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&nl(Tl,s.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+c),ee&&Wo([D,I,P],e=>{c=el(c,e," ")}),S&&oe?S.createHTML(c):c},i.setConfig=function(){Pe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),ae=!0},i.clearConfig=function(){Oe=null,ae=!1},i.isValidAttribute=function(e,t,s){Oe||Pe({});const a=Re(e),n=Re(t);return qe(a,n,s)},i.addHook=function(e,t){"function"==typeof t&&Jo(O[e],t)},i.removeHook=function(e,t){if(void 0!==t){const s=Ko(O[e],t);return-1===s?void 0:Yo(O[e],s,1)[0]}return Go(O[e])},i.removeHooks=function(e){O[e]=[]},i.removeAllHooks=function(){O={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i}();const Rl=["b","i","em","strong","u","a","p","br","ul","ol","li","h1","h2","h3","h4","h5","h6","blockquote","code","pre","span","div"],Ol=["href","target","rel","class","id","title"],Dl={enabled:!0,strictMode:!0,logViolations:!1},Il="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Pl="production";class Ll{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=v()}static clone(e){return e?e.clone():new Ll}clone(){const e=new Ll;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&i(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Ll){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(ni(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=v(),this}addBreadcrumb(e,t){const s="number"==typeof t?t:100;if(0>=s)return this;const a={timestamp:ri(),...e},n=this._breadcrumbs;return n.push(a),this._breadcrumbs=n.length>s?n.slice(-s):n,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:s,_tags:a,_extra:n,_user:r,_level:i,_fingerprint:o,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:d,_transactionName:u,_span:m}=this;return{breadcrumbs:e,attachments:t,contexts:s,tags:a,extra:n,user:r,level:i,fingerprint:o||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:d,transactionName:u,span:m}}applyToEvent(e,t={},s=[]){return function(e,t){const{fingerprint:s,span:a,breadcrumbs:n,sdkProcessingMetadata:r}=t;!function(e,t){const{extra:s,tags:a,user:n,contexts:r,level:i,transactionName:o}=t,l=ti(s);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=ti(a);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const d=ti(n);d&&Object.keys(d).length&&(e.user={...d,...e.user});const u=ti(r);u&&Object.keys(u).length&&(e.contexts={...u,...e.contexts}),i&&(e.level=i),o&&(e.transaction=o)}(e,t),a&&function(e,t){e.contexts={trace:o(t),...e.contexts};const s=f(t);if(s){e.sdkProcessingMetadata={dynamicSamplingContext:x(t),...e.sdkProcessingMetadata};const a=u(s).description;a&&(e.tags={transaction:a,...e.tags})}}(e,a),function(e,t){e.fingerprint=e.fingerprint?ai(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,s),function(e,t){const s=[...e.breadcrumbs||[],...t];e.breadcrumbs=s.length?s:void 0}(e,n),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,r)}(e,this.getScopeData()),r([...s,...Jr("globalEventProcessors",()=>[]),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const s=t&&t.event_id?t.event_id:ei();if(!this._client)return Xr.warn("No client configured on scope - will not capture exception!"),s;const a=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:a,...t,event_id:s},this),s}captureMessage(e,t,s){const a=s&&s.event_id?s.event_id:ei();if(!this._client)return Xr.warn("No client configured on scope - will not capture message!"),a;const n=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:n,...s,event_id:a},this),a}captureEvent(e,t){const s=t&&t.event_id?t.event_id:ei();return this._client?(this._client.captureEvent(e,{...t,event_id:s},this),s):(Xr.warn("No client configured on scope - will not capture event!"),s)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Ml=parseFloat("7.120.4"),Fl=100;class $l{constructor(e,t,s,a=Ml){let n,r;this._version=a,t?n=t:(n=new Ll,n.setClient(e)),s?r=s:(r=new Ll,r.setClient(e)),this._stack=[{scope:n}],e&&this.bindClient(e),this._isolationScope=r}isOlderThan(e){return e>this._version}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length>1&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let s;try{s=e(t)}catch(_d){throw this.popScope(),_d}return Qr(s)?s.then(e=>(this.popScope(),e),e=>{throw this.popScope(),e}):(this.popScope(),s)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const s=this._lastEventId=t&&t.event_id?t.event_id:ei(),a=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:a,...t,event_id:s}),s}captureMessage(e,t,s){const a=this._lastEventId=s&&s.event_id?s.event_id:ei(),n=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:n,...s,event_id:a}),a}captureEvent(e,t){const s=t&&t.event_id?t.event_id:ei();return e.type||(this._lastEventId=s),this.getScope().captureEvent(e,{...t,event_id:s}),s}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:s,client:a}=this.getStackTop();if(!a)return;const{beforeBreadcrumb:n=null,maxBreadcrumbs:r=Fl}=a.getOptions&&a.getOptions()||{};if(0>=r)return;const i={timestamp:ri(),...e},o=n?oi(()=>n(i,t)):i;null!==o&&(a.emit&&a.emit("beforeAddBreadcrumb",o,t),s.addBreadcrumb(o,r))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:s}=this.getStackTop();s&&e(t)}run(e){const t=b(this);try{e(this)}finally{b(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(s){return Il&&Xr.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const s=this._callExtensionMethod("startTransaction",e,t);if(Il&&!s){const e=this.getClient();Xr.warn(e?"Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n":"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return s}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),i(e,t)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:s}=this.getStackTop(),{release:a,environment:n=Pl}=s&&s.getOptions()||{},{userAgent:r}=ii.navigator||{},o=function(e){const t=Zr(),s={sid:ei(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return ti({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(s)};return e&&i(s,e),s}({release:a,environment:n,user:t.getUser(),...r&&{userAgent:r},...e}),l=t.getSession&&t.getSession();return l&&"ok"===l.status&&i(l,{status:"exited"}),this.endSession(),t.setSession(o),o}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),s=e.getSession();s&&t&&t.captureSession&&t.captureSession(s)}_callExtensionMethod(e,...t){const s=y().__SENTRY__;if(s&&s.extensions&&"function"==typeof s.extensions[e])return s.extensions[e].apply(this,t);Il&&Xr.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}let zl=!1;var Vl;T.tag="sentry_tracingErrorCallback",function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(Vl||(Vl={}));const Ul="_sentryScope",Hl="_sentryIsolationScope",Bl="sentry.source",ql="sentry.sample_rate",Wl="sentry.op",Kl="sentry.origin";class Gl{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Jl{constructor(e={}){this._traceId=e.traceId||ei(),this._spanId=e.spanId||ei().substring(16),this._startTime=e.startTimestamp||Zr(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Kl]:e.origin||"manual",[Wl]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Wl]}set op(e){this.setAttribute(Wl,e)}get origin(){return this._attributes[Kl]}set origin(e){this.setAttribute(Kl,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:s}=this;return{spanId:e,traceId:t,traceFlags:s?1:0}}startChild(e){const t=new Jl({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const s=f(this);if(t.transaction=s,Il&&s){const a=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${u(t).description||"< unknown name >"}' (${s.spanContext().spanId}).`;Xr.log(a),this._logMessage=a}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach(t=>this.setAttribute(t,e[t]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return E(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=f(this);if(Il&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&Xr.log(e.replace("Starting","Finishing"))}this._endTime=c(e)}toTraceparent(){return l(this)}toContext(){return ti({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return o(this)}getSpanJSON(){return ti({data:this._getData(),description:this._name,op:this._attributes[Wl],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Kl],_metrics_summary:void 0,profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,s=Object.keys(e).length>0,a=Object.keys(t).length>0;if(s||a)return s&&a?{...e,...t}:s?e:t}}class Yl extends Jl{constructor(e,t){super(e),this._contexts={},this._hub=t||j(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const s=this._metadata.dynamicSamplingContext;s&&(this._frozenDynamicSamplingContext={...s})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Bl]&&{source:this._attributes[Bl]},...this._attributes[ql]&&{sampleRate:this._attributes[ql]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(Bl,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Gl(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,s=""){this._measurements[e]={value:t,unit:s}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=c(e),s=this._finishTransaction(t);if(s)return this._hub.captureEvent(s)}toContext(){const e=super.toContext();return ti({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return x(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(Il&&Xr.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return Il&&Xr.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const s=this.spanRecorder?this.spanRecorder.spans.filter(e=>e!==this&&u(e).timestamp):[];if(this._trimEnd&&s.length>0){const e=s.map(e=>u(e).timestamp).filter(Boolean);this._endTime=e.reduce((e,t)=>e>t?e:t)}const{scope:a,isolationScope:n}={scope:this[Ul],isolationScope:this[Hl]},{metadata:r}=this,{source:i}=r,l={contexts:{...this._contexts,trace:o(this)},spans:s,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...r,capturedSpanScope:a,capturedSpanIsolationScope:n,...ti({dynamicSamplingContext:x(this)})},_metrics_summary:void 0,...i&&{transaction_info:{source:i}}};return Object.keys(this._measurements).length>0&&(Il&&Xr.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),Il&&Xr.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const Xl={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Ql=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Zl extends Gl{constructor(e,t,s,a){super(a),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=s}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...s)=>(this._popActivity(e.spanContext().spanId),t.apply(e,s)),void 0===u(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class ec extends Yl{constructor(e,t,s=Xl.idleTimeout,a=Xl.finalTimeout,n=Xl.heartbeatInterval,r=!1,i=!1){super(e,t),this._idleHub=t,this._idleTimeout=s,this._finalTimeout=a,this._heartbeatInterval=n,this._onScope=r,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Ql[4],this._autoFinishAllowed=!i,r&&(Il&&Xr.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),i||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Ql[3],this.end())},this._finalTimeout)}end(e){const t=c(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){Il&&Xr.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;u(e).timestamp||(e.setStatus("cancelled"),e.end(t),Il&&Xr.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:s,timestamp:a}=u(e),n=s&&t>s,r=a&&s&&(this._finalTimeout+this._idleTimeout)/1e3>a-s;if(Il){const t=JSON.stringify(e,void 0,2);n?r||Xr.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):Xr.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return n&&r}),Il&&Xr.log("[Tracing] flushing IdleTransaction")}else Il&&Xr.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){this.spanRecorder||(this.spanRecorder=new Zl(e=>{this._finished||this._pushActivity(e)},e=>{this._finished||this._popActivity(e)},this.spanContext().spanId,e),Il&&Xr.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Ql[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(Il&&Xr.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=Ql[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),Il&&Xr.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,Il&&Xr.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(Il&&Xr.log(`[Tracing] popActivity ${e}`),delete this.activities[e],Il&&Xr.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=Zr();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Ql[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,3>this._heartbeatCounter?this._pingHeartbeat():this._autoFinishAllowed&&(Il&&Xr.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Ql[0],this.end())}_pingHeartbeat(){Il&&Xr.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}const tc="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,sc=ii,ac=(e,t,s)=>{let a,n;return r=>{0>t.value||(r||s)&&(n=t.value-(a||0),(n||void 0===a)&&(a=t.value,t.delta=n,e(t)))}},nc=()=>sc.__WEB_VITALS_POLYFILL__?sc.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=sc.performance.timing,t=sc.performance.navigation.type,s={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const a in e)"navigationStart"!==a&&"toJSON"!==a&&(s[a]=Math.max(e[a]-e.navigationStart,0));return s})()):sc.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],rc=()=>{const e=nc();return e&&e.activationStart||0},ic=(e,t)=>{const s=nc();let a="navigate";return s&&(a=sc.document&&sc.document.prerendering||rc()>0?"prerender":s.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:a}},oc=(e,t,s)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const a=new PerformanceObserver(e=>{t(e.getEntries())});return a.observe({type:e,buffered:!0,...s}),a}}catch(_d){}},lc=(e,t)=>{const s=a=>{"pagehide"!==a.type&&"hidden"!==sc.document.visibilityState||(e(a),t&&(removeEventListener("visibilitychange",s,!0),removeEventListener("pagehide",s,!0)))};sc.document&&(addEventListener("visibilitychange",s,!0),addEventListener("pagehide",s,!0))};let cc=-1;const dc=()=>(0>cc&&(sc.document&&sc.document.visibilityState&&(cc="hidden"!==sc.document.visibilityState||sc.document.prerendering?1/0:0),lc(({timeStamp:e})=>{cc=e},!0)),{get firstHiddenTime(){return cc}});let uc=0,mc=1/0,hc=0;const pc=e=>{e.forEach(e=>{e.interactionId&&(mc=Math.min(mc,e.interactionId),hc=Math.max(hc,e.interactionId),uc=hc?(hc-mc)/7+1:0)})};let fc;const gc=()=>{"interactionCount"in performance||fc||(fc=oc("event",pc,{type:"event",buffered:!0,durationThreshold:0}))},xc=()=>fc?uc:performance.interactionCount||0,vc=[],yc={},bc=e=>{const t=yc[e.interactionId];if(t||10>vc.length||e.duration>vc[vc.length-1].latency){if(t)t.entries.push(e),t.latency=Math.max(t.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};yc[t.id]=t,vc.push(t)}vc.sort((e,t)=>t.latency-e.latency),vc.splice(10).forEach(e=>{delete yc[e.id]})}},jc={},wc=e=>{sc.document&&(sc.document.prerendering?addEventListener("prerenderingchange",()=>wc(e),!0):"complete"!==sc.document.readyState?addEventListener("load",()=>wc(e),!0):setTimeout(e,0))},Nc={},_c={};let Sc,Tc,Ec,kc,Ac,Cc,Rc,Oc=0,Dc={};const Ic={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},Pc=["localhost",/^\/(?!\/)/],Lc={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Pc,tracePropagationTargets:Pc},Mc={...Xl,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,s=!0){if(!sc||!sc.location)return void(tc&&Xr.warn("Could not initialize routing instrumentation due to invalid location"));let a,n=sc.location.href;t&&(a=e({name:sc.location.pathname,startTimestamp:fi?fi/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),s&&Ti(({to:t,from:s})=>{void 0===s&&n&&-1!==n.indexOf(t)?n=void 0:s!==t&&(n=void 0,a&&(tc&&Xr.log(`[Tracing] Finishing current transaction with op: ${a.op}`),a.end()),a=e({name:sc.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Lc},Fc=class{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,P(),tc&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...Mc,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=function(){const e=Y();if(e&&fi){e.mark&&sc.performance.mark("sentry-tracing-init");const t=B("fid",({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const s=J(fi),a=J(t.startTime);tc&&Xr.log("[Measurements] Adding FID"),Dc.fid={value:e.value,unit:"millisecond"},Dc["mark.fid"]={value:s+a,unit:"second"}},z,Tc),s=function(e,t=!1){return B("cls",e,$,Sc,t)}(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(tc&&Xr.log("[Measurements] Adding CLS"),Dc.cls={value:e.value,unit:""},Rc=t)},!0),a=function(e,t=!1){return B("lcp",e,V,Ec,t)}(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(tc&&Xr.log("[Measurements] Adding LCP"),Dc.lcp={value:e.value,unit:"millisecond"},Cc=t)},!0),n=B("ttfb",({metric:e})=>{e.entries[e.entries.length-1]&&(tc&&Xr.log("[Measurements] Adding TTFB"),Dc.ttfb={value:e.value,unit:"millisecond"})},U,kc);return()=>{t(),s(),a(),n()}}return()=>{}}(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&function(e,t){if(Y()&&fi){const s=function(e,t){return s=({metric:s})=>{if(void 0===s.value)return;const a=s.entries.find(e=>e.duration===s.value&&void 0!==Ic[e.name]),n=h();if(!a||!n)return;const r=Ic[a.name],i=n.getOptions(),o=J(fi+a.startTime),l=J(s.value),c=void 0!==a.interactionId?e[a.interactionId]:void 0;if(void 0===c)return;const{routeName:d,parentContext:u,activeTransaction:m,user:p,replayId:f}=c,g=void 0!==p?p.email||p.id||p.ip_address:void 0,x=void 0!==m?m.getProfileId():void 0,v=new Jl({startTimestamp:o,endTimestamp:o+l,op:`ui.interaction.${r}`,name:xi(a.target),attributes:{release:i.release,environment:i.environment,transaction:d,...void 0!==g&&""!==g?{user:g}:{},...void 0!==x?{profile_id:x}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:s.value,measurements:{inp:{value:s.value,unit:"millisecond"}}}),y=function(e,t,s){if(!k(t))return!1;let a;return a=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:sc.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,R(a)?!0===a?s:!1===a?0:a*s:(tc&&Xr.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(u,i,t);if(y&&Math.random()<y){const e=v?function(e,t){const s={sent_at:(new Date).toISOString()};t&&(s.dsn=mi(t));const a=e.map(L);return hi(s,a)}([v],n.getDsn()):void 0,t=n&&n.getTransport();return void(t&&e&&t.send(e).then(null,e=>{tc&&Xr.error("Error while sending interaction:",e)}))}},B("inp",s,H,Ac);var s}(e,t)}}(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&M("longtask",({entries:e})=>{for(const t of e){const e=S();if(!e)return;const s=J(fi+t.startTime),a=J(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:s,endTimestamp:s+a})}}),this.options._experiments.enableInteractions&&M("event",({entries:e})=>{for(const t of e){const e=S();if(!e)return;if("click"===t.name){const s=J(fi+t.startTime),a=J(t.duration),n={description:xi(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:s,endTimestamp:s+a},r=vi(t.target);r&&(n.attributes={"ui.component_name":r}),e.startChild(n)}}}),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const s=t().getClient(),a=s&&s.getOptions(),{routingInstrumentation:n,startTransactionOnLocationChange:r,startTransactionOnPageLoad:i,markBackgroundTransactions:o,traceFetch:c,traceXHR:d,shouldCreateSpanForRequest:m,enableHTTPTimings:f,_experiments:v}=this.options,y=a&&a.tracePropagationTargets,b=y||this.options.tracePropagationTargets;tc&&this._hasSetTracePropagationTargets&&y&&Xr.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),n(e=>{const s=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(s,e,t),s},i,r),o&&(sc.document?sc.document.addEventListener("visibilitychange",()=>{const e=S();if(sc.document.hidden&&e){const t="cancelled",{op:s,status:a}=u(e);tc&&Xr.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${s}`),a||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):tc&&Xr.warn("[Tracing] Could not set up background tab detection due to lack of global document")),v.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),function(t){const{traceFetch:s,traceXHR:a,tracePropagationTargets:n,tracingOrigins:r,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:Lc.traceFetch,traceXHR:Lc.traceXHR,...t},c="function"==typeof i?i:e=>!0,d=e=>function(e,t){return Si(e,t||Pc)}(e,n||r),u={};s&&wi(e=>{const t=function(e,t,s,a,n="auto.http.browser"){if(!k()||!e.fetchData)return;const r=t(e.fetchData.url);if(e.endTimestamp&&r){const t=e.fetchData.__span;if(!t)return;const s=a[t];return void(s&&(function(e,t){if(t.response){E(e,t.response.status);const s=t.response&&t.response.headers&&t.response.headers.get("content-length");if(s){const t=parseInt(s);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(s,e),delete a[t]))}const i=p(),o=h(),{method:c,url:d}=e.fetchData,u=function(e){try{return new URL(e).href}catch(_d){return}}(d),m=u?gi(u).host:void 0,f=r?A({name:`${c} ${d}`,onlyIfParent:!0,attributes:{url:d,type:"fetch","http.method":c,"http.url":u,"server.address":m,[Kl]:n},op:"http.client"}):void 0;if(f&&(e.fetchData.__span=f.spanContext().spanId,a[f.spanContext().spanId]=f),s(e.fetchData.url)&&o){const t=e.args[0];e.args[1]=e.args[1]||{};const s=e.args[1];s.headers=function(e,t,s,a,n){const r=n||s.getSpan(),i=w(),{traceId:o,spanId:c,sampled:d,dsc:u}={...i.getPropagationContext(),...s.getPropagationContext()},m=r?l(r):si(o,c,d),h=yi(u||(r?x(r):g(o,t,s))),p=a.headers||("undefined"!=typeof Request&&bi(e,Request)?e.headers:void 0);if(p){if("undefined"!=typeof Headers&&bi(p,Headers)){const e=new Headers(p);return e.append("sentry-trace",m),h&&e.append(ji,h),e}if(Array.isArray(p)){const e=[...p,["sentry-trace",m]];return h&&e.push([ji,h]),e}{const e="baggage"in p?p.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),h&&t.push(h),{...p,"sentry-trace":m,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":m,baggage:h}}(t,o,i,s,f)}return f}(e,c,d,u);if(t){const s=te(e.fetchData.url),a=s?gi(s).host:void 0;t.setAttributes({"http.url":s,"server.address":a})}o&&t&&Z(t)}),a&&Ni(t=>{const s=function(t,s,a,n){const r=t.xhr,i=r&&r[_i];if(!k()||!r||r.__sentry_own_request__||!i)return;const o=s(i.url);if(t.endTimestamp&&o){const e=r.__sentry_xhr_span_id__;if(!e)return;const t=n[e];return void(t&&void 0!==i.status_code&&(E(t,i.status_code),t.end(),delete n[e]))}const c=p(),d=w(),u=te(i.url),m=u?gi(u).host:void 0,f=o?A({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":m,[Kl]:"auto.http.browser"},op:"http.client"}):void 0;f&&(r.__sentry_xhr_span_id__=f.spanContext().spanId,n[r.__sentry_xhr_span_id__]=f);const v=h();if(r.setRequestHeader&&a(i.url)&&v){const{traceId:t,spanId:s,sampled:a,dsc:n}={...d.getPropagationContext(),...c.getPropagationContext()};!function(t,s,a){try{t.setRequestHeader("sentry-trace",s),a&&t.setRequestHeader(ji,a)}catch(e){}}(r,f?l(f):si(t,s,a),yi(n||(f?x(f):g(t,v,c))))}return f}(t,c,d,u);o&&s&&Z(s)})}({traceFetch:c,traceXHR:d,tracePropagationTargets:b,shouldCreateSpanForRequest:m,enableHTTPTimings:f})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(tc&&Xr.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:s,idleTimeout:a,finalTimeout:n,heartbeatInterval:r}=this.options,i="pageload"===e.op;let o;if(i){const t=i?se("sentry-trace"):"",s=i?se("baggage"):void 0,{traceId:a,dsc:n,parentSpanId:r,sampled:l}=Ei(t,s);o={traceId:a,parentSpanId:r,parentSampled:l,...e,metadata:{...e.metadata,dynamicSamplingContext:n},trimEnd:!0}}else o={trimEnd:!0,...e};const l="function"==typeof s?s(o):o,c=void 0===l?{...o,sampled:!1}:l;c.metadata=c.name!==o.name?{...c.metadata,source:"custom"}:c.metadata,this._latestRoute.name=c.name,this._latestRoute.context=c,!1===c.sampled&&tc&&Xr.log(`[Tracing] Will not send ${c.op} transaction because of beforeNavigate.`),tc&&Xr.log(`[Tracing] Starting ${c.op} transaction on scope`);const{location:d}=sc,m=I(t,c,a,n,!0,{location:d},r,i);return i&&sc.document&&(sc.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(sc.document.readyState)&&m.sendAutoFinishSignal()}),["interactive","complete"].includes(sc.document.readyState)&&m.sendAutoFinishSignal()),m.registerBeforeFinishCallback(e=>{this._collectWebVitals(),function(e){const t=Y();if(!t||!sc.performance.getEntries||!fi)return;tc&&Xr.log("[Tracing] Adding & adjusting spans using Performance API");const s=J(fi),a=t.getEntries(),{op:n,start_timestamp:r}=u(e);if(a.slice(Oc).forEach(t=>{const a=J(t.startTime),n=J(t.duration);if("navigation"!==e.op||!r||s+a>=r)switch(t.entryType){case"navigation":!function(e,t,s){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(a=>{X(e,t,a,s)}),X(e,t,"secureConnection",s,"TLS/SSL","connectEnd"),X(e,t,"fetch",s,"cache","domainLookupStart"),X(e,t,"domainLookup",s,"DNS"),function(e,t,s){t.responseEnd&&(G(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:s+J(t.requestStart),endTimestamp:s+J(t.responseEnd)}),G(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:s+J(t.responseStart),endTimestamp:s+J(t.responseEnd)}))}(e,t,s)}(e,t,s);break;case"mark":case"paint":case"measure":{!function(e,t,s,a,n){const r=n+s;G(e,{description:t.name,endTimestamp:r+a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:r})}(e,t,a,n,s);const r=dc().firstHiddenTime>t.startTime;"first-paint"===t.name&&r&&(tc&&Xr.log("[Measurements] Adding FP"),Dc.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&r&&(tc&&Xr.log("[Measurements] Adding FCP"),Dc.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,s,a,n,r){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i=gi(s),o={};Q(o,t,"transferSize","http.response_transfer_size"),Q(o,t,"encodedBodySize","http.response_content_length"),Q(o,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus),i.protocol&&(o["url.scheme"]=i.protocol.split(":").pop()),i.host&&(o["server.address"]=i.host),o["url.same_origin"]=s.includes(sc.location.origin);const l=r+a,c=l+n;G(e,{description:s.replace(sc.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:o})}(e,t,t.name,a,n,s)}}),Oc=Math.max(a.length-1,0),function(e){const t=sc.navigator;if(!t)return;const s=t.connection;s&&(s.effectiveType&&e.setTag("effectiveConnectionType",s.effectiveType),s.type&&e.setTag("connectionType",s.type),K(s.rtt)&&(Dc["connection.rtt"]={value:s.rtt,unit:"millisecond"})),K(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),K(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===n){!function(e){const t=nc();if(!t)return;const{responseStart:s,requestStart:a}=t;a>s||(tc&&Xr.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:s-a,unit:"millisecond"})}(Dc),["fcp","fp","lcp"].forEach(e=>{if(!Dc[e]||!r||s>=r)return;const t=Dc[e].value,a=s+J(t),n=Math.abs(1e3*(a-r));tc&&Xr.log(`[Measurements] Normalized ${e} from ${t} to ${n} (${n-t})`),Dc[e].value=n});const t=Dc["mark.fid"];t&&Dc.fid&&(G(e,{description:"first input delay",endTimestamp:t.value+J(Dc.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete Dc["mark.fid"]),"fcp"in Dc||delete Dc.cls,Object.keys(Dc).forEach(e=>{!function(e,t,s){const a=S();a&&a.setMeasurement(e,t,s)}(e,Dc[e].value,Dc[e].unit)}),function(e){Cc&&(tc&&Xr.log("[Measurements] Adding LCP Data"),Cc.element&&e.setTag("lcp.element",xi(Cc.element)),Cc.id&&e.setTag("lcp.id",Cc.id),Cc.url&&e.setTag("lcp.url",Cc.url.trim().slice(0,200)),e.setTag("lcp.size",Cc.size)),Rc&&Rc.sources&&(tc&&Xr.log("[Measurements] Adding CLS Data"),Rc.sources.forEach((t,s)=>e.setTag(`cls.source.${s+1}`,xi(t.node))))}(e)}Cc=void 0,Rc=void 0,Dc={}}(e)}),m}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:s,heartbeatInterval:a}=this.options,n="ui.action.click",r=S();if(r&&r.op&&["navigation","pageload"].includes(r.op))return void(tc&&Xr.warn(`[Tracing] Did not create ${n} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(tc&&Xr.warn(`[Tracing] Did not create ${n} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(tc&&Xr.warn(`[Tracing] Did not create ${n} transaction because _latestRouteName is missing.`));const i=this._getCurrentHub(),{location:o}=sc,l={name:this._latestRoute.name,op:n,trimEnd:!0,data:{[Bl]:this._latestRoute.context?ae(this._latestRoute.context):"url"}};e=I(i,l,t,s,!0,{location:o},a)};["click"].forEach(e=>{sc.document&&addEventListener(e,t,{once:!1,capture:!0})})}_registerInpInteractionListener(){const e=({entries:e})=>{const t=h(),s=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,a=void 0!==s?s.getReplayId():void 0,n=S(),r=p(),i=void 0!==r?r.getUser():void 0;e.forEach(e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const s=this._interactionIdToRouteNameMapping[t],r=e.duration,o=e.startTime,l=Object.keys(this._interactionIdToRouteNameMapping),c=l.length>0?l.reduce((e,t)=>this._interactionIdToRouteNameMapping[t].duration>this._interactionIdToRouteNameMapping[e].duration?e:t):void 0;if("first-input"===e.entryType&&l.map(e=>this._interactionIdToRouteNameMapping[e]).some(e=>e.duration===r&&e.startTime===o))return;if(!t)return;if(s)s.duration=Math.max(s.duration,r);else if(10>l.length||void 0===c||r>this._interactionIdToRouteNameMapping[c].duration){const e=this._latestRoute.name,s=this._latestRoute.context;e&&s&&(c&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[c],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:r,parentContext:s,user:i,activeTransaction:n,replayId:a,startTime:o})}}})};M("event",e),M("first-input",e)}};("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(P(),Ai()&&function(){const e=y();if(!e.__SENTRY__)return;const t={mongodb:()=>new(Ri(module,"./node/integrations/mongo").Mongo),mongoose:()=>new(Ri(module,"./node/integrations/mongo").Mongo),mysql:()=>new(Ri(module,"./node/integrations/mysql").Mysql),pg:()=>new(Ri(module,"./node/integrations/postgres").Postgres)},s=Object.keys(t).filter(e=>!!Ci(e)).map(e=>{try{return t[e]()}catch(_d){return}}).filter(e=>e);s.length>0&&(e.__SENTRY__.integrations=[...e.__SENTRY__.integrations||[],...s])}());const $c={dsn:void 0,environment:"production",release:"1.0.0",tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,enabled:!1,debug:!1};var zc,Vc="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},Uc="1.9.0",Hc=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,Bc=function(e){function t(e){return n.add(e),!1}function s(e){return a.add(e),!0}var a=new Set([e]),n=new Set,r=e.match(Hc);if(!r)return function(){return!1};var i=+r[1],o=+r[2],l=+r[3];return null!=r[4]?function(t){return t===e}:function(e){if(a.has(e))return!0;if(n.has(e))return!1;var r=e.match(Hc);if(!r)return t(e);var c=+r[2],d=+r[3];return null!=r[4]||i!==+r[1]?t(e):0===i?o!==c||l>d?t(e):s(e):o>c?t(e):s(e)}}(Uc),qc=Uc.split(".")[0],Wc=Symbol.for("opentelemetry.js.api."+qc),Kc=Vc,Gc=function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,n,r=s.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){n={error:o}}finally{try{a&&!a.done&&(s=r.return)&&s.call(r)}finally{if(n)throw n.error}}return i},Jc=function(e,t,s){if(s||2===arguments.length)for(var a,n=0,r=t.length;r>n;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},Yc=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];return ce("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];return ce("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];return ce("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];return ce("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];return ce("verbose",this._namespace,e)},e}();!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(zc||(zc={}));var Xc,Qc=function(){function e(){function e(e){return function(){for(var t=[],s=0;arguments.length>s;s++)t[s]=arguments[s];var a=oe("diag");if(a)return a[e].apply(a,function(e,t,s){if(s||2===arguments.length)for(var a,n=0,r=t.length;r>n;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}([],function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,n,r=s.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){n={error:o}}finally{try{a&&!a.done&&(s=r.return)&&s.call(r)}finally{if(n)throw n.error}}return i}(t),!1))}}var t=this;t.setLogger=function(e,s){var a,n,r;if(void 0===s&&(s={logLevel:zc.INFO}),e===t){var i=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(a=i.stack)&&void 0!==a?a:i.message),!1}"number"==typeof s&&(s={logLevel:s});var o=oe("diag"),l=function(e,t){function s(s,a){var n=t[s];return"function"!=typeof n||a>e?function(){}:n.bind(t)}return zc.NONE>e?e=zc.NONE:e>zc.ALL&&(e=zc.ALL),t=t||{},{error:s("error",zc.ERROR),warn:s("warn",zc.WARN),info:s("info",zc.INFO),debug:s("debug",zc.DEBUG),verbose:s("verbose",zc.VERBOSE)}}(null!==(n=s.logLevel)&&void 0!==n?n:zc.INFO,e);if(o&&!s.suppressOverrideMessage){var c=null!==(r=(new Error).stack)&&void 0!==r?r:"<failed to generate stacktrace>";o.warn("Current logger will be overwritten from "+c),l.warn("Current logger will overwrite one already registered from "+c)}return ie("diag",l,t,!0)},t.disable=function(){le("diag",t)},t.createComponentLogger=function(e){return new Yc(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),Zc=new function e(t){var s=this;s._currentContext=t?new Map(t):new Map,s.getValue=function(e){return s._currentContext.get(e)},s.setValue=function(t,a){var n=new e(s._currentContext);return n._currentContext.set(t,a),n},s.deleteValue=function(t){var a=new e(s._currentContext);return a._currentContext.delete(t),a}},ed=function(){function e(){}return e.prototype.active=function(){return Zc},e.prototype.with=function(e,t,s){for(var a=[],n=3;arguments.length>n;n++)a[n-3]=arguments[n];return t.call.apply(t,function(e,t,s){if(s||2===arguments.length)for(var a,n=0,r=t.length;r>n;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}([s],function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,n,r=s.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){n={error:o}}finally{try{a&&!a.done&&(s=r.return)&&s.call(r)}finally{if(n)throw n.error}}return i}(a),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),td="context",sd=new ed,ad=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return ie(td,e,Qc.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,s){for(var a,n=[],r=3;arguments.length>r;r++)n[r-3]=arguments[r];return(a=this._getContextManager()).with.apply(a,function(e,t,s){if(s||2===arguments.length)for(var a,n=0,r=t.length;r>n;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}([e,t,s],function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var a,n,r=s.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){n={error:o}}finally{try{a&&!a.done&&(s=r.return)&&s.call(r)}finally{if(n)throw n.error}}return i}(n),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return oe(td)||sd},e.prototype.disable=function(){this._getContextManager().disable(),le(td,Qc.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(Xc||(Xc={}));var nd,rd,id="0000000000000000",od="00000000000000000000000000000000",ld={traceId:od,spanId:id,traceFlags:Xc.NONE},cd=function(){function e(e){void 0===e&&(e=ld),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),dd=Symbol.for("OpenTelemetry Context Key SPAN"),ud=/^([0-9a-f]{32})$/i,md=/^[0-9a-f]{16}$/i,hd=ad.getInstance(),pd=function(){function e(){}return e.prototype.startSpan=function(e,t,s){if(void 0===s&&(s=hd.active()),Boolean(null==t?void 0:t.root))return new cd;var a,n=s&&fe(s);return"object"==typeof(a=n)&&"string"==typeof a.spanId&&"string"==typeof a.traceId&&"number"==typeof a.traceFlags&&ge(n)?new cd(n):new cd},e.prototype.startActiveSpan=function(e,t,s,a){var n,r,i;if(arguments.length>=2){2===arguments.length?i=t:3===arguments.length?(n=t,i=s):(n=t,r=s,i=a);var o=null!=r?r:hd.active(),l=this.startSpan(e,n,o),c=me(o,l);return hd.with(c,i,void 0,l)}},e}(),fd=new pd,gd=function(){function e(e,t,s,a){this._provider=e,this.name=t,this.version=s,this.options=a}return e.prototype.startSpan=function(e,t,s){return this._getTracer().startSpan(e,t,s)},e.prototype.startActiveSpan=function(e,t,s,a){var n=this._getTracer();return Reflect.apply(n.startActiveSpan,n,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):fd},e}(),xd=new(function(){function e(){}return e.prototype.getTracer=function(e,t,s){return new pd},e}()),vd=function(){function e(){}return e.prototype.getTracer=function(e,t,s){var a;return null!==(a=this.getDelegateTracer(e,t,s))&&void 0!==a?a:new gd(this,e,t,s)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:xd},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,s){var a;return null===(a=this._delegate)||void 0===a?void 0:a.getTracer(e,t,s)},e}();!function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(nd||(nd={})),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(rd||(rd={}));var yd="trace",bd=function(){function e(){this._proxyTracerProvider=new vd,this.wrapSpanContext=xe,this.isSpanContextValid=ge,this.deleteSpan=he,this.getSpan=de,this.getActiveSpan=ue,this.getSpanContext=fe,this.setSpan=me,this.setSpanContext=pe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=ie(yd,this._proxyTracerProvider,Qc.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return oe(yd)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){le(yd,Qc.instance()),this._proxyTracerProvider=new vd},e}().getInstance();const jd={serviceName:"fleet-management-frontend",serviceVersion:"1.0.0",environment:"production",endpoint:"http://localhost:4318/v1/traces",enabled:!1,sampleRate:.1},wd=new class{config;tracer;initialized=!1;constructor(e={}){this.config={...jd,...e}}init(){if(this.config.enabled)try{this.tracer=bd.getTracer(this.config.serviceName,this.config.serviceVersion),this.initialized=!0}catch(e){}}startSpan(e,t){if(!this.initialized||!this.tracer)return null;try{return this.tracer.startSpan(e,{kind:t?.kind||nd.INTERNAL,attributes:t?.attributes})}catch(s){return null}}startActiveSpan(e,t,s){if(!this.initialized||!this.tracer)return t(null);try{return this.tracer.startActiveSpan(e,{kind:s?.kind||nd.INTERNAL,attributes:s?.attributes},t)}catch(a){return t(null)}}async traceAsync(e,t,s){return this.initialized&&this.tracer?this.startActiveSpan(e,async e=>{s&&e&&e.setAttributes(s);try{const s=await t();return e&&e.setStatus({code:rd.OK}),s}catch(a){throw e&&(e.setStatus({code:rd.ERROR,message:a instanceof Error?a.message:"Unknown error"}),e.recordException(a)),a}finally{e&&e.end()}},{kind:nd.INTERNAL,attributes:s}):t()}traceSync(e,t,s){return this.initialized&&this.tracer?this.startActiveSpan(e,e=>{s&&e&&e.setAttributes(s);try{const s=t();return e&&e.setStatus({code:rd.OK}),s}catch(a){throw e&&(e.setStatus({code:rd.ERROR,message:a instanceof Error?a.message:"Unknown error"}),e.recordException(a)),a}finally{e&&e.end()}},{kind:nd.INTERNAL,attributes:s}):t()}async traceHTTPRequest(e,t,s,a){const n={"http.method":e,"http.url":t,...a};return this.traceAsync(`HTTP ${e} ${t}`,s,n)}traceComponentRender(e,t){const s=this.startSpan(`Render: ${e}`,{kind:nd.INTERNAL,attributes:{"component.name":e,"component.props":t?JSON.stringify(t):void 0}});return()=>{s&&s.end()}}async traceDatabaseOperation(e,t,s,a){const n={"db.operation":e,"db.table":t,...a};return this.traceAsync(`DB ${e} ${t}`,s,n)}addEvent(e,t){const s=bd.getActiveSpan();s&&s.addEvent(e,t)}setAttribute(e,t){const s=bd.getActiveSpan();s&&s.setAttribute(e,t)}setAttributes(e){const t=bd.getActiveSpan();t&&t.setAttributes(e)}recordException(e){const t=bd.getActiveSpan();t&&(t.recordException(e),t.setStatus({code:rd.ERROR,message:e.message}))}isEnabled(){return this.initialized}},Nd=new class{metrics=new Map;record(e,t,s){const a=s?`${e}:${JSON.stringify(s)}`:e;this.metrics.has(a)||this.metrics.set(a,[]),this.metrics.get(a).push(t),wd.addEvent(`metric.${e}`,{value:t,...s})}getStats(e,t){const s=t?`${e}:${JSON.stringify(t)}`:e,a=this.metrics.get(s);return a&&0!==a.length?{count:a.length,min:Math.min(...a),max:Math.max(...a),avg:a.reduce((e,t)=>e+t,0)/a.length,sum:a.reduce((e,t)=>e+t,0)}:null}clear(){this.metrics.clear()}};let _d=-1;const Sd=e=>{addEventListener("pageshow",t=>{t.persisted&&(_d=t.timeStamp,e(t))},!0)},Td=(e,t,s,a)=>{let n,r;return i=>{t.value>=0&&(i||a)&&(r=t.value-(n??0),(r||void 0===n)&&(n=t.value,t.delta=r,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,s),e(t)))}},Ed=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},kd=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Ad=()=>{const e=kd();return e?.activationStart??0},Cd=(e,t=-1)=>{const s=kd();let a="navigate";return 0>_d?s&&(document.prerendering||Ad()>0?a="prerender":document.wasDiscarded?a="restore":s.type&&(a=s.type.replace(/_/g,"-"))):a="back-forward-cache",{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:a}},Rd=new WeakMap;class Od{t;i=0;o=[];h(e){if(e.hadRecentInput)return;const t=this.o[0],s=this.o.at(-1);this.i&&t&&s&&1e3>e.startTime-s.startTime&&5e3>e.startTime-t.startTime?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}const Dd=(e,t,s={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const a=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return a.observe({type:e,buffered:!0,...s}),a}}catch{}},Id=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Pd=-1;const Ld=new Set,Md=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,Fd=e=>{if("hidden"===document.visibilityState){if("visibilitychange"===e.type)for(const e of Ld)e();isFinite(Pd)||(Pd="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",Fd,!0))}},$d=()=>{if(0>Pd){const e=Ad(),t=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;Pd=t??Md(),addEventListener("visibilitychange",Fd,!0),addEventListener("prerenderingchange",Fd,!0),Sd(()=>{setTimeout(()=>{Pd=Md()})})}return{get firstHiddenTime(){return Pd},onHidden(e){Ld.add(e)}}},zd=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Vd=[1800,3e3],Ud=(e,t={})=>{zd(()=>{const s=$d();let a,n=Cd("FCP");const r=Dd("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(r.disconnect(),s.firstHiddenTime>t.startTime&&(n.value=Math.max(t.startTime-Ad(),0),n.entries.push(t),a(!0)))});r&&(a=Td(e,n,Vd,t.reportAllChanges),Sd(s=>{n=Cd("FCP"),a=Td(e,n,Vd,t.reportAllChanges),Ed(()=>{n.value=performance.now()-s.timeStamp,a(!0)})}))})},Hd=[.1,.25];let Bd=0,qd=1/0,Wd=0;const Kd=e=>{for(const t of e)t.interactionId&&(qd=Math.min(qd,t.interactionId),Wd=Math.max(Wd,t.interactionId),Bd=Wd?(Wd-qd)/7+1:0)};let Gd;const Jd=()=>Gd?Bd:performance.interactionCount??0;let Yd=0,Xd=class{u=[];l=new Map;m;p;v(){Yd=Jd(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((Jd()-Yd)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this.u.at(-1);let s=this.l.get(e.interactionId);if(s||10>this.u.length||e.duration>t.P){if(s?e.duration>s.P?(s.entries=[e],s.P=e.duration):e.duration===s.P&&e.startTime===s.entries[0].startTime&&s.entries.push(e):(s={id:e.interactionId,entries:[e],P:e.duration},this.l.set(s.id,s),this.u.push(s)),this.u.sort((e,t)=>t.P-e.P),this.u.length>10){const e=this.u.splice(10);for(const t of e)this.l.delete(t.id)}this.p?.(s)}}};const Qd=e=>{const t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=Id(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})}))},Zd=[200,500];let eu=class{m;h(e){this.m?.(e)}};const tu=[2500,4e3],su=[800,1800],au=e=>{document.prerendering?zd(()=>au(e)):"complete"!==document.readyState?addEventListener("load",()=>au(e),!0):setTimeout(e)},nu={CLS:{good:.1,poor:.25},FID:{good:100,poor:300},INP:{good:200,poor:500},LCP:{good:2500,poor:4e3},FCP:{good:1800,poor:3e3},TTFB:{good:800,poor:1800}},ru=new class{metricsData=[];initialized=!1;observers=[];init(){if(!this.initialized)try{this.trackWebVitals(),this.trackNavigationTiming(),this.trackResourceTiming(),this.trackLongTasks(),this.trackCustomMetrics(),this.trackPaintTiming(),this.initialized=!0}catch(e){}}trackWebVitals(){((e,t={})=>{const s=$d();Ud(Id(()=>{let a,n=Cd("CLS",0);const r=ve(t,Od),i=e=>{for(const t of e)r.h(t);r.i>n.value&&(n.value=r.i,n.entries=r.o,a())},o=Dd("layout-shift",i);o&&(a=Td(e,n,Hd,t.reportAllChanges),s.onHidden(()=>{i(o.takeRecords()),a(!0)}),Sd(()=>{r.i=0,n=Cd("CLS",0),a=Td(e,n,Hd,t.reportAllChanges),Ed(()=>a())}),setTimeout(a))}))})(this.handleWebVital.bind(this),{reportAllChanges:!1}),((e,t={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const s=$d();zd(()=>{"interactionCount"in performance||Gd||(Gd=Dd("event",Kd,{type:"event",buffered:!0,durationThreshold:0}));let a,n=Cd("INP");const r=ve(t,Xd),i=e=>{Qd(()=>{for(const s of e)r.h(s);const t=r.L();t&&t.P!==n.value&&(n.value=t.P,n.entries=t.entries,a())})},o=Dd("event",i,{durationThreshold:t.durationThreshold??40});a=Td(e,n,Zd,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),s.onHidden(()=>{i(o.takeRecords()),a(!0)}),Sd(()=>{r.v(),n=Cd("INP"),a=Td(e,n,Zd,t.reportAllChanges)}))})})(this.handleWebVital.bind(this),{reportAllChanges:!1}),((e,t={})=>{zd(()=>{const s=$d();let a,n=Cd("LCP");const r=ve(t,eu),i=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)r.h(t),s.firstHiddenTime>t.startTime&&(n.value=Math.max(t.startTime-Ad(),0),n.entries=[t],a())},o=Dd("largest-contentful-paint",i);if(o){a=Td(e,n,tu,t.reportAllChanges);const s=Id(()=>{i(o.takeRecords()),o.disconnect(),a(!0)}),r=e=>{e.isTrusted&&(Qd(s),removeEventListener(e.type,r,{capture:!0}))};for(const e of["keydown","click","visibilitychange"])addEventListener(e,r,{capture:!0});Sd(s=>{n=Cd("LCP"),a=Td(e,n,tu,t.reportAllChanges),Ed(()=>{n.value=performance.now()-s.timeStamp,a(!0)})})}})})(this.handleWebVital.bind(this),{reportAllChanges:!1}),Ud(this.handleWebVital.bind(this),{reportAllChanges:!1}),((e,t={})=>{let s=Cd("TTFB"),a=Td(e,s,su,t.reportAllChanges);au(()=>{const n=kd();n&&(s.value=Math.max(n.responseStart-Ad(),0),s.entries=[n],a(!0),Sd(()=>{s=Cd("TTFB",0),a=Td(e,s,su,t.reportAllChanges),a(!0)}))})})(this.handleWebVital.bind(this),{reportAllChanges:!1})}handleWebVital(e){const t=this.getRating(e.name,e.value),s={name:e.name,value:e.value,rating:t,timestamp:Date.now(),id:e.id,navigationType:e.navigationType};this.metricsData.push(s),this.reportMetric(s)}getRating(e,t){const s=nu[e];return s&&t>s.good?t>s.poor?"poor":"needs-improvement":"good"}trackNavigationTiming(){if("PerformanceObserver"in window)try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries())if("navigation"===t.entryType){const e={"dns-lookup":t.domainLookupEnd-t.domainLookupStart,"tcp-connection":t.connectEnd-t.connectStart,"tls-negotiation":t.secureConnectionStart?t.connectEnd-t.secureConnectionStart:0,"request-time":t.responseStart-t.requestStart,"response-time":t.responseEnd-t.responseStart,"dom-processing":t.domComplete-t.domContentLoadedEventStart,"dom-interactive":t.domInteractive-t.fetchStart,"dom-content-loaded":t.domContentLoadedEventEnd-t.domContentLoadedEventStart,"load-event":t.loadEventEnd-t.loadEventStart,"total-load-time":t.loadEventEnd-t.fetchStart};Object.entries(e).forEach(([e,t])=>{this.metricsData.push({name:e,value:t,rating:"good",timestamp:Date.now()}),Nd.record(e,t)}),re("navigation-timing",e)}});e.observe({entryTypes:["navigation"]}),this.observers.push(e)}catch(e){}}trackResourceTiming(){if("PerformanceObserver"in window)try{const e=new PerformanceObserver(e=>{const t=e.getEntries(),s={totalResources:t.length,totalSize:t.reduce((e,t)=>e+(t.transferSize||0),0),totalDuration:t.reduce((e,t)=>e+t.duration,0),byType:{}};t.forEach(e=>{const t=e.initiatorType||"other";s.byType[t]||(s.byType[t]={count:0,size:0,duration:0}),s.byType[t].count++,s.byType[t].size+=e.transferSize||0,s.byType[t].duration+=e.duration,e.duration>1e3&&this.metricsData.push({name:"slow-resource",value:e.duration,rating:"poor",timestamp:Date.now()})}),t.length>0&&(Nd.record("resource-count",s.totalResources),Nd.record("resource-size",s.totalSize),Nd.record("resource-duration",s.totalDuration))});e.observe({entryTypes:["resource"]}),this.observers.push(e)}catch(e){}}trackLongTasks(){if("PerformanceObserver"in window&&"PerformanceLongTaskTiming"in window)try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries())this.metricsData.push({name:"long-task",value:t.duration,rating:"poor",timestamp:Date.now()}),ne(`Long task detected: ${t.duration}ms`,"warning",{duration:t.duration,startTime:t.startTime}),Nd.record("long-task",t.duration)});e.observe({entryTypes:["longtask"]}),this.observers.push(e)}catch(e){}}trackPaintTiming(){if("PerformanceObserver"in window)try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries())this.metricsData.push({name:t.name,value:t.startTime,rating:1e3>t.startTime?"good":"needs-improvement",timestamp:Date.now()}),Nd.record(t.name,t.startTime)});e.observe({entryTypes:["paint"]}),this.observers.push(e)}catch(e){}}trackCustomMetrics(){this.trackTimeToInteractive(),this.trackAPIResponseTimes(),this.trackComponentRenderTimes()}trackTimeToInteractive(){"complete"===document.readyState?this.calculateTTI():window.addEventListener("load",()=>{setTimeout(()=>this.calculateTTI(),0)})}calculateTTI(){if(!performance.timing)return;const e=performance.timing.domInteractive-performance.timing.navigationStart;this.metricsData.push({name:"time-to-interactive",value:e,rating:3800>e?"good":7300>e?"needs-improvement":"poor",timestamp:Date.now()}),Nd.record("time-to-interactive",e)}trackAPIResponseTimes(){if("PerformanceObserver"in window)try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries()){const e=t;e.name.includes("/api/")&&(this.metricsData.push({name:"api-response-time",value:e.duration,rating:500>e.duration?"good":1e3>e.duration?"needs-improvement":"poor",timestamp:Date.now()}),Nd.record("api-response-time",e.duration,{endpoint:new URL(e.name).pathname}))}});e.observe({entryTypes:["resource"]}),this.observers.push(e)}catch(e){}}trackComponentRenderTimes(){if("PerformanceObserver"in window)try{const e=new PerformanceObserver(e=>{for(const t of e.getEntries())t.name.startsWith("component-")&&(this.metricsData.push({name:t.name,value:t.duration,rating:100>t.duration?"good":"needs-improvement",timestamp:Date.now()}),Nd.record("component-render",t.duration,{component:t.name.replace("component-","")}))});e.observe({entryTypes:["measure"]}),this.observers.push(e)}catch(e){}}reportMetric(e){"undefined"!=typeof window&&window.gtag&&window.gtag("event",e.name,{event_category:"Web Vitals",value:Math.round(e.value),metric_rating:e.rating,metric_id:e.id,non_interaction:!0}),"undefined"!=typeof window&&window.analytics&&window.analytics.track("Performance Metric",{metric:e.name,value:e.value,rating:e.rating,id:e.id}),ne(`Performance: ${e.name} = ${e.value.toFixed(2)} (${e.rating})`,"poor"===e.rating?"warning":"info",{metric:e.name,value:e.value,rating:e.rating}),wd.addEvent(`performance.${e.name}`,{value:e.value,rating:e.rating})}getMetrics(){return[...this.metricsData]}getMetricsByName(e){return this.metricsData.filter(t=>t.name===e)}getMetricsSummary(){const e={};return this.metricsData.forEach(t=>{e[t.name]||(e[t.name]={avg:0,min:1/0,max:-1/0,count:0}),e[t.name].min=Math.min(e[t.name].min,t.value),e[t.name].max=Math.max(e[t.name].max,t.value),e[t.name].count++}),Object.keys(e).forEach(t=>{const s=this.metricsData.filter(e=>e.name===t).map(e=>e.value);e[t].avg=s.reduce((e,t)=>e+t,0)/s.length}),e}clearMetrics(){this.metricsData=[]}disconnect(){this.observers.forEach(e=>e.disconnect()),this.observers=[],this.initialized=!1}},iu=new class{events=[];session=null;sessionId="";initialized=!1;trackingEnabled=!0;init(){if(!this.initialized)try{this.createSession(),this.trackPageViews(),this.trackClicks(),this.trackScrolls(),this.trackInputs(),this.trackErrors(),this.trackNavigation(),this.trackVisibilityChanges(),this.startEventFlush(),this.initialized=!0}catch(e){}}createSession(){this.sessionId=this.generateSessionId(),this.session={id:this.sessionId,startTime:Date.now(),pageViews:0,interactions:0,errors:0,userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight},referrer:document.referrer};try{sessionStorage.setItem("rum_session",JSON.stringify(this.session))}catch(e){}}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substring(2,15)}`}trackPageViews(){this.trackEvent("pageview",{url:window.location.href,title:document.title,referrer:document.referrer}),this.session&&this.session.pageViews++}trackClicks(){document.addEventListener("click",e=>{if(!this.trackingEnabled)return;const t=e.target,s=this.getElementInfo(t);this.trackEvent("click",{...s,x:e.clientX,y:e.clientY,timestamp:Date.now()}),this.session&&this.session.interactions++,t.matches('button, a, [role="button"]')&&Nd.record("user-interaction",1,{type:"click",element:s.element})},{passive:!0,capture:!0})}trackScrolls(){let e,t=0;window.addEventListener("scroll",()=>{this.trackingEnabled&&(clearTimeout(e),e=setTimeout(()=>{const e=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);e>t&&(t=e,this.trackEvent("scroll",{percentage:e,depth:window.scrollY}),e>=25&&50>e?Nd.record("scroll-depth",25):e>=50&&75>e?Nd.record("scroll-depth",50):e>=75&&90>e?Nd.record("scroll-depth",75):90>e||Nd.record("scroll-depth",100))},100))},{passive:!0})}trackInputs(){document.addEventListener("input",e=>{if(!this.trackingEnabled)return;const t=e.target;this.trackEvent("input",{element:t.tagName.toLowerCase(),type:t.type,name:t.name,id:t.id}),this.session&&this.session.interactions++},{passive:!0,capture:!0})}trackErrors(){window.addEventListener("error",e=>{this.trackEvent("error",{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?.stack}),this.session&&this.session.errors++}),window.addEventListener("unhandledrejection",e=>{this.trackEvent("error",{message:"Unhandled Promise Rejection",reason:e.reason?.toString()}),this.session&&this.session.errors++})}trackNavigation(){window.addEventListener("popstate",()=>{this.trackEvent("navigation",{type:"popstate",url:window.location.href})}),window.addEventListener("hashchange",()=>{this.trackEvent("navigation",{type:"hashchange",hash:window.location.hash})})}trackVisibilityChanges(){document.addEventListener("visibilitychange",()=>{this.trackEvent("custom",{name:"visibility-change",visible:!document.hidden}),document.hidden&&this.session&&setTimeout(()=>{document.hidden&&this.endSession()},3e5)})}getElementInfo(e){return{element:e.tagName.toLowerCase(),id:e.id||void 0,className:e.className||void 0,text:e.textContent?.substring(0,50)||void 0,href:e.href||void 0}}trackEvent(e,t){if(!this.initialized||!this.trackingEnabled)return;const s={type:e,timestamp:Date.now(),data:t,sessionId:this.sessionId,userId:this.getUserId()};this.events.push(s),this.events.length>100&&(this.events=this.events.slice(-100)),wd.addEvent(`rum.${e}`,t)}getUserId(){try{const e=localStorage.getItem("user");if(e)return JSON.parse(e).id}catch(e){}}startEventFlush(){setInterval(()=>{this.flushEvents()},3e4),window.addEventListener("beforeunload",()=>{this.flushEvents(),this.endSession()})}async flushEvents(){if(0===this.events.length)return;const e=[...this.events];this.events=[];try{await fetch("/api/v1/monitoring/rum",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:e,session:this.session}),keepalive:!0})}catch(t){this.events=[...e,...this.events]}}endSession(){if(this.session){this.session.endTime=Date.now(),this.trackEvent("custom",{name:"session-end",duration:this.session.endTime-this.session.startTime,pageViews:this.session.pageViews,interactions:this.session.interactions,errors:this.session.errors}),this.flushEvents();try{sessionStorage.removeItem("rum_session")}catch(e){}}}getSession(){return this.session}getEvents(){return[...this.events]}clearEvents(){this.events=[]}setTrackingEnabled(e){this.trackingEnabled=e}isTrackingEnabled(){return this.trackingEnabled}optOut(){this.setTrackingEnabled(!1),this.clearEvents();try{localStorage.setItem("rum_opt_out","true")}catch(e){}}optIn(){this.setTrackingEnabled(!0);try{localStorage.removeItem("rum_opt_out")}catch(e){}}isOptedOut(){try{return"true"===localStorage.getItem("rum_opt_out")}catch(e){return!1}}};var ou,lu,cu,du="prototype",uu=Object,mu=uu[du],hu=void 0,pu=null,fu="prototype",gu="undefined",xu=ye(Object),vu=be(xu,fu),yu=ye(ye(String)),bu=be(xu,"defineProperty"),ju=be(xu,"defineProperties"),wu=be(xu,"assign"),Nu="__tsUtils$gblCfg",_u=ye(be(xu,"create"),Se);ke(),ke();var Su="hasOwnProperty",Tu=wu||function(e){for(var t,s=1,a=arguments.length;a>s;s++)for(var n in t=arguments[s])mu[Su].call(t,n)&&(e[n]=t[n]);return e},Eu=function(e,t){return Eu=uu.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t[Su](s)&&(e[s]=t[s])},Eu(e,t)},ku=function(e){function t(t,s,a){var n=e.call(this,t)||this;return n._mountTimestamp=0,n._firstActiveTimestamp=0,n._idleStartTimestamp=0,n._lastActiveTimestamp=0,n._totalIdleTime=0,n._idleCount=0,n._idleTimeout=5e3,n.trackActivity=function(e){0===n._firstActiveTimestamp?(n._firstActiveTimestamp=Te(),n._lastActiveTimestamp=n._firstActiveTimestamp):n._lastActiveTimestamp=Te(),n._idleStartTimestamp>0&&(n._totalIdleTime+=n._lastActiveTimestamp-n._idleStartTimestamp,n._idleStartTimestamp=0)},n._reactPlugin=s,n._componentName=a,n}return Ae(t,e),t.prototype.componentDidMount=function(){var e=this;this._mountTimestamp=Te(),this._firstActiveTimestamp=0,this._totalIdleTime=0,this._lastActiveTimestamp=0,this._idleStartTimestamp=0,this._idleCount=0,this._intervalId=setInterval(function(){e._lastActiveTimestamp>0&&0===e._idleStartTimestamp&&Te()-e._lastActiveTimestamp>=e._idleTimeout&&(e._idleStartTimestamp=Te(),e._idleCount++)},100)},t.prototype.componentWillUnmount=function(){if(0===this._mountTimestamp)throw new Error("withAITracking:componentWillUnmount: mountTimestamp is not initialized.");if(this._intervalId&&clearInterval(this._intervalId),0!==this._firstActiveTimestamp){var e=this.getEngagementTimeSeconds();this._reactPlugin.trackMetric({average:e,name:"React Component Engaged Time (seconds)",sampleCount:1},{"Component Name":this._componentName})}},t.prototype.getEngagementTimeSeconds=function(){return(Te()-this._firstActiveTimestamp-this._totalIdleTime-this._idleCount*this._idleTimeout)/1e3},t}(sn.Component);const Au="undefined"!=typeof window&&"true"===localStorage.getItem("debug_fleet_data"),Cu=["password","token","apiKey","api_key","secret","ssn","creditCard","credit_card","cvv","pin","authorization","auth","bearer","session","cookie"],Ru=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,Ou=/\b(\d{3}[-.]?)?\d{3}[-.]?\d{4}\b/g,Du={debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{e.map(e=>e instanceof Error?{message:Ce(e.message),name:e.name}:Ce(e))},redact:e=>Ce(e),isDebugEnabled:()=>Au,group:e=>{},groupEnd:()=>{},logError:(...e)=>{Du.error(...e)},logAudit:(e,t)=>{},logInfo:(...e)=>{Du.info(...e)},logWarn:(...e)=>{Du.warn(...e)},logDebug:(...e)=>{Du.debug(...e)}},Iu=new class{appInsights=null;reactPlugin=null;isInitialized=!1;initialize(){return null}telemetryInitializer=e=>(e.baseData?.uri&&(e.baseData.uri=this.maskSensitiveUrl(e.baseData.uri)),e.baseData?.refUri&&(e.baseData.refUri=this.maskSensitiveUrl(e.baseData.refUri)),e.baseData=e.baseData||{},e.baseData.properties=e.baseData.properties||{},e.baseData.properties["app.version"]="1.0.0",e.baseData.properties["app.environment"]="production",e.baseData?.properties&&(delete e.baseData.properties.authorization,delete e.baseData.properties.cookie,delete e.baseData.properties["x-csrf-token"]),!0);maskSensitiveUrl(e){return e?e=(e=(e=(e=e.replace(/token=[^&]+/gi,"token=***")).replace(/key=[^&]+/gi,"key=***")).replace(/\/users\/[^\/]+/gi,"/users/***")).replace(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,"***@***.***"):e}getUserId(){try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);return t.id||t.email||null}const t=sessionStorage.getItem("user");if(t){const e=JSON.parse(t);return e.id||e.email||null}}catch{}return null}trackPageView(e,t){this.isInitialized&&this.appInsights&&this.appInsights.trackPageView({name:e||window.location.pathname,properties:{...t,timestamp:(new Date).toISOString()}})}trackEvent(e,t){this.isInitialized&&this.appInsights&&this.appInsights.trackEvent({name:e,properties:{...t,timestamp:(new Date).toISOString(),userId:this.getUserId()}})}trackException(e,t,s){this.isInitialized&&this.appInsights&&this.appInsights.trackException({exception:e,severityLevel:t||3,properties:{...s,timestamp:(new Date).toISOString(),userId:this.getUserId(),url:window.location.href,userAgent:navigator.userAgent}})}trackMetric(e,t,s){this.isInitialized&&this.appInsights&&this.appInsights.trackMetric({name:e,average:t,sampleCount:1,min:t,max:t,properties:{...s,timestamp:(new Date).toISOString()}})}trackButtonClick(e,t){this.trackEvent("ButtonClick",{buttonName:e,...t})}trackFormSubmission(e,t,s){this.trackEvent("FormSubmission",{formName:e,success:t,...s})}trackSearch(e,t,s){this.trackEvent("Search",{searchTerm:e.substring(0,100),resultsCount:t,hasResults:t>0,...s})}trackFilterApplied(e,t,s){this.trackEvent("FilterApplied",{filterType:e,filterValue:"object"==typeof t?JSON.stringify(t):t,...s})}trackVehicleSelected(e,t){this.trackEvent("VehicleSelected",{vehicleId:e,...t})}trackApiCall(e,t,s,a){this.trackEvent("APICall",{endpoint:e,method:t,statusCode:s,duration:a,success:s>=200&&400>s}),this.trackMetric("API_Response_Time",a,{endpoint:e,method:t,statusCode:s.toString()})}trackPerformance(){if(!this.isInitialized||!window.performance)return;const e=window.performance.getEntriesByType("navigation")[0];if(e&&(this.trackMetric("PageLoadTime",e.loadEventEnd-e.fetchStart,{url:window.location.pathname}),this.trackMetric("DOMReadyTime",e.domContentLoadedEventEnd-e.fetchStart,{url:window.location.pathname}),this.trackMetric("TimeToFirstByte",e.responseStart-e.fetchStart,{url:window.location.pathname})),"memory"in performance){const e=performance.memory;this.trackMetric("JSHeapUsed",Math.round(e.usedJSHeapSize/1048576),{unit:"MB"})}}setAuthenticatedUser(e,t){this.isInitialized&&this.appInsights&&this.appInsights.setAuthenticatedUserContext(e,t,!0)}clearAuthenticatedUser(){this.isInitialized&&this.appInsights&&this.appInsights.clearAuthenticatedUserContext()}flush(){this.isInitialized&&this.appInsights&&this.appInsights.flush()}getReactPlugin(){return this.reactPlugin}isActive(){return this.isInitialized}},Pu=Object.freeze(Object.defineProperty({__proto__:null,default:Iu,telemetryService:Iu},Symbol.toStringTag,{value:"Module"})),Lu=e=>"string"==typeof e,Mu=()=>{let e,t;const s=new Promise((s,a)=>{e=s,t=a});return s.resolve=e,s.reject=t,s},Fu=e=>null==e?"":""+e,$u=/###/g,zu=e=>e&&e.indexOf("###")>-1?e.replace($u,"."):e,Vu=e=>!e||Lu(e),Uu=(e,t,s)=>{const a=Lu(t)?t.split("."):t;let n=0;for(;a.length-1>n;){if(Vu(e))return{};const t=zu(a[n]);!e[t]&&s&&(e[t]=new s),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++n}return Vu(e)?{}:{obj:e,k:zu(a[n])}},Hu=(e,t,s)=>{const{obj:a,k:n}=Uu(e,t,Object);if(void 0!==a||1===t.length)return void(a[n]=s);let r=t[t.length-1],i=t.slice(0,t.length-1),o=Uu(e,i,Object);for(;void 0===o.obj&&i.length;)r=`${i[i.length-1]}.${r}`,i=i.slice(0,i.length-1),o=Uu(e,i,Object),o?.obj&&void 0!==o.obj[`${o.k}.${r}`]&&(o.obj=void 0);o.obj[`${o.k}.${r}`]=s},Bu=(e,t)=>{const{obj:s,k:a}=Uu(e,t);if(s&&Object.prototype.hasOwnProperty.call(s,a))return s[a]},qu=(e,t,s)=>{for(const a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?Lu(e[a])||e[a]instanceof String||Lu(t[a])||t[a]instanceof String?s&&(e[a]=t[a]):qu(e[a],t[a],s):e[a]=t[a]);return e},Wu=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ku={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Gu=e=>Lu(e)?e.replace(/[&<>"'\/]/g,e=>Ku[e]):e,Ju=[" ",",","?","!",";"],Yu=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}(20),Xu=(e,t,s=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const a=t.split(s);let n=e;for(let r=0;a.length>r;){if(!n||"object"!=typeof n)return;let e,t="";for(let i=r;a.length>i;++i)if(i!==r&&(t+=s),t+=a[i],e=n[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a.length-1>i)continue;r+=i-r+1;break}n=e}return n},Qu=e=>e?.replace("_","-"),Zu={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){}};class em{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Zu,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,a){return a&&!this.debug?null:(Lu(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new em(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new em(this.logger,e)}}var tm=new em;class sm{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const s=this.observers[e].get(t)||0;this.observers[e].set(t,s+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([e,s])=>{for(let a=0;s>a;a++)e(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let n=0;a>n;n++)s.apply(s,[e,...t])})}}class am extends sm{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,a={}){const n=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,r=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],s&&(Array.isArray(s)?i.push(...s):Lu(s)&&n?i.push(...s.split(n)):i.push(s)));const o=Bu(this.data,i);return o||t||s||-1>=e.indexOf(".")||(e=i[0],t=i[1],s=i.slice(2).join(".")),!o&&r&&Lu(s)?Xu(this.data?.[e]?.[t],s,n):o}addResource(e,t,s,a,n={silent:!1}){const r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator;let i=[e,t];s&&(i=i.concat(r?s.split(r):s)),e.indexOf(".")>-1&&(i=e.split("."),a=t,t=i[1]),this.addNamespaces(t),Hu(this.data,i,a),n.silent||this.emit("added",e,t,s,a)}addResources(e,t,s,a={silent:!1}){for(const n in s)(Lu(s[n])||Array.isArray(s[n]))&&this.addResource(e,t,n,s[n],{silent:!0});a.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,a,n,r={silent:!1,skipCopy:!1}){let i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),a=s,s=t,t=i[1]),this.addNamespaces(t);let o=Bu(this.data,i)||{};r.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?qu(o,s,n):o={...o,...s},Hu(this.data,i,o),r.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var nm={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,a,n){return e.forEach(e=>{t=this.processors[e]?.process(t,s,a,n)??t}),t}};const rm=Symbol("i18next/PATH_KEY"),im={},om=e=>!Lu(e)&&"boolean"!=typeof e&&"number"!=typeof e;class lm extends sm{constructor(e,t={}){super(),((e,t,s)=>{["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{t[e]&&(s[e]=t[e])})})(0,e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=tm.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};if(null==e)return!1;const a=this.resolve(e,s);if(void 0===a?.res)return!1;const n=om(a.res);return!1!==s.returnObjects||!n}extractFromKey(e,t){let s=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===s&&(s=":");const a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let n=t.ns||this.options.defaultNS||[];const r=s&&e.indexOf(s)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,s)=>{t=t||"",s=s||"";const a=Ju.filter(e=>0>t.indexOf(e)&&0>s.indexOf(e));if(0===a.length)return!0;const n=Yu.getRegExp(`(${a.map(e=>"?"===e?"\\?":e).join("|")})`);let r=!n.test(e);if(!r){const t=e.indexOf(s);t>0&&!n.test(e.substring(0,t))&&(r=!0)}return r})(e,s,a));if(r&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Lu(n)?[n]:n};const r=e.split(s);(s!==a||s===a&&this.options.ns.indexOf(r[0])>-1)&&(n=r.shift()),e=r.join(a)}return{key:e,namespaces:Lu(n)?[n]:n}}translate(e,t,s){let a="object"==typeof t?{...t}:t;if("object"!=typeof a&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof a&&(a={...a}),a||(a={}),null==e)return"";"function"==typeof e&&(e=Re(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const n=void 0!==a.returnDetails?a.returnDetails:this.options.returnDetails,r=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,{key:i,namespaces:o}=this.extractFromKey(e[e.length-1],a),l=o[o.length-1];let c=void 0!==a.nsSeparator?a.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const d=a.lng||this.language,u=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===d?.toLowerCase())return u?n?{res:`${l}${c}${i}`,usedKey:i,exactUsedKey:i,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:`${l}${c}${i}`:n?{res:i,usedKey:i,exactUsedKey:i,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(a)}:i;const m=this.resolve(e,a);let h=m?.res;const p=m?.usedKey||i,f=m?.exactUsedKey||i,g=void 0!==a.joinArrays?a.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,v=void 0!==a.count&&!Lu(a.count),y=lm.hasDefaultValue(a),b=v?this.pluralResolver.getSuffix(d,a.count,a):"",j=a.ordinal&&v?this.pluralResolver.getSuffix(d,a.count,{ordinal:!1}):"",w=v&&!a.ordinal&&0===a.count,N=w&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${b}`]||a[`defaultValue${j}`]||a.defaultValue;let _=h;x&&!h&&y&&(_=N);const S=om(_),T=Object.prototype.toString.apply(_);if(!(x&&_&&S&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(T))||Lu(g)&&Array.isArray(_))if(x&&Lu(g)&&Array.isArray(h))h=h.join(g),h&&(h=this.extendTranslation(h,e,a,s));else{let t=!1,n=!1;!this.isValidLookup(h)&&y&&(t=!0,h=N),this.isValidLookup(h)||(n=!0,h=i);const o=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&n?void 0:h,u=y&&N!==h&&this.options.updateMissing;if(n||t||u){if(this.logger.log(u?"updateKey":"missingKey",d,l,i,u?N:h),r){const e=this.resolve(i,{...a,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let a=0;t.length>a;a++)e.push(t[a]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(a.lng||this.language):e.push(a.lng||this.language);const s=(e,t,s)=>{const n=y&&s!==h?s:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,n,u,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,n,u,a),this.emit("missingKey",e,l,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,a);w&&a[`defaultValue${this.options.pluralSeparator}zero`]&&0>t.indexOf(`${this.options.pluralSeparator}zero`)&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{s([e],i+t,a[`defaultValue${t}`]||N)})}):s(e,i,N))}h=this.extendTranslation(h,e,a,m,s),n&&h===i&&this.options.appendNamespaceToMissingKey&&(h=`${l}${c}${i}`),(n||t)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${i}`:i,t?h:void 0,a))}else{if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,_,{...a,ns:o}):`key '${i} (${this.language})' returned an object instead of string.`;return n?(m.res=e,m.usedParams=this.getUsedParamsDetails(a),m):e}if(r){const e=Array.isArray(_),t=e?[]:{},s=e?f:p;for(const n in _)if(Object.prototype.hasOwnProperty.call(_,n)){const e=`${s}${r}${n}`;t[n]=this.translate(e,y&&!h?{...a,defaultValue:om(N)?N[n]:void 0,joinArrays:!1,ns:o}:{...a,joinArrays:!1,ns:o}),t[n]===e&&(t[n]=_[n])}h=t}}return n?(m.res=h,m.usedParams=this.getUsedParamsDetails(a),m):h}extendTranslation(e,t,s,a,n){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const r=Lu(e)&&(void 0!==s?.interpolation?.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let i;if(r){const t=e.match(this.interpolator.nestingRegexp);i=t&&t.length}let o=s.replace&&!Lu(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),e=this.interpolator.interpolate(e,o,s.lng||this.language||a.usedLng,s),r){const t=e.match(this.interpolator.nestingRegexp);(t&&t.length)>i&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),!1!==s.nest&&(e=this.interpolator.nest(e,(...e)=>n?.[0]!==e[0]||s.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),s)),s.interpolation&&this.interpolator.reset()}const r=s.postProcess||this.options.postProcess,i=Lu(r)?[r]:r;return null!=e&&i?.length&&!1!==s.applyPostProcessor&&(e=nm.handle(i,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,a,n,r,i;return Lu(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(s))return;const o=this.extractFromKey(e,t),l=o.key;a=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==t.count&&!Lu(t.count),u=d&&!t.ordinal&&0===t.count,m=void 0!==t.context&&(Lu(t.context)||"number"==typeof t.context)&&""!==t.context,h=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach(e=>{this.isValidLookup(s)||(i=e,im[`${h[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(i)||(im[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${a}" for languages "${h.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(a=>{if(this.isValidLookup(s))return;r=a;const i=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(i,l,a,e,t);else{let e;d&&(e=this.pluralResolver.getSuffix(a,t.count,t));const s=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(t.ordinal&&0===e.indexOf(n)&&i.push(l+e.replace(n,this.options.pluralSeparator)),i.push(l+e),u&&i.push(l+s)),m){const a=`${l}${this.options.contextSeparator||"_"}${t.context}`;i.push(a),d&&(t.ordinal&&0===e.indexOf(n)&&i.push(a+e.replace(n,this.options.pluralSeparator)),i.push(a+e),u&&i.push(a+s))}}let o;for(;o=i.pop();)this.isValidLookup(s)||(n=o,s=this.getResource(a,e,o,t))}))})}),{res:s,usedKey:a,exactUsedKey:n,usedLng:r,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,s,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,a):this.resourceStore.getResource(e,t,s,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Lu(e.replace);let a=s?e.replace:e;if(s&&void 0!==e.count&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const e of t)delete a[e]}return a}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}class cm{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tm.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Qu(e))||0>e.indexOf("-"))return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Qu(e))||0>e.indexOf("-"))return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Lu(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(_d){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const s=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(s)||(t=s)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const s=this.getScriptPartFromCode(e);if(this.isSupportedCode(s))return t=s;const a=this.getLanguagePartFromCode(e);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(e=>e===a?e:0>e.indexOf("-")&&0>a.indexOf("-")?void 0:e.indexOf("-")>0&&0>a.indexOf("-")&&e.substring(0,e.indexOf("-"))===a||0===e.indexOf(a)&&a.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Lu(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),a=[],n=e=>{e&&(this.isSupportedCode(e)?a.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Lu(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):Lu(e)&&n(this.formatLanguageCode(e)),s.forEach(e=>{0>a.indexOf(e)&&n(this.formatLanguageCode(e))}),a}}const dm={zero:0,one:1,two:2,few:3,many:4,other:5},um={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class mm{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=tm.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=Qu("dev"===e?"en":e),a=t.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:s,type:a});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let r;try{r=new Intl.PluralRules(s,{type:a})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),um;if(!e.match(/-|_/))return um;const s=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(s,t)}return this.pluralRulesCache[n]=r,r}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((e,t)=>dm[e]-dm[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,s={}){const a=this.getRule(e,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const hm=(e,t,s,a=".",n=!0)=>{let r=((e,t,s)=>{const a=Bu(e,s);return void 0!==a?a:Bu(t,s)})(e,t,s);return!r&&n&&Lu(s)&&(r=Xu(e,s,a),void 0===r&&(r=Xu(t,s,a))),r},pm=e=>e.replace(/\$/g,"$$$$");class fm{constructor(e={}){this.logger=tm.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:a,prefix:n,prefixEscaped:r,suffix:i,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:m,nestingSuffix:h,nestingSuffixEscaped:p,nestingOptionsSeparator:f,maxReplaces:g,alwaysFormat:x}=e.interpolation;this.escape=void 0!==t?t:Gu,this.escapeValue=void 0===s||s,this.useRawValueToEscape=void 0!==a&&a,this.prefix=n?Wu(n):r||"{{",this.suffix=i?Wu(i):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?Wu(u):m||Wu("$t("),this.nestingSuffix=h?Wu(h):p||Wu(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==x&&x,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,s,a){let n,r,i;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(0>e.indexOf(this.formatSeparator)){const n=hm(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,s,{...a,...t,interpolationkey:e}):n}const n=e.split(this.formatSeparator),r=n.shift().trim(),i=n.join(this.formatSeparator).trim();return this.format(hm(t,o,r,this.options.keySeparator,this.options.ignoreJSONStructure),i,s,{...a,...t,interpolationkey:r})};this.resetRegExp();const c=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=void 0!==a?.interpolation?.skipOnVariables?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>pm(e)},{regex:this.regexp,safeValue:e=>pm(this.escapeValue?this.escape(e):e)}].forEach(t=>{for(i=0;n=t.regex.exec(e);){const s=n[1].trim();if(r=l(s),void 0===r)if("function"==typeof c){const t=c(e,n,a);r=Lu(t)?t:""}else if(a&&Object.prototype.hasOwnProperty.call(a,s))r="";else{if(d){r=n[0];continue}this.logger.warn(`missed to pass in variable ${s} for interpolating ${e}`),r=""}else Lu(r)||this.useRawValueToEscape||(r=Fu(r));const o=t.safeValue(r);if(e=e.replace(n[0],o),d?(t.regex.lastIndex+=r.length,t.regex.lastIndex-=n[0].length):t.regex.lastIndex=0,i++,i>=this.maxReplaces)break}}),e}nest(e,t,s={}){let a,n,r;const i=(e,t)=>{const s=this.nestingOptionsSeparator;if(0>e.indexOf(s))return e;const a=e.split(new RegExp(`${s}[ ]*{`));let n=`{${a[1]}`;e=a[0],n=this.interpolate(n,r);const i=n.match(/'/g),o=n.match(/"/g);((i?.length??0)%2==0&&!o||o.length%2!=0)&&(n=n.replace(/'/g,'"'));try{r=JSON.parse(n),t&&(r={...t,...r})}catch(_d){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,_d),`${e}${s}${n}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;a=this.nestingRegexp.exec(e);){let o=[];r={...s},r=r.replace&&!Lu(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;const l=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(-1!==l&&(o=a[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),a[1]=a[1].slice(0,l)),n=t(i.call(this,a[1].trim(),r),r),n&&a[0]===e&&!Lu(n))return n;Lu(n)||(n=Fu(n)),n||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),n=""),o.length&&(n=o.reduce((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:a[1].trim()}),n.trim())),e=e.replace(a[0],n),this.regexp.lastIndex=0}return e}}const gm=e=>{const t={};return(s,a,n)=>{let r=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(r={...r,[n.interpolationkey]:void 0});const i=a+JSON.stringify(r);let o=t[i];return o||(o=e(Qu(a),n),t[i]=o),o(s)}},xm=e=>(t,s,a)=>e(Qu(s),a)(t);class vm{constructor(e={}){this.logger=tm.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?gm:xm;this.formats={number:s((e,t)=>{const s=new Intl.NumberFormat(e,{...t});return e=>s.format(e)}),currency:s((e,t)=>{const s=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>s.format(e)}),datetime:s((e,t)=>{const s=new Intl.DateTimeFormat(e,{...t});return e=>s.format(e)}),relativetime:s((e,t)=>{const s=new Intl.RelativeTimeFormat(e,{...t});return e=>s.format(e,t.range||"day")}),list:s((e,t)=>{const s=new Intl.ListFormat(e,{...t});return e=>s.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=gm(t)}format(e,t,s,a={}){const n=t.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&0>n[0].indexOf(")")&&n.find(e=>e.indexOf(")")>-1)){const e=n.findIndex(e=>e.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,e)].join(this.formatSeparator)}const r=n.reduce((e,t)=>{const{formatName:n,formatOptions:r}=(e=>{let t=e.toLowerCase().trim();const s={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const n=a[1].substring(0,a[1].length-1);"currency"===t&&0>n.indexOf(":")?s.currency||(s.currency=n.trim()):"relativetime"===t&&0>n.indexOf(":")?s.range||(s.range=n.trim()):n.split(";").forEach(e=>{if(e){const[t,...a]=e.split(":"),n=a.join(":").trim().replace(/^'+|'+$/g,""),r=t.trim();s[r]||(s[r]=n),"false"===n&&(s[r]=!1),"true"===n&&(s[r]=!0),isNaN(n)||(s[r]=parseInt(n,10))}})}return{formatName:t,formatOptions:s}})(t);if(this.formats[n]){let t=e;try{const i=a?.formatParams?.[a.interpolationkey]||{};t=this.formats[n](e,i.locale||i.lng||a.locale||a.lng||s,{...r,...a,...i})}catch(i){this.logger.warn(i)}return t}return this.logger.warn(`there was no format function for ${n}`),e},e);return r}}class ym extends sm{constructor(e,t,s,a={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=tm.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=0>a.maxRetries?5:a.maxRetries,this.retryTimeout=1>a.retryTimeout?350:a.retryTimeout,this.state={},this.queue=[],this.backend?.init?.(s,a.backend,a)}queueLoad(e,t,s,a){const n={},r={},i={},o={};return e.forEach(e=>{let a=!0;t.forEach(t=>{const i=`${e}|${t}`;!s.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:0>this.state[i]||(1===this.state[i]?void 0===r[i]&&(r[i]=!0):(this.state[i]=1,a=!1,void 0===r[i]&&(r[i]=!0),void 0===n[i]&&(n[i]=!0),void 0===o[t]&&(o[t]=!0)))}),a||(i[e]=!0)}),(Object.keys(n).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(n),pending:Object.keys(r),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(o)}}loaded(e,t,s){const a=e.split("|"),n=a[0],r=a[1];t&&this.emit("failedLoading",n,r,t),!t&&s&&this.store.addResourceBundle(n,r,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const i={};this.queue.forEach(s=>{((e,t,s)=>{const{obj:a,k:n}=Uu(e,t,Object);a[n]=a[n]||[],a[n].push(s)})(s.loaded,[n],r),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(s,e),t&&s.errors.push(t),0!==s.pendingCount||s.done||(Object.keys(s.loaded).forEach(e=>{i[e]||(i[e]={});const t=s.loaded[e];t.length&&t.forEach(t=>{void 0===i[e][t]&&(i[e][t]=!0)})}),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(e=>!e.done)}read(e,t,s,a=0,n=this.retryTimeout,r){if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:s,tried:a,wait:n,callback:r});this.readingCalls++;const i=(i,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&o&&this.maxRetries>a?setTimeout(()=>{this.read.call(this,e,t,s,a+1,2*n,r)},n):r(i,o)},o=this.backend[s].bind(this.backend);if(2!==o.length)return o(e,t,i);try{const s=o(e,t);s&&"function"==typeof s.then?s.then(e=>i(null,e)).catch(i):i(null,s)}catch(l){i(l)}}prepareLoading(e,t,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Lu(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Lu(t)&&(t=[t]);const n=this.queueLoad(e,t,s,a);if(!n.toLoad.length)return n.pending.length||a(),null;n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),a=s[0],n=s[1];this.read(a,n,"read",void 0,void 0,(s,r)=>{s&&this.logger.warn(`${t}loading namespace ${n} for language ${a} failed`,s),!s&&r&&this.logger.log(`${t}loaded namespace ${n} for language ${a}`,r),this.loaded(e,s,r)})}saveMissing(e,t,s,a,n,r={},i=()=>{}){if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=s&&""!==s){if(this.backend?.create){const l={...r,isUpdate:n},c=this.backend.create.bind(this.backend);if(6>c.length)try{let n;n=5===c.length?c(e,t,s,a,l):c(e,t,s,a),n&&"function"==typeof n.then?n.then(e=>i(null,e)).catch(i):i(null,n)}catch(o){i(o)}else c(e,t,s,a,i,l)}e&&e[0]&&this.store.addResource(e[0],t,s,a)}}else this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const bm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Lu(e[1])&&(t.defaultValue=e[1]),Lu(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const s=e[3]||e[2];Object.keys(s).forEach(e=>{t[e]=s[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),jm=e=>(Lu(e.ns)&&(e.ns=[e.ns]),Lu(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Lu(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),0>e.supportedLngs?.indexOf?.("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),wm=()=>{};class Nm extends sm{constructor(e={},t){var s;if(super(),this.options=jm(e),this.services={},this.logger=tm,this.modules={external:[]},s=this,Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(e=>{"function"==typeof s[e]&&(s[e]=s[e].bind(s))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(Lu(e.ns)?e.defaultNS=e.ns:0>e.ns.indexOf("translation")&&(e.defaultNS=e.ns[0]));const s=bm();this.options={...s,...this.options,...jm(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),"function"!=typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler);const a=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;tm.init(this.modules.logger?a(this.modules.logger):null,this.options),e=this.modules.formatter?this.modules.formatter:vm;const t=new cm(this.options);this.store=new am(this.options.resources,this.options);const n=this.services;n.logger=tm,n.resourceStore=this.store,n.languageUtils=t,n.pluralResolver=new mm(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!e||this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format||(n.formatter=a(e),n.formatter.init&&n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new fm(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new ym(a(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(n.languageDetector=a(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=a(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new lm(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=wm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const n=Mu(),r=()=>{const e=(e,s)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),n.resolve(s),t(e,s)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?r():setTimeout(r,0),n}loadResources(e,t=wm){let s=t;const a=Lu(e)?e:this.language;if("function"==typeof e&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===a?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return s();const e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};a?t(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),s(e)})}else s(null)}reloadResources(e,t,s){const a=Mu();return"function"==typeof e&&(s=e,e=void 0),"function"==typeof t&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=wm),this.services.backendConnector.reload(e,t,e=>{a.resolve(),s(e)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&nm.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&-1>=["cimode","dev"].indexOf(e)){for(let e=0;this.languages.length>e;e++){const t=this.languages[e];if(-1>=["cimode","dev"].indexOf(t)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&0>this.languages.indexOf(e)&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=Mu();this.emit("languageChanging",e);const a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},n=(n,r)=>{r?this.isLanguageChangingTo===e&&(a(r),this.translator.changeLanguage(r),this.isLanguageChangingTo=void 0,this.emit("languageChanged",r),this.logger.log("languageChanged",r)):this.isLanguageChangingTo=void 0,s.resolve((...e)=>this.t(...e)),t&&t(n,(...e)=>this.t(...e))},r=t=>{e||t||!this.services.languageDetector||(t=[]);const s=Lu(t)?t:t&&t[0],r=this.store.hasLanguageSomeTranslations(s)?s:this.services.languageUtils.getBestMatchFromCodes(Lu(t)?[t]:t);r&&(this.language||a(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector?.cacheUserLanguage?.(r)),this.loadResources(r,e=>{n(e,r)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(r):this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),s}getFixedT(e,t,s){const a=(e,t,...n)=>{let r;r="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(n)):{...t},r.lng=r.lng||a.lng,r.lngs=r.lngs||a.lngs,r.ns=r.ns||a.ns,""!==r.keyPrefix&&(r.keyPrefix=r.keyPrefix||s||a.keyPrefix);const i=this.options.keySeparator||".";let o;return r.keyPrefix&&Array.isArray(e)?o=e.map(e=>("function"==typeof e&&(e=Re(e,{...this.options,...t})),`${r.keyPrefix}${i}${e}`)):("function"==typeof e&&(e=Re(e,{...this.options,...t})),o=r.keyPrefix?`${r.keyPrefix}${i}${e}`:e),this.t(o,r)};return Lu(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=s,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===s.toLowerCase())return!0;const r=(e,t)=>{const s=this.services.backendConnector.state[`${e}|${t}`];return-1===s||0===s||2===s};if(t.precheck){const e=t.precheck(this,r);if(void 0!==e)return e}return!(!this.hasResourceBundle(s,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!r(s,e)||a&&!r(n,e)))}loadNamespaces(e,t){const s=Mu();return this.options.ns?(Lu(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{s.resolve(),t&&t(e)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=Mu();Lu(e)&&(e=[e]);const a=this.options.preload||[],n=e.filter(e=>0>a.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return n.length?(this.options.preload=a.concat(n),this.loadResources(e=>{s.resolve(),t&&t(e)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(_d){}const t=this.services?.languageUtils||new cm(bm());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const s=new Nm(e,t);return s.createInstance=Nm.createInstance,s}cloneInstance(e={},t=wm){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},n=new Nm(a);if(void 0===e.debug&&void 0===e.prefix||(n.logger=n.logger.clone(e)),["store","services","language"].forEach(e=>{n[e]=this[e]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},s){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((s,a)=>(s[a]={...e[t][a]},s),e[t]),e),{});n.store=new am(e,a),n.services.resourceStore=n.store}return e.interpolation&&(n.services.interpolator=new fm(a)),n.translator=new lm(n.services,a),n.translator.on("*",(e,...t)=>{n.emit(e,...t)}),n.init(a,t),n.translator.options=a,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _m=Nm.createInstance(),Sm=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Tm={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Em=e=>Tm[e];let km={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(Sm,Em),transDefaultProps:void 0};const Am={type:"3rdParty",init(e){((e={})=>{km={...km,...e}})(e.options.react)}},{slice:Cm,forEach:Rm}=[],Om=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Dm={create(e,t,s,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};s&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+60*s*1e3)),a&&(n.domain=a),document.cookie=function(e,t){const s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let a=`${e}=${encodeURIComponent(t)}`;if(s.maxAge>0){const e=s.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(e)}`}if(s.domain){if(!Om.test(s.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${s.domain}`}if(s.path){if(!Om.test(s.path))throw new TypeError("option path is invalid");a+=`; Path=${s.path}`}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw new TypeError("option expires is invalid");a+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(a+="; Partitioned"),a}(e,t,n)},read(e){const t=`${e}=`,s=document.cookie.split(";");for(let a=0;s.length>a;a++){let e=s[a];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Im={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return Dm.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:s,cookieMinutes:a,cookieDomain:n,cookieOptions:r}=t;s&&"undefined"!=typeof document&&Dm.create(s,e,a,n,r)}},Pm={name:"querystring",lookup(e){let t,{lookupQuerystring:s}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const a=e.substring(1).split("&");for(let n=0;a.length>n;n++){const e=a[n].indexOf("=");e>0&&a[n].substring(0,e)===s&&(t=a[n].substring(e+1))}}return t}},Lm={name:"hash",lookup(e){let t,{lookupHash:s,lookupFromHashIndex:a}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const n=e.substring(1);if(s){const e=n.split("&");for(let a=0;e.length>a;a++){const n=e[a].indexOf("=");n>0&&e[a].substring(0,n)===s&&(t=e[a].substring(n+1))}}if(t)return t;if(!t&&a>-1){const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;const s="number"==typeof a?a:0;return t[s]?.replace("/","")}}}return t}};let Mm=null;const Fm=()=>{if(null!==Mm)return Mm;try{if(Mm="undefined"!=typeof window&&null!==window.localStorage,!Mm)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(_d){Mm=!1}return Mm};var $m={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Fm())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:s}=t;s&&Fm()&&window.localStorage.setItem(s,e)}};let zm=null;const Vm=()=>{if(null!==zm)return zm;try{if(zm="undefined"!=typeof window&&null!==window.sessionStorage,!zm)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(_d){zm=!1}return zm};var Um={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Vm())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:s}=t;s&&Vm()&&window.sessionStorage.setItem(s,e)}},Hm={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:s,language:a}=navigator;if(e)for(let n=0;e.length>n;n++)t.push(e[n]);s&&t.push(s),a&&t.push(a)}return t.length>0?t:void 0}},Bm={name:"htmlTag",lookup(e){let t,{htmlTag:s}=e;const a=s||("undefined"!=typeof document?document.documentElement:null);return a&&"function"==typeof a.getAttribute&&(t=a.getAttribute("lang")),t}},qm={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(s))return;const a="number"==typeof t?t:0;return s[a]?.replace("/","")}},Wm={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const s="number"==typeof t?t+1:1,a="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(a)return a[s]}};let Km=!1;try{document,Km=!0}catch(_d){}const Gm=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Km||Gm.splice(1,1);class Jm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},this.options=function(e){return Rm.call(Cm.call(arguments,1),t=>{if(t)for(const s in t)void 0===e[s]&&(e[s]=t[s])}),e}(e,this.options||{},{order:Gm,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=t,this.addDetector(Im),this.addDetector(Pm),this.addDetector($m),this.addDetector(Um),this.addDetector(Hm),this.addDetector(Bm),this.addDetector(qm),this.addDetector(Wm),this.addDetector(Lm)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order).forEach(t=>{if(this.detectors[t]){let s=this.detectors[t].lookup(this.options);s&&"string"==typeof s&&(s=[s]),s&&(e=e.concat(s))}}),e=e.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?e:e.length>0?e[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}Jm.type="languageDetector";var Ym,Xm,Qm="function"==typeof fetch?fetch:void 0;if("undefined"!=typeof global&&global.fetch?Qm=global.fetch:"undefined"!=typeof window&&window.fetch&&(Qm=window.fetch),De()&&("undefined"!=typeof global&&global.XMLHttpRequest?Ym=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Ym=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?Xm=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(Xm=window.ActiveXObject)),"function"!=typeof Qm&&(Qm=void 0),!Qm&&!Ym&&!Xm)try{Wi(()=>import("./browser-ponyfill-Dd_SPAIz.js").then(e=>e.b),__vite__mapDeps([0,1,2,3,4,5,6])).then(function(e){Qm=e.default}).catch(function(){})}catch(_d){}var Zm=function(e,t){if(t&&"object"===Me(t)){var s="";for(var a in t)s+="&"+encodeURIComponent(a)+"="+encodeURIComponent(t[a]);if(!s)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+s.slice(1)}return e},eh=function(e,t,s,a){var n=function(e){if(!e.ok)return s(e.statusText||"Error",{status:e.status});e.text().then(function(t){s(null,{status:e.status,data:t})}).catch(s)};if(a){var r=a(e,t);if(r instanceof Promise)return void r.then(n).catch(s)}"function"==typeof fetch?fetch(e,t).then(n).catch(s):Qm(e,t).then(n).catch(s)},th=!1,sh=function(e,t,s,a){return"function"==typeof s&&(a=s,s=void 0),a=a||function(){},Qm&&0!==t.indexOf("file:")?function(e,t,s,a){e.queryStringParams&&(t=Zm(t,e.queryStringParams));var n=Pe({},"function"==typeof e.customHeaders?e.customHeaders():e.customHeaders);"undefined"==typeof window&&"undefined"!=typeof global&&void 0!==global.process&&global.process.versions&&global.process.versions.node&&(n["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),s&&(n["Content-Type"]="application/json");var r="function"==typeof e.requestOptions?e.requestOptions(s):e.requestOptions,i=Pe({method:s?"POST":"GET",body:s?e.stringify(s):void 0,headers:n},th?{}:r),o="function"!=typeof e.alternateFetch||1>e.alternateFetch.length?void 0:e.alternateFetch;try{eh(t,i,a,o)}catch(_d){if(!r||0===Object.keys(r).length||!_d.message||0>_d.message.indexOf("not implemented"))return a(_d);try{Object.keys(r).forEach(function(e){delete i[e]}),eh(t,i,a,o),th=!0}catch(l){a(l)}}}(e,t,s,a):De()||"function"==typeof ActiveXObject?function(e,t,s,a){s&&"object"===Me(s)&&(s=Zm("",s).slice(1)),e.queryStringParams&&(t=Zm(t,e.queryStringParams));try{var n=Ym?new Ym:new Xm("MSXML2.XMLHTTP.3.0");n.open(s?"POST":"GET",t,1),e.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.withCredentials=!!e.withCredentials,s&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.overrideMimeType&&n.overrideMimeType("application/json");var r=e.customHeaders;if(r="function"==typeof r?r():r)for(var i in r)n.setRequestHeader(i,r[i]);n.onreadystatechange=function(){n.readyState>3&&a(400>n.status?null:n.statusText,{status:n.status,data:n.responseText})},n.send(s)}catch(_d){console}}(e,t,s,a):void a(new Error("No fetch and no xhr implementation found!"))},ah=function(e,t){return t&&function(e,t){for(var s=0;t.length>s;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ue(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=s,this.allOptions=a,this.type="backend",this.init(t,s,a)},[{key:"init",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.services=e,this.options=ze(ze(ze({},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,s){return Ve({},t,s||"")},parseLoadPayload:function(e,t){},request:sh,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}),this.options||{}),s),this.allOptions=a,this.services&&this.options.reloadInterval){var n=setInterval(function(){return t.reload()},this.options.reloadInterval);"object"===Fe(n)&&"function"==typeof n.unref&&n.unref()}}},{key:"readMulti",value:function(e,t,s){this._readAny(e,e,t,t,s)}},{key:"read",value:function(e,t,s){this._readAny([e],e,[t],t,s)}},{key:"_readAny",value:function(e,t,s,a,n){var r,i=this,o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath(e,s)),(o=function(e){return!!e&&"function"==typeof e.then}(r=o)?r:Promise.resolve(r)).then(function(r){if(!r)return n(null,{});var o=i.services.interpolator.interpolate(r,{lng:e.join("+"),ns:s.join("+")});i.loadUrl(o,n,t,a)})}},{key:"loadUrl",value:function(e,t,s,a){var n=this,r=this.options.parseLoadPayload("string"==typeof s?[s]:s,"string"==typeof a?[a]:a);this.options.request(this.options,e,r,function(r,i){if(i&&(i.status>=500&&600>i.status||!i.status))return t("failed loading "+e+"; status code: "+i.status,!0);if(i&&i.status>=400&&500>i.status)return t("failed loading "+e+"; status code: "+i.status,!1);if(!i&&r&&r.message){var o=r.message.toLowerCase();if(["failed","fetch","network","load"].find(function(e){return o.indexOf(e)>-1}))return t("failed loading "+e+": "+r.message,!0)}if(r)return t(r,!1);var l,c;try{l="string"==typeof i.data?n.options.parse(i.data,s,a):i.data}catch(_d){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,l)})}},{key:"create",value:function(e,t,s,a,n){var r=this;if(this.options.addPath){"string"==typeof e&&(e=[e]);var i=this.options.parsePayload(t,s,a),o=0,l=[],c=[];e.forEach(function(s){var a=r.options.addPath;"function"==typeof r.options.addPath&&(a=r.options.addPath(s,t));var d=r.services.interpolator.interpolate(a,{lng:s,ns:t});r.options.request(r.options,d,i,function(t,s){o+=1,l.push(t),c.push(s),o===e.length&&"function"==typeof n&&n(l,c)})})}}},{key:"reload",value:function(){var e=this,t=this.services,s=t.backendConnector,a=t.languageUtils,n=t.logger,r=s.language;if(!r||"cimode"!==r.toLowerCase()){var i=[],o=function(e){a.toResolveHierarchy(e).forEach(function(e){0>i.indexOf(e)&&i.push(e)})};o(r),this.allOptions.preload&&this.allOptions.preload.forEach(function(e){return o(e)}),i.forEach(function(t){e.allOptions.ns.forEach(function(e){s.read(t,e,"read",null,null,function(a,r){a&&n.warn("loading namespace ".concat(e," for language ").concat(t," failed"),a),!a&&r&&n.log("loaded namespace ".concat(e," for language ").concat(t),r),s.loaded("".concat(t,"|").concat(e),a,r)})})})}}}]);ah.type="backend";const nh={"en-US":{name:"English (US)",nativeName:"English",dir:"ltr",flag:"🇺🇸"},"es-ES":{name:"Spanish",nativeName:"Español",dir:"ltr",flag:"🇪🇸"},"fr-FR":{name:"French",nativeName:"Français",dir:"ltr",flag:"🇫🇷"},"de-DE":{name:"German",nativeName:"Deutsch",dir:"ltr",flag:"🇩🇪"},"ar-SA":{name:"Arabic",nativeName:"العربية",dir:"rtl",flag:"🇸🇦"},"he-IL":{name:"Hebrew",nativeName:"עברית",dir:"rtl",flag:"🇮🇱"}};_m.use(ah).use(Jm).use(Am).init({resources:{"en-US":{translation:{common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",update:"Update",search:"Search",filter:"Filter",export:"Export",import:"Import",download:"Download",upload:"Upload",refresh:"Refresh",close:"Close",confirm:"Confirm",yes:"Yes",no:"No",back:"Back",next:"Next",previous:"Previous",finish:"Finish",submit:"Submit",clear:"Clear",reset:"Reset",view:"View",details:"Details",actions:"Actions",status:"Status",active:"Active",inactive:"Inactive",pending:"Pending",approved:"Approved",rejected:"Rejected",all:"All",none:"None",select:"Select",date:"Date",time:"Time",name:"Name",description:"Description",type:"Type",category:"Category",notes:"Notes",priority:"Priority",assignee:"Assignee"},navigation:{dashboard:"Dashboard",vehicles:"Vehicles",drivers:"Drivers",maintenance:"Maintenance",fuel:"Fuel Tracking",reports:"Reports",analytics:"Analytics",settings:"Settings",profile:"Profile",logout:"Logout",help:"Help",documentation:"Documentation"},dashboard:{title:"Fleet Dashboard",welcome:"Welcome to Fleet Management",overview:"Overview",totalVehicles:"Total Vehicles",activeVehicles:"Active Vehicles",inactiveVehicles:"Inactive Vehicles",maintenanceDue:"Maintenance Due",fuelCosts:"Fuel Costs",totalDrivers:"Total Drivers",activeDrivers:"Active Drivers",recentActivity:"Recent Activity",upcomingMaintenance:"Upcoming Maintenance",alerts:"Alerts",notifications:"Notifications"},vehicles:{title:"Vehicle Management",addVehicle:"Add Vehicle",editVehicle:"Edit Vehicle",deleteVehicle:"Delete Vehicle",vehicleDetails:"Vehicle Details",vehicleList:"Vehicle List",vehicleInfo:"Vehicle Information",vin:"VIN",make:"Make",model:"Model",year:"Year",color:"Color",licensePlate:"License Plate",status:"Status",mileage:"Mileage",lastService:"Last Service",nextService:"Next Service",fuelType:"Fuel Type",transmission:"Transmission",engineSize:"Engine Size",purchaseDate:"Purchase Date",purchasePrice:"Purchase Price",currentValue:"Current Value",insurance:"Insurance",registration:"Registration",assignedDriver:"Assigned Driver",location:"Location",condition:"Condition",deleteConfirm:"Are you sure you want to delete this vehicle?"},drivers:{title:"Driver Management",addDriver:"Add Driver",editDriver:"Edit Driver",deleteDriver:"Delete Driver",driverDetails:"Driver Details",driverList:"Driver List",firstName:"First Name",lastName:"Last Name",email:"Email",phone:"Phone",licenseNumber:"License Number",licenseExpiry:"License Expiry",dateOfBirth:"Date of Birth",hireDate:"Hire Date",assignedVehicle:"Assigned Vehicle",status:"Status",address:"Address",emergencyContact:"Emergency Contact",deleteConfirm:"Are you sure you want to delete this driver?"},maintenance:{title:"Maintenance Tracking",addMaintenance:"Add Maintenance",editMaintenance:"Edit Maintenance",maintenanceHistory:"Maintenance History",scheduleMaintenance:"Schedule Maintenance",serviceType:"Service Type",serviceDate:"Service Date",nextServiceDate:"Next Service Date",serviceCost:"Service Cost",serviceProvider:"Service Provider",mileageAtService:"Mileage at Service",partsReplaced:"Parts Replaced",laborCost:"Labor Cost",partsCost:"Parts Cost",totalCost:"Total Cost",technician:"Technician",workOrder:"Work Order",invoice:"Invoice",completed:"Completed",scheduled:"Scheduled",overdue:"Overdue"},fuel:{title:"Fuel Tracking",addFuelEntry:"Add Fuel Entry",fuelHistory:"Fuel History",fuelDate:"Fuel Date",fuelAmount:"Fuel Amount",fuelCost:"Fuel Cost",fuelPrice:"Price per Gallon",odometer:"Odometer Reading",station:"Gas Station",fuelType:"Fuel Type",gallons:"Gallons",liters:"Liters",totalSpent:"Total Spent",averageMPG:"Average MPG",fuelEfficiency:"Fuel Efficiency"},reports:{title:"Reports",generateReport:"Generate Report",reportType:"Report Type",dateRange:"Date Range",startDate:"Start Date",endDate:"End Date",vehicleReport:"Vehicle Report",driverReport:"Driver Report",maintenanceReport:"Maintenance Report",fuelReport:"Fuel Report",costReport:"Cost Report",summaryReport:"Summary Report",detailedReport:"Detailed Report",exportPDF:"Export as PDF",exportExcel:"Export as Excel",exportCSV:"Export as CSV",print:"Print"},settings:{title:"Settings",generalSettings:"General Settings",accountSettings:"Account Settings",notificationSettings:"Notification Settings",language:"Language",theme:"Theme",timezone:"Timezone",currency:"Currency",units:"Units",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",smsNotifications:"SMS Notifications",privacy:"Privacy",security:"Security",changePassword:"Change Password",twoFactorAuth:"Two-Factor Authentication",apiKeys:"API Keys",integrations:"Integrations"},validation:{required:"This field is required",invalidEmail:"Invalid email address",invalidPhone:"Invalid phone number",invalidVIN:"Invalid VIN (must be 17 characters)",invalidDate:"Invalid date",invalidNumber:"Invalid number",invalidURL:"Invalid URL",minLength:"Must be at least {{min}} characters",maxLength:"Must be at most {{max}} characters",minValue:"Must be at least {{min}}",maxValue:"Must be at most {{max}}",mustMatch:"Fields must match",alphanumeric:"Must contain only letters and numbers",numeric:"Must contain only numbers",alpha:"Must contain only letters",passwordTooWeak:"Password is too weak",passwordRequirements:"Password must contain at least 8 characters, one uppercase, one lowercase, one number, and one special character"},errors:{networkError:"Network error. Please check your connection.",serverError:"Server error. Please try again later.",unauthorized:"Unauthorized. Please log in.",forbidden:"You don't have permission to access this resource.",notFound:"Resource not found.",timeout:"Request timeout. Please try again.",badRequest:"Invalid request. Please check your input.",conflict:"This resource already exists.",internalError:"An unexpected error occurred. Please try again.",maintenance:"System is under maintenance. Please try again later.",unknownError:"An unknown error occurred."},success:{created:"Successfully created",updated:"Successfully updated",deleted:"Successfully deleted",saved:"Successfully saved",uploaded:"Successfully uploaded",downloaded:"Successfully downloaded",sent:"Successfully sent",imported:"Successfully imported",exported:"Successfully exported",copied:"Copied to clipboard"},analytics:{title:"Analytics Dashboard",overview:"Overview",totalUsers:"Total Users",activeSessions:"Active Sessions",totalEvents:"Total Events",avgSessionDuration:"Avg Session Duration",eventVolume:"Event Volume",topEvents:"Top Events",userSegments:"User Segments",timeRange:{"7d":"Last 7 Days","30d":"Last 30 Days","90d":"Last 90 Days"}},auth:{login:"Login",logout:"Logout",register:"Register",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",changePassword:"Change Password",username:"Username",password:"Password",confirmPassword:"Confirm Password",rememberMe:"Remember Me",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",welcomeBack:"Welcome Back",createAccount:"Create Account"}}},"es-ES":{translation:{common:{loading:"Cargando...",error:"Error",success:"Éxito",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",create:"Crear",update:"Actualizar",search:"Buscar",filter:"Filtrar",export:"Exportar",import:"Importar",download:"Descargar",upload:"Subir",refresh:"Actualizar",close:"Cerrar",confirm:"Confirmar",yes:"Sí",no:"No",back:"Atrás",next:"Siguiente",previous:"Anterior",finish:"Finalizar",submit:"Enviar",clear:"Limpiar",reset:"Restablecer",view:"Ver",details:"Detalles",actions:"Acciones",status:"Estado",active:"Activo",inactive:"Inactivo",pending:"Pendiente",approved:"Aprobado",rejected:"Rechazado",all:"Todos",none:"Ninguno",select:"Seleccionar",date:"Fecha",time:"Hora",name:"Nombre",description:"Descripción",type:"Tipo",category:"Categoría",notes:"Notas",priority:"Prioridad",assignee:"Asignado"},navigation:{dashboard:"Panel de Control",vehicles:"Vehículos",drivers:"Conductores",maintenance:"Mantenimiento",fuel:"Seguimiento de Combustible",reports:"Informes",analytics:"Análisis",settings:"Configuración",profile:"Perfil",logout:"Cerrar Sesión",help:"Ayuda",documentation:"Documentación"},dashboard:{title:"Panel de Control de Flota",welcome:"Bienvenido a Gestión de Flotas",overview:"Resumen",totalVehicles:"Vehículos Totales",activeVehicles:"Vehículos Activos",inactiveVehicles:"Vehículos Inactivos",maintenanceDue:"Mantenimiento Pendiente",fuelCosts:"Costos de Combustible",totalDrivers:"Conductores Totales",activeDrivers:"Conductores Activos",recentActivity:"Actividad Reciente",upcomingMaintenance:"Mantenimiento Próximo",alerts:"Alertas",notifications:"Notificaciones"},vehicles:{title:"Gestión de Vehículos",addVehicle:"Agregar Vehículo",editVehicle:"Editar Vehículo",deleteVehicle:"Eliminar Vehículo",vehicleDetails:"Detalles del Vehículo",vehicleList:"Lista de Vehículos",vehicleInfo:"Información del Vehículo",vin:"NIV",make:"Marca",model:"Modelo",year:"Año",color:"Color",licensePlate:"Matrícula",status:"Estado",mileage:"Kilometraje",lastService:"Último Servicio",nextService:"Próximo Servicio",fuelType:"Tipo de Combustible",transmission:"Transmisión",engineSize:"Tamaño del Motor",purchaseDate:"Fecha de Compra",purchasePrice:"Precio de Compra",currentValue:"Valor Actual",insurance:"Seguro",registration:"Registro",assignedDriver:"Conductor Asignado",location:"Ubicación",condition:"Condición",deleteConfirm:"¿Está seguro de que desea eliminar este vehículo?"},drivers:{title:"Gestión de Conductores",addDriver:"Agregar Conductor",editDriver:"Editar Conductor",deleteDriver:"Eliminar Conductor",driverDetails:"Detalles del Conductor",driverList:"Lista de Conductores",firstName:"Nombre",lastName:"Apellido",email:"Correo Electrónico",phone:"Teléfono",licenseNumber:"Número de Licencia",licenseExpiry:"Vencimiento de Licencia",dateOfBirth:"Fecha de Nacimiento",hireDate:"Fecha de Contratación",assignedVehicle:"Vehículo Asignado",status:"Estado",address:"Dirección",emergencyContact:"Contacto de Emergencia",deleteConfirm:"¿Está seguro de que desea eliminar este conductor?"},maintenance:{title:"Seguimiento de Mantenimiento",addMaintenance:"Agregar Mantenimiento",editMaintenance:"Editar Mantenimiento",maintenanceHistory:"Historial de Mantenimiento",scheduleMaintenance:"Programar Mantenimiento",serviceType:"Tipo de Servicio",serviceDate:"Fecha de Servicio",nextServiceDate:"Fecha del Próximo Servicio",serviceCost:"Costo del Servicio",serviceProvider:"Proveedor de Servicio",mileageAtService:"Kilometraje en el Servicio",partsReplaced:"Piezas Reemplazadas",laborCost:"Costo de Mano de Obra",partsCost:"Costo de Piezas",totalCost:"Costo Total",technician:"Técnico",workOrder:"Orden de Trabajo",invoice:"Factura",completed:"Completado",scheduled:"Programado",overdue:"Vencido"},fuel:{title:"Seguimiento de Combustible",addFuelEntry:"Agregar Entrada de Combustible",fuelHistory:"Historial de Combustible",fuelDate:"Fecha de Combustible",fuelAmount:"Cantidad de Combustible",fuelCost:"Costo de Combustible",fuelPrice:"Precio por Litro",odometer:"Lectura del Odómetro",station:"Estación de Servicio",fuelType:"Tipo de Combustible",gallons:"Galones",liters:"Litros",totalSpent:"Total Gastado",averageMPG:"Promedio KPL",fuelEfficiency:"Eficiencia de Combustible"},reports:{title:"Informes",generateReport:"Generar Informe",reportType:"Tipo de Informe",dateRange:"Rango de Fechas",startDate:"Fecha de Inicio",endDate:"Fecha de Fin",vehicleReport:"Informe de Vehículos",driverReport:"Informe de Conductores",maintenanceReport:"Informe de Mantenimiento",fuelReport:"Informe de Combustible",costReport:"Informe de Costos",summaryReport:"Informe Resumido",detailedReport:"Informe Detallado",exportPDF:"Exportar como PDF",exportExcel:"Exportar como Excel",exportCSV:"Exportar como CSV",print:"Imprimir"},settings:{title:"Configuración",generalSettings:"Configuración General",accountSettings:"Configuración de Cuenta",notificationSettings:"Configuración de Notificaciones",language:"Idioma",theme:"Tema",timezone:"Zona Horaria",currency:"Moneda",units:"Unidades",emailNotifications:"Notificaciones por Correo",pushNotifications:"Notificaciones Push",smsNotifications:"Notificaciones SMS",privacy:"Privacidad",security:"Seguridad",changePassword:"Cambiar Contraseña",twoFactorAuth:"Autenticación de Dos Factores",apiKeys:"Claves API",integrations:"Integraciones"},validation:{required:"Este campo es obligatorio",invalidEmail:"Dirección de correo electrónico inválida",invalidPhone:"Número de teléfono inválido",invalidVIN:"NIV inválido (debe tener 17 caracteres)",invalidDate:"Fecha inválida",invalidNumber:"Número inválido",invalidURL:"URL inválida",minLength:"Debe tener al menos {{min}} caracteres",maxLength:"Debe tener como máximo {{max}} caracteres",minValue:"Debe ser al menos {{min}}",maxValue:"Debe ser como máximo {{max}}",mustMatch:"Los campos deben coincidir",alphanumeric:"Debe contener solo letras y números",numeric:"Debe contener solo números",alpha:"Debe contener solo letras",passwordTooWeak:"La contraseña es demasiado débil",passwordRequirements:"La contraseña debe contener al menos 8 caracteres, una mayúscula, una minúscula, un número y un carácter especial"},errors:{networkError:"Error de red. Por favor, verifique su conexión.",serverError:"Error del servidor. Por favor, inténtelo de nuevo más tarde.",unauthorized:"No autorizado. Por favor, inicie sesión.",forbidden:"No tiene permiso para acceder a este recurso.",notFound:"Recurso no encontrado.",timeout:"Tiempo de espera agotado. Por favor, inténtelo de nuevo.",badRequest:"Solicitud inválida. Por favor, verifique su entrada.",conflict:"Este recurso ya existe.",internalError:"Ocurrió un error inesperado. Por favor, inténtelo de nuevo.",maintenance:"El sistema está en mantenimiento. Por favor, inténtelo de nuevo más tarde.",unknownError:"Ocurrió un error desconocido."},success:{created:"Creado exitosamente",updated:"Actualizado exitosamente",deleted:"Eliminado exitosamente",saved:"Guardado exitosamente",uploaded:"Subido exitosamente",downloaded:"Descargado exitosamente",sent:"Enviado exitosamente",imported:"Importado exitosamente",exported:"Exportado exitosamente",copied:"Copiado al portapapeles"},analytics:{title:"Panel de Análisis",overview:"Resumen",totalUsers:"Usuarios Totales",activeSessions:"Sesiones Activas",totalEvents:"Eventos Totales",avgSessionDuration:"Duración Promedio de Sesión",eventVolume:"Volumen de Eventos",topEvents:"Eventos Principales",userSegments:"Segmentos de Usuarios",timeRange:{"7d":"Últimos 7 Días","30d":"Últimos 30 Días","90d":"Últimos 90 Días"}},auth:{login:"Iniciar Sesión",logout:"Cerrar Sesión",register:"Registrarse",forgotPassword:"¿Olvidó su Contraseña?",resetPassword:"Restablecer Contraseña",changePassword:"Cambiar Contraseña",username:"Nombre de Usuario",password:"Contraseña",confirmPassword:"Confirmar Contraseña",rememberMe:"Recuérdame",signIn:"Iniciar Sesión",signUp:"Registrarse",signOut:"Cerrar Sesión",welcomeBack:"Bienvenido de Nuevo",createAccount:"Crear Cuenta"}}},"fr-FR":{translation:{common:{loading:"Chargement...",error:"Erreur",success:"Succès",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",create:"Créer",update:"Mettre à jour",search:"Rechercher",filter:"Filtrer",export:"Exporter",import:"Importer",download:"Télécharger",upload:"Téléverser",refresh:"Actualiser",close:"Fermer",confirm:"Confirmer",yes:"Oui",no:"Non",back:"Retour",next:"Suivant",previous:"Précédent",finish:"Terminer",submit:"Soumettre",clear:"Effacer",reset:"Réinitialiser",view:"Voir",details:"Détails",actions:"Actions",status:"Statut",active:"Actif",inactive:"Inactif",pending:"En attente",approved:"Approuvé",rejected:"Rejeté",all:"Tous",none:"Aucun",select:"Sélectionner",date:"Date",time:"Heure",name:"Nom",description:"Description",type:"Type",category:"Catégorie",notes:"Notes",priority:"Priorité",assignee:"Assigné"},navigation:{dashboard:"Tableau de bord",vehicles:"Véhicules",drivers:"Conducteurs",maintenance:"Entretien",fuel:"Suivi du carburant",reports:"Rapports",analytics:"Analytique",settings:"Paramètres",profile:"Profil",logout:"Déconnexion",help:"Aide",documentation:"Documentation"},dashboard:{title:"Tableau de bord de la flotte",welcome:"Bienvenue dans la gestion de flotte",overview:"Aperçu",totalVehicles:"Véhicules totaux",activeVehicles:"Véhicules actifs",inactiveVehicles:"Véhicules inactifs",maintenanceDue:"Entretien dû",fuelCosts:"Coûts de carburant",totalDrivers:"Conducteurs totaux",activeDrivers:"Conducteurs actifs",recentActivity:"Activité récente",upcomingMaintenance:"Entretien à venir",alerts:"Alertes",notifications:"Notifications"},vehicles:{title:"Gestion des véhicules",addVehicle:"Ajouter un véhicule",editVehicle:"Modifier le véhicule",deleteVehicle:"Supprimer le véhicule",vehicleDetails:"Détails du véhicule",vehicleList:"Liste des véhicules",vehicleInfo:"Informations sur le véhicule",vin:"NIV",make:"Marque",model:"Modèle",year:"Année",color:"Couleur",licensePlate:"Plaque d'immatriculation",status:"Statut",mileage:"Kilométrage",lastService:"Dernier service",nextService:"Prochain service",fuelType:"Type de carburant",transmission:"Transmission",engineSize:"Taille du moteur",purchaseDate:"Date d'achat",purchasePrice:"Prix d'achat",currentValue:"Valeur actuelle",insurance:"Assurance",registration:"Enregistrement",assignedDriver:"Conducteur assigné",location:"Emplacement",condition:"Condition",deleteConfirm:"Êtes-vous sûr de vouloir supprimer ce véhicule?"},drivers:{title:"Gestion des conducteurs",addDriver:"Ajouter un conducteur",editDriver:"Modifier le conducteur",deleteDriver:"Supprimer le conducteur",driverDetails:"Détails du conducteur",driverList:"Liste des conducteurs",firstName:"Prénom",lastName:"Nom",email:"Email",phone:"Téléphone",licenseNumber:"Numéro de permis",licenseExpiry:"Expiration du permis",dateOfBirth:"Date de naissance",hireDate:"Date d'embauche",assignedVehicle:"Véhicule assigné",status:"Statut",address:"Adresse",emergencyContact:"Contact d'urgence",deleteConfirm:"Êtes-vous sûr de vouloir supprimer ce conducteur?"},maintenance:{title:"Suivi de l'entretien",addMaintenance:"Ajouter un entretien",editMaintenance:"Modifier l'entretien",maintenanceHistory:"Historique d'entretien",scheduleMaintenance:"Planifier l'entretien",serviceType:"Type de service",serviceDate:"Date de service",nextServiceDate:"Date du prochain service",serviceCost:"Coût du service",serviceProvider:"Fournisseur de service",mileageAtService:"Kilométrage au service",partsReplaced:"Pièces remplacées",laborCost:"Coût de la main-d'œuvre",partsCost:"Coût des pièces",totalCost:"Coût total",technician:"Technicien",workOrder:"Bon de travail",invoice:"Facture",completed:"Terminé",scheduled:"Planifié",overdue:"En retard"},fuel:{title:"Suivi du carburant",addFuelEntry:"Ajouter une entrée de carburant",fuelHistory:"Historique du carburant",fuelDate:"Date du carburant",fuelAmount:"Quantité de carburant",fuelCost:"Coût du carburant",fuelPrice:"Prix par litre",odometer:"Lecture de l'odomètre",station:"Station-service",fuelType:"Type de carburant",gallons:"Gallons",liters:"Litres",totalSpent:"Total dépensé",averageMPG:"Moyenne L/100km",fuelEfficiency:"Efficacité du carburant"},reports:{title:"Rapports",generateReport:"Générer un rapport",reportType:"Type de rapport",dateRange:"Plage de dates",startDate:"Date de début",endDate:"Date de fin",vehicleReport:"Rapport de véhicule",driverReport:"Rapport de conducteur",maintenanceReport:"Rapport d'entretien",fuelReport:"Rapport de carburant",costReport:"Rapport de coûts",summaryReport:"Rapport sommaire",detailedReport:"Rapport détaillé",exportPDF:"Exporter en PDF",exportExcel:"Exporter en Excel",exportCSV:"Exporter en CSV",print:"Imprimer"},settings:{title:"Paramètres",generalSettings:"Paramètres généraux",accountSettings:"Paramètres du compte",notificationSettings:"Paramètres de notification",language:"Langue",theme:"Thème",timezone:"Fuseau horaire",currency:"Devise",units:"Unités",emailNotifications:"Notifications par email",pushNotifications:"Notifications push",smsNotifications:"Notifications SMS",privacy:"Confidentialité",security:"Sécurité",changePassword:"Changer le mot de passe",twoFactorAuth:"Authentification à deux facteurs",apiKeys:"Clés API",integrations:"Intégrations"},validation:{required:"Ce champ est obligatoire",invalidEmail:"Adresse email invalide",invalidPhone:"Numéro de téléphone invalide",invalidVIN:"NIV invalide (doit contenir 17 caractères)",invalidDate:"Date invalide",invalidNumber:"Numéro invalide",invalidURL:"URL invalide",minLength:"Doit contenir au moins {{min}} caractères",maxLength:"Doit contenir au plus {{max}} caractères",minValue:"Doit être au moins {{min}}",maxValue:"Doit être au plus {{max}}",mustMatch:"Les champs doivent correspondre",alphanumeric:"Doit contenir uniquement des lettres et des chiffres",numeric:"Doit contenir uniquement des chiffres",alpha:"Doit contenir uniquement des lettres",passwordTooWeak:"Le mot de passe est trop faible",passwordRequirements:"Le mot de passe doit contenir au moins 8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial"},errors:{networkError:"Erreur réseau. Veuillez vérifier votre connexion.",serverError:"Erreur serveur. Veuillez réessayer plus tard.",unauthorized:"Non autorisé. Veuillez vous connecter.",forbidden:"Vous n'avez pas la permission d'accéder à cette ressource.",notFound:"Ressource introuvable.",timeout:"Délai d'attente dépassé. Veuillez réessayer.",badRequest:"Requête invalide. Veuillez vérifier votre saisie.",conflict:"Cette ressource existe déjà.",internalError:"Une erreur inattendue s'est produite. Veuillez réessayer.",maintenance:"Le système est en maintenance. Veuillez réessayer plus tard.",unknownError:"Une erreur inconnue s'est produite."},success:{created:"Créé avec succès",updated:"Mis à jour avec succès",deleted:"Supprimé avec succès",saved:"Enregistré avec succès",uploaded:"Téléversé avec succès",downloaded:"Téléchargé avec succès",sent:"Envoyé avec succès",imported:"Importé avec succès",exported:"Exporté avec succès",copied:"Copié dans le presse-papiers"},analytics:{title:"Tableau de bord d'analytique",overview:"Aperçu",totalUsers:"Utilisateurs totaux",activeSessions:"Sessions actives",totalEvents:"Événements totaux",avgSessionDuration:"Durée moyenne de session",eventVolume:"Volume d'événements",topEvents:"Événements principaux",userSegments:"Segments d'utilisateurs",timeRange:{"7d":"7 derniers jours","30d":"30 derniers jours","90d":"90 derniers jours"}},auth:{login:"Connexion",logout:"Déconnexion",register:"S'inscrire",forgotPassword:"Mot de passe oublié?",resetPassword:"Réinitialiser le mot de passe",changePassword:"Changer le mot de passe",username:"Nom d'utilisateur",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",rememberMe:"Se souvenir de moi",signIn:"Se connecter",signUp:"S'inscrire",signOut:"Se déconnecter",welcomeBack:"Bienvenue",createAccount:"Créer un compte"}}},"de-DE":{translation:{common:{loading:"Laden...",error:"Fehler",success:"Erfolg",save:"Speichern",cancel:"Abbrechen",delete:"Löschen",edit:"Bearbeiten",create:"Erstellen",update:"Aktualisieren",search:"Suchen",filter:"Filtern",export:"Exportieren",import:"Importieren",download:"Herunterladen",upload:"Hochladen",refresh:"Aktualisieren",close:"Schließen",confirm:"Bestätigen",yes:"Ja",no:"Nein",back:"Zurück",next:"Weiter",previous:"Vorherige",finish:"Beenden",submit:"Absenden",clear:"Löschen",reset:"Zurücksetzen",view:"Ansehen",details:"Details",actions:"Aktionen",status:"Status",active:"Aktiv",inactive:"Inaktiv",pending:"Ausstehend",approved:"Genehmigt",rejected:"Abgelehnt",all:"Alle",none:"Keine",select:"Auswählen",date:"Datum",time:"Zeit",name:"Name",description:"Beschreibung",type:"Typ",category:"Kategorie",notes:"Notizen",priority:"Priorität",assignee:"Zugewiesen"},navigation:{dashboard:"Dashboard",vehicles:"Fahrzeuge",drivers:"Fahrer",maintenance:"Wartung",fuel:"Kraftstoffverfolgung",reports:"Berichte",analytics:"Analysen",settings:"Einstellungen",profile:"Profil",logout:"Abmelden",help:"Hilfe",documentation:"Dokumentation"},dashboard:{title:"Flotten-Dashboard",welcome:"Willkommen bei der Flottenverwaltung",overview:"Übersicht",totalVehicles:"Fahrzeuge gesamt",activeVehicles:"Aktive Fahrzeuge",inactiveVehicles:"Inaktive Fahrzeuge",maintenanceDue:"Fällige Wartung",fuelCosts:"Kraftstoffkosten",totalDrivers:"Fahrer gesamt",activeDrivers:"Aktive Fahrer",recentActivity:"Letzte Aktivität",upcomingMaintenance:"Bevorstehende Wartung",alerts:"Warnungen",notifications:"Benachrichtigungen"},vehicles:{title:"Fahrzeugverwaltung",addVehicle:"Fahrzeug hinzufügen",editVehicle:"Fahrzeug bearbeiten",deleteVehicle:"Fahrzeug löschen",vehicleDetails:"Fahrzeugdetails",vehicleList:"Fahrzeugliste",vehicleInfo:"Fahrzeuginformationen",vin:"FIN",make:"Marke",model:"Modell",year:"Jahr",color:"Farbe",licensePlate:"Kennzeichen",status:"Status",mileage:"Kilometerstand",lastService:"Letzte Wartung",nextService:"Nächste Wartung",fuelType:"Kraftstoffart",transmission:"Getriebe",engineSize:"Motorgröße",purchaseDate:"Kaufdatum",purchasePrice:"Kaufpreis",currentValue:"Aktueller Wert",insurance:"Versicherung",registration:"Zulassung",assignedDriver:"Zugewiesener Fahrer",location:"Standort",condition:"Zustand",deleteConfirm:"Sind Sie sicher, dass Sie dieses Fahrzeug löschen möchten?"},drivers:{title:"Fahrerverwaltung",addDriver:"Fahrer hinzufügen",editDriver:"Fahrer bearbeiten",deleteDriver:"Fahrer löschen",driverDetails:"Fahrerdetails",driverList:"Fahrerliste",firstName:"Vorname",lastName:"Nachname",email:"E-Mail",phone:"Telefon",licenseNumber:"Führerscheinnummer",licenseExpiry:"Führerschein läuft ab",dateOfBirth:"Geburtsdatum",hireDate:"Einstellungsdatum",assignedVehicle:"Zugewiesenes Fahrzeug",status:"Status",address:"Adresse",emergencyContact:"Notfallkontakt",deleteConfirm:"Sind Sie sicher, dass Sie diesen Fahrer löschen möchten?"},maintenance:{title:"Wartungsverfolgung",addMaintenance:"Wartung hinzufügen",editMaintenance:"Wartung bearbeiten",maintenanceHistory:"Wartungshistorie",scheduleMaintenance:"Wartung planen",serviceType:"Serviceart",serviceDate:"Servicedatum",nextServiceDate:"Nächstes Servicedatum",serviceCost:"Servicekosten",serviceProvider:"Serviceanbieter",mileageAtService:"Kilometerstand beim Service",partsReplaced:"Ersetzte Teile",laborCost:"Arbeitskosten",partsCost:"Teilekosten",totalCost:"Gesamtkosten",technician:"Techniker",workOrder:"Arbeitsauftrag",invoice:"Rechnung",completed:"Abgeschlossen",scheduled:"Geplant",overdue:"Überfällig"},fuel:{title:"Kraftstoffverfolgung",addFuelEntry:"Kraftstoffeintrag hinzufügen",fuelHistory:"Kraftstoffhistorie",fuelDate:"Kraftstoffdatum",fuelAmount:"Kraftstoffmenge",fuelCost:"Kraftstoffkosten",fuelPrice:"Preis pro Liter",odometer:"Kilometerstand",station:"Tankstelle",fuelType:"Kraftstoffart",gallons:"Gallonen",liters:"Liter",totalSpent:"Gesamtausgaben",averageMPG:"Durchschnittlicher Verbrauch",fuelEfficiency:"Kraftstoffeffizienz"},reports:{title:"Berichte",generateReport:"Bericht erstellen",reportType:"Berichtstyp",dateRange:"Datumsbereich",startDate:"Startdatum",endDate:"Enddatum",vehicleReport:"Fahrzeugbericht",driverReport:"Fahrerbericht",maintenanceReport:"Wartungsbericht",fuelReport:"Kraftstoffbericht",costReport:"Kostenbericht",summaryReport:"Zusammenfassungsbericht",detailedReport:"Detaillierter Bericht",exportPDF:"Als PDF exportieren",exportExcel:"Als Excel exportieren",exportCSV:"Als CSV exportieren",print:"Drucken"},settings:{title:"Einstellungen",generalSettings:"Allgemeine Einstellungen",accountSettings:"Kontoeinstellungen",notificationSettings:"Benachrichtigungseinstellungen",language:"Sprache",theme:"Thema",timezone:"Zeitzone",currency:"Währung",units:"Einheiten",emailNotifications:"E-Mail-Benachrichtigungen",pushNotifications:"Push-Benachrichtigungen",smsNotifications:"SMS-Benachrichtigungen",privacy:"Datenschutz",security:"Sicherheit",changePassword:"Passwort ändern",twoFactorAuth:"Zwei-Faktor-Authentifizierung",apiKeys:"API-Schlüssel",integrations:"Integrationen"},validation:{required:"Dieses Feld ist erforderlich",invalidEmail:"Ungültige E-Mail-Adresse",invalidPhone:"Ungültige Telefonnummer",invalidVIN:"Ungültige FIN (muss 17 Zeichen enthalten)",invalidDate:"Ungültiges Datum",invalidNumber:"Ungültige Nummer",invalidURL:"Ungültige URL",minLength:"Muss mindestens {{min}} Zeichen enthalten",maxLength:"Darf höchstens {{max}} Zeichen enthalten",minValue:"Muss mindestens {{min}} sein",maxValue:"Darf höchstens {{max}} sein",mustMatch:"Felder müssen übereinstimmen",alphanumeric:"Darf nur Buchstaben und Zahlen enthalten",numeric:"Darf nur Zahlen enthalten",alpha:"Darf nur Buchstaben enthalten",passwordTooWeak:"Passwort ist zu schwach",passwordRequirements:"Passwort muss mindestens 8 Zeichen, einen Großbuchstaben, einen Kleinbuchstaben, eine Zahl und ein Sonderzeichen enthalten"},errors:{networkError:"Netzwerkfehler. Bitte überprüfen Sie Ihre Verbindung.",serverError:"Serverfehler. Bitte versuchen Sie es später erneut.",unauthorized:"Nicht autorisiert. Bitte melden Sie sich an.",forbidden:"Sie haben keine Berechtigung, auf diese Ressource zuzugreifen.",notFound:"Ressource nicht gefunden.",timeout:"Zeitüberschreitung. Bitte versuchen Sie es erneut.",badRequest:"Ungültige Anfrage. Bitte überprüfen Sie Ihre Eingabe.",conflict:"Diese Ressource existiert bereits.",internalError:"Ein unerwarteter Fehler ist aufgetreten. Bitte versuchen Sie es erneut.",maintenance:"System wird gewartet. Bitte versuchen Sie es später erneut.",unknownError:"Ein unbekannter Fehler ist aufgetreten."},success:{created:"Erfolgreich erstellt",updated:"Erfolgreich aktualisiert",deleted:"Erfolgreich gelöscht",saved:"Erfolgreich gespeichert",uploaded:"Erfolgreich hochgeladen",downloaded:"Erfolgreich heruntergeladen",sent:"Erfolgreich gesendet",imported:"Erfolgreich importiert",exported:"Erfolgreich exportiert",copied:"In Zwischenablage kopiert"},analytics:{title:"Analyse-Dashboard",overview:"Übersicht",totalUsers:"Benutzer gesamt",activeSessions:"Aktive Sitzungen",totalEvents:"Ereignisse gesamt",avgSessionDuration:"Durchschn. Sitzungsdauer",eventVolume:"Ereignisvolumen",topEvents:"Top-Ereignisse",userSegments:"Benutzersegmente",timeRange:{"7d":"Letzte 7 Tage","30d":"Letzte 30 Tage","90d":"Letzte 90 Tage"}},auth:{login:"Anmelden",logout:"Abmelden",register:"Registrieren",forgotPassword:"Passwort vergessen?",resetPassword:"Passwort zurücksetzen",changePassword:"Passwort ändern",username:"Benutzername",password:"Passwort",confirmPassword:"Passwort bestätigen",rememberMe:"Angemeldet bleiben",signIn:"Anmelden",signUp:"Registrieren",signOut:"Abmelden",welcomeBack:"Willkommen zurück",createAccount:"Konto erstellen"}}},"ar-SA":{translation:{common:{loading:"جاري التحميل...",error:"خطأ",success:"نجح",save:"حفظ",cancel:"إلغاء",delete:"حذف",edit:"تعديل",create:"إنشاء",update:"تحديث",search:"بحث",filter:"تصفية",export:"تصدير",import:"استيراد",download:"تنزيل",upload:"رفع",refresh:"تحديث",close:"إغلاق",confirm:"تأكيد",yes:"نعم",no:"لا",back:"رجوع",next:"التالي",previous:"السابق",finish:"إنهاء",submit:"إرسال",clear:"مسح",reset:"إعادة تعيين",view:"عرض",details:"التفاصيل",actions:"الإجراءات",status:"الحالة",active:"نشط",inactive:"غير نشط",pending:"قيد الانتظار",approved:"معتمد",rejected:"مرفوض",all:"الكل",none:"لا شيء",select:"اختيار",date:"التاريخ",time:"الوقت",name:"الاسم",description:"الوصف",type:"النوع",category:"الفئة",notes:"ملاحظات",priority:"الأولوية",assignee:"المكلف"},navigation:{dashboard:"لوحة التحكم",vehicles:"المركبات",drivers:"السائقون",maintenance:"الصيانة",fuel:"تتبع الوقود",reports:"التقارير",analytics:"التحليلات",settings:"الإعدادات",profile:"الملف الشخصي",logout:"تسجيل الخروج",help:"المساعدة",documentation:"التوثيق"},dashboard:{title:"لوحة تحكم الأسطول",welcome:"مرحباً بك في إدارة الأسطول",overview:"نظرة عامة",totalVehicles:"إجمالي المركبات",activeVehicles:"المركبات النشطة",inactiveVehicles:"المركبات غير النشطة",maintenanceDue:"الصيانة المستحقة",fuelCosts:"تكاليف الوقود",totalDrivers:"إجمالي السائقين",activeDrivers:"السائقون النشطون",recentActivity:"النشاط الأخير",upcomingMaintenance:"الصيانة القادمة",alerts:"التنبيهات",notifications:"الإشعارات"},vehicles:{title:"إدارة المركبات",addVehicle:"إضافة مركبة",editVehicle:"تعديل المركبة",deleteVehicle:"حذف المركبة",vehicleDetails:"تفاصيل المركبة",vehicleList:"قائمة المركبات",vehicleInfo:"معلومات المركبة",vin:"رقم الهيكل",make:"الصانع",model:"الطراز",year:"السنة",color:"اللون",licensePlate:"لوحة الترخيص",status:"الحالة",mileage:"المسافة المقطوعة",lastService:"آخر صيانة",nextService:"الصيانة القادمة",fuelType:"نوع الوقود",transmission:"ناقل الحركة",engineSize:"حجم المحرك",purchaseDate:"تاريخ الشراء",purchasePrice:"سعر الشراء",currentValue:"القيمة الحالية",insurance:"التأمين",registration:"التسجيل",assignedDriver:"السائق المعين",location:"الموقع",condition:"الحالة",deleteConfirm:"هل أنت متأكد من أنك تريد حذف هذه المركبة؟"},drivers:{title:"إدارة السائقين",addDriver:"إضافة سائق",editDriver:"تعديل السائق",deleteDriver:"حذف السائق",driverDetails:"تفاصيل السائق",driverList:"قائمة السائقين",firstName:"الاسم الأول",lastName:"اسم العائلة",email:"البريد الإلكتروني",phone:"الهاتف",licenseNumber:"رقم الرخصة",licenseExpiry:"انتهاء الرخصة",dateOfBirth:"تاريخ الميلاد",hireDate:"تاريخ التعيين",assignedVehicle:"المركبة المعينة",status:"الحالة",address:"العنوان",emergencyContact:"جهة اتصال الطوارئ",deleteConfirm:"هل أنت متأكد من أنك تريد حذف هذا السائق؟"},maintenance:{title:"تتبع الصيانة",addMaintenance:"إضافة صيانة",editMaintenance:"تعديل الصيانة",maintenanceHistory:"سجل الصيانة",scheduleMaintenance:"جدولة الصيانة",serviceType:"نوع الخدمة",serviceDate:"تاريخ الخدمة",nextServiceDate:"تاريخ الخدمة القادمة",serviceCost:"تكلفة الخدمة",serviceProvider:"مزود الخدمة",mileageAtService:"المسافة عند الخدمة",partsReplaced:"القطع المستبدلة",laborCost:"تكلفة العمالة",partsCost:"تكلفة القطع",totalCost:"التكلفة الإجمالية",technician:"الفني",workOrder:"أمر العمل",invoice:"الفاتورة",completed:"مكتمل",scheduled:"مجدول",overdue:"متأخر"},fuel:{title:"تتبع الوقود",addFuelEntry:"إضافة إدخال وقود",fuelHistory:"سجل الوقود",fuelDate:"تاريخ الوقود",fuelAmount:"كمية الوقود",fuelCost:"تكلفة الوقود",fuelPrice:"السعر لكل لتر",odometer:"قراءة العداد",station:"محطة الوقود",fuelType:"نوع الوقود",gallons:"جالون",liters:"لتر",totalSpent:"إجمالي المصروف",averageMPG:"متوسط الاستهلاك",fuelEfficiency:"كفاءة الوقود"},reports:{title:"التقارير",generateReport:"إنشاء تقرير",reportType:"نوع التقرير",dateRange:"نطاق التاريخ",startDate:"تاريخ البدء",endDate:"تاريخ الانتهاء",vehicleReport:"تقرير المركبات",driverReport:"تقرير السائقين",maintenanceReport:"تقرير الصيانة",fuelReport:"تقرير الوقود",costReport:"تقرير التكاليف",summaryReport:"تقرير ملخص",detailedReport:"تقرير تفصيلي",exportPDF:"تصدير كـ PDF",exportExcel:"تصدير كـ Excel",exportCSV:"تصدير كـ CSV",print:"طباعة"},settings:{title:"الإعدادات",generalSettings:"الإعدادات العامة",accountSettings:"إعدادات الحساب",notificationSettings:"إعدادات الإشعارات",language:"اللغة",theme:"السمة",timezone:"المنطقة الزمنية",currency:"العملة",units:"الوحدات",emailNotifications:"إشعارات البريد الإلكتروني",pushNotifications:"الإشعارات الفورية",smsNotifications:"إشعارات الرسائل القصيرة",privacy:"الخصوصية",security:"الأمان",changePassword:"تغيير كلمة المرور",twoFactorAuth:"المصادقة الثنائية",apiKeys:"مفاتيح API",integrations:"التكاملات"},validation:{required:"هذا الحقل مطلوب",invalidEmail:"عنوان بريد إلكتروني غير صالح",invalidPhone:"رقم هاتف غير صالح",invalidVIN:"رقم هيكل غير صالح (يجب أن يكون 17 حرفاً)",invalidDate:"تاريخ غير صالح",invalidNumber:"رقم غير صالح",invalidURL:"عنوان URL غير صالح",minLength:"يجب أن يكون على الأقل {{min}} أحرف",maxLength:"يجب ألا يتجاوز {{max}} حرفاً",minValue:"يجب أن يكون على الأقل {{min}}",maxValue:"يجب ألا يتجاوز {{max}}",mustMatch:"يجب أن تتطابق الحقول",alphanumeric:"يجب أن يحتوي على أحرف وأرقام فقط",numeric:"يجب أن يحتوي على أرقام فقط",alpha:"يجب أن يحتوي على أحرف فقط",passwordTooWeak:"كلمة المرور ضعيفة جداً",passwordRequirements:"يجب أن تحتوي كلمة المرور على 8 أحرف على الأقل، حرف كبير واحد، حرف صغير واحد، رقم واحد، وحرف خاص واحد"},errors:{networkError:"خطأ في الشبكة. يرجى التحقق من اتصالك.",serverError:"خطأ في الخادم. يرجى المحاولة لاحقاً.",unauthorized:"غير مصرح. يرجى تسجيل الدخول.",forbidden:"ليس لديك إذن للوصول إلى هذا المورد.",notFound:"المورد غير موجود.",timeout:"انتهت المهلة. يرجى المحاولة مرة أخرى.",badRequest:"طلب غير صالح. يرجى التحقق من إدخالك.",conflict:"هذا المورد موجود بالفعل.",internalError:"حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى.",maintenance:"النظام قيد الصيانة. يرجى المحاولة لاحقاً.",unknownError:"حدث خطأ غير معروف."},success:{created:"تم الإنشاء بنجاح",updated:"تم التحديث بنجاح",deleted:"تم الحذف بنجاح",saved:"تم الحفظ بنجاح",uploaded:"تم الرفع بنجاح",downloaded:"تم التنزيل بنجاح",sent:"تم الإرسال بنجاح",imported:"تم الاستيراد بنجاح",exported:"تم التصدير بنجاح",copied:"تم النسخ إلى الحافظة"},analytics:{title:"لوحة التحليلات",overview:"نظرة عامة",totalUsers:"إجمالي المستخدمين",activeSessions:"الجلسات النشطة",totalEvents:"إجمالي الأحداث",avgSessionDuration:"متوسط مدة الجلسة",eventVolume:"حجم الأحداث",topEvents:"أهم الأحداث",userSegments:"شرائح المستخدمين",timeRange:{"7d":"آخر 7 أيام","30d":"آخر 30 يوماً","90d":"آخر 90 يوماً"}},auth:{login:"تسجيل الدخول",logout:"تسجيل الخروج",register:"التسجيل",forgotPassword:"نسيت كلمة المرور؟",resetPassword:"إعادة تعيين كلمة المرور",changePassword:"تغيير كلمة المرور",username:"اسم المستخدم",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",rememberMe:"تذكرني",signIn:"تسجيل الدخول",signUp:"التسجيل",signOut:"تسجيل الخروج",welcomeBack:"مرحباً بعودتك",createAccount:"إنشاء حساب"}}},"he-IL":{translation:{common:{loading:"טוען...",error:"שגיאה",success:"הצלחה",save:"שמור",cancel:"ביטול",delete:"מחק",edit:"ערוך",create:"צור",update:"עדכן",search:"חיפוש",filter:"סינון",export:"ייצוא",import:"ייבוא",download:"הורדה",upload:"העלאה",refresh:"רענון",close:"סגור",confirm:"אישור",yes:"כן",no:"לא",back:"חזור",next:"הבא",previous:"הקודם",finish:"סיום",submit:"שלח",clear:"נקה",reset:"אפס",view:"צפה",details:"פרטים",actions:"פעולות",status:"סטטוס",active:"פעיל",inactive:"לא פעיל",pending:"ממתין",approved:"אושר",rejected:"נדחה",all:"הכל",none:"ללא",select:"בחר",date:"תאריך",time:"שעה",name:"שם",description:"תיאור",type:"סוג",category:"קטגוריה",notes:"הערות",priority:"עדיפות",assignee:"מוקצה ל"},navigation:{dashboard:"לוח בקרה",vehicles:"כלי רכב",drivers:"נהגים",maintenance:"תחזוקה",fuel:"מעקב דלק",reports:"דוחות",analytics:"אנליטיקה",settings:"הגדרות",profile:"פרופיל",logout:"התנתק",help:"עזרה",documentation:"תיעוד"},dashboard:{title:"לוח בקרת צי",welcome:"ברוכים הבאים לניהול צי",overview:"סקירה כללית",totalVehicles:"סך רכבים",activeVehicles:"רכבים פעילים",inactiveVehicles:"רכבים לא פעילים",maintenanceDue:"תחזוקה נדרשת",fuelCosts:"עלויות דלק",totalDrivers:"סך נהגים",activeDrivers:"נהגים פעילים",recentActivity:"פעילות אחרונה",upcomingMaintenance:"תחזוקה מתקרבת",alerts:"התראות",notifications:"הודעות"},vehicles:{title:"ניהול כלי רכב",addVehicle:"הוסף רכב",editVehicle:"ערוך רכב",deleteVehicle:"מחק רכב",vehicleDetails:"פרטי רכב",vehicleList:"רשימת רכבים",vehicleInfo:"מידע על הרכב",vin:"מספר שילדה",make:"יצרן",model:"דגם",year:"שנה",color:"צבע",licensePlate:"לוחית רישוי",status:"סטטוס",mileage:"קילומטראז'",lastService:"שירות אחרון",nextService:"שירות הבא",fuelType:"סוג דלק",transmission:"תיבת הילוכים",engineSize:"נפח מנוע",purchaseDate:"תאריך רכישה",purchasePrice:"מחיר רכישה",currentValue:"ערך נוכחי",insurance:"ביטוח",registration:"רישום",assignedDriver:"נהג משויך",location:"מיקום",condition:"מצב",deleteConfirm:"האם אתה בטוח שברצונך למחוק רכב זה?"},drivers:{title:"ניהול נהגים",addDriver:"הוסף נהג",editDriver:"ערוך נהג",deleteDriver:"מחק נהג",driverDetails:"פרטי נהג",driverList:"רשימת נהגים",firstName:"שם פרטי",lastName:"שם משפחה",email:"דוא״ל",phone:"טלפון",licenseNumber:"מספר רישיון",licenseExpiry:"תפוגת רישיון",dateOfBirth:"תאריך לידה",hireDate:"תאריך גיוס",assignedVehicle:"רכב משויך",status:"סטטוס",address:"כתובת",emergencyContact:"איש קשר לשעת חירום",deleteConfirm:"האם אתה בטוח שברצונך למחוק נהג זה?"},maintenance:{title:"מעקב תחזוקה",addMaintenance:"הוסף תחזוקה",editMaintenance:"ערוך תחזוקה",maintenanceHistory:"היסטוריית תחזוקה",scheduleMaintenance:"קבע תחזוקה",serviceType:"סוג שירות",serviceDate:"תאריך שירות",nextServiceDate:"תאריך השירות הבא",serviceCost:"עלות שירות",serviceProvider:"ספק שירות",mileageAtService:"קילומטראז' בשירות",partsReplaced:"חלקים שהוחלפו",laborCost:"עלות עבודה",partsCost:"עלות חלקים",totalCost:"עלות כוללת",technician:"טכנאי",workOrder:"הזמנת עבודה",invoice:"חשבונית",completed:"הושלם",scheduled:"מתוזמן",overdue:"באיחור"},fuel:{title:"מעקב דלק",addFuelEntry:"הוסף רישום דלק",fuelHistory:"היסטוריית דלק",fuelDate:"תאריך תדלוק",fuelAmount:"כמות דלק",fuelCost:"עלות דלק",fuelPrice:"מחיר לליטר",odometer:"קריאת מד מרחק",station:"תחנת דלק",fuelType:"סוג דלק",gallons:"גלונים",liters:"ליטרים",totalSpent:"סך הוצאה",averageMPG:"צריכה ממוצעת",fuelEfficiency:"יעילות דלק"},reports:{title:"דוחות",generateReport:"צור דוח",reportType:"סוג דוח",dateRange:"טווח תאריכים",startDate:"תאריך התחלה",endDate:"תאריך סיום",vehicleReport:"דוח רכבים",driverReport:"דוח נהגים",maintenanceReport:"דוח תחזוקה",fuelReport:"דוח דלק",costReport:"דוח עלויות",summaryReport:"דוח סיכום",detailedReport:"דוח מפורט",exportPDF:"ייצא כ-PDF",exportExcel:"ייצא כ-Excel",exportCSV:"ייצא כ-CSV",print:"הדפס"},settings:{title:"הגדרות",generalSettings:"הגדרות כלליות",accountSettings:"הגדרות חשבון",notificationSettings:"הגדרות התראות",language:"שפה",theme:"ערכת נושא",timezone:"אזור זמן",currency:"מטבע",units:"יחידות",emailNotifications:"התראות דוא״ל",pushNotifications:"התראות דחיפה",smsNotifications:"התראות SMS",privacy:"פרטיות",security:"אבטחה",changePassword:"שנה סיסמה",twoFactorAuth:"אימות דו-שלבי",apiKeys:"מפתחות API",integrations:"אינטגרציות"},validation:{required:"שדה חובה",invalidEmail:"כתובת דוא״ל לא תקינה",invalidPhone:"מספר טלפון לא תקין",invalidVIN:"מספר שילדה לא תקין (חייב להיות 17 תווים)",invalidDate:"תאריך לא תקין",invalidNumber:"מספר לא תקין",invalidURL:"כתובת URL לא תקינה",minLength:"חייב להכיל לפחות {{min}} תווים",maxLength:"חייב להכיל לכל היותר {{max}} תווים",minValue:"חייב להיות לפחות {{min}}",maxValue:"חייב להיות לכל היותר {{max}}",mustMatch:"השדות חייבים להתאים",alphanumeric:"חייב להכיל רק אותיות ומספרים",numeric:"חייב להכיל רק מספרים",alpha:"חייב להכיל רק אותיות",passwordTooWeak:"הסיסמה חלשה מדי",passwordRequirements:"הסיסמה חייבת להכיל לפחות 8 תווים, אות גדולה אחת, אות קטנה אחת, מספר אחד ותו מיוחד אחד"},errors:{networkError:"שגיאת רשת. אנא בדוק את החיבור שלך.",serverError:"שגיאת שרת. אנא נסה שוב מאוחר יותר.",unauthorized:"לא מורשה. אנא התחבר.",forbidden:"אין לך הרשאה לגשת למשאב זה.",notFound:"משאב לא נמצא.",timeout:"פסק זמן. אנא נסה שוב.",badRequest:"בקשה לא תקינה. אנא בדוק את הקלט שלך.",conflict:"משאב זה כבר קיים.",internalError:"שגיאה בלתי צפויה. אנא נסה שוב.",maintenance:"המערכת בתחזוקה. אנא נסה שוב מאוחר יותר.",unknownError:"אירעה שגיאה לא ידועה."},success:{created:"נוצר בהצלחה",updated:"עודכן בהצלחה",deleted:"נמחק בהצלחה",saved:"נשמר בהצלחה",uploaded:"הועלה בהצלחה",downloaded:"הורד בהצלחה",sent:"נשלח בהצלחה",imported:"יובא בהצלחה",exported:"יוצא בהצלחה",copied:"הועתק ללוח"},analytics:{title:"לוח אנליטיקה",overview:"סקירה כללית",totalUsers:"סך משתמשים",activeSessions:"סשנים פעילים",totalEvents:"סך אירועים",avgSessionDuration:"משך ממוצע של סשן",eventVolume:"נפח אירועים",topEvents:"אירועים מובילים",userSegments:"קטעי משתמשים",timeRange:{"7d":"7 ימים אחרונים","30d":"30 ימים אחרונים","90d":"90 ימים אחרונים"}},auth:{login:"התחבר",logout:"התנתק",register:"הרשמה",forgotPassword:"שכחת סיסמה?",resetPassword:"אפס סיסמה",changePassword:"שנה סיסמה",username:"שם משתמש",password:"סיסמה",confirmPassword:"אשר סיסמה",rememberMe:"זכור אותי",signIn:"התחבר",signUp:"הירשם",signOut:"התנתק",welcomeBack:"ברוך שובך",createAccount:"צור חשבון"}}}},fallbackLng:"en-US",supportedLngs:Object.keys(nh),detection:{order:["localStorage","navigator","htmlTag","path","subdomain"],caches:["localStorage"],lookupLocalStorage:"preferred-language"},interpolation:{escapeValue:!1},react:{useSuspense:!0,bindI18n:"languageChanged loaded",bindI18nStore:"added removed",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"]},debug:!1,load:"languageOnly",preload:["en-US"],saveMissing:!1,missingKeyHandler:(e,t,s)=>{}}),_m.on("languageChanged",e=>{const t=nh[e];t&&(document.dir=t.dir,document.documentElement.lang=e,document.documentElement.setAttribute("data-lang",e))});const rh=_m.language;nh[rh]&&(document.dir=nh[rh].dir,document.documentElement.lang=rh);let ih="",oh=null;const lh=e=>["vehicles",e],ch=e=>["drivers",e],dh=e=>["maintenance",e],uh=e=>["workOrders",e],mh=e=>["fuelTransactions",e],hh=e=>["facilities",e],ph=e=>["maintenanceSchedules",e],fh=e=>["routes",e],gh={refreshInterval:15e5,idleTimeout:18e5,gracePeriod:3e5,refreshEndpoint:"/api/v1/auth/refresh"};class xh{config;refreshTimer=null;idleTimer=null;lastActivity=Date.now();isRefreshing=!1;listeners=new Set;constructor(e){this.config={...gh,...e},this.setupActivityListeners()}start(){Du.info("[TokenRefresh] Starting token refresh mechanism",{refreshInterval:this.config.refreshInterval/6e4+" min",idleTimeout:this.config.idleTimeout/6e4+" min"}),this.scheduleRefresh(),this.scheduleIdleCheck()}stop(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=null),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.removeActivityListeners()}async refresh(){if(this.isRefreshing)return!1;this.isRefreshing=!0;try{Du.info("[TokenRefresh] Refreshing token...");const e=await fetch(this.config.refreshEndpoint,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Token refresh failed: ${e.status} ${e.statusText}`);const t=await e.json();return Du.info("[TokenRefresh] Token refreshed successfully",{expiresIn:t.expiresIn}),this.lastActivity=Date.now(),this.config.onRefresh?.(!0),this.scheduleRefresh(),!0}catch(e){return Du.error("[TokenRefresh] Token refresh failed",{error:e}),this.config.onRefresh?.(!1),this.handleSessionExpiry(),!1}finally{this.isRefreshing=!1}}checkIdleStatus(){const e=Date.now()-this.lastActivity;Du.debug("[TokenRefresh] Checking idle status",{idleDuration:Math.floor(e/1e3)+"s",threshold:Math.floor(this.config.idleTimeout/1e3)+"s"}),this.config.idleTimeout>e?this.scheduleIdleCheck():this.handleSessionExpiry()}handleSessionExpiry(){this.stop(),this.config.onExpire?.(),window.location.href="/login?reason=session_expired"}scheduleRefresh(){this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=setTimeout(()=>{this.refresh()},this.config.refreshInterval),Du.debug("[TokenRefresh] Next refresh scheduled",{nextRefresh:new Date(Date.now()+this.config.refreshInterval).toISOString()})}scheduleIdleCheck(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=setTimeout(()=>{this.checkIdleStatus()},6e4)}updateActivity=()=>{this.lastActivity=Date.now(),Du.debug("[TokenRefresh] Activity detected",{lastActivity:new Date(this.lastActivity).toISOString()})};setupActivityListeners(){["mousedown","keydown","scroll","touchstart","click"].forEach(e=>{window.addEventListener(e,this.updateActivity,{passive:!0})})}removeActivityListeners(){["mousedown","keydown","scroll","touchstart","click"].forEach(e=>{window.removeEventListener(e,this.updateActivity)})}getTimeUntilRefresh(){return this.refreshTimer?this.config.refreshInterval:0}getTimeSinceActivity(){return Date.now()-this.lastActivity}isIdle(){return this.getTimeSinceActivity()>=this.config.idleTimeout}}let vh=null;const yh=sn.createContext(void 0),bh=()=>{const e=sn.useContext(yh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},jh=({children:e})=>{const[t,s]=sn.useState(null),[a,n]=sn.useState(!0);sn.useEffect(()=>{(async()=>{try{if("false"!==localStorage.getItem("demo_mode"))return s({id:"demo-user-1",email:"demo@fleet.com",firstName:"Demo",lastName:"User",role:"Admin",permissions:["*"],tenantId:"demo-tenant-1",tenantName:"Demo Organization"}),void n(!1);const e=await fetch("/api/v1/auth/verify",{method:"GET",credentials:"include"});if(e.ok){const t=await e.json();s({id:t.user.id,email:t.user.email,firstName:t.user.first_name,lastName:t.user.last_name,role:t.user.role,avatar:t.user.avatar,permissions:t.user.permissions||[],tenantId:t.user.tenant_id,tenantName:t.user.tenant_name}),st({onRefresh:e=>{e||(Du.error("[Auth] Token refresh failed - logging out"),o())},onExpire:()=>{Du.warn("[Auth] Session expired"),o()}})}}catch(e){"false"!==localStorage.getItem("demo_mode")||Du.error("Failed to initialize auth:",{error:e})}finally{n(!1)}})()},[]);const r=sn.useCallback(async(e,t)=>{n(!0);try{const n=await fetch("/api/v1/auth/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok){const e=await n.json();throw new Error(e.message||"Login failed")}const r=await n.json(),i={id:r.user.id,email:r.user.email,firstName:r.user.first_name,lastName:r.user.last_name,role:r.user.role,avatar:r.user.avatar,permissions:r.user.permissions||[],tenantId:r.user.tenant_id,tenantName:r.user.tenant_name};s(i);try{await Be(),Du.info("[Auth] CSRF token initialized after login")}catch(a){Du.warn("[Auth] Failed to fetch CSRF token:",{error:a})}st({onRefresh:e=>{e||o()},onExpire:()=>{o()}}),Du.info("[Auth] Login successful",{userId:i.id,role:i.role})}catch(r){throw Du.error("[Auth] Login error:",{error:r}),r}finally{n(!1)}},[]),i=sn.useCallback(()=>{const{getMicrosoftLoginUrl:e}=require("@/lib/microsoft-auth");window.location.href=e()},[]),o=sn.useCallback(async()=>{try{vh&&(vh.stop(),vh=null),await fetch("/api/v1/auth/logout",{method:"POST",credentials:"include"}),ih="",oh=null,Du.info("[Auth] Logout successful")}catch(e){Du.error("[Auth] Logout error:",{error:e})}s(null),localStorage.removeItem("demo_mode"),localStorage.removeItem("demo_role")},[]),l=sn.useCallback(e=>{s(e)},[]),c=sn.useCallback(async()=>{try{const e=await fetch("/api/v1/auth/refresh",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Token refresh failed");const a=await e.json();if(t&&a.user){const e={...t,...a.user,permissions:a.user.permissions||t.permissions};s(e)}Du.info("[Auth] Token refreshed successfully")}catch(e){Du.error("[Auth] Token refresh error:",{error:e}),o()}},[t,o]),d={SuperAdmin:5,Admin:4,Manager:3,User:2,ReadOnly:1},u=sn.useCallback(e=>{if(!t)return!1;const s=Array.isArray(e)?e:[e],a=d[t.role];return s.some(e=>a>=d[e])},[t]),m=sn.useCallback(e=>!(!t||!t.permissions)&&(!!t.permissions.includes("*")||(Array.isArray(e)?e:[e]).some(e=>t.permissions.includes(e)||t.permissions.some(t=>t.endsWith(":*")&&e.startsWith(t.replace(":*",""))))),[t]),h=sn.useCallback((e,s)=>{if(!t)return!1;const a=!e||u(e),n=!s||m(s);return a&&n},[t,u,m]),p=sn.useCallback(e=>t?.role===e,[t]),f=sn.useCallback(()=>"SuperAdmin"===t?.role,[t]),g=sn.useCallback(async e=>{if(!f())throw new Error("Only SuperAdmins can switch tenants");try{const a=await fetch("/api/v1/auth/switch-tenant",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantId:e})});if(!a.ok)throw new Error("Tenant switch failed");const n=await a.json(),r={...t,tenantId:n.user.tenant_id,tenantName:n.user.tenant_name};s(r),Du.info("[Auth] Tenant switched",{tenantId:e,tenantName:n.user.tenant_name})}catch(a){throw Du.error("[Auth] Tenant switch error:",{error:a}),a}},[t,f]),x=sn.useCallback(()=>t?.tenantId||null,[t]);return an.jsx(yh.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:a,login:r,loginWithMicrosoft:i,logout:o,setUser:l,refreshToken:c,hasRole:u,hasPermission:m,canAccess:h,isRole:p,isSuperAdmin:f,switchTenant:g,getCurrentTenant:x},children:e})},wh=sn.createContext(void 0),Nh=({children:e})=>{const{user:t,isAuthenticated:s}=bh(),[a,n]=sn.useState(null),[r,i]=sn.useState(!1);return sn.useEffect(()=>{s&&t?.tenantId?(async()=>{if(t?.tenantId){i(!0);try{await new Promise(e=>setTimeout(e,500)),n({branding:{primaryColor:"#0f172a",logoUrl:"/logos/logo-horizontal.svg",companyName:t.tenantName||"My Organization"},features:{"beta-features":!1,"advanced-analytics":!0},region:"US-East",dateFormat:"MM/DD/YYYY"})}catch(e){Du.error("[TenantContext] Failed to fetch settings",{error:e})}finally{i(!1)}}})():n(null)},[s,t?.tenantId,t?.tenantName]),an.jsx(wh.Provider,{value:{tenantId:t?.tenantId||null,tenantName:t?.tenantName,settings:a,isLoading:r,isTenantActive:!!t?.tenantId},children:e})},_h={"real-time-telemetry":{key:"real-time-telemetry",name:"Real-time Vehicle Telemetry",description:"Live GPS tracking and vehicle status updates",category:"core",defaultEnabled:!0,minimumPlan:"basic"},"advanced-analytics":{key:"advanced-analytics",name:"Advanced Analytics Dashboard",description:"Advanced reporting and analytics features",category:"core",defaultEnabled:!0,minimumPlan:"professional"},"vehicle-3d-viewer":{key:"vehicle-3d-viewer",name:"3D Vehicle Viewer",description:"Interactive 3D vehicle inspection and visualization",category:"core",defaultEnabled:!1,minimumPlan:"enterprise"},"route-optimization":{key:"route-optimization",name:"AI Route Optimization",description:"AI-powered route planning and optimization",category:"core",defaultEnabled:!1,minimumPlan:"professional"},"predictive-maintenance":{key:"predictive-maintenance",name:"Predictive Maintenance",description:"AI-based maintenance predictions and alerts",category:"core",defaultEnabled:!1,minimumPlan:"enterprise"},"azure-maps-integration":{key:"azure-maps-integration",name:"Azure Maps",description:"Microsoft Azure Maps integration",category:"integration",defaultEnabled:!0},"google-maps-integration":{key:"google-maps-integration",name:"Google Maps",description:"Google Maps Platform integration",category:"integration",defaultEnabled:!1},"mapbox-integration":{key:"mapbox-integration",name:"Mapbox",description:"Mapbox mapping platform integration",category:"integration",defaultEnabled:!1},"obd2-integration":{key:"obd2-integration",name:"OBD-II Integration",description:"On-Board Diagnostics II device integration",category:"integration",defaultEnabled:!1,minimumPlan:"professional"},"telematics-integration":{key:"telematics-integration",name:"Telematics Integration",description:"Third-party telematics provider integration",category:"integration",defaultEnabled:!1,minimumPlan:"enterprise"},"ai-driver-scoring":{key:"ai-driver-scoring",name:"AI Driver Scoring",description:"AI-powered driver performance scoring",category:"advanced",defaultEnabled:!1,minimumPlan:"professional"},"automated-workflows":{key:"automated-workflows",name:"Automated Workflows",description:"Automated maintenance and scheduling workflows",category:"advanced",defaultEnabled:!1,minimumPlan:"professional"},"custom-reports":{key:"custom-reports",name:"Custom Report Builder",description:"Build custom reports with drag-and-drop interface",category:"advanced",defaultEnabled:!1,minimumPlan:"professional"},"export-excel":{key:"export-excel",name:"Excel Export",description:"Export data to Excel spreadsheets",category:"advanced",defaultEnabled:!0},"export-pdf":{key:"export-pdf",name:"PDF Export",description:"Export reports and data to PDF",category:"advanced",defaultEnabled:!0},"bulk-operations":{key:"bulk-operations",name:"Bulk Operations",description:"Perform bulk updates and operations",category:"advanced",defaultEnabled:!0,minimumPlan:"basic"},"beta-mobile-app":{key:"beta-mobile-app",name:"Mobile App (Beta)",description:"Native mobile app for iOS and Android",category:"beta",defaultEnabled:!1},"beta-driver-app":{key:"beta-driver-app",name:"Driver Mobile App (Beta)",description:"Dedicated mobile app for drivers",category:"beta",defaultEnabled:!1},"beta-inspector-tools":{key:"beta-inspector-tools",name:"Inspector Tools (Beta)",description:"Advanced vehicle inspection tools",category:"beta",defaultEnabled:!1},"beta-fuel-predictions":{key:"beta-fuel-predictions",name:"Fuel Cost Predictions (Beta)",description:"AI-powered fuel cost forecasting",category:"beta",defaultEnabled:!1},"experimental-ar-viewer":{key:"experimental-ar-viewer",name:"AR Vehicle Viewer (Experimental)",description:"Augmented reality vehicle inspection",category:"experimental",defaultEnabled:!1,minimumPlan:"enterprise"},"experimental-voice-commands":{key:"experimental-voice-commands",name:"Voice Commands (Experimental)",description:"Voice-activated controls and commands",category:"experimental",defaultEnabled:!1},"experimental-offline-mode":{key:"experimental-offline-mode",name:"Offline Mode (Experimental)",description:"Work offline with automatic sync",category:"experimental",defaultEnabled:!1},"dark-mode":{key:"dark-mode",name:"Dark Mode",description:"Dark color scheme for reduced eye strain",category:"ui",defaultEnabled:!0},"compact-view":{key:"compact-view",name:"Compact View",description:"Denser UI layout for power users",category:"ui",defaultEnabled:!1},"advanced-filters":{key:"advanced-filters",name:"Advanced Filters",description:"Advanced filtering and search capabilities",category:"ui",defaultEnabled:!0},"drag-drop-scheduling":{key:"drag-drop-scheduling",name:"Drag & Drop Scheduling",description:"Drag-and-drop interface for scheduling",category:"ui",defaultEnabled:!0},"multi-tab-interface":{key:"multi-tab-interface",name:"Multi-tab Interface",description:"Open multiple modules in tabs",category:"ui",defaultEnabled:!1}},Sh={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Th=sn.createContext(void 0),Eh=({children:e})=>{const{user:t}=bh(),{settings:s}=(()=>{const e=sn.useContext(wh);if(!e)throw new Error("useTenant must be used within a TenantProvider");return e})(),a=sn.useCallback(e=>{const a=_h[e];if(!a)return!1;if("SuperAdmin"===t?.role)return!0;const n=s;if(n?.features&&void 0!==n.features[e]&&!n.features[e])return!1;const r=`VITE_FEATURE_${e.toUpperCase().replace(/-/g,"_")}`,i=Sh[r];if("false"===i)return!1;if("true"===i)return!0;if(a.minimumPlan&&n?.plan){const e=["free","basic","professional","enterprise"];if(e.indexOf(a.minimumPlan)>e.indexOf(n.plan))return!1}return!(a.requiresPermission&&!t?.permissions?.includes(a.requiresPermission))&&a.defaultEnabled},[t,s]),n=sn.useCallback(()=>{const e={};for(const t of Object.keys(_h))e[t]=a(t);return e},[a]);return an.jsx(Th.Provider,{value:{isEnabled:a,getAllFlags:n},children:e})},kh=sn.createContext(null),Ah=({children:e})=>{const[t,s]=sn.useState(null),a=sn.useMemo(()=>({target:t,openInspect:e=>s(e),closeInspect:()=>s(null)}),[t]);return an.jsx(kh.Provider,{value:a,children:e})},Ch=sn.createContext(void 0),Rh=[{id:"fleet-hub-consolidated",label:"Fleet Hub",icon:an.jsx(nn,{className:"w-5 h-5"}),section:"hubs",category:"Operations",roles:["Admin","FleetAdmin","Manager","FleetManager","Supervisor","Dispatcher","Driver","Analyst","Auditor"]},{id:"operations-hub-consolidated",label:"Operations Hub",icon:an.jsx(rn,{className:"w-5 h-5"}),section:"hubs",category:"Operations",roles:["Admin","FleetAdmin","Manager","FleetManager","Supervisor","Dispatcher","Analyst","Auditor"]},{id:"maintenance-hub-consolidated",label:"Maintenance Hub",icon:an.jsx(on,{className:"w-5 h-5"}),section:"hubs",category:"Operations",roles:["Admin","FleetAdmin","Manager","FleetManager","Supervisor","Mechanic","Technician","Analyst","Auditor"]},{id:"drivers-hub-consolidated",label:"Drivers Hub",icon:an.jsx(ln,{className:"w-5 h-5"}),section:"hubs",category:"Operations",roles:["Admin","FleetAdmin","Manager","FleetManager","Supervisor","Dispatcher","SafetyOfficer","Analyst","Auditor"]},{id:"analytics-hub-consolidated",label:"Analytics Hub",icon:an.jsx(cn,{className:"w-5 h-5"}),section:"hubs",category:"Analytics",roles:["Admin","FleetAdmin","Manager","FleetManager","Finance","Analyst","Auditor"]},{id:"compliance-hub-consolidated",label:"Compliance Hub",icon:an.jsx(dn,{className:"w-5 h-5"}),section:"hubs",category:"Compliance",roles:["Admin","FleetAdmin","Manager","FleetManager","SafetyOfficer","Auditor"]},{id:"safety-hub-consolidated",label:"Safety Hub",icon:an.jsx(un,{className:"w-5 h-5"}),section:"hubs",category:"Compliance",roles:["Admin","FleetAdmin","Manager","FleetManager","SafetyOfficer","Auditor"]},{id:"procurement-hub-consolidated",label:"Procurement Hub",icon:an.jsx(mn,{className:"w-5 h-5"}),section:"hubs",category:"Procurement",roles:["Admin","FleetAdmin","Manager","FleetManager","Finance","Auditor"]},{id:"assets-hub-consolidated",label:"Assets Hub",icon:an.jsx(hn,{className:"w-5 h-5"}),section:"hubs",category:"Procurement",roles:["Admin","FleetAdmin","Manager","FleetManager","Finance","Analyst","Auditor"]},{id:"admin-hub-consolidated",label:"Admin Hub",icon:an.jsx(pn,{className:"w-5 h-5"}),section:"hubs",category:"Admin",roles:["SuperAdmin","Admin","FleetAdmin"]},{id:"communication-hub-consolidated",label:"Communication Hub",icon:an.jsx(fn,{className:"w-5 h-5"}),section:"hubs",category:"Communication",roles:["Admin","FleetAdmin","Manager","FleetManager","Supervisor","Dispatcher","SafetyOfficer"]}],Oh=sn.createContext(void 0),Dh=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ih=ho,Ph=(e,t)=>s=>{var a;if(null==(null==t?void 0:t.variants))return Ih(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:n,defaultVariants:r}=t,i=Object.keys(n).map(e=>{const t=null==s?void 0:s[e],a=null==r?void 0:r[e];if(null===t)return null;const i=Dh(t)||Dh(a);return n[e][i]}),o=s&&Object.entries(s).reduce((e,t)=>{let[s,a]=t;return void 0===a||(e[s]=a),e},{}),l=null==t||null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:s,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...r,...o}[t]):{...r,...o}[t]===s})?[...e,s,a]:e},[]);return Ih(e,i,l,null==s?void 0:s.class,null==s?void 0:s.className)},Lh=Ph("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2 has-[>svg]:px-3 min-h-[44px]",sm:"h-10 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 min-h-[44px]",lg:"h-12 rounded-md px-6 has-[>svg]:px-4 min-h-[44px]",icon:"size-11 min-w-[44px] min-h-[44px]",touch:"h-12 px-5 py-3 has-[>svg]:px-4 min-h-[44px] min-w-[44px]"}},defaultVariants:{variant:"default",size:"default"}}),Mh=sn.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...n},r)=>an.jsx(a?Ki:"button",{"data-slot":"button",className:lt(Lh({variant:t,size:s,className:e})),ref:r,...n}));Mh.displayName="Button";class Fh extends sn.Component{resetTimeoutId=null;constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,eventId:null,showDetails:!1,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){const{level:s="component"}=this.props,a=fo(a=>(a.setTag("error_boundary",!0),a.setTag("error_boundary_level",s),a.setLevel("error"),a.setContext("react",{componentStack:t.componentStack,props:this.props.isolate?"[ISOLATED]":String(this.props)}),Ii(e)));this.setState(e=>({errorInfo:t,eventId:a,errorCount:e.errorCount+1})),3>this.state.errorCount||(Du.error("Multiple errors detected, auto-resetting in 5 seconds..."),this.resetTimeoutId=setTimeout(()=>{this.handleReset()},5e3))}componentWillUnmount(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId)}handleReset=()=>{this.props.onReset?.(),this.resetTimeoutId&&(clearTimeout(this.resetTimeoutId),this.resetTimeoutId=null),this.setState({hasError:!1,error:null,errorInfo:null,eventId:null,showDetails:!1,errorCount:0})};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportFeedback=()=>{};toggleDetails=()=>{this.setState(e=>({showDetails:!e.showDetails}))};renderErrorDetails(){const{error:e,showDetails:t}=this.state;return t&&e?an.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:an.jsxs("div",{className:"space-y-2",children:[an.jsxs("div",{children:[an.jsx("h4",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:"Error Message:"}),an.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-mono",children:e.message})]}),!1,!1,this.state.eventId&&an.jsxs("div",{children:[an.jsx("h4",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:"Error ID:"}),an.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-mono",children:this.state.eventId})]})]})}):null}render(){const{hasError:e,errorCount:t}=this.state,{children:s,fallback:a,showDetails:n,level:r="component"}=this.props;return e?a?an.jsx(an.Fragment,{children:a}):"page"===r?an.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-950",children:an.jsxs(ct,{className:"max-w-lg w-full",children:[an.jsxs(dt,{children:[an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(gn,{className:"h-6 w-6 text-red-500"}),an.jsx(ut,{children:"Something went wrong"})]}),an.jsx(mt,{children:"We've encountered an unexpected error. The error has been automatically reported to our team."})]}),an.jsx(ht,{children:an.jsxs("div",{className:"space-y-4",children:[t>1&&an.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:an.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["Multiple errors detected (",t," times). The page may be experiencing issues."]})}),an.jsxs(Mh,{variant:"ghost",size:"sm",onClick:this.toggleDetails,className:"w-full justify-between",children:[an.jsx("span",{children:"Technical Details"}),an.jsx(this.state.showDetails?xn:vn,{className:"h-4 w-4"})]}),this.renderErrorDetails()]})}),an.jsxs(pt,{className:"flex gap-2",children:[an.jsxs(Mh,{onClick:this.handleReset,variant:"default",className:"flex-1",children:[an.jsx(yn,{className:"h-4 w-4 mr-2"}),"Try Again"]}),an.jsxs(Mh,{onClick:this.handleGoHome,variant:"outline",className:"flex-1",children:[an.jsx(bn,{className:"h-4 w-4 mr-2"}),"Go Home"]}),this.state.eventId&&an.jsx(Mh,{onClick:this.handleReportFeedback,variant:"outline",size:"icon",children:an.jsx(jn,{className:"h-4 w-4"})})]})]})}):"section"===r?an.jsxs(ct,{className:"m-4",children:[an.jsx(dt,{className:"pb-3",children:an.jsxs("div",{className:"flex items-center gap-2",children:[an.jsx(gn,{className:"h-5 w-5 text-yellow-500"}),an.jsx(ut,{className:"text-base",children:"Section Error"})]})}),an.jsxs(ht,{children:[an.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This section couldn't load properly."}),!1!==n&&an.jsxs(an.Fragment,{children:[an.jsxs(Mh,{variant:"ghost",size:"sm",onClick:this.toggleDetails,className:"mt-2",children:[this.state.showDetails?"Hide":"Show"," Details"]}),this.renderErrorDetails()]})]}),an.jsx(pt,{className:"pt-3",children:an.jsxs(Mh,{onClick:this.handleReset,size:"sm",children:[an.jsx(yn,{className:"h-3 w-3 mr-1"}),"Retry"]})})]}):an.jsxs("div",{className:"p-4 border border-red-200 dark:border-red-800 rounded-lg bg-red-50 dark:bg-red-900/20",children:[an.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[an.jsx(gn,{className:"h-4 w-4"}),an.jsx("span",{className:"text-sm font-medium",children:"Component Error"})]}),an.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Failed to render this component."}),an.jsxs(Mh,{onClick:this.handleReset,size:"sm",variant:"ghost",className:"mt-2",children:[an.jsx(yn,{className:"h-3 w-3 mr-1"}),"Retry"]})]}):s}}var $h=.999,zh=/[\\\/_+.#"@\[\(\{&]/,Vh=/[\\\/_+.#"@\[\(\{&]/g,Uh=/[\s-]/,Hh=/[\s-]/g,Bh='[cmdk-group=""]',qh='[cmdk-group-items=""]',Wh='[cmdk-item=""]',Kh=`${Wh}:not([aria-disabled="true"])`,Gh="cmdk-item-select",Jh="data-value",Yh=(e,t,s)=>xt(e,t,s),Xh=sn.createContext(void 0),Qh=()=>sn.useContext(Xh),Zh=sn.createContext(void 0),ep=()=>sn.useContext(Zh),tp=sn.createContext(void 0),sp=sn.forwardRef((e,t)=>{function s(e,t){var s,a;let n=null!=(a=null==(s=x.current)?void 0:s.filter)?a:Yh;return e?n(e,m.current.search,t):0}function a(){if(!m.current.search||!1===x.current.shouldFilter)return;let e=m.current.filtered.items,t=[];m.current.filtered.groups.forEach(s=>{let a=p.current.get(s),n=0;a.forEach(t=>{let s=e.get(t);n=Math.max(s,n)}),t.push([s,n])});let s=R.current;l().sort((t,s)=>{var a,n;let r=t.getAttribute("id"),i=s.getAttribute("id");return(null!=(a=e.get(i))?a:0)-(null!=(n=e.get(r))?n:0)}).forEach(e=>{let t=e.closest(qh);t?t.appendChild(e.parentElement===t?e:e.closest(`${qh} > *`)):s.appendChild(e.parentElement===s?e:e.closest(`${qh} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let s=null==(t=R.current)?void 0:t.querySelector(`${Bh}[${Jh}="${encodeURIComponent(e[0])}"]`);null==s||s.parentElement.appendChild(s)})}function n(){let e=l().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(Jh);D.setState("value",t||void 0)}function r(){var e,t,a,n;if(!m.current.search||!1===x.current.shouldFilter)return void(m.current.filtered.count=h.current.size);m.current.filtered.groups=new Set;let r=0;for(let i of h.current){let o=s(null!=(t=null==(e=f.current.get(i))?void 0:e.value)?t:"",null!=(n=null==(a=f.current.get(i))?void 0:a.keywords)?n:[]);m.current.filtered.items.set(i,o),o>0&&r++}for(let[s,i]of p.current)for(let e of i)if(m.current.filtered.items.get(e)>0){m.current.filtered.groups.add(s);break}m.current.filtered.count=r}function i(){var e,t,s;let a=o();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(s=null==(t=a.closest(Bh))?void 0:t.querySelector('[cmdk-group-heading=""]'))||s.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function o(){var e;return null==(e=R.current)?void 0:e.querySelector(`${Wh}[aria-selected="true"]`)}function l(){var e;return Array.from((null==(e=R.current)?void 0:e.querySelectorAll(Kh))||[])}function c(e){let t=l()[e];t&&D.setState("value",t.getAttribute(Jh))}function d(e){var t;let s=o(),a=l(),n=a.findIndex(e=>e===s),r=a[n+e];null!=(t=x.current)&&t.loop&&(r=0>n+e?a[a.length-1]:n+e===a.length?a[0]:a[n+e]),r&&D.setState("value",r.getAttribute(Jh))}function u(e){let t,s=o(),a=null==s?void 0:s.closest(Bh);for(;a&&!t;)a=e>0?vt(a,Bh):yt(a,Bh),t=null==a?void 0:a.querySelector(Kh);t?D.setState("value",t.getAttribute(Jh)):d(e)}let m=jt(()=>{var t,s;return{search:"",value:null!=(s=null!=(t=e.value)?t:e.defaultValue)?s:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),h=jt(()=>new Set),p=jt(()=>new Map),f=jt(()=>new Map),g=jt(()=>new Set),x=bt(e),{label:v,children:y,value:b,onValueChange:j,filter:w,shouldFilter:N,loop:_,disablePointerSelection:S=!1,vimBindings:T=!0,...E}=e,k=Gi(),A=Gi(),C=Gi(),R=sn.useRef(null),O=hp();mp(()=>{if(void 0!==b){let e=b.trim();m.current.value=e,D.emit()}},[b]),mp(()=>{O(6,i)},[]);let D=sn.useMemo(()=>({subscribe:e=>(g.current.add(e),()=>g.current.delete(e)),snapshot:()=>m.current,setState:(e,t,s)=>{var l,c,d,u;if(!Object.is(m.current[e],t)){if(m.current[e]=t,"search"===e)r(),a(),O(1,n);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(C);e?e.focus():null==(l=document.getElementById(k))||l.focus()}if(O(7,()=>{var e;m.current.selectedItemId=null==(e=o())?void 0:e.id,D.emit()}),s||O(5,i),void 0!==(null==(c=x.current)?void 0:c.value))return void(null==(u=(d=x.current).onValueChange)||u.call(d,null!=t?t:""))}D.emit()}},emit:()=>{g.current.forEach(e=>e())}}),[]),I=sn.useMemo(()=>({value:(e,t,n)=>{var r;t!==(null==(r=f.current.get(e))?void 0:r.value)&&(f.current.set(e,{value:t,keywords:n}),m.current.filtered.items.set(e,s(t,n)),O(2,()=>{a(),D.emit()}))},item:(e,t)=>(h.current.add(e),t&&(p.current.has(t)?p.current.get(t).add(e):p.current.set(t,new Set([e]))),O(3,()=>{r(),a(),m.current.value||n(),D.emit()}),()=>{f.current.delete(e),h.current.delete(e),m.current.filtered.items.delete(e);let t=o();O(4,()=>{r(),(null==t?void 0:t.getAttribute("id"))===e&&n(),D.emit()})}),group:e=>(p.current.has(e)||p.current.set(e,new Set),()=>{f.current.delete(e),p.current.delete(e)}),filter:()=>x.current.shouldFilter,label:v||e["aria-label"],getDisablePointerSelection:()=>x.current.disablePointerSelection,listId:k,inputId:C,labelId:A,listInnerRef:R}),[]),P=()=>c(l().length-1),L=e=>{e.preventDefault(),e.metaKey?P():e.altKey?u(1):d(1)},M=e=>{e.preventDefault(),e.metaKey?c(0):e.altKey?u(-1):d(-1)};return sn.createElement(Ji.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=E.onKeyDown)||t.call(E,e),!e.defaultPrevented&&!e.nativeEvent.isComposing&&229!==e.keyCode)switch(e.key){case"n":case"j":T&&e.ctrlKey&&L(e);break;case"ArrowDown":L(e);break;case"p":case"k":T&&e.ctrlKey&&M(e);break;case"ArrowUp":M(e);break;case"Home":e.preventDefault(),c(0);break;case"End":e.preventDefault(),P();break;case"Enter":{e.preventDefault();let t=o();if(t){let e=new Event(Gh);t.dispatchEvent(e)}}}}},sn.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:pp},v),_t(e,e=>sn.createElement(Zh.Provider,{value:D},sn.createElement(Xh.Provider,{value:I},e))))}),ap=sn.forwardRef((e,t)=>{function s(){var e,t;a(),null==(t=(e=d.current).onSelect)||t.call(e,m.current)}function a(){h.setState("value",m.current,!0)}var n,r;let i=Gi(),o=sn.useRef(null),l=sn.useContext(tp),c=Qh(),d=bt(e),u=null!=(r=null==(n=d.current)?void 0:n.forceMount)?r:null==l?void 0:l.forceMount;mp(()=>{if(!u)return c.item(i,null==l?void 0:l.id)},[u]);let m=Nt(i,o,[e.value,e.children,o],e.keywords),h=ep(),p=wt(e=>e.value&&e.value===m.current),f=wt(e=>!(!u&&!1!==c.filter())||!e.search||e.filtered.items.get(i)>0);if(sn.useEffect(()=>{let t=o.current;if(t&&!e.disabled)return t.addEventListener(Gh,s),()=>t.removeEventListener(Gh,s)},[f,e.onSelect,e.disabled]),!f)return null;let{disabled:g,value:x,onSelect:v,forceMount:y,keywords:b,...j}=e;return sn.createElement(Ji.div,{ref:Yi(o,t),...j,id:i,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!p,"data-disabled":!!g,"data-selected":!!p,onPointerMove:g||c.getDisablePointerSelection()?void 0:a,onClick:g?void 0:s},e.children)}),np=sn.forwardRef((e,t)=>{let{heading:s,children:a,forceMount:n,...r}=e,i=Gi(),o=sn.useRef(null),l=sn.useRef(null),c=Gi(),d=Qh(),u=wt(e=>!(!n&&!1!==d.filter())||!e.search||e.filtered.groups.has(i));mp(()=>d.group(i),[]),Nt(i,o,[e.value,e.heading,l]);let m=sn.useMemo(()=>({id:i,forceMount:n}),[n]);return sn.createElement(Ji.div,{ref:Yi(o,t),...r,"cmdk-group":"",role:"presentation",hidden:!u||void 0},s&&sn.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},s),_t(e,e=>sn.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?c:void 0},sn.createElement(tp.Provider,{value:m},e))))}),rp=sn.forwardRef((e,t)=>{let{alwaysRender:s,...a}=e,n=sn.useRef(null),r=wt(e=>!e.search);return s||r?sn.createElement(Ji.div,{ref:Yi(n,t),...a,"cmdk-separator":"",role:"separator"}):null}),ip=sn.forwardRef((e,t)=>{let{onValueChange:s,...a}=e,n=null!=e.value,r=ep(),i=wt(e=>e.search),o=wt(e=>e.selectedItemId),l=Qh();return sn.useEffect(()=>{null!=e.value&&r.setState("search",e.value)},[e.value]),sn.createElement(Ji.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":o,id:l.inputId,type:"text",value:n?e.value:i,onChange:e=>{n||r.setState("search",e.target.value),null==s||s(e.target.value)}})}),op=sn.forwardRef((e,t)=>{let{children:s,label:a="Suggestions",...n}=e,r=sn.useRef(null),i=sn.useRef(null),o=wt(e=>e.selectedItemId),l=Qh();return sn.useEffect(()=>{if(i.current&&r.current){let e,t=i.current,s=r.current,a=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{s.style.setProperty("--cmdk-list-height",t.offsetHeight.toFixed(1)+"px")})});return a.observe(t),()=>{cancelAnimationFrame(e),a.unobserve(t)}}},[]),sn.createElement(Ji.div,{ref:Yi(r,t),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":a,id:l.listId},_t(e,e=>sn.createElement("div",{ref:Yi(i,l.listInnerRef),"cmdk-list-sizer":""},e)))}),lp=sn.forwardRef((e,t)=>{let{open:s,onOpenChange:a,overlayClassName:n,contentClassName:r,container:i,...o}=e;return sn.createElement(go,{open:s,onOpenChange:a},sn.createElement(xo,{container:i},sn.createElement(vo,{"cmdk-overlay":"",className:n}),sn.createElement(yo,{"aria-label":e.label,"cmdk-dialog":"",className:r},sn.createElement(sp,{ref:t,...o}))))}),cp=sn.forwardRef((e,t)=>wt(e=>0===e.filtered.count)?sn.createElement(Ji.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),dp=sn.forwardRef((e,t)=>{let{progress:s,children:a,label:n="Loading...",...r}=e;return sn.createElement(Ji.div,{ref:t,...r,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},_t(e,e=>sn.createElement("div",{"aria-hidden":!0},e)))}),up=Object.assign(sp,{List:op,Item:ap,Input:ip,Group:np,Separator:rp,Dialog:lp,Empty:cp,Loading:dp}),mp="undefined"==typeof window?sn.useEffect:sn.useLayoutEffect,hp=()=>{let[e,t]=sn.useState(),s=jt(()=>new Map);return mp(()=>{s.current.forEach(e=>e()),s.current=new Map},[e]),(e,a)=>{s.current.set(e,a),t({})}},pp={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const fp=new class{conversationHistory=new Map;provider;apiKey;constructor(){this.apiKey=null,this.provider="mock"}async chat(e,t="default",s={}){const a={id:this.generateId(),role:"user",content:e,timestamp:new Date},n=this.conversationHistory.get(t)||[];n.push(a);try{let a;return a="mock"===this.provider?await this.mockChat(e,n):await this.realChat(e,n,s),n.push(a),this.conversationHistory.set(t,n),a}catch(r){const e={id:this.generateId(),role:"assistant",content:"I apologize, but I encountered an error processing your request. Please try again or rephrase your question.",timestamp:new Date};return n.push(e),this.conversationHistory.set(t,n),e}}async*streamChat(e,t="default",s={}){const a={id:this.generateId(),role:"user",content:e,timestamp:new Date},n=this.conversationHistory.get(t)||[];if(n.push(a),"mock"===this.provider){const s=await this.mockChat(e,n),a=s.content.split(" ");for(let e=0;a.length>e;e++)await new Promise(e=>setTimeout(e,50)),yield{content:a.slice(0,e+1).join(" "),done:e===a.length-1};n.push(s),this.conversationHistory.set(t,n)}else yield*this.realStreamChat(e,n,s)}async realChat(e,t,s){const a=[{role:"system",content:"You are an intelligent Fleet Management Assistant with deep expertise in:\n\n1. Vehicle Maintenance: Scheduling, predictive maintenance, service history analysis\n2. Route Optimization: Fuel efficiency, time optimization, traffic analysis\n3. Cost Management: Fuel costs, maintenance expenses, TCO calculations\n4. Safety & Compliance: DOT regulations, driver safety, compliance monitoring\n5. Fleet Analytics: Performance metrics, utilization rates, trend analysis\n\nYou have access to the fleet database and can:\n- Query vehicle status, location, and telemetry\n- Review maintenance schedules and history\n- Analyze route efficiency and fuel consumption\n- Generate reports and insights\n- Alert on compliance issues\n\nProvide concise, actionable responses. When data is needed, acknowledge you'll query the system. Always prioritize safety and compliance."},...t.slice(-10).map(e=>({role:e.role,content:e.content}))];return"openai"===this.provider?await this.openAIChat(a,s):await this.anthropicChat(a,s)}async openAIChat(e,t){const s=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:t.model||"gpt-4",messages:e,temperature:t.temperature||.7,max_tokens:t.maxTokens||1e3})});if(!s.ok)throw new Error(`OpenAI API error: ${s.status}`);const a=await s.json(),n=a.choices[0].message.content;return{id:this.generateId(),role:"assistant",content:n,timestamp:new Date,tokenCount:a.usage?.total_tokens}}async anthropicChat(e,t){const s=e.find(e=>"system"===e.role),a=e.filter(e=>"system"!==e.role),n=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:t.model||"claude-3-sonnet-20240229",system:s?.content,messages:a,max_tokens:t.maxTokens||1e3,temperature:t.temperature||.7})});if(!n.ok)throw new Error(`Anthropic API error: ${n.status}`);const r=await n.json(),i=r.content[0].text;return{id:this.generateId(),role:"assistant",content:i,timestamp:new Date,tokenCount:r.usage?.input_tokens+r.usage?.output_tokens}}async*realStreamChat(e,t,s){const a=(await this.mockChat(e,t)).content.split(" ");for(let n=0;a.length>n;n++)await new Promise(e=>setTimeout(e,30)),yield{content:a.slice(0,n+1).join(" "),done:n===a.length-1}}async mockChat(e,t){await new Promise(e=>setTimeout(e,500));const s=e.toLowerCase();let a;return a=s.includes("maintenance")||s.includes("service")?"Based on your fleet data, I can see:\n\n• 3 vehicles are due for maintenance this week\n• Vehicle VEH-001 (2024 Ford F-150) needs an oil change at 12,450 miles\n• Estimated cost: $89.99 at QuickLube Auto\n\nWould you like me to schedule these maintenance appointments?":s.includes("route")||s.includes("optimize")?"I've analyzed your route data and found optimization opportunities:\n\n• Route A → Route B consolidation could save 15% fuel\n• Current avg efficiency: 8.2 MPG\n• Optimized potential: 9.5 MPG\n• Estimated savings: $450/month\n\nShall I generate a detailed route optimization report?":s.includes("cost")||s.includes("budget")||s.includes("expense")?"Here's your current cost breakdown:\n\n• Fuel: $12,450/month\n• Maintenance: $3,200/month\n• Insurance: $2,100/month\n• Total: $17,750/month\n\nThis is 8% above budget. I recommend reviewing fuel efficiency initiatives.":s.includes("safety")||s.includes("compliance")||s.includes("alert")?"Current safety status:\n\n✅ 95% of drivers have completed safety training\n⚠️ 1 critical alert: Failed login attempts detected\n✅ All vehicles passed last DOT inspection\n\nWould you like details on the critical alert?":s.includes("vehicle")&&(s.includes("status")||s.includes("where")||s.includes("location"))?"Fleet status overview:\n\n• Total vehicles: 25\n• Active: 22 (88%)\n• In maintenance: 2\n• Out of service: 1\n\nAll active vehicles are tracked and operating normally. Would you like details on a specific vehicle?":s.includes("driver")&&s.includes("performance")?"Driver performance summary:\n\n• Average safety score: 92/100\n• Top performer: John Doe (98/100)\n• 2 drivers need additional training\n• Zero incidents this month\n\nShall I generate individual performance reports?":"I can help you with:\n\n📊 **Analytics**: Fleet performance, cost analysis, utilization rates\n🔧 **Maintenance**: Scheduling, history, predictive alerts\n🗺️ **Routes**: Optimization, fuel efficiency, time analysis\n💰 **Costs**: Budget tracking, expense reports, forecasting\n🛡️ **Safety**: Compliance monitoring, driver safety, alerts\n📍 **Tracking**: Real-time location, trip history, geofencing\n\nWhat would you like to explore? Or ask me a specific question!",{id:this.generateId(),role:"assistant",content:a,timestamp:new Date}}clearHistory(e="default"){this.conversationHistory.delete(e)}getHistory(e="default"){return this.conversationHistory.get(e)||[]}generateId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getProviderInfo(){return{provider:this.provider,hasApiKey:!!this.apiKey,isProduction:"mock"!==this.provider}}},gp="Enter",xp=e=>({"aria-label":e.label,...void 0!==e.expanded&&{"aria-expanded":e.expanded},...void 0!==e.pressed&&{"aria-pressed":e.pressed},...e.disabled&&{"aria-disabled":!0},...e.describedBy&&{"aria-describedby":e.describedBy}}),vp=e=>({role:"status","aria-live":e.live??"polite","aria-atomic":e.atomic??!0}),yp=e=>({role:"alert","aria-live":e.live??"assertive","aria-atomic":!0}),bp=Ph("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});var jp=Object.prototype.hasOwnProperty;const wp=new WeakMap,Np=()=>{},_p=Np(),Sp=Object,Tp=e=>e===_p,Ep=e=>"function"==typeof e,kp=(e,t)=>({...e,...t}),Ap=e=>Ep(e.then),Cp={},Rp={},Op="undefined",Dp=typeof window!=Op,Ip=typeof document!=Op,Pp=Dp&&"Deno"in window,Lp=(e,t)=>{const s=wp.get(e);return[()=>!Tp(t)&&e.get(t)||Cp,a=>{if(!Tp(t)){const n=e.get(t);t in Rp||(Rp[t]=n),s[5](t,kp(n,a),n||Cp)}},s[6],()=>!Tp(t)&&t in Rp?Rp[t]:!Tp(t)&&e.get(t)||Cp]};let Mp=!0;const[Fp,$p]=Dp&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Np,Np],zp={isOnline:()=>Mp,isVisible:()=>{const e=Ip&&document.visibilityState;return Tp(e)||"hidden"!==e}},Vp={initFocus:e=>(Ip&&document.addEventListener("visibilitychange",e),Fp("focus",e),()=>{Ip&&document.removeEventListener("visibilitychange",e),$p("focus",e)}),initReconnect:e=>{const t=()=>{Mp=!0,e()},s=()=>{Mp=!1};return Fp("online",t),Fp("offline",s),()=>{$p("online",t),$p("offline",s)}}},Up=!Un.useId,Hp=!Dp||Pp,Bp=Hp?sn.useEffect:sn.useLayoutEffect,qp="undefined"!=typeof navigator&&navigator.connection,Wp=!Hp&&qp&&(["slow-2g","2g"].includes(qp.effectiveType)||qp.saveData),Kp=new WeakMap,Gp=(e,t)=>e===`[object ${t}]`;let Jp=0;const Yp=e=>{const t=typeof e,s=Sp.prototype.toString.call(e),a=Gp(s,"Date"),n=Gp(s,"RegExp"),r=Gp(s,"Object");let i,o;if(Sp(e)!==e||a||n)i=a?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(i=Kp.get(e),i)return i;if(i=++Jp+"~",Kp.set(e,i),Array.isArray(e)){for(i="@",o=0;e.length>o;o++)i+=Yp(e[o])+",";Kp.set(e,i)}if(r){i="#";const t=Sp.keys(e).sort();for(;!Tp(o=t.pop());)Tp(e[o])||(i+=o+":"+Yp(e[o])+",");Kp.set(e,i)}}return i},Xp=e=>{if(Ep(e))try{e=e()}catch(s){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?Yp(e):"",t]};let Qp=0;const Zp=()=>++Qp,ef=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},[tf,sf]=(e=>{if(!wp.has(e)){const t=kp(Vp,void 0),s=Object.create(null),a=ws.bind(_p,e);let n=Np;const r=Object.create(null),i=(e,t)=>{const s=r[e]||[];return r[e]=s,s.push(t),()=>s.splice(s.indexOf(t),1)},o=(t,s,a)=>{e.set(t,s);const n=r[t];if(n)for(const e of n)e(s,a)},l=()=>{if(!wp.has(e)&&(wp.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,o,i]),!Hp)){const a=t.initFocus(setTimeout.bind(_p,ef.bind(_p,s,0))),r=t.initReconnect(setTimeout.bind(_p,ef.bind(_p,s,1)));n=()=>{a&&a(),r&&r(),wp.delete(e)}}};return l(),[e,a,l,n]}return[e,wp.get(e)[4]]})(new Map),af=kp({onLoadingSlow:Np,onSuccess:Np,onError:Np,onErrorRetry:(e,t,s,a,n)=>{const r=s.errorRetryCount,i=n.retryCount,o=~~((Math.random()+.5)*(1<<(8>i?i:8)))*s.errorRetryInterval;!Tp(r)&&i>r||setTimeout(a,o,n)},onDiscarded:Np,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Wp?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:Wp?5e3:3e3,compare:function e(t,s){var a,n;if(t===s)return!0;if(t&&s&&(a=t.constructor)===s.constructor){if(a===Date)return t.getTime()===s.getTime();if(a===RegExp)return t.toString()===s.toString();if(a===Array){if((n=t.length)===s.length)for(;n--&&e(t[n],s[n]););return-1===n}if(!a||"object"==typeof t){for(a in n=0,t){if(jp.call(t,a)&&++n&&!jp.call(s,a))return!1;if(!(a in s)||!e(t[a],s[a]))return!1}return Object.keys(s).length===n}}return t!=t&&s!=s},isPaused:()=>!1,cache:tf,mutate:sf,fallback:{}},zp),nf=sn.createContext({}),rf=Dp&&window.__SWR_DEVTOOLS_USE__,of=(rf?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,s,a)=>e(t,s&&((...e)=>{const[a]=Xp(t),[,,,n]=wp.get(tf);if(a.startsWith("$inf$"))return s(...e);const r=n[a];return Tp(r)?s(...e):(delete n[a],r)}),a));rf&&(window.__SWR_DEVTOOLS_REACT__=Un);const lf=Un.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),cf={dedupe:!0},df=Promise.resolve(_p),uf=(mf=(e,t,s)=>{const{cache:a,compare:n,suspense:r,fallbackData:i,revalidateOnMount:o,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:u,keepPreviousData:m}=s,[h,p,f,g]=wp.get(a),[x,v]=Xp(e),y=sn.useRef(!1),b=sn.useRef(!1),j=sn.useRef(x),w=sn.useRef(t),N=sn.useRef(s),_=()=>N.current,S=()=>_().isVisible()&&_().isOnline(),[T,E,k,A]=Lp(a,x),C=sn.useRef({}).current,R=Tp(i)?Tp(s.fallback)?_p:s.fallback[x]:i,O=(e,t)=>{for(const s in C){const a=s;if("data"===a){if(!n(e[a],t[a])){if(!Tp(e[a]))return!1;if(!n(V,t[a]))return!1}}else if(t[a]!==e[a])return!1}return!0},D=sn.useMemo(()=>{const e=!!x&&!!t&&(Tp(o)?!_().isPaused()&&!r&&!1!==l:o),s=t=>{const s=kp(t);return delete s._k,e?{isValidating:!0,isLoading:!0,...s}:s},a=T(),n=A(),i=s(a),c=a===n?i:s(n);let d=i;return[()=>{const e=s(T());return O(e,d)?(d.data=e.data,d.isLoading=e.isLoading,d.isValidating=e.isValidating,d.error=e.error,d):(d=e,e)},()=>c]},[a,x]),I=no.useSyncExternalStore(sn.useCallback(e=>k(x,(t,s)=>{O(s,t)||e()}),[a,x]),D[0],D[1]),P=!y.current,L=h[x]&&h[x].length>0,M=I.data,F=Tp(M)?R&&Ap(R)?lf(R):R:M,$=I.error,z=sn.useRef(F),V=m?Tp(M)?Tp(z.current)?F:z.current:M:F,U=!(L&&!Tp($))&&(P&&!Tp(o)?o:!_().isPaused()&&(r?!Tp(F)&&l:Tp(F)||l)),H=!!(x&&t&&P&&U),B=Tp(I.isValidating)?H:I.isValidating,q=Tp(I.isLoading)?H:I.isLoading,W=sn.useCallback(async e=>{const t=w.current;if(!x||!t||b.current||_().isPaused())return!1;let a,r,i=!0;const o=e||{},l=!f[x]||!o.dedupe,c=()=>Up?!b.current&&x===j.current&&y.current:x===j.current,d={isValidating:!1,isLoading:!1},u=()=>{E(d)},m=()=>{const e=f[x];e&&e[1]===r&&delete f[x]},g={isValidating:!0};Tp(T().data)&&(g.isLoading=!0);try{if(l&&(E(g),s.loadingTimeout&&Tp(T().data)&&setTimeout(()=>{i&&c()&&_().onLoadingSlow(x,s)},s.loadingTimeout),f[x]=[t(v),Zp()]),[a,r]=f[x],a=await a,l&&setTimeout(m,s.dedupingInterval),!f[x]||f[x][1]!==r)return l&&c()&&_().onDiscarded(x),!1;d.error=_p;const e=p[x];if(!(Tp(e)||r>e[0]&&r>e[1]&&0!==e[1]))return u(),l&&c()&&_().onDiscarded(x),!1;const o=T().data;d.data=n(o,a)?o:a,l&&c()&&_().onSuccess(a,x,s)}catch(N){m();const e=_(),{shouldRetryOnError:t}=e;e.isPaused()||(d.error=N,l&&c()&&(e.onError(N,x,e),(!0===t||Ep(t)&&t(N))&&(_().revalidateOnFocus&&_().revalidateOnReconnect&&!S()||e.onErrorRetry(N,x,e,e=>{const t=h[x];t&&t[0]&&t[0](3,e)},{retryCount:(o.retryCount||0)+1,dedupe:!0}))))}return i=!1,u(),!0},[x,a]),K=sn.useCallback((...e)=>ws(a,j.current,...e),[]);if(Bp(()=>{w.current=t,N.current=s,Tp(M)||(z.current=M)}),Bp(()=>{if(!x)return;const e=W.bind(_p,cf);let t=0;if(_().revalidateOnFocus){const e=Date.now();t=e+_().focusThrottleInterval}const s=((e,t,s)=>{const a=t[e]||(t[e]=[]);return a.push(s),()=>{const e=a.indexOf(s);0>e||(a[e]=a[a.length-1],a.pop())}})(x,h,(s,a={})=>{if(0==s){const s=Date.now();_().revalidateOnFocus&&s>t&&S()&&(t=s+_().focusThrottleInterval,e())}else if(1==s)_().revalidateOnReconnect&&S()&&e();else{if(2==s)return W();if(3==s)return W(a)}});return b.current=!1,j.current=x,y.current=!0,E({_k:v}),U&&(f[x]||(Tp(F)||Hp?e():(e=>{Dp&&typeof window.requestAnimationFrame!=Op?window.requestAnimationFrame(e):setTimeout(e,1)})(e))),()=>{b.current=!0,s()}},[x]),Bp(()=>{function e(){const e=Ep(c)?c(T().data):c;e&&-1!==s&&(s=setTimeout(t,e))}function t(){T().error||!d&&!_().isVisible()||!u&&!_().isOnline()?e():W(cf).then(e)}let s;return e(),()=>{s&&(clearTimeout(s),s=-1)}},[c,d,u,x]),sn.useDebugValue(V),r){const e=x&&Tp(F);if(!Up&&Hp&&e)throw new Error("Fallback data is required when using Suspense in SSR.");e&&(w.current=t,N.current=s,b.current=!1);const a=g[x],n=!Tp(a)&&e?K(a):df;if(lf(n),!Tp($)&&e)throw $;const r=e?W(cf):df;!Tp(V)&&e&&(r.status="fulfilled",r.value=!0),lf(r)}return{mutate:K,get data(){return C.data=!0,V},get error(){return C.error=!0,$},get isValidating(){return C.isValidating=!0,B},get isLoading(){return C.isLoading=!0,q}}},function(...e){const t=(()=>{const e=sn.useContext(nf);return sn.useMemo(()=>kp(af,e),[e])})(),[s,a,n]=(e=>Ep(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}])(e),r=((e,t)=>{const s=kp(e,t);if(t){const{use:a,fallback:n}=e,{use:r,fallback:i}=t;a&&r&&(s.use=a.concat(r)),n&&i&&(s.fallback=kp(n,i))}return s})(t,n);let i=mf;const{use:o}=r,l=(o||[]).concat(of);for(let c=l.length;c--;)i=l[c](i);return i(s,a||r.fetcher||null,r)});var mf;const hf=e=>fetch(e).then(e=>e.json()),pf=e=>fetch(e).then(e=>e.json()),ff=e=>fetch(e).then(e=>e.json()),gf=e=>fetch(e).then(e=>e.json()),xf=e=>fetch(e).then(e=>e.json()),vf=[{name:"Tallahassee",lat:30.4383,lng:-84.2807},{name:"Tallahassee North",lat:30.455,lng:-84.25},{name:"Tallahassee East",lat:30.44,lng:-84.26},{name:"Tallahassee West",lat:30.43,lng:-84.3},{name:"Tallahassee South",lat:30.42,lng:-84.29}],yf=["sedan","suv","truck","van"],bf=["active","idle","charging","service","emergency","offline"],jf=e=>fetch(e).then(e=>e.json()),wf=e=>fetch(e).then(e=>e.json()),Nf=e=>fetch(e).then(e=>e.json()),_f={PASSENGER_VEHICLE:"Passenger Vehicles",LIGHT_COMMERCIAL:"Light Commercial",HEAVY_TRUCK:"Heavy Trucks",TRACTOR:"Tractors",TRAILER:"Trailers",HEAVY_EQUIPMENT:"Heavy Equipment",UTILITY_VEHICLE:"Utility Vehicles",SPECIALTY_EQUIPMENT:"Specialty Equipment",NON_POWERED:"Non-Powered Assets"},Sf={PASSENGER_CAR:"Passenger Car",SUV:"SUV",PASSENGER_VAN:"Passenger Van",LIGHT_TRUCK:"Light Truck",PICKUP_TRUCK:"Pickup Truck",CARGO_VAN:"Cargo Van",MEDIUM_DUTY_TRUCK:"Medium Duty Truck",HEAVY_DUTY_TRUCK:"Heavy Duty Truck",DUMP_TRUCK:"Dump Truck",SEMI_TRACTOR:"Semi Tractor",DAY_CAB_TRACTOR:"Day Cab Tractor",SLEEPER_CAB_TRACTOR:"Sleeper Cab Tractor",DRY_VAN_TRAILER:"Dry Van Trailer",FLATBED_TRAILER:"Flatbed Trailer",REFRIGERATED_TRAILER:"Refrigerated Trailer",LOWBOY_TRAILER:"Lowboy Trailer",TANK_TRAILER:"Tank Trailer",EXCAVATOR:"Excavator",BULLDOZER:"Bulldozer",BACKHOE:"Backhoe",MOTOR_GRADER:"Motor Grader",WHEEL_LOADER:"Wheel Loader",SKID_STEER:"Skid Steer",MOBILE_CRANE:"Mobile Crane",TOWER_CRANE:"Tower Crane",FORKLIFT:"Forklift",BUCKET_TRUCK:"Bucket Truck",SERVICE_BODY_TRUCK:"Service Body Truck",MOBILE_WORKSHOP:"Mobile Workshop",GENERATOR:"Generator",AIR_COMPRESSOR:"Air Compressor",WATER_PUMP:"Water Pump",LIGHT_TOWER:"Light Tower",SHIPPING_CONTAINER:"Shipping Container",STORAGE_TRAILER:"Storage Trailer",TOOLBOX_TRAILER:"Toolbox Trailer",OTHER:"Other"},Tf={SELF_POWERED:"Self-Powered",TOWED:"Towed",STATIONARY:"Stationary",PORTABLE:"Portable"},Ef={AVAILABLE:"Available",IN_USE:"In Use",MAINTENANCE:"Maintenance",RESERVED:"Reserved"},kf=e=>fetch(e).then(e=>e.json()),Af=e=>fetch(e).then(e=>e.json()),Cf=e=>fetch(e).then(e=>e.json()),Rf=Ph("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});class Of extends sn.Component{constructor(e){super(e),this.state={hasError:!1,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){Du.error("EnhancedErrorBoundary caught error:",e,t),this.setState(e=>({errorInfo:t,errorCount:e.errorCount+1})),this.props.onError?.(e,t),this.reportError(e,t);try{const s=[{timestamp:(new Date).toISOString(),error:{message:e.message,stack:e.stack},errorInfo:{componentStack:t.componentStack},userAgent:navigator.userAgent,url:window.location.href},...JSON.parse(localStorage.getItem("ctafleet-error-logs")||"[]")].slice(0,10);localStorage.setItem("ctafleet-error-logs",JSON.stringify(s))}catch(_d){Du.error("Failed to store error log:",_d)}}reportError(e,t){try{Wi(()=>Promise.resolve().then(()=>Pu),void 0).then(s=>{s.default.trackException(e,3,{componentStack:t.componentStack,errorBoundary:!0,url:window.location.href,timestamp:(new Date).toISOString()})})}catch(_d){Du.error("Failed to report error to Application Insights:",_d)}"undefined"!=typeof window&&window.Sentry&&window.Sentry.captureException(e,{contexts:{react:{componentStack:t.componentStack}}}),"undefined"!=typeof window&&window.LogRocket&&window.LogRocket.captureException(e,{tags:{errorBoundary:!0},extra:{componentStack:t.componentStack}}),fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:{message:e.message,stack:e.stack},errorInfo:{componentStack:t.componentStack},timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href})}).catch(e=>{Du.error("Failed to report error:",e)})}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleDownloadLog=()=>{const e=localStorage.getItem("ctafleet-error-logs")||"[]",t=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`ctafleet-error-log-${(new Date).toISOString()}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{error:e,errorInfo:t,errorCount:s}=this.state,a=this.props.showDetails??!1;return an.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:an.jsxs(ct,{className:"max-w-2xl w-full shadow-2xl",children:[an.jsxs(dt,{className:"text-center",children:[an.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:an.jsx(gn,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),an.jsx(ut,{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:"Something Went Wrong"}),an.jsx(mt,{className:"text-base mt-2",children:"We encountered an unexpected error. Don't worry, we've logged this issue and will work to fix it."})]}),an.jsxs(ht,{className:"space-y-6",children:[an.jsxs(ma,{variant:"destructive",children:[an.jsx(gn,{className:"h-4 w-4"}),an.jsx(ha,{children:"Error Details"}),an.jsx(pa,{className:"mt-2 font-mono text-sm",children:e?.message||"An unexpected error occurred"})]}),s>1&&an.jsxs(ma,{children:[an.jsx(jn,{className:"h-4 w-4"}),an.jsx(ha,{children:"Multiple Errors Detected"}),an.jsxs(pa,{children:["This error has occurred ",s," times. Consider reloading the page or contacting support if the problem persists."]})]}),a&&e&&an.jsxs("details",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[an.jsxs("summary",{className:"cursor-pointer font-semibold mb-2 flex items-center gap-2",children:[an.jsx(jn,{className:"w-4 h-4"}),"Technical Details"]}),an.jsxs("div",{className:"space-y-3 mt-3",children:[an.jsxs("div",{children:[an.jsx("div",{className:"text-sm font-semibold mb-1",children:"Stack Trace:"}),an.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-gray-900 p-3 rounded overflow-x-auto",children:e.stack})]}),t&&an.jsxs("div",{children:[an.jsx("div",{className:"text-sm font-semibold mb-1",children:"Component Stack:"}),an.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-gray-900 p-3 rounded overflow-x-auto",children:t.componentStack})]})]})]}),an.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[an.jsxs(Mh,{onClick:this.handleReset,variant:"default",className:"flex-1",children:[an.jsx(yn,{className:"w-4 h-4 mr-2"}),"Try Again"]}),an.jsxs(Mh,{onClick:this.handleReload,variant:"outline",className:"flex-1",children:[an.jsx(yn,{className:"w-4 h-4 mr-2"}),"Reload Page"]}),an.jsxs(Mh,{onClick:this.handleGoHome,variant:"outline",className:"flex-1",children:[an.jsx(bn,{className:"w-4 h-4 mr-2"}),"Go Home"]})]}),a&&an.jsxs(Mh,{onClick:this.handleDownloadLog,variant:"ghost",className:"w-full",size:"sm",children:[an.jsx(jn,{className:"w-4 h-4 mr-2"}),"Download Error Log"]}),an.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[an.jsx("p",{children:"If this problem persists, please contact support with the error code:"}),an.jsx("code",{className:"mt-1 inline-block bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded font-mono",children:Date.now().toString(36).toUpperCase()})]})]})]})})}return this.props.children}}const Df=new class{listeners=[];subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}emit(e){this.listeners.forEach(t=>t(e))}},If=()=>{const[e,t]=sn.useState([]);sn.useEffect(()=>{const e=Df.subscribe(e=>{t(t=>[...t,e]),setTimeout(()=>{t(t=>t.filter(t=>t.id!==e.id))},e.duration)});return e},[]);const s=e=>{if(e.icon)return e.icon;switch(e.type){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";default:return"ℹ️"}};return an.jsx("div",{className:"toast-container",children:an.jsx(_o,{children:e.map(e=>an.jsxs(So.div,{className:`toast toast-${e.type}`,initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.15}},transition:{type:"spring",damping:20,stiffness:300},children:[an.jsx("span",{className:"toast-icon",children:s(e)}),an.jsx("span",{className:"toast-message",children:e.message}),an.jsx("button",{className:"toast-close",onClick:()=>{return s=e.id,void t(e=>e.filter(e=>e.id!==s));var s},"aria-label":"Close",children:"×"})]},e.id))})})},Pf=bh,Lf={fleet_manager:{id:"demo-fleet-manager",email:"sarah.johnson@fleet.demo",firstName:"Sarah",lastName:"Johnson",role:"fleet_manager",avatar:"/avatars/fleet-manager.png"},driver:{id:"demo-driver",email:"mike.rodriguez@fleet.demo",firstName:"Mike",lastName:"Rodriguez",role:"driver",avatar:"/avatars/driver.png"},technician:{id:"demo-technician",email:"david.chen@fleet.demo",firstName:"David",lastName:"Chen",role:"technician",avatar:"/avatars/technician.png"},dispatcher:{id:"demo-dispatcher",email:"lisa.martinez@fleet.demo",firstName:"Lisa",lastName:"Martinez",role:"dispatcher",avatar:"/avatars/dispatcher.png"},safety_officer:{id:"demo-safety-officer",email:"james.wilson@fleet.demo",firstName:"James",lastName:"Wilson",role:"safety_officer",avatar:"/avatars/safety-officer.png"},accountant:{id:"demo-accountant",email:"emily.taylor@fleet.demo",firstName:"Emily",lastName:"Taylor",role:"accountant",avatar:"/avatars/accountant.png"},admin:{id:"demo-admin",email:"admin@fleet.demo",firstName:"Admin",lastName:"User",role:"admin",avatar:"/avatars/admin.png"}},Mf=new class{sessionId;userId;isEnabled;constructor(){this.sessionId=this.generateSessionId(),this.isEnabled=!0,"true"===localStorage.getItem("analytics_disabled")&&(this.isEnabled=!1)}generateSessionId(){return`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}setUserId(e){this.userId=e}clearUserId(){this.userId=void 0}enable(){this.isEnabled=!0,localStorage.removeItem("analytics_disabled")}disable(){this.isEnabled=!1,localStorage.setItem("analytics_disabled","true")}track(e,t){if(!this.isEnabled)return;const s={name:e,properties:t,timestamp:Date.now(),userId:this.userId,sessionId:this.sessionId};this.sendEvent(s)}async sendEvent(e){try{const t=this.getStoredEvents();t.push(e),t.length>100&&t.shift(),localStorage.setItem("analytics_events",JSON.stringify(t)),Wi(async()=>{const{telemetryService:e}=await Promise.resolve().then(()=>Pu);return{telemetryService:e}},void 0).then(({telemetryService:t})=>{t.trackEvent(e.name,e.properties)}).catch(e=>{Du.error("Failed to load telemetry service",e)})}catch(t){Du.error("Failed to send analytics event:",{error:t})}}getStoredEvents(){try{const e=localStorage.getItem("analytics_events");return e?JSON.parse(e):[]}catch{return[]}}getEvents(){return this.getStoredEvents()}clearEvents(){localStorage.removeItem("analytics_events")}},Ff=[{id:"fleet_manager",name:"Fleet Manager",icon:"👔",color:"#3B82F6",description:"Full fleet oversight and management",features:["Vehicle Management","Maintenance Scheduling","Cost Analysis","Team Oversight"],demoUser:{name:"Sarah Johnson",avatar:"/avatars/fleet-manager.png",email:"sarah.johnson@fleet.demo"}},{id:"driver",name:"Driver",icon:"🚗",color:"#10B981",description:"Mobile-first experience for daily operations",features:["Pre-Trip Inspections","Route Navigation","Fuel Logging","Incident Reporting"],demoUser:{name:"Mike Rodriguez",avatar:"/avatars/driver.png",email:"mike.rodriguez@fleet.demo"}},{id:"technician",name:"Technician",icon:"🔧",color:"#F59E0B",description:"Maintenance and repair workflow",features:["Work Order Queue","Parts Inventory","Service History","Diagnostic Tools"],demoUser:{name:"David Chen",avatar:"/avatars/technician.png",email:"david.chen@fleet.demo"}},{id:"dispatcher",name:"Dispatcher",icon:"📍",color:"#8B5CF6",description:"Real-time fleet coordination",features:["Live Vehicle Tracking","Route Assignment","Driver Communication","Emergency Response"],demoUser:{name:"Lisa Martinez",avatar:"/avatars/dispatcher.png",email:"lisa.martinez@fleet.demo"}},{id:"safety_officer",name:"Safety Officer",icon:"🛡️",color:"#EF4444",description:"Safety compliance and incident management",features:["Incident Investigation","Driver Training","Compliance Reports","Safety Metrics"],demoUser:{name:"James Wilson",avatar:"/avatars/safety-officer.png",email:"james.wilson@fleet.demo"}},{id:"accountant",name:"Accountant",icon:"💰",color:"#06B6D4",description:"Financial tracking and reporting",features:["Cost Analysis","Budget Management","Invoice Processing","Financial Reports"],demoUser:{name:"Emily Taylor",avatar:"/avatars/accountant.png",email:"emily.taylor@fleet.demo"}},{id:"admin",name:"Admin",icon:"⚙️",color:"#6B7280",description:"System configuration and user management",features:["User Management","System Settings","Integration Setup","Security Config"],demoUser:{name:"Admin User",avatar:"/avatars/admin.png",email:"admin@fleet.demo"}}],$f=()=>{const{isDemoMode:e,currentRole:t,switchRole:s}=(()=>{const{setUser:e}=Pf(),[t,s]=sn.useState(()=>"false"!==localStorage.getItem("demo_mode")),[a,n]=sn.useState(()=>localStorage.getItem("demo_role")||"fleet_manager"),r=sn.useCallback((t="fleet_manager")=>{s(!0),n(t),localStorage.setItem("demo_mode","true"),localStorage.setItem("demo_role",t);const a=Lf[t];e({id:a.id,tenantId:"demo-tenant",email:a.email,firstName:a.firstName,lastName:a.lastName,role:{fleet_manager:"manager",driver:"driver",technician:"technician",dispatcher:"manager",safety_officer:"manager",accountant:"viewer",admin:"admin"}[t],permissions:["read","write"],avatar:a.avatar})},[e]),i=sn.useCallback(()=>{s(!1),localStorage.removeItem("demo_mode"),localStorage.removeItem("demo_role"),e(null)},[e]),o=sn.useCallback(async s=>{if(!t)return;await new Promise(e=>setTimeout(e,500)),n(s),localStorage.setItem("demo_role",s);const a=Lf[s];e({id:a.id,tenantId:"demo-tenant",email:a.email,firstName:a.firstName,lastName:a.lastName,role:{fleet_manager:"manager",driver:"driver",technician:"technician",dispatcher:"manager",safety_officer:"manager",accountant:"viewer",admin:"admin"}[s],permissions:["read","write"],avatar:a.avatar})},[t,e]),l=sn.useCallback(()=>Lf[a],[a]),c=sn.useCallback(e=>t&&a===e,[t,a]),d=sn.useCallback(()=>({fleet_manager:["vehicles.view","vehicles.create","vehicles.update","vehicles.delete","maintenance.view","maintenance.schedule","reports.view","reports.export","team.view"],driver:["vehicles.view","inspections.create","routes.view","fuel.log","incidents.report"],technician:["maintenance.view","maintenance.update","workorders.view","workorders.update","parts.view","parts.request"],dispatcher:["vehicles.view","vehicles.track","routes.view","routes.assign","drivers.contact","emergency.respond"],safety_officer:["incidents.view","incidents.investigate","training.view","training.assign","compliance.view","compliance.report","safety.metrics"],accountant:["costs.view","costs.analyze","budgets.view","budgets.manage","invoices.view","invoices.process","reports.financial"],admin:["*"]}[a]||[]),[a]),u=sn.useCallback(e=>{const t=d();return t.includes("*")||t.includes(e)},[d]);return{isDemoMode:t,currentRole:a,enableDemoMode:r,disableDemoMode:i,switchRole:o,getCurrentDemoUser:l,isRole:c,hasPermission:u,getPermissions:d,demoUsers:Lf}})(),[a,n]=sn.useState(!1),[r,i]=sn.useState("fleet_manager"),o=Ff.find(e=>e.id===t)||Ff[0];return e?an.jsxs(an.Fragment,{children:[an.jsxs(So.div,{className:"role-switcher-fab",initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.5},children:[an.jsxs("button",{onClick:()=>n(!a),className:"role-fab-button",style:{backgroundColor:o.color},"aria-label":"Switch Role",children:[an.jsx("span",{className:"role-icon",children:o.icon}),an.jsx("span",{className:"role-label",children:o.name}),an.jsx("span",{className:"expand-icon",children:a?"×":"↕"})]}),an.jsx("div",{className:"demo-badge",children:"DEMO MODE"})]}),an.jsx(_o,{children:a&&an.jsxs(an.Fragment,{children:[an.jsx(So.div,{className:"role-switcher-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1)}),an.jsxs(So.div,{className:"role-switcher-panel",initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:20},children:[an.jsxs("div",{className:"panel-header",children:[an.jsx("h3",{children:"Switch Role"}),an.jsx("p",{children:"Experience the app from different perspectives"})]}),an.jsx("div",{className:"roles-grid",children:Ff.map(e=>an.jsx(zf,{role:e,isActive:t===e.id,onClick:()=>(async e=>{n(!1),fa("Switching roles...",{duration:1e3,type:"info"}),await s(e);const a=Ff.find(t=>t.id===e);fa(`Now viewing as ${a.name}`,{duration:3e3,type:"success",icon:a.icon}),Mf.track("demo_role_switched",{from:t,to:e})})(e.id)},e.id))}),an.jsx("div",{className:"panel-footer",children:an.jsx("button",{onClick:()=>n(!1),className:"btn-secondary",children:"Cancel"})})]})]})})]}):null},zf=({role:e,isActive:t,onClick:s})=>an.jsxs(So.div,{className:"role-card "+(t?"active":""),whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,style:{borderColor:t?e.color:"transparent",backgroundColor:t?`${e.color}10`:"white"},children:[t&&an.jsx("div",{className:"active-badge",children:"✓ Current Role"}),an.jsx("div",{className:"role-icon-large",style:{backgroundColor:`${e.color}20`},children:an.jsx("span",{style:{color:e.color},children:e.icon})}),an.jsx("h4",{children:e.name}),an.jsx("p",{className:"role-description",children:e.description}),an.jsxs("div",{className:"role-features",children:[e.features.slice(0,3).map((e,t)=>an.jsx("span",{className:"feature-tag",children:e},t)),e.features.length>3&&an.jsxs("span",{className:"feature-tag",children:["+",e.features.length-3," more"]})]}),an.jsxs("div",{className:"demo-user-info",children:[an.jsx("img",{src:e.demoUser.avatar,alt:e.demoUser.name,className:"user-avatar",onError:e=>{const t=e.currentTarget;t.style.display="none";const s=t.nextElementSibling;s&&(s.style.display="flex")}}),an.jsx("div",{className:"user-avatar-fallback",style:{display:"none",backgroundColor:e.color},children:e.icon}),an.jsxs("div",{className:"user-details",children:[an.jsx("strong",{children:e.demoUser.name}),an.jsx("small",{children:e.demoUser.email})]})]}),!t&&an.jsx("button",{className:"switch-btn",children:"Switch to this role →"})]}),{toString:Vf}=Object.prototype,{getPrototypeOf:Uf}=Object,{iterator:Hf,toStringTag:Bf}=Symbol,qf=(e=>t=>{const s=Vf.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Wf=e=>(e=e.toLowerCase(),t=>qf(t)===e),Kf=e=>t=>typeof t===e,{isArray:Gf}=Array,Jf=Kf("undefined"),Yf=Wf("ArrayBuffer"),Xf=Kf("string"),Qf=Kf("function"),Zf=Kf("number"),eg=e=>null!==e&&"object"==typeof e,tg=e=>{if("object"!==qf(e))return!1;const t=Uf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Bf in e||Hf in e)},sg=Wf("Date"),ag=Wf("File"),ng=Wf("Blob"),rg=Wf("FileList"),ig=Wf("URLSearchParams"),[og,lg,cg,dg]=["ReadableStream","Request","Response","Headers"].map(Wf),ug="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,mg=e=>!Jf(e)&&e!==ug,hg=(pg="undefined"!=typeof Uint8Array&&Uf(Uint8Array),e=>pg&&e instanceof pg);var pg;const fg=Wf("HTMLFormElement"),gg=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),xg=Wf("RegExp"),vg=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};va(s,(s,n)=>{let r;!1!==(r=t(s,n,e))&&(a[n]=r||s)}),Object.defineProperties(e,a)},yg=Wf("AsyncFunction"),bg=((e,t)=>{return e?setImmediate:t?(s=`axios@${Math.random()}`,a=[],ug.addEventListener("message",({source:e,data:t})=>{e===ug&&t===s&&a.length&&a.shift()()},!1),e=>{a.push(e),ug.postMessage(s,"*")}):e=>setTimeout(e);var s,a})("function"==typeof setImmediate,Qf(ug.postMessage)),jg="undefined"!=typeof queueMicrotask?queueMicrotask.bind(ug):"undefined"!=typeof process&&process.nextTick||bg,wg={isArray:Gf,isArrayBuffer:Yf,isBuffer:xa,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Qf(e.append)&&("formdata"===(t=qf(e))||"object"===t&&Qf(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Yf(e.buffer),t},isString:Xf,isNumber:Zf,isBoolean:e=>!0===e||!1===e,isObject:eg,isPlainObject:tg,isEmptyObject:e=>{if(!eg(e)||xa(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(_d){return!1}},isReadableStream:og,isRequest:lg,isResponse:cg,isHeaders:dg,isUndefined:Jf,isDate:sg,isFile:ag,isBlob:ng,isRegExp:xg,isFunction:Qf,isStream:e=>eg(e)&&Qf(e.pipe),isURLSearchParams:ig,isTypedArray:hg,isFileList:rg,forEach:va,merge:function e(){const{caseless:t,skipUndefined:s}=mg(this)&&this||{},a={},n=(n,r)=>{const i=t&&ya(a,r)||r;tg(a[i])&&tg(n)?a[i]=e(a[i],n):tg(n)?a[i]=e({},n):Gf(n)?a[i]=n.slice():s&&Jf(n)||(a[i]=n)};for(let r=0,i=arguments.length;i>r;r++)arguments[r]&&va(arguments[r],n);return a},extend:(e,t,s,{allOwnKeys:a}={})=>(va(t,(t,a)=>{e[a]=s&&Qf(t)?ga(t,s):t},{allOwnKeys:a}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,a)=>{let n,r,i;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),r=n.length;r-- >0;)i=n[r],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==s&&Uf(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:qf,kindOfTest:Wf,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length);const a=e.indexOf(t,s-=t.length);return-1!==a&&a===s},toArray:e=>{if(!e)return null;if(Gf(e))return e;let t=e.length;if(!Zf(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Hf]).call(e);let a;for(;(a=s.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const a=[];for(;null!==(s=e.exec(t));)a.push(s);return a},isHTMLForm:fg,hasOwnProperty:gg,hasOwnProp:gg,reduceDescriptors:vg,freezeMethods:e=>{vg(e,(t,s)=>{if(Qf(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;Qf(e[s])&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},a=e=>{e.forEach(e=>{s[e]=!0})};return Gf(e)?a(e):a(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ya,global:ug,isContextDefined:mg,isSpecCompliantForm:function(e){return!!(e&&Qf(e.append)&&"FormData"===e[Bf]&&e[Hf])},toJSONObject:e=>{const t=new Array(10),s=(e,a)=>{if(eg(e)){if(t.indexOf(e)>=0)return;if(xa(e))return e;if(!("toJSON"in e)){t[a]=e;const n=Gf(e)?[]:{};return va(e,(e,t)=>{const r=s(e,a+1);!Jf(r)&&(n[t]=r)}),t[a]=void 0,n}}return e};return s(e,0)},isAsyncFn:yg,isThenable:e=>e&&(eg(e)||Qf(e))&&Qf(e.then)&&Qf(e.catch),setImmediate:bg,asap:jg,isIterable:e=>null!=e&&Qf(e[Hf])};wg.inherits(ba,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wg.toJSONObject(this.config),code:this.code,status:this.status}}});const Ng=ba.prototype,_g={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_g[e]={value:e}}),Object.defineProperties(ba,_g),Object.defineProperty(Ng,"isAxiosError",{value:!0}),ba.from=(e,t,s,a,n,r)=>{const i=Object.create(Ng);return wg.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),ba.call(i,e&&e.message?e.message:"Error",null==t&&e?e.code:t,s,a,n),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",r&&Object.assign(i,r),i};const Sg=wg.toFlatObject(wg,{},null,function(e){return/^is[A-Z]/.test(e)}),Tg=Ta.prototype;Tg.append=function(e,t){this._pairs.push([e,t])},Tg.toString=function(e){const t=e?function(t){return e.call(this,t,Sa)}:Sa;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Eg{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){wg.forEach(this.handlers,function(t){null!==t&&e(t)})}}const kg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ag={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Ta,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Cg="undefined"!=typeof window&&"undefined"!=typeof document,Rg="object"==typeof navigator&&navigator||void 0,Og=Cg&&(!Rg||0>["ReactNative","NativeScript","NS"].indexOf(Rg.product)),Dg="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ig=Cg&&window.location.href||"http://localhost",Pg={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cg,hasStandardBrowserEnv:Og,hasStandardBrowserWebWorkerEnv:Dg,navigator:Rg,origin:Ig},Symbol.toStringTag,{value:"Module"})),...Ag},Lg={transitional:kg,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,n=wg.isObject(e);if(n&&wg.isHTMLForm(e)&&(e=new FormData(e)),wg.isFormData(e))return a?JSON.stringify(Aa(e)):e;if(wg.isArrayBuffer(e)||wg.isBuffer(e)||wg.isStream(e)||wg.isFile(e)||wg.isBlob(e)||wg.isReadableStream(e))return e;if(wg.isArrayBufferView(e))return e.buffer;if(wg.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _a(e,new Pg.classes.URLSearchParams,{visitor:function(e,t,s,a){return Pg.isNode&&wg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((r=wg.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return _a(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e){if(wg.isString(e))try{return(0,JSON.parse)(e),wg.trim(e)}catch(_d){if("SyntaxError"!==_d.name)throw _d}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Lg.transitional,s=t&&t.forcedJSONParsing,a="json"===this.responseType;if(wg.isResponse(e)||wg.isReadableStream(e))return e;if(e&&wg.isString(e)&&(s&&!this.responseType||a)){const s=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(_d){if(s){if("SyntaxError"===_d.name)throw ba.from(_d,ba.ERR_BAD_RESPONSE,this,null,this.response);throw _d}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pg.classes.FormData,Blob:Pg.classes.Blob},validateStatus:function(e){return e>=200&&300>e},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wg.forEach(["delete","get","head","post","put","patch"],e=>{Lg.headers[e]={}});const Mg=wg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fg=Symbol("internals");let $g=class{constructor(e){e&&this.set(e)}set(e,t,s){function a(e,t,s){const a=Ca(t);if(!a)throw new Error("header name must be a non-empty string");const r=wg.findKey(n,a);(!r||void 0===n[r]||!0===s||void 0===s&&!1!==n[r])&&(n[r||t]=Ra(e))}const n=this,r=(e,t)=>wg.forEach(e,(e,s)=>a(e,s,t));if(wg.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(wg.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let s,a,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!s||t[s]&&Mg[s]||("set-cookie"===s?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t})(e),t);else if(wg.isObject(e)&&wg.isIterable(e)){let s,a,n={};for(const t of e){if(!wg.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(s=n[a])?wg.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}r(n,t)}else null!=e&&a(t,e,s);return this}get(e,t){if(e=Ca(e)){const s=wg.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}(e);if(wg.isFunction(t))return t.call(this,e,s);if(wg.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ca(e)){const s=wg.findKey(this,e);return!(!s||void 0===this[s]||t&&!Oa(0,this[s],s,t))}return!1}delete(e,t){function s(e){if(e=Ca(e)){const s=wg.findKey(a,e);!s||t&&!Oa(0,a[s],s,t)||(delete a[s],n=!0)}}const a=this;let n=!1;return wg.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const n=t[s];e&&!Oa(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,s={};return wg.forEach(this,(a,n)=>{const r=wg.findKey(s,n);if(r)return t[r]=Ra(a),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(n):String(n).trim();i!==n&&delete t[n],t[i]=Ra(a),s[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return wg.forEach(this,(s,a)=>{null!=s&&!1!==s&&(t[a]=e&&wg.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(e=>s.set(e)),s}static accessor(e){function t(e){const t=Ca(e);s[t]||(function(e,t){const s=wg.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(e,s,n){return this[a].call(this,t,e,s,n)},configurable:!0})})}(a,e),s[t]=!0)}const s=(this[Fg]=this[Fg]={accessors:{}}).accessors,a=this.prototype;return wg.isArray(e)?e.forEach(t):t(e),this}};$g.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wg.reduceDescriptors($g.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}}),wg.freezeMethods($g),wg.inherits(Pa,ba,{__CANCEL__:!0});const zg=(e,t,s=3)=>{let a=0;const n=function(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n,r=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];n||(n=l),s[r]=o,a[r]=l;let d=i,u=0;for(;d!==r;)u+=s[d++],d%=e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),t>l-n)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(s,r){let i,o,l=0,c=1e3/r;const d=(s,r=Date.now())=>{l=r,i=null,o&&(clearTimeout(o),o=null),(s=>{const r=s.loaded,i=s.lengthComputable?s.total:void 0,o=r-a,l=n(o);a=r,e({loaded:r,total:i,progress:i?r/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&i>=r?(i-r)/l:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})})(...s)};return[(...e)=>{const t=Date.now(),s=t-l;c>s?(i=e,o||(o=setTimeout(()=>{o=null,d(i)},c-s))):d(e,t)},()=>i&&d(i)]}(0,s)},Vg=(e,t)=>{const s=null!=e;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},Ug=e=>(...t)=>wg.asap(()=>e(...t)),Hg=Pg.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Pg.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Pg.origin),Pg.navigator&&/(msie|trident)/i.test(Pg.navigator.userAgent)):()=>!0,Bg=Pg.hasStandardBrowserEnv?{write(e,t,s,a,n,r,i){if("undefined"==typeof document)return;const o=[`${e}=${encodeURIComponent(t)}`];wg.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),wg.isString(a)&&o.push(`path=${a}`),wg.isString(n)&&o.push(`domain=${n}`),!0===r&&o.push("secure"),wg.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}},qg=e=>e instanceof $g?{...e}:e,Wg=e=>{const t=Fa({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:r,headers:i,auth:o}=t;if(t.headers=i=$g.from(i),t.url=ka(Ma(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),wg.isFormData(s))if(Pg.hasStandardBrowserEnv||Pg.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(wg.isFunction(s.getHeaders)){const e=s.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,s])=>{t.includes(e.toLowerCase())&&i.set(e,s)})}if(Pg.hasStandardBrowserEnv&&(a&&wg.isFunction(a)&&(a=a(t)),a||!1!==a&&Hg(t.url))){const e=n&&r&&Bg.read(r);e&&i.set(n,e)}return t},Kg="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){function a(){u&&u(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}function n(){if(!g)return;const n=$g.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());La(function(e){t(e),a()},function(e){s(e),a()},{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}const r=Wg(e);let i=r.data;const o=$g.from(r.headers).normalize();let l,c,d,u,m,{responseType:h,onUploadProgress:p,onDownloadProgress:f}=r,g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=n:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(n)},g.onabort=function(){g&&(s(new ba("Request aborted",ba.ECONNABORTED,e,g)),g=null)},g.onerror=function(t){const a=new ba(t&&t.message?t.message:"Network Error",ba.ERR_NETWORK,e,g);a.event=t||null,s(a),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),s(new ba(t,(r.transitional||kg).clarifyTimeoutError?ba.ETIMEDOUT:ba.ECONNABORTED,e,g)),g=null},void 0===i&&o.setContentType(null),"setRequestHeader"in g&&wg.forEach(o.toJSON(),function(e,t){g.setRequestHeader(t,e)}),wg.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),h&&"json"!==h&&(g.responseType=r.responseType),f&&([d,m]=zg(f,!0),g.addEventListener("progress",d)),p&&g.upload&&([c,u]=zg(p),g.upload.addEventListener("progress",c),g.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(l=t=>{g&&(s(!t||t.type?new Pa(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===Pg.protocols.indexOf(x)?s(new ba("Unsupported protocol "+x+":",ba.ERR_BAD_REQUEST,e)):g.send(i||null)})},Gg=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,a=new AbortController;const n=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof ba?t:new Pa(t instanceof Error?t.message:t))}};let r=t&&setTimeout(()=>{r=null,n(new ba(`timeout ${t} of ms exceeded`,ba.ETIMEDOUT))},t);const i=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:o}=a;return o.unsubscribe=()=>wg.asap(i),o}},Jg=function*(e,t){let s=e.byteLength;if(t>s)return void(yield e);let a,n=0;for(;s>n;)a=n+t,yield e.slice(n,a),n=a},Yg=(e,t,s,a)=>{const n=async function*(e,t){for await(const s of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}}(e))yield*Jg(s,t)}(e,t);let r,i=0,o=e=>{r||(r=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return o(),void e.close();if(s){let e=i+=a.byteLength;s(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},{isFunction:Xg}=wg,Qg=(({Request:e,Response:t})=>({Request:e,Response:t}))(wg.global),{ReadableStream:Zg,TextEncoder:ex}=wg.global,tx=(e,...t)=>{try{return!!e(...t)}catch(_d){return!1}},sx=e=>{e=wg.merge.call({skipUndefined:!0},Qg,e);const{fetch:t,Request:s,Response:a}=e,n=t?Xg(t):"function"==typeof fetch,r=Xg(s),i=Xg(a);if(!n)return!1;const o=n&&Xg(Zg),l=n&&("function"==typeof ex?(c=new ex,e=>c.encode(e)):async e=>new Uint8Array(await new s(e).arrayBuffer()));var c;const d=r&&o&&tx(()=>{let e=!1;const t=new s(Pg.origin,{body:new Zg,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&tx(()=>wg.isReadableStream(new a("").body)),m={stream:u&&(e=>e.body)};return n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,s)=>{let a=t&&t[e];if(a)return a.call(t);throw new ba(`Response type '${e}' is not supported`,ba.ERR_NOT_SUPPORT,s)})}),async e=>{let{url:n,method:i,data:o,signal:c,cancelToken:h,timeout:p,onDownloadProgress:f,onUploadProgress:g,responseType:x,headers:v,withCredentials:y="same-origin",fetchOptions:b}=Wg(e),j=t||fetch;x=x?(x+"").toLowerCase():"text";let w=Gg([c,h&&h.toAbortSignal()],p),N=null;const _=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let S;try{if(g&&d&&"get"!==i&&"head"!==i&&0!==(S=await(async(e,t)=>{const a=wg.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(wg.isBlob(e))return e.size;if(wg.isSpecCompliantForm(e)){const t=new s(Pg.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return wg.isArrayBufferView(e)||wg.isArrayBuffer(e)?e.byteLength:(wg.isURLSearchParams(e)&&(e+=""),wg.isString(e)?(await l(e)).byteLength:void 0)})(t):a})(v,o))){let e,t=new s(n,{method:"POST",body:o,duplex:"half"});if(wg.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,s]=Vg(S,zg(Ug(g)));o=Yg(t.body,65536,e,s)}}wg.isString(y)||(y=y?"include":"omit");const t=r&&"credentials"in s.prototype,c={...b,signal:w,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?y:void 0};N=r&&new s(n,c);let h=await(r?j(N,b):j(n,c));const p=u&&("stream"===x||"response"===x);if(u&&(f||p&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=h[t]});const t=wg.toFiniteNumber(h.headers.get("content-length")),[s,n]=f&&Vg(t,zg(Ug(f),!0))||[];h=new a(Yg(h.body,65536,s,()=>{n&&n(),_&&_()}),e)}x=x||"text";let T=await m[wg.findKey(m,x)||"text"](h,e);return!p&&_&&_(),await new Promise((t,s)=>{La(t,s,{data:T,headers:$g.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:N})})}catch(T){if(_&&_(),T&&"TypeError"===T.name&&/Load failed|fetch/i.test(T.message))throw Object.assign(new ba("Network Error",ba.ERR_NETWORK,e,N),{cause:T.cause||T});throw ba.from(T,T&&T.code,e,N)}}},ax=new Map,nx=e=>{let t=e&&e.env||{};const{fetch:s,Request:a,Response:n}=t,r=[a,n,s];let i,o,l=r.length,c=ax;for(;l--;)i=r[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:sx(t)),c=o;return o};nx();const rx={http:null,xhr:Kg,fetch:{get:nx}};wg.forEach(rx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(_d){}Object.defineProperty(e,"adapterName",{value:t})}});const ix=e=>`- ${e}`,ox=e=>wg.isFunction(e)||null===e||!1===e,lx={getAdapter:function(e,t){e=wg.isArray(e)?e:[e];const{length:s}=e;let a,n;const r={};for(let i=0;s>i;i++){let s;if(a=e[i],n=a,!ox(a)&&(n=rx[(s=String(a)).toLowerCase()],void 0===n))throw new ba(`Unknown adapter '${s}'`);if(n&&(wg.isFunction(n)||(n=n.get(t))))break;r[s||"#"+i]=n}if(!n){const e=Object.entries(r).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new ba("There is no suitable adapter to dispatch the request "+(s?e.length>1?"since :\n"+e.map(ix).join("\n"):" "+ix(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n},adapters:rx},cx="1.13.2",dx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{dx[e]=function(s){return typeof s===e||"a"+(1>t?"n ":" ")+e}});const ux={};dx.transitional=function(e,t,s){return(a,n,r)=>{if(!1===e)throw new ba(function(e,t){return"[Axios v"+cx+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}(n," has been removed"+(t?" in "+t:"")),ba.ERR_DEPRECATED);return t&&!ux[n]&&(ux[n]=!0),!e||e(a,n,r)}},dx.spelling=function(e){return(e,t)=>!0};const mx={assertOptions:function(e,t,s){if("object"!=typeof e)throw new ba("options must be an object",ba.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const r=a[n],i=t[r];if(i){const t=e[r],s=void 0===t||i(t,r,e);if(!0!==s)throw new ba("option "+r+" must be "+s,ba.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new ba("Unknown option "+r,ba.ERR_BAD_OPTION)}},validators:dx},hx=mx.validators;let px=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Eg,response:new Eg}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(_d){}}throw s}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Fa(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:n}=t;void 0!==s&&mx.assertOptions(s,{silentJSONParsing:hx.transitional(hx.boolean),forcedJSONParsing:hx.transitional(hx.boolean),clarifyTimeoutError:hx.transitional(hx.boolean)},!1),null!=a&&(wg.isFunction(a)?t.paramsSerializer={serialize:a}:mx.assertOptions(a,{encode:hx.function,serialize:hx.function},!0)),void 0!==t.allowAbsoluteUrls||(t.allowAbsoluteUrls=void 0===this.defaults.allowAbsoluteUrls||this.defaults.allowAbsoluteUrls),mx.assertOptions(t,{baseUrl:hx.spelling("baseURL"),withXsrfToken:hx.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=n&&wg.merge(n.common,n[t.method]);n&&wg.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=$g.concat(r,n);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[za.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);d>u;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(;d>u;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=za.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;d>u;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ka(Ma((e=Fa(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};wg.forEach(["delete","get","head","options"],function(e){px.prototype[e]=function(t,s){return this.request(Fa(s||{},{method:e,url:t,data:(s||{}).data}))}}),wg.forEach(["post","put","patch"],function(e){function t(t){return function(s,a,n){return this.request(Fa(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}px.prototype[e]=t(),px.prototype[e+"Form"]=t(!0)});const fx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(fx).forEach(([e,t])=>{fx[t]=e});const gx=function e(t){const s=new px(t),a=ga(px.prototype.request,s);return wg.extend(a,px.prototype,s,{allOwnKeys:!0}),wg.extend(a,s,null,{allOwnKeys:!0}),a.create=function(s){return e(Fa(t,s))},a}(Lg);gx.Axios=px,gx.CanceledError=Pa,gx.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{s.subscribe(e),t=e}).then(e);return a.cancel=function(){s.unsubscribe(t)},a},e(function(e,a,n){s.reason||(s.reason=new Pa(e,a,n),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;const s=new e(function(e){t=e});return{token:s,cancel:t}}},gx.isCancel=Ia,gx.VERSION=cx,gx.toFormData=_a,gx.AxiosError=ba,gx.Cancel=gx.CanceledError,gx.all=function(e){return Promise.all(e)},gx.spread=function(e){return function(t){return e.apply(null,t)}},gx.isAxiosError=function(e){return wg.isObject(e)&&!0===e.isAxiosError},gx.mergeConfig=Fa,gx.AxiosHeaders=$g,gx.formToJSON=e=>Aa(wg.isHTMLForm(e)?new FormData(e):e),gx.getAdapter=lx.getAdapter,gx.HttpStatusCode=fx,gx.default=gx;const{AxiosError:xx}=gx,vx=({error:e,resetErrorBoundary:t})=>{const s=function(e){if(!e)return"An unexpected error occurred";if(e instanceof xx){const t=e.response?.data;if(t?.message)return t.message;if(t?.error)return t.error;if(t?.details)return t.details;switch(e.response?.status){case 400:return"Invalid request. Please check your input.";case 401:return"You are not authenticated. Please log in.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 409:return"This action conflicts with existing data.";case 422:return"Validation failed. Please check your input.";case 429:return"Too many requests. Please try again later.";case 500:return"Server error. Please try again later.";case 502:case 503:case 504:return"Service temporarily unavailable. Please try again.";default:return e.message||"Network error. Please check your connection."}}return e instanceof Error?e.message:"string"==typeof e?e:"An unexpected error occurred"}(e),a=e.message?.toLowerCase().includes("network")||e.message?.toLowerCase().includes("fetch"),n=e.message?.toLowerCase().includes("500")||e.message?.toLowerCase().includes("502")||e.message?.toLowerCase().includes("503");return an.jsxs(ct,{className:"border-red-200 dark:border-red-800",children:[an.jsx(dt,{children:an.jsxs("div",{className:"flex items-center gap-3",children:[an.jsx(a?$r:n?zr:Fn,{className:"h-6 w-6 text-red-600 dark:text-red-400"}),an.jsx(ut,{className:"text-red-600 dark:text-red-400",children:a?"Connection Error":n?"Server Error":"Error Loading Data"})]})}),an.jsxs(ht,{className:"space-y-4",children:[an.jsxs(ma,{variant:"destructive",children:[an.jsx(Fn,{className:"h-4 w-4"}),an.jsx(ha,{children:"Unable to load data"}),an.jsx(pa,{className:"mt-2",children:s})]}),a&&an.jsxs(ma,{children:[an.jsx($r,{className:"h-4 w-4"}),an.jsx(ha,{children:"Troubleshooting Network Issues"}),an.jsx(pa,{className:"mt-2",children:an.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[an.jsx("li",{children:"Check your internet connection"}),an.jsx("li",{children:"Verify you can access other websites"}),an.jsx("li",{children:"Try refreshing the page"}),an.jsx("li",{children:"Contact IT support if the problem persists"})]})})]}),an.jsxs("div",{className:"flex gap-3",children:[an.jsxs(Mh,{onClick:t,variant:"default",className:"flex items-center gap-2",children:[an.jsx(yn,{className:"h-4 w-4"}),"Try Again"]}),an.jsx(Mh,{onClick:()=>window.location.reload(),variant:"outline",children:"Reload Page"})]}),!1]})]})},yx=({children:e,fallback:t,onReset:s})=>an.jsx(Hi,{children:({reset:a})=>an.jsx(Of,{onError:(e,t)=>{Du.error("Query Error Boundary caught:",e,t)},fallback:t||an.jsx(vx,{error:new Error("An error occurred"),resetErrorBoundary:()=>{a(),s?.()}}),children:e})}),bx=sn.forwardRef(({...e},t)=>an.jsx(Eo,{ref:t,"data-slot":"dropdown-menu-trigger",...e}));bx.displayName=Eo.displayName;const jx=Du,wx=window.location.origin;class Nx extends Error{constructor(e,t,s){super(e),this.status=t,this.data=s,this.name="APIError"}}const _x=new class{baseURL;csrfToken=null;csrfTokenPromise=null;constructor(e){this.baseURL=e,this.initializeCsrfToken()}setToken(e){}clearToken(){}async initializeCsrfToken(){return this.csrfTokenPromise?this.csrfTokenPromise:this.csrfToken?void 0:(this.csrfTokenPromise=(async()=>{try{let e=await fetch(`${this.baseURL}/api/v1/csrf-token`,{method:"GET",credentials:"include"});if(e.ok||(jx.warn("[CSRF] Primary endpoint failed, trying fallback /api/csrf"),e=await fetch(`${this.baseURL}/api/csrf`,{method:"GET",credentials:"include"})),e.ok){const t=await e.json();this.csrfToken=t.csrfToken||t.token||"",jx.debug("[CSRF] Token initialized successfully")}else jx.warn("[CSRF] Failed to fetch token:",e.status)}catch(e){jx.error("[CSRF] Error fetching token:",e)}finally{this.csrfTokenPromise=null}})(),this.csrfTokenPromise)}async refreshCsrfToken(){this.csrfToken=null,this.csrfTokenPromise=null,await this.initializeCsrfToken()}async request(e,t={},s=0){const a=1e3,n=["POST","PUT","PATCH","DELETE"].includes(t.method?.toUpperCase()||"GET");n&&await this.initializeCsrfToken();const r={"Content-Type":"application/json",...t.headers};n&&this.csrfToken&&(r["X-CSRF-Token"]=this.csrfToken);const i=`${this.baseURL}${e}`,o=new AbortController,l=t.timeout||3e4,c=setTimeout(()=>o.abort(),l);try{const l=await fetch(i,{...t,headers:r,credentials:"include",signal:o.signal});if(clearTimeout(c),!l.ok){const o=await l.json().catch(()=>({error:"Unknown error"}));if(403===l.status&&o.error?.includes("CSRF")&&(jx.warn("CSRF token invalid, refreshing..."),await this.refreshCsrfToken(),n&&this.csrfToken)){r["X-CSRF-Token"]=this.csrfToken;const e=await fetch(i,{...t,headers:r,credentials:"include"});if(e.ok)return 204===e.status?{}:await e.json()}if(l.status>=500&&3>s){const n=a*Math.pow(2,s)+1e3*Math.random();return jx.warn(`Server error ${l.status}, retrying in ${n}ms (attempt ${s+1}/3)`),await new Promise(e=>setTimeout(e,n)),this.request(e,t,s+1)}throw new Nx(o.error||`HTTP ${l.status}`,l.status,o)}return 204===l.status?{}:await l.json()}catch(d){if(clearTimeout(c),d instanceof Nx)throw 401===d.status&&(this.clearToken(),window.location.href="/login"),d;if(d instanceof Error&&"AbortError"===d.name){if(3>s){const n=a*Math.pow(2,s)+1e3*Math.random();return await new Promise(e=>setTimeout(e,n)),this.request(e,t,s+1)}throw new Nx("Request timeout - please try again. The server took too long to respond.",408,{reason:"timeout",timeoutMs:l,retriesExhausted:!0})}if(3>s){const n=a*Math.pow(2,s)+1e3*Math.random();return await new Promise(e=>setTimeout(e,n)),this.request(e,t,s+1)}throw new Nx(d instanceof Error?d.message:"Network error",0,{originalError:d,retriesExhausted:!0})}}async get(e,t){const s=t?"?"+new URLSearchParams(t).toString():"";return this.request(`${e}${s}`,{method:"GET"})}async post(e,t){const s="object"==typeof t&&null!==t?Object.fromEntries(Object.entries(t).map(([e,t])=>[e,"string"==typeof t?t.trim():t])):t;return this.request(e,{method:"POST",body:JSON.stringify(s)})}async put(e,t){const s="object"==typeof t&&null!==t?Object.fromEntries(Object.entries(t).map(([e,t])=>[e,"string"==typeof t?t.trim():t])):t;return this.request(e,{method:"PUT",body:JSON.stringify(s)})}async delete(e){return this.request(e,{method:"DELETE"})}async batch(e){if(!e||0===e.length)throw new Nx("Batch request requires at least one request",400);if(e.length>50)throw new Nx("Maximum 50 requests per batch",400);const t=e.filter(e=>!e.url.startsWith("/api/"));if(t.length>0)throw new Nx(`Invalid batch request URLs: ${t.map(e=>e.url).join(", ")}`,400);return(await this.post("/api/v1/batch",{requests:e})).results}async login(e,t){const s=await this.post("/api/auth/login",{email:e,password:t});return this.setToken(s.token),s}async register(e){return this.post("/api/auth/register",e)}async logout(){await this.post("/api/auth/logout",{}),this.clearToken()}vehicles={list:e=>this.get("/api/vehicles",e),get:e=>this.get(`/api/vehicles/${e}`),create:e=>this.post("/api/vehicles",e),update:(e,t)=>this.put(`/api/vehicles/${e}`,t),delete:e=>this.delete(`/api/vehicles/${e}`),updateTelemetry:(e,t)=>this.post(`/api/vehicles/${e}/telemetry`,t)};drivers={list:e=>this.get("/api/drivers",e),get:e=>this.get(`/api/drivers/${e}`),create:e=>this.post("/api/drivers",e),update:(e,t)=>this.put(`/api/drivers/${e}`,t),delete:e=>this.delete(`/api/drivers/${e}`)};workOrders={list:e=>this.get("/api/work-orders",e),get:e=>this.get(`/api/work-orders/${e}`),create:e=>this.post("/api/work-orders",e),update:(e,t)=>this.put(`/api/work-orders/${e}`,t),delete:e=>this.delete(`/api/work-orders/${e}`)};maintenanceSchedules={list:e=>this.get("/api/maintenance-schedules",e),get:e=>this.get(`/api/maintenance-schedules/${e}`),create:e=>this.post("/api/maintenance-schedules",e),update:(e,t)=>this.put(`/api/maintenance-schedules/${e}`,t),delete:e=>this.delete(`/api/maintenance-schedules/${e}`)};fuelTransactions={list:e=>this.get("/api/fuel-transactions",e),get:e=>this.get(`/api/fuel-transactions/${e}`),create:e=>this.post("/api/fuel-transactions",e),update:(e,t)=>this.put(`/api/fuel-transactions/${e}`,t),delete:e=>this.delete(`/api/fuel-transactions/${e}`)};routes={list:e=>this.get("/api/routes",e),get:e=>this.get(`/api/routes/${e}`),create:e=>this.post("/api/routes",e),update:(e,t)=>this.put(`/api/routes/${e}`,t),delete:e=>this.delete(`/api/routes/${e}`)};geofences={list:e=>this.get("/api/geofences",e),get:e=>this.get(`/api/geofences/${e}`),create:e=>this.post("/api/geofences",e),update:(e,t)=>this.put(`/api/geofences/${e}`,t),delete:e=>this.delete(`/api/geofences/${e}`)};inspections={list:e=>this.get("/api/inspections",e),get:e=>this.get(`/api/inspections/${e}`),create:e=>this.post("/api/inspections",e),update:(e,t)=>this.put(`/api/inspections/${e}`,t),delete:e=>this.delete(`/api/inspections/${e}`)};safetyIncidents={list:e=>this.get("/api/safety-incidents",e),get:e=>this.get(`/api/safety-incidents/${e}`),create:e=>this.post("/api/safety-incidents",e),update:(e,t)=>this.put(`/api/safety-incidents/${e}`,t),delete:e=>this.delete(`/api/safety-incidents/${e}`)};chargingStations={list:e=>this.get("/api/charging-stations",e),get:e=>this.get(`/api/charging-stations/${e}`),create:e=>this.post("/api/charging-stations",e),update:(e,t)=>this.put(`/api/charging-stations/${e}`,t),delete:e=>this.delete(`/api/charging-stations/${e}`)};teams={list:e=>this.get("/api/teams/messages",e),listMessages:(e,t,s)=>this.get(e&&t?`/api/teams/${e}/channels/${t}/messages`:"/api/teams/messages",s),listTeams:e=>this.get("/api/teams",e),get:e=>this.get(`/api/teams/messages/${e}`),getTeam:e=>this.get(`/api/teams/${e}`),getMessage:(e,t,s)=>this.get(e&&t&&s?`/api/teams/${e}/channels/${t}/messages/${s}`:s?`/api/teams/messages/${s}`:`/api/teams/messages/${e}`),send:e=>this.post("/api/teams/messages",e),sendMessage:(e,t,s)=>e&&t&&s?this.post(`/api/teams/${e}/channels/${t}/messages`,s):this.post("/api/teams/messages",e),replyToMessage:(e,t,s,a)=>"string"==typeof t&&"string"==typeof s?this.post(`/api/teams/${e}/channels/${t}/messages/${s}/reply`,a):this.post(`/api/teams/messages/${e}/reply`,t),deleteMessage:(e,t,s)=>this.delete(t&&s?`/api/teams/${e}/channels/${t}/messages/${s}`:`/api/teams/messages/${e}`),addReaction:(e,t,s,a)=>t&&"string"==typeof s?this.post(`/api/teams/${e}/channels/${t}/messages/${s}/reactions`,{emoji:a}):this.post(`/api/teams/messages/${e}/reactions`,{emoji:t}),uploadFile:(e,t,s)=>e instanceof FormData?this.post("/api/teams/files",e):s?this.post(`/api/teams/${e}/channels/${t}/files`,s):this.post("/api/teams/files",t),channels:{list:()=>this.get("/api/teams/channels"),get:e=>this.get(`/api/teams/channels/${e}`)}};outlook={list:e=>this.get("/api/outlook/emails",e),listMessages:e=>this.get("/api/outlook/emails",e),get:e=>this.get(`/api/outlook/emails/${e}`),getMessage:e=>this.get(`/api/outlook/emails/${e}`),send:e=>this.post("/api/outlook/emails",e),sendEmail:e=>this.post("/api/outlook/emails",e),replyToEmail:(e,t)=>this.post(`/api/outlook/emails/${e}/reply`,t),listFolders:()=>this.get("/api/outlook/folders"),getFolder:e=>this.get(`/api/outlook/folders/${e}`),forwardEmail:(e,t)=>this.post(`/api/outlook/emails/${e}/forward`,t),deleteEmail:e=>this.delete(`/api/outlook/emails/${e}`),markAsRead:(e,t=!0)=>this.put(`/api/outlook/emails/${e}`,{isRead:t}),moveEmail:(e,t)=>this.put(`/api/outlook/emails/${e}`,{parentFolderId:t}),folders:{list:()=>this.get("/api/outlook/folders")}};calendar={list:e=>this.get("/api/calendar/events",e),listEvents:e=>this.get("/api/calendar/events",e),get:e=>this.get(`/api/calendar/events/${e}`),create:e=>this.post("/api/calendar/events",e),createEvent:e=>this.post("/api/calendar/events",e),update:(e,t)=>this.put(`/api/calendar/events/${e}`,t),updateEvent:(e,t)=>this.put(`/api/calendar/events/${e}`,t),delete:e=>this.delete(`/api/calendar/events/${e}`),deleteEvent:e=>this.delete(`/api/calendar/events/${e}`)};arcgisLayers={list:e=>this.get("/api/arcgis/layers",e),get:e=>this.get(`/api/arcgis/layers/${e}`),create:e=>this.post("/api/arcgis/layers",e),update:(e,t)=>this.put(`/api/arcgis/layers/${e}`,t),delete:e=>this.delete(`/api/arcgis/layers/${e}`),query:(e,t)=>this.get(`/api/arcgis/layers/${e}/query`,t),features:(e,t)=>this.get(`/api/arcgis/layers/${e}/features`,t)};trafficCameras={list:e=>this.get("/api/traffic-cameras",e),get:e=>this.get(`/api/traffic-cameras/${e}`),nearby:(e,t,s)=>this.get("/api/traffic-cameras/nearby",{lat:e,lng:t,radiusMeters:s}),sync:()=>this.post("/api/traffic-cameras/sync",{}),sources:{list:()=>this.get("/api/traffic-cameras/sources"),get:e=>this.get(`/api/traffic-cameras/sources/${e}`),create:e=>this.post("/api/traffic-cameras/sources",e),update:(e,t)=>this.put(`/api/traffic-cameras/sources/${e}`,t),delete:e=>this.delete(`/api/traffic-cameras/sources/${e}`)}};personalUse={list:e=>this.get("/api/personal-use",e),get:e=>this.get(`/api/personal-use/${e}`),create:e=>this.post("/api/personal-use",e),update:(e,t)=>this.put(`/api/personal-use/${e}`,t),delete:e=>this.delete(`/api/personal-use/${e}`),getPolicies:e=>this.get("/api/personal-use/policies",e),getTripUsages:e=>this.get("/api/personal-use/trip-usages",e),getTripUsage:e=>this.get(`/api/personal-use/trip-usages/${e}`),createTripUsage:e=>this.post("/api/personal-use/trip-usages",e),markTrip:(e,t)=>this.post(`/api/personal-use/trips/${e}/mark`,t),updateTripUsage:(e,t)=>this.put(`/api/personal-use/trip-usages/${e}`,t),deleteTripUsage:e=>this.delete(`/api/personal-use/trip-usages/${e}`)};adaptiveCards={list:e=>this.get("/api/adaptive-cards",e),get:e=>this.get(`/api/adaptive-cards/${e}`),create:e=>this.post("/api/adaptive-cards",e),send:e=>this.post("/api/adaptive-cards/send",e),sendMaintenanceCard:(e,t,s)=>this.post(`/api/adaptive-cards/maintenance/${e}/${t}`,s),sendWorkOrderCard:(e,t,s)=>this.post(`/api/adaptive-cards/work-order/${e}/${t}`,s),sendApprovalCard:(e,t,s)=>this.post(`/api/adaptive-cards/approval/${e}/${t}`,s)};assetRelationships={list:e=>this.get("/api/asset-relationships",e),listActive:()=>this.get("/api/asset-relationships/active"),get:e=>this.get(`/api/asset-relationships/${e}`),getHistory:e=>this.get(`/api/asset-relationships/history/${e}`),create:e=>this.post("/api/asset-relationships",e),update:(e,t)=>this.put(`/api/asset-relationships/${e}`,t),deactivate:e=>this.put(`/api/asset-relationships/${e}/deactivate`,{}),delete:e=>this.delete(`/api/asset-relationships/${e}`)};ai={processReceipt:e=>this.post("/api/ai/process-receipt",{emailId:e}),analyzeDocument:e=>this.post("/api/ai/analyze-document",{documentId:e}),extractData:e=>this.post("/api/ai/extract-data",e),generateInsights:e=>this.post("/api/ai/insights",e)}}(wx);class Sx{ws=null;url;reconnect;reconnectInterval;maxReconnectAttempts;reconnectAttempts=0;heartbeatInterval;heartbeatTimer=null;reconnectTimer=null;debug;messageHandlers=new Map;openHandlers=new Set;closeHandlers=new Set;errorHandlers=new Set;messageQueue=[];isConnected=!1;constructor(e){this.url=e.url,this.reconnect=e.reconnect??!0,this.reconnectInterval=e.reconnectInterval??1e3,this.maxReconnectAttempts=e.maxReconnectAttempts??10,this.heartbeatInterval=e.heartbeatInterval??3e4,this.debug=e.debug??!1}connect(){if(this.ws?.readyState!==WebSocket.OPEN){this.log("Connecting to",this.url);try{this.ws=new WebSocket(this.url),this.setupEventHandlers()}catch(e){this.log("Connection error:",e),this.handleError(e),this.scheduleReconnect()}}else this.log("Already connected")}disconnect(){this.log("Disconnecting"),this.reconnect=!1,this.stopHeartbeat(),this.stopReconnect(),this.ws&&(this.ws.close(),this.ws=null),this.isConnected=!1}setupEventHandlers(){this.ws&&(this.ws.onopen=()=>{this.log("Connected"),this.isConnected=!0,this.reconnectAttempts=0,this.startHeartbeat(),this.flushMessageQueue(),this.notifyOpenHandlers()},this.ws.onclose=()=>{this.log("Disconnected"),this.isConnected=!1,this.stopHeartbeat(),this.notifyCloseHandlers(),this.reconnect&&this.scheduleReconnect()},this.ws.onerror=e=>{this.log("WebSocket error:",e),this.handleError(e)},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);if(this.log("Received message:",t),"pong"===t.type)return void this.log("Received pong");this.routeMessage(t)}catch(t){this.log("Failed to parse message:",t)}})}scheduleReconnect(){if(!this.reconnect||this.reconnectTimer)return;if(this.reconnectAttempts>=this.maxReconnectAttempts)return void this.log("Max reconnect attempts reached");const e=Math.min(this.reconnectInterval*Math.pow(2,this.reconnectAttempts),3e4);this.log(`Reconnecting in ${e}ms (attempt ${this.reconnectAttempts+1})`),this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.reconnectAttempts++,this.connect()},e)}stopReconnect(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}startHeartbeat(){this.stopHeartbeat(),this.heartbeatTimer=setInterval(()=>{this.isConnected&&this.send({type:"ping",payload:null,timestamp:(new Date).toISOString()})},this.heartbeatInterval)}stopHeartbeat(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}send(e){this.isConnected&&this.ws?.readyState===WebSocket.OPEN?(this.log("Sending message:",e),this.ws.send(JSON.stringify(e))):(this.log("Not connected, queuing message:",e),this.messageQueue.push(e))}flushMessageQueue(){if(0!==this.messageQueue.length)for(this.log(`Flushing ${this.messageQueue.length} queued messages`);this.messageQueue.length>0;){const e=this.messageQueue.shift();e&&this.send(e)}}routeMessage(e){const t=this.messageHandlers.get(e.type);t&&t.forEach(t=>t(e));const s=this.messageHandlers.get("*");s&&s.forEach(t=>t(e))}subscribe(e,t){return this.messageHandlers.has(e)||this.messageHandlers.set(e,new Set),this.messageHandlers.get(e).add(t),()=>{this.messageHandlers.get(e)?.delete(t)}}onOpen(e){return this.openHandlers.add(e),()=>this.openHandlers.delete(e)}onClose(e){return this.closeHandlers.add(e),()=>this.closeHandlers.delete(e)}onError(e){return this.errorHandlers.add(e),()=>this.errorHandlers.delete(e)}notifyOpenHandlers(){this.openHandlers.forEach(e=>e())}notifyCloseHandlers(){this.closeHandlers.forEach(e=>e())}handleError(e){this.errorHandlers.forEach(t=>t(e))}getConnectionState(){if(!this.ws)return"closed";switch(this.ws.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"open";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:default:return"closed"}}isOpen(){return this.isConnected&&this.ws?.readyState===WebSocket.OPEN}log(...e){this.debug&&Du.debug("[WebSocket]",...e)}}const Tx=sn.createContext(void 0),Ex="undefined"!=typeof window&&"true"===localStorage.getItem("debug_fleet_data");"undefined"!=typeof window&&(window.__FLEET_API_RESPONSES__={});const kx=sn.lazy(()=>Wi(()=>import("./FleetAnalytics-BC94MIhZ.js"),__vite__mapDeps([7,3,4,5,1,2,6,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(e=>({default:e.FleetAnalytics}))),Ax=sn.lazy(()=>Wi(()=>import("./VehicleTelemetry-N30Mla0T.js"),__vite__mapDeps([21,3,4,5,1,2,6,22,23,24,11,12,13,14,15,16,17,25,18,19,10,20])).then(e=>({default:e.VehicleTelemetry}))),Cx=sn.lazy(()=>Wi(()=>import("./VirtualGarage-DaoxvrAF.js"),__vite__mapDeps([26,14,3,4,5,1,2,6,15,16,19,11,12,13,17,18,10,20])).then(e=>({default:e.VirtualGarage}))),Rx=sn.lazy(()=>Wi(()=>import("./FleetOptimizer-Cp4fWaNr.js"),__vite__mapDeps([27,3,4,5,1,2,6,22,25,18,19,14,15,16,13,17,10,20,12])).then(e=>({default:e.FleetOptimizer}))),Ox=sn.lazy(()=>Wi(()=>import("./ExecutiveDashboard-ClSlvbIT.js"),__vite__mapDeps([28,3,4,5,1,2,6,19,18,14,15,16,13,17,10,20,12])).then(e=>({default:e.ExecutiveDashboard}))),Dx=sn.lazy(()=>Wi(()=>import("./DataWorkbench-CWAHVKFh.js"),__vite__mapDeps([29,3,4,5,1,2,6,22,11,12,13,14,15,16,17,30,9,10,18,19,20])).then(e=>({default:e.DataWorkbench}))),Ix=sn.lazy(()=>Wi(()=>import("./EndpointMonitor-BqZD5FU8.js"),__vite__mapDeps([31,3,4,5,1,2,6,13,14,15,16,32,18,19,17,10,20,12])).then(e=>({default:e.EndpointMonitor}))),Px=sn.lazy(()=>Wi(()=>import("./CostAnalysisCenter-e-TMscVj.js"),__vite__mapDeps([33,3,4,5,1,2,6,22,25,34,19,18,14,15,16,13,17,10,20,12])).then(e=>({default:e.CostAnalysisCenter}))),Lx=sn.lazy(()=>Wi(()=>import("./CustomReportBuilder-D1azPCf7.js"),__vite__mapDeps([35,3,4,5,1,2,6,19,22,30,13,14,15,16,11,12,17,36,18,10,20])).then(e=>({default:e.CustomReportBuilder})));sn.lazy(()=>Wi(()=>import("./AnalyticsDashboard-DQPoS5sJ.js"),__vite__mapDeps([37,3,4,5,1,2,6,38,39,17,13,14,15,16,40,11,12,41,18,19,10,20])).then(e=>({default:e.AnalyticsDashboard})));const Mx=sn.lazy(()=>Wi(()=>import("./CommandCenter-uMGqCtq3.js"),__vite__mapDeps([42,3,4,5,1,2,6,43,44,22,30,13,14,15,16,11,12,17,36,24,45,39,32,18,19,10,20]))),Fx=sn.lazy(()=>Wi(()=>import("./AdminDashboard-BTePoR1o.js"),__vite__mapDeps([46,3,4,5,1,2,6,47,25,11,12,13,14,15,16,17,45,18,19,10,20]))),$x=sn.lazy(()=>Wi(()=>import("./PolicyEngineWorkbench-Cb90fQoD.js"),__vite__mapDeps([48,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,45,25,36,18,19,10,20])).then(e=>({default:e.PolicyEngineWorkbench}))),zx=sn.lazy(()=>Wi(()=>import("./Notifications-Cfw1O6LK.js"),__vite__mapDeps([49,3,4,5,1,2,6,11,12,13,14,15,16,17,36,18,19,10,20])).then(e=>({default:e.Notifications}))),Vx=sn.lazy(()=>Wi(()=>import("./PushNotificationAdmin-n5JbsCEM.js"),__vite__mapDeps([50,3,4,5,1,2,6,19,18,14,15,16,13,17,10,20,12]))),Ux=sn.lazy(()=>Wi(()=>import("./GarageService-XuhZ5uTP.js"),__vite__mapDeps([51,3,4,5,1,2,6,9,10,18,19,14,15,16,13,17,20,12])).then(e=>({default:e.GarageService}))),Hx=sn.lazy(()=>Wi(()=>import("./PredictiveMaintenance-Bhzjf381.js"),__vite__mapDeps([52,3,4,5,1,2,6,18,19,14,15,16,13,17,10,20,12])).then(e=>({default:e.PredictiveMaintenance}))),Bx=sn.lazy(()=>Wi(()=>import("./MaintenanceScheduling-Clydqdjb.js"),__vite__mapDeps([53,3,4,5,1,2,6,22,25,20,18,19,14,15,16,13,17,10,12])).then(e=>({default:e.MaintenanceScheduling}))),qx=sn.lazy(()=>Wi(()=>import("./MaintenanceRequest-Dfpf-Vbm.js"),__vite__mapDeps([54,3,4,5,1,2,6,22,44,30,13,14,15,16,11,12,17,36,18,19,10,20])).then(e=>({default:e.MaintenanceRequest}))),Wx=sn.lazy(()=>Wi(()=>import("./FuelManagement-ect1J8pH.js"),__vite__mapDeps([55,3,4,5,1,2,6,8,9,10,18,19,14,15,16,13,17,20,12])).then(e=>({default:e.FuelManagement}))),Kx=sn.lazy(()=>Wi(()=>import("./FuelPurchasing-B4JvWCze.js"),__vite__mapDeps([56,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,25,18,19,10,20])).then(e=>({default:e.FuelPurchasing}))),Gx=sn.lazy(()=>Wi(()=>import("./RouteManagement-C9h278ea.js"),__vite__mapDeps([57,3,4,5,1,2,6,22,9,10,23,24,30,13,14,15,16,11,12,17,18,19,20])).then(e=>({default:e.RouteManagement}))),Jx=sn.lazy(()=>Wi(()=>import("./AdvancedRouteOptimization-Gxu0K3FS.js"),__vite__mapDeps([58,3,4,5,1,2,6,22,18,19,14,15,16,13,17,10,20,12])).then(e=>({default:e.AdvancedRouteOptimization}))),Yx=sn.lazy(()=>Wi(()=>import("./TaskManagement-C-iFWiud.js"),__vite__mapDeps([59,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,36,60,18,19,10,20])).then(e=>({default:e.TaskManagement}))),Xx=sn.lazy(()=>Wi(()=>import("./GISCommandCenter-BaTUN0V1.js"),__vite__mapDeps([61,3,4,5,1,2,6,9,10,23,24,11,12,13,14,15,16,17,18,19,20])).then(e=>({default:e.GISCommandCenter}))),Qx=sn.lazy(()=>Wi(()=>import("./TeamsIntegration-DPNE_n59.js"),__vite__mapDeps([62,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,41,36,63,18,19,10,20])).then(e=>({default:e.TeamsIntegration}))),Zx=sn.lazy(()=>Wi(()=>import("./EmailCenter-BG6EZVPY.js"),__vite__mapDeps([64,3,4,5,1,2,6,22,30,13,14,15,16,41,36,63,18,19,17,10,20,12])).then(e=>({default:e.EmailCenter}))),ev=sn.lazy(()=>Wi(()=>import("./ArcGISIntegration-CyKdC6nR.js"),__vite__mapDeps([65,3,4,5,1,2,6,30,13,14,15,16,66,18,19,17,10,20,12])).then(e=>({default:e.ArcGISIntegration}))),tv=sn.lazy(()=>Wi(()=>import("./MapSettings-Dfergjv_.js"),__vite__mapDeps([67,3,4,5,1,2,6,23,24,30,13,14,15,16,68,69,18,19,17,10,20,12])).then(e=>({default:e.MapSettings}))),sv=sn.lazy(()=>Wi(()=>import("./EnhancedMapLayers-BXHp51hy.js"),__vite__mapDeps([70,3,4,5,1,2,6,19,23,24,69,18,14,15,16,13,17,10,20,12])).then(e=>({default:e.EnhancedMapLayers}))),av=sn.lazy(()=>Wi(()=>import("./VendorManagement-OK35dFwa.js"),__vite__mapDeps([71,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,25,36,18,19,10,20])).then(e=>({default:e.VendorManagement}))),nv=sn.lazy(()=>Wi(()=>import("./PartsInventory-ChjaI6Du.js"),__vite__mapDeps([72,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,25,36,18,19,10,20])).then(e=>({default:e.PartsInventory}))),rv=sn.lazy(()=>Wi(()=>import("./PurchaseOrders-BEgaeDgM.js"),__vite__mapDeps([73,3,4,5,1,2,6,22,30,13,14,15,16,25,36,18,19,17,10,20,12])).then(e=>({default:e.PurchaseOrders}))),iv=sn.lazy(()=>Wi(()=>import("./Invoices-DZNWWsMm.js"),__vite__mapDeps([74,3,4,5,1,2,6,25,18,19,14,15,16,13,17,10,20,12])).then(e=>({default:e.Invoices}))),ov=sn.lazy(()=>Wi(()=>import("./MileageReimbursement-BCVvq_81.js"),__vite__mapDeps([75,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,36,18,19,10,20])).then(e=>({default:e.MileageReimbursement}))),lv=sn.lazy(()=>Wi(()=>import("./ReceiptProcessing-D2m-U21v.js"),__vite__mapDeps([76,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,25,36,63,18,19,10,20])).then(e=>({default:e.ReceiptProcessing}))),cv=sn.lazy(()=>Wi(()=>import("./CustomFormBuilder-Dtf--VNi.js"),__vite__mapDeps([77,3,4,5,1,2,6,30,13,14,15,16,11,12,17,18,19,10,20])).then(e=>({default:e.CustomFormBuilder}))),dv=sn.lazy(()=>Wi(()=>import("./CommunicationLog-CNGr0ueI.js"),__vite__mapDeps([78,3,4,5,1,2,6,22,79,13,14,15,16,30,11,12,17,25,36,18,19,10,20])).then(e=>({default:e.CommunicationLog}))),uv=sn.lazy(()=>Wi(()=>import("./LiveFleetDashboard-4P0eraFq.js"),__vite__mapDeps([80,3,4,5,1,2,6,18,38,39,17,13,14,15,16,40,19,45,10,30,22,11,12,36,41,20])).then(e=>({default:e.LiveFleetDashboard}))),mv=sn.lazy(()=>Wi(()=>import("./OSHAForms-Cj3wQcjW.js"),__vite__mapDeps([81,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,36,18,19,10,20])).then(e=>({default:e.OSHAForms}))),hv=sn.lazy(()=>Wi(()=>import("./VideoTelematics-DdrrdOoq.js"),__vite__mapDeps([82,3,4,5,1,2,6,22,79,13,14,15,16,30,11,12,17,45,25,18,19,10,20])).then(e=>({default:e.VideoTelematics}))),pv=sn.lazy(()=>Wi(()=>import("./IncidentManagement-CFmdSLaF.js"),__vite__mapDeps([83,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,25,36,18,19,10,20])).then(e=>({default:e.IncidentManagement}))),fv=sn.lazy(()=>Wi(()=>import("./DocumentManagement-WwWvX3Hx.js"),__vite__mapDeps([84,3,4,5,1,2,6,19,22,30,13,14,15,16,11,12,17,25,36,20,18,10])).then(e=>({default:e.DocumentManagement}))),gv=sn.lazy(()=>Wi(()=>import("./DocumentQA-DyF0Axeo.js"),__vite__mapDeps([85,3,4,5,1,2,6,19,22,11,12,13,14,15,16,17,18,10,20])).then(e=>({default:e.DocumentQA}))),xv=sn.lazy(()=>Wi(()=>import("./EVChargingManagement-k47oCseS.js"),__vite__mapDeps([86,3,4,5,1,2,6,22,30,13,14,15,16,11,12,17,45,25,18,19,10,20])).then(e=>({default:e.EVChargingManagement}))),vv=sn.lazy(()=>Wi(()=>import("./PersonalUseDashboard-BUXZ8QUd.js"),__vite__mapDeps([87,3,4,5,1,2,6,19,22,30,13,14,15,16,68,66,36,11,12,17,25,18,10,20])).then(e=>({default:e.PersonalUseDashboard}))),yv=sn.lazy(()=>Wi(()=>import("./PersonalUsePolicyConfig-C3xINxC2.js"),__vite__mapDeps([88,3,4,5,1,2,6,19,22,30,13,14,15,16,68,41,45,18,17,10,20,12])).then(e=>({default:e.PersonalUsePolicyConfig}))),bv=sn.lazy(()=>Wi(()=>import("./ReimbursementQueue-DTZDfkYy.js"),__vite__mapDeps([89,3,4,5,1,2,6,19,22,79,13,14,15,16,30,11,12,17,25,36,34,20,18,10])).then(e=>({default:e.ReimbursementQueue}))),jv=sn.lazy(()=>Wi(()=>import("./ChargesAndBilling-BQeGw6JH.js"),__vite__mapDeps([90,3,4,5,1,2,6,19,22,30,13,14,15,16,11,12,17,25,20,18,10])).then(e=>({default:e.ChargesAndBilling}))),wv=sn.lazy(()=>Wi(()=>import("./AssetManagement-BPoQHciJ.js"),__vite__mapDeps([91,3,4,5,1,2,6,22,11,12,13,14,15,16,17,25,18,19,10,20])).then(e=>({default:e.AssetManagement}))),Nv=sn.lazy(()=>Wi(()=>import("./EquipmentDashboard-BDAREN1g.js"),__vite__mapDeps([92,3,4,5,1,2,6,22,25,60,18,19,14,15,16,13,17,10,20,12])).then(e=>({default:e.EquipmentDashboard}))),_v=sn.lazy(()=>Wi(()=>import("./AnalyticsPage-AyQTRy5n.js"),__vite__mapDeps([93,3,4,5,1,2,6,18,19,14,15,16,13,17,10,20,12]))),Sv=sn.lazy(()=>Wi(()=>import("./DriverPerformance-Bkzn121a.js"),__vite__mapDeps([94,3,4,5,1,2,6,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(e=>({default:e.DriverPerformance}))),Tv=sn.lazy(()=>Wi(()=>import("./DriverScorecard-RVK8H353.js"),__vite__mapDeps([95,3,4,5,1,2,6,22,25,18,19,14,15,16,13,17,10,20,12])).then(e=>({default:e.DriverScorecard}))),Ev=sn.lazy(()=>Wi(()=>import("./OperationsWorkspace-DaQGUh3C.js"),__vite__mapDeps([96,3,4,5,1,2,6,80,18,38,39,17,13,14,15,16,40,19,45,10,30,22,11,12,36,41,20])).then(e=>({default:e.OperationsWorkspace}))),kv=sn.lazy(()=>Wi(()=>import("./FleetWorkspace-DsOHrfJ_.js"),__vite__mapDeps([97,3,4,5,1,2,6,98,18,19,14,15,16,13,17,10,20,12])).then(e=>({default:e.FleetWorkspace}))),Av=sn.lazy(()=>Wi(()=>import("./DriversWorkspace-BaEcENGI.js"),__vite__mapDeps([99,3,4,5,1,2,6,43,44,22,30,13,14,15,16,11,12,17,36,24,45,18,19,10,20])).then(e=>({default:e.DriversWorkspace}))),Cv=sn.lazy(()=>Wi(()=>import("./MaintenanceWorkspace-mVFmDuFP.js"),__vite__mapDeps([100,3,4,5,1,2,6,43,44,22,30,13,14,15,16,11,12,17,36,24,45,98,101,18,19,10,20])).then(e=>({default:e.MaintenanceWorkspace}))),Rv=sn.lazy(()=>Wi(()=>import("./AnalyticsWorkspace-CmNHg-DQ.js"),__vite__mapDeps([102,3,4,5,1,2,6,11,12,13,14,15,16,17,41,18,19,10,20])).then(e=>({default:e.AnalyticsWorkspace}))),Ov=sn.lazy(()=>Wi(()=>import("./ComplianceWorkspace-CrQ0ooHB.js"),__vite__mapDeps([103,3,4,5,1,2,6,11,12,13,14,15,16,17,18,19,10,20])).then(e=>({default:e.ComplianceWorkspace}))),Dv=sn.lazy(()=>Wi(()=>import("./ReportsHub-BybY7hP3.js"),__vite__mapDeps([104,3,4,5,1,2,6,11,12,13,14,15,16,17,25,18,19,10,20])).then(e=>({default:e.ReportsHub}))),Iv=sn.lazy(()=>Wi(()=>import("./OperationsHub-B_52zNaS.js"),__vite__mapDeps([105,3,4,5,1,2,6,38,39,17,13,14,15,16,30,45,18,19,10,20,12])).then(e=>({default:e.OperationsHub}))),Pv=sn.lazy(()=>Wi(()=>import("./MaintenanceHub-CXZdVKD4.js"),__vite__mapDeps([106,3,4,5,1,2,6,107,38,39,17,13,14,15,16,18,19,10,20,12])).then(e=>({default:e.MaintenanceHub}))),Lv=sn.lazy(()=>Wi(()=>import("./ProcurementHub-DTKi6Rpd.js"),__vite__mapDeps([108,3,4,5,1,2,6,43,44,22,30,13,14,15,16,11,12,17,36,24,45,18,19,10,20])).then(e=>({default:e.ProcurementHub}))),Mv=sn.lazy(()=>Wi(()=>import("./CommunicationHub-D1ptikOX.js"),__vite__mapDeps([109,3,4,5,1,2,6,43,44,22,30,13,14,15,16,11,12,17,36,24,45,18,19,10,20])).then(e=>({default:e.CommunicationHub}))),Fv=sn.lazy(()=>Wi(()=>import("./SafetyHub-Bxj-5FbI.js"),__vite__mapDeps([110,3,4,5,1,2,6,107,11,12,13,14,15,16,17,25,18,19,10,20])).then(e=>({default:e.SafetyHub}))),$v=sn.lazy(()=>Wi(()=>import("./AssetsHub-DRcReBop.js"),__vite__mapDeps([111,3,4,5,1,2,6,107,11,12,13,14,15,16,17,25,18,19,10,20])).then(e=>({default:e.AssetsHub}))),zv=sn.lazy(()=>Wi(()=>import("./FleetHub-BfTMmOpV.js"),__vite__mapDeps([112,14,3,4,5,1,2,6,15,16,113,69,18,19,13,17,10,20,12]))),Vv=sn.lazy(()=>Wi(()=>import("./OperationsHub-CXpQebQY.js"),__vite__mapDeps([114,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Uv=sn.lazy(()=>Wi(()=>import("./MaintenanceHub-DOYcylkg.js"),__vite__mapDeps([115,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Hv=sn.lazy(()=>Wi(()=>import("./DriversHub-CsdDKSFF.js"),__vite__mapDeps([116,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Bv=sn.lazy(()=>Wi(()=>import("./AnalyticsHub-v-sTHNjZ.js"),__vite__mapDeps([117,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),qv=sn.lazy(()=>Wi(()=>import("./ComplianceHub-CsJacydP.js"),__vite__mapDeps([118,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Wv=sn.lazy(()=>Wi(()=>import("./ProcurementHub-CCY37cwm.js"),__vite__mapDeps([119,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Kv=sn.lazy(()=>Wi(()=>import("./AdminHub-DJLLedSb.js"),__vite__mapDeps([120,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Gv=sn.lazy(()=>Wi(()=>import("./SafetyHub-B-XxNbWY.js"),__vite__mapDeps([121,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Jv=sn.lazy(()=>Wi(()=>import("./AssetsHub-BuqsaBsR.js"),__vite__mapDeps([122,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Yv=sn.lazy(()=>Wi(()=>import("./CommunicationHub-Bi_SnHQm.js"),__vite__mapDeps([123,3,4,5,1,2,6,113,18,19,14,15,16,13,17,10,20,12]))),Xv=sn.lazy(()=>Wi(()=>import("./SettingsPage-CuzGgRXk.js"),__vite__mapDeps([124,3,4,5,1,2,6,30,13,14,15,16,45,25,125,68,17,11,12,66,18,19,10,20]))),Qv=sn.lazy(()=>Wi(()=>import("./ProfilePage-Cm7KTA6V.js"),__vite__mapDeps([126,3,4,5,1,2,6,101,30,13,14,15,16,41,36,125,18,19,17,10,20,12]))),Zv=sn.lazy(()=>Wi(()=>import("./SafetyAlertsPage-BGSKxLeJ.js"),__vite__mapDeps([127,3,4,5,1,2,6,22,11,12,13,14,15,16,17,25,18,19,10,20])));sn.lazy(()=>Wi(()=>import("./HeavyEquipmentPage-CT7lMJuS.js"),__vite__mapDeps([128,14,3,4,5,1,2,6,15,16])));const ey=()=>an.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:an.jsxs("div",{className:"flex flex-col items-center gap-3",children:[an.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),an.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading module..."})]})}),ty=Iu.getReactPlugin(),sy=ty?function(e,t,s,a){return null!=s&&"string"==typeof s||(s=t.prototype&&t.prototype.constructor&&t.prototype.constructor.name||"Unknown"),null!=a&&"string"==typeof a||(a=""),function(n){function r(t){return n.call(this,t,e,s)||this}return Ae(r,n),r.prototype.render=function(){return sn.createElement("div",{onKeyDown:this.trackActivity,onMouseMove:this.trackActivity,onScroll:this.trackActivity,onMouseDown:this.trackActivity,onTouchStart:this.trackActivity,onTouchMove:this.trackActivity,className:a},sn.createElement(t,Tu({},this.props)))},r}(ku)}(ty,en):en;"undefined"==typeof window||localStorage.getItem("demo_mode")||(localStorage.setItem("demo_mode","true"),localStorage.setItem("demo_role","fleet_manager")),"undefined"!=typeof window&&document.addEventListener("securitypolicyviolation",function(e){!async function(e){try{await fetch("/api/v1/security/csp-violations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent})})}catch(t){}}({documentURI:e.documentURI,violatedDirective:e.violatedDirective,effectiveDirective:e.effectiveDirective,originalPolicy:e.originalPolicy,blockedURI:e.blockedURI,statusCode:e.statusCode,sourceFile:e.sourceFile,lineNumber:e.lineNumber,columnNumber:e.columnNumber})}),function(e={}){const t={...Io,...e};t.enabled&&(function(){const e={total:0,withSRI:0,withoutSRI:0,violations:[]};document.querySelectorAll("script[src]").forEach(t=>{const s=t.getAttribute("src");s&&(s.startsWith("/")||s.startsWith(window.location.origin)||(e.total++,t.getAttribute("integrity")?e.withSRI++:(e.withoutSRI++,e.violations.push({element:"script",src:s,type:"script"}))))}),document.querySelectorAll('link[rel="stylesheet"][href]').forEach(t=>{const s=t.getAttribute("href");s&&(s.startsWith("/")||s.startsWith(window.location.origin)||(e.total++,t.getAttribute("integrity")?e.withSRI++:(e.withoutSRI++,e.violations.push({element:"link",src:s,type:"link"}))))})}(),t.monitorViolations&&"undefined"!=typeof window&&"undefined"!=typeof MutationObserver&&new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;const t=e;if("SCRIPT"===t.tagName){const e=t,s=e.getAttribute("src");!s||s.startsWith("/")||s.startsWith(window.location.origin)||e.getAttribute("integrity")}if("LINK"===t.tagName){const e=t,s=e.getAttribute("href");"stylesheet"!==e.getAttribute("rel")||!s||s.startsWith("/")||s.startsWith(window.location.origin)||e.getAttribute("integrity")}})})}).observe(document.documentElement,{childList:!0,subtree:!0}))}(),"undefined"!=typeof window&&async function(e=window.location.href){const t={present:[],missing:[],invalid:[],warnings:[]};try{const s=(await fetch(e,{method:"HEAD"})).headers,a=function(){const e="undefined"!=typeof window&&"https:"===window.location.protocol,t={...Po};return e||delete t["Strict-Transport-Security"],t}();Object.entries(a).forEach(([e,a])=>{const n=s.get(e);n?(t.present.push(e),n!==a&&t.warnings.push(`${e} has different value than expected: ${n}`)):t.missing.push(e)}),"0"===s.get("X-XSS-Protection")&&t.invalid.push({header:"X-XSS-Protection",reason:"XSS protection is disabled"});const n=s.get("X-Frame-Options");n&&!["DENY","SAMEORIGIN"].includes(n)&&t.invalid.push({header:"X-Frame-Options",reason:"Invalid frame options value"}),"https:"===window.location.protocol&&(s.get("Strict-Transport-Security")||t.warnings.push("HSTS header missing on HTTPS connection"))}catch(s){}return t}().then(e=>{}),function(e={}){const t={...Dl,...e};Cl.setConfig({ALLOWED_TAGS:Rl,ALLOWED_ATTR:Ol}),t.logViolations&&(Cl.addHook("uponSanitizeElement",(e,t)=>{}),Cl.addHook("uponSanitizeAttribute",(e,t)=>{}))}(),function(e={}){const t={...$c,...e};if(t.enabled&&t.dsn)try{tn({dsn:t.dsn,environment:t.environment,release:t.release,debug:t.debug,integrations:[new Fc({tracingOrigins:["localhost",/^https:\/\/api\.fleet-management\.com/,/^https:\/\/.*\.azurewebsites\.net/],routingInstrumentation:(void 0)(React.useEffect,window.location,window.history)}),new(void 0)({maskAllText:!0,blockAllMedia:!0,maskAllInputs:!0,networkDetailAllowUrls:[/^https:\/\/api\.fleet-management\.com/],networkCaptureBodies:!1,networkResponseHeaders:[]})],tracesSampleRate:t.tracesSampleRate,replaysSessionSampleRate:t.replaysSessionSampleRate,replaysOnErrorSampleRate:t.replaysOnErrorSampleRate,beforeSend(e,t){if(e.request&&(delete e.request.cookies,e.request.headers&&["authorization","cookie","x-api-key","x-auth-token"].forEach(t=>{e.request?.headers?.[t]&&(e.request.headers[t]="[Filtered]")}),e.request.query_string)){const t=new URLSearchParams(e.request.query_string);["token","key","secret","password"].forEach(e=>{t.has(e)&&t.set(e,"[Filtered]")}),e.request.query_string=t.toString()}return e.extra&&Object.keys(e.extra).forEach(t=>{(t.toLowerCase().includes("password")||t.toLowerCase().includes("token")||t.toLowerCase().includes("secret"))&&(e.extra[t]="[Filtered]")}),e},beforeBreadcrumb(e){if("console"===e.category&&"log"===e.level)return null;if(("fetch"===e.category||"xhr"===e.category)&&e.data?.url){const t=new URL(e.data.url,window.location.origin);["token","key","secret","password"].forEach(e=>{t.searchParams.delete(e)}),e.data.url=t.toString()}return e},ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","atomicFindClose","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","NetworkError","Network request failed","Failed to fetch","Non-Error promise rejection captured","Non-Error exception captured"],denyUrls:[/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i,/^moz-extension:\/\//i],maxBreadcrumbs:50,attachStacktrace:!0})}catch(s){}}(),wd.init(),ru.init(),iu.isOptedOut()||iu.init(),Iu.initialize();const ay=new Bi({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}}),ny=Fi;Gr.createRoot(document.getElementById("root")).render(an.jsx(Un.StrictMode,{children:an.jsx(qi,{client:ay,children:an.jsx(Fh,{level:"page",children:an.jsx(jh,{children:an.jsx(Nh,{children:an.jsx(Eh,{children:an.jsx(nt,{children:an.jsx(Ah,{children:an.jsxs(Mi,{children:[an.jsx(Ht,{}),an.jsx(ny,{children:an.jsx($i,{path:"/*",element:an.jsx(Fh,{level:"section",children:an.jsx(it,{children:an.jsx(sy,{})})})})})]})})})})})})})})}));export{Ss as $,ma as A,Qt as B,ct as C,St as D,bx as E,Ua as F,Ha as G,qa as H,Bt as I,et as J,tt as K,gx as L,Ps as M,Qa as N,Ba as O,ms as P,Ke as Q,Ge as R,qt as S,Es as T,Ye as U,Je as V,Ze as W,rt as X,Qe as Y,Ns as Z,_s as _,ks as a,As as b,Cs as c,dt as d,ut as e,ht as f,at as g,Mh as h,mt as i,At as j,Ct as k,Ot as l,Dt as m,Rt as n,_x as o,Du as p,lt as q,We as r,Pf as s,Tt as t,Za as u,Lh as v,pa as w,Xe as x,ha as y,Va as z};
