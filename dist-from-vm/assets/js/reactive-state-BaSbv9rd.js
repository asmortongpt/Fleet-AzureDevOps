import{dK as e,dL as t}from"./react-core-hQu9tqS1.js";const a=e([]),s=e({}),i=e([]),n=t("vehicle-filters",{status:[],search:"",make:[],model:[],year:{},mileage:{}}),l=e({connected:!1,reconnecting:!1,errors:0}),r=t("selected-vehicle-id",null);t("map-settings",{center:{lat:39.8283,lng:-98.5795},zoom:4,showLabels:!0,showTraffic:!1,mapType:"roadmap"}),t("sidebar-open",!0),t("dark-mode",!1);const o=e(e=>{const t=e(a),s=e(n);return t.filter(e=>{if(s.status.length>0&&!s.status.includes(e.status))return!1;if(s.search){const t=s.search.toLowerCase();if(!`${e.make} ${e.model} ${e.vin} ${e.licensePlate}`.toLowerCase().includes(t))return!1}if(s.make.length>0&&!s.make.includes(e.make))return!1;if(s.model.length>0&&!s.model.includes(e.model))return!1;if(s.year.min&&s.year.min>e.year)return!1;if(s.year.max&&e.year>s.year.max)return!1;if(e.mileage){if(s.mileage.min&&s.mileage.min>e.mileage)return!1;if(s.mileage.max&&e.mileage>s.mileage.max)return!1}return!0})});e(e=>{const t=e(a),s=e(r);return s&&t.find(e=>e.id===s)||null}),e(e=>{const t=e(a);return{total:t.length,active:t.filter(e=>"active"===e.status).length,maintenance:t.filter(e=>"maintenance"===e.status).length,offline:t.filter(e=>"offline"===e.status).length,retired:t.filter(e=>"retired"===e.status).length}});const c=e(e=>e(i).filter(e=>!e.acknowledged));e(e=>e(i).filter(e=>"critical"===e.severity&&!e.acknowledged)),e(e=>{const t=e(c);return{critical:t.filter(e=>"critical"===e.severity).length,high:t.filter(e=>"high"===e.severity).length,medium:t.filter(e=>"medium"===e.severity).length,low:t.filter(e=>"low"===e.severity).length}}),e(e=>{const t=e(a),s=e(c),i=new Set(s.map(e=>e.vehicleId));return t.filter(e=>i.has(e.id))}),e(e=>{const t=e(a).filter(e=>"active"===e.status);if(0===t.length)return{avgFuelLevel:0,avgBatteryLevel:0,avgMileage:0,totalMileage:0};const s=t.reduce((e,t)=>e+(t.fuelLevel||0),0),i=t.reduce((e,t)=>e+(t.batteryLevel||0),0),n=t.reduce((e,t)=>e+(t.mileage||0),0);return{avgFuelLevel:s/t.length,avgBatteryLevel:i/t.length,avgMileage:n/t.length,totalMileage:n}}),e(e=>e(o).filter(e=>e.location&&e.location.lat&&e.location.lng)),e(null,(e,t,s)=>{const i=e(a);t(a,[...i,s])}),e(null,(e,t,s)=>{const i=e(a);t(a,i.map(e=>e.id===s.id?{...e,...s}:e))}),e(null,(e,t,s)=>{const i=e(a);t(a,i.filter(e=>e.id!==s))}),e(null,(e,t,a)=>{const s=e(i);t(i,[...s,a]),a.autoDissmiss&&a.dismissAfter&&setTimeout(()=>{t(d,a.id)},a.dismissAfter)}),e(null,(e,t,a)=>{const s=e(i);t(i,s.map(e=>e.id===a?{...e,acknowledged:!0}:e))});const d=e(null,(e,t,a)=>{const s=e(i);t(i,s.filter(e=>e.id!==a))});e(null,(e,t)=>{const a=e(i);t(i,a.filter(e=>!e.acknowledged))}),e(null,(e,t,i)=>{const n=e(s);if(t(s,{...n,[i.vehicleId]:i}),i.location){const s=e(a);t(a,s.map(e=>e.id===i.vehicleId?{...e,location:{lat:i.location.lat,lng:i.location.lng,lastUpdate:i.timestamp},fuelLevel:i.fuelLevel}:e))}}),e(null,(e,t,a)=>{const s=e(l);t(l,{...s,...a})});const u=t("general-settings",{language:"en-US",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,dateFormat:"MM/DD/YYYY",timeFormat:"12h",numberFormat:"us",defaultDashboard:"dashboard",itemsPerPage:25}),m=t("appearance-settings",{theme:"auto",colorScheme:"blue",fontSize:"medium",density:"comfortable",sidebarCollapsed:!1,animationsEnabled:!0}),f=t("notification-settings",{emailNotifications:{maintenance:!0,alerts:!0,reports:!0,updates:!1},inAppNotifications:!0,pushNotifications:!1,soundEnabled:!0,notificationFrequency:"realtime",quietHoursEnabled:!1,quietHoursStart:"22:00",quietHoursEnd:"07:00"}),g=t("fleet-settings",{defaultView:"list",autoRefreshInterval:30,distanceUnit:"miles",fuelUnit:"gallons",temperatureUnit:"fahrenheit",mapProvider:"google",geofenceAlertsEnabled:!0}),h=t("security-settings",{twoFactorEnabled:!1,sessionTimeout:30,loginHistory:[],activeSessions:[]}),p=t("data-privacy-settings",{dataRetentionPeriod:365,cookiePreferences:{necessary:!0,analytics:!0,marketing:!1},analyticsEnabled:!0}),v=t("advanced-settings",{developerMode:!1,apiEndpoint:"/api",featureFlags:{},debugLogging:!1,performanceMetrics:!1}),y=e(!1),b=t("current-user",null),w=e([]),L=e([]);e([]),e([]),e([]);const k=e({search:"",roles:[],teams:[],status:[],departments:[]}),A=e({field:"displayName",direction:"asc"});e(null),e({enabled:!1});const E=e(e=>{const t=e(b),a=e(L);if(!t)return[];const s=a.filter(e=>t.roleIds.includes(e.id)),i=new Set;return s.forEach(e=>{e.permissions.forEach(e=>{i.add(e)})}),Array.from(i)});e(e=>t=>{const a=e(E);return a.includes(t)||a.includes("admin:full_access")}),e(e=>e(E).includes("admin:full_access")),e(e=>{const t=e(w),a=e(k),s=e(A),i=t.filter(e=>{if(a.search){const t=a.search.toLowerCase();if(!`${e.displayName} ${e.email} ${e.jobTitle||""} ${e.department||""}`.toLowerCase().includes(t))return!1}return!(a.roles.length>0&&!e.roleIds.some(e=>a.roles.includes(e))||a.teams.length>0&&!e.teamIds.some(e=>a.teams.includes(e))||a.status.length>0&&!a.status.includes(e.status)||a.departments.length>0&&e.department&&!a.departments.includes(e.department))});return i.sort((e,t)=>{let a="",i="";switch(s.field){case"displayName":a=e.displayName.toLowerCase(),i=t.displayName.toLowerCase();break;case"email":a=e.email.toLowerCase(),i=t.email.toLowerCase();break;case"lastActive":a=e.lastActive||"",i=t.lastActive||"";break;case"createdAt":a=e.createdAt,i=t.createdAt;break;case"status":a=e.status,i=t.status}return i>a?"asc"===s.direction?-1:1:a>i?"asc"===s.direction?1:-1:0}),i}),e(e=>{const t=e(w);return{total:t.length,active:t.filter(e=>"active"===e.status).length,inactive:t.filter(e=>"inactive"===e.status).length,invited:t.filter(e=>"invited"===e.status).length,suspended:t.filter(e=>"suspended"===e.status).length}}),e(e=>t=>e(w).filter(e=>e.roleIds.includes(t))),e(e=>t=>e(w).filter(e=>e.teamIds.includes(t)));export{v as a,m as b,b as c,p as d,g as f,u as g,y as h,f as n,h as s};
