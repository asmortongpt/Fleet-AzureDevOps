function e(){const e=u(),D=e.mileageReimbursements||[],[L,T]=s.useState(!1),[k,M]=s.useState(""),[$,E]=s.useState("sedan"),[P,I]=s.useState(""),[V,z]=s.useState(""),[O,A]=s.useState(""),[B,G]=s.useState(""),[K,U]=s.useState(""),H=(s,t)=>{e.updateMileageReimbursement(s,{status:t}),"approved"===t&&e.updateMileageReimbursement(s,{approvedDate:(new Date).toISOString().split("T")[0]}),x.success(`Request ${t}`)},J=D.filter(e=>"submitted"===e.status).reduce((e,s)=>e+s.amount,0),Q=D.filter(e=>"approved"===e.status).reduce((e,s)=>e+s.amount,0),W=D.filter(e=>"paid"===e.status).reduce((e,s)=>e+s.amount,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Mileage Reimbursement"}),t.jsx("p",{className:"text-muted-foreground mt-1",children:"Submit and manage mileage reimbursement requests"})]}),t.jsx(h,{onClick:()=>T(!L),children:t.jsxs(t.Fragment,L?{children:[t.jsx(a,{className:"w-4 h-4 mr-2"}),"Cancel"]}:{children:[t.jsx(r,{className:"w-4 h-4 mr-2"}),"New Request"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(p,{children:t.jsxs(j,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-warning/10 text-warning",children:t.jsx(i,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Submitted"})]}),t.jsxs("p",{className:"text-2xl font-semibold metric-number",children:["$",(J??0).toFixed(2)]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[D.filter(e=>"submitted"===e.status).length," requests"]})]})}),t.jsx(p,{children:t.jsxs(j,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-success/10 text-success",children:t.jsx(l,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Approved"})]}),t.jsxs("p",{className:"text-2xl font-semibold metric-number",children:["$",(Q??0).toFixed(2)]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[D.filter(e=>"approved"===e.status).length," requests"]})]})}),t.jsx(p,{children:t.jsxs(j,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-accent/10 text-accent",children:t.jsx(d,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Paid"})]}),t.jsxs("p",{className:"text-2xl font-semibold metric-number",children:["$",(W??0).toFixed(2)]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[D.filter(e=>"paid"===e.status).length," requests"]})]})}),t.jsx(p,{children:t.jsxs(j,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 rounded-lg bg-muted",children:t.jsx(n,{className:"w-5 h-5"})}),t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Standard Rate"})]}),t.jsxs("p",{className:"text-2xl font-semibold metric-number",children:["$",q,"/mi"]}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"IRS standard rate"})]})})]}),L&&t.jsxs(p,{children:[t.jsx(g,{children:t.jsx(v,{children:"Submit Mileage Reimbursement Request"})}),t.jsxs(j,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(f,{htmlFor:"employeeName",children:"Employee Name"}),t.jsx(N,{id:"employeeName",value:k,onChange:e=>M(e.target.value),placeholder:"Enter your name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(f,{htmlFor:"vehicleType",children:"Vehicle Type"}),t.jsxs(y,{value:$,onValueChange:E,children:[t.jsx(w,{id:"vehicleType",children:t.jsx(S,{})}),t.jsxs(R,{children:[t.jsx(C,{value:"sedan",children:"Sedan"}),t.jsx(C,{value:"suv",children:"SUV"}),t.jsx(C,{value:"truck",children:"Truck"}),t.jsx(C,{value:"van",children:"Van"}),t.jsx(C,{value:"personal",children:"Personal Vehicle"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(f,{htmlFor:"tripDate",children:"Trip Date"}),t.jsx(N,{id:"tripDate",type:"date",value:P,onChange:e=>I(e.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(f,{htmlFor:"miles",children:"Miles Traveled"}),t.jsx(N,{id:"miles",type:"number",value:B,onChange:e=>G(e.target.value),placeholder:"Enter miles"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(f,{htmlFor:"startLocation",children:"Start Location"}),t.jsx(N,{id:"startLocation",value:V,onChange:e=>z(e.target.value),placeholder:"Starting point"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(f,{htmlFor:"endLocation",children:"End Location"}),t.jsx(N,{id:"endLocation",value:O,onChange:e=>A(e.target.value),placeholder:"Destination"})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx(f,{htmlFor:"purpose",children:"Trip Purpose"}),t.jsx(F,{id:"purpose",value:K,onChange:e=>U(e.target.value),placeholder:"Describe the business purpose of this trip",rows:3})]})]}),B&&t.jsx("div",{className:"mt-6 p-4 bg-accent/5 border border-accent/20 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Estimated Reimbursement:"}),t.jsxs("p",{className:"text-2xl font-semibold metric-number",children:["$",((parseFloat(B)||0)*q).toFixed(2)]})]})}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(h,{onClick:()=>{if(!(k&&P&&B&&V&&O&&K))return void x.error("Please fill in all required fields");const s=parseFloat(B),t=s*q,a={id:`mr-${Date.now()}`,employeeId:`EMP${Math.floor(1e4*Math.random())}`,employeeName:k,vehicleType:$,tripDate:P,startLocation:V,endLocation:O,miles:s,purpose:K,rate:q,amount:Math.round(100*t)/100,status:"submitted",submittedDate:(new Date).toISOString().split("T")[0]};e.addMileageReimbursement(a),x.success("Reimbursement request submitted"),T(!1),M(""),E("sedan"),I(""),z(""),A(""),G(""),U("")},children:"Submit Request"}),t.jsx(h,{variant:"outline",onClick:()=>T(!1),children:"Cancel"})]})]})]}),t.jsxs(p,{children:[t.jsx(g,{children:t.jsx(v,{children:"Reimbursement Requests"})}),t.jsx(j,{children:0===D.length?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(n,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No reimbursement requests yet"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "New Request" to get started'})]}):t.jsx("div",{className:"space-y-3",children:D.map(e=>{return t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-2 rounded-lg bg-muted",children:t.jsx(c,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:e.employeeName}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(m,{className:"w-4 h-4"}),e.tripDate]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(o,{className:"w-4 h-4"}),e.miles," miles"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(c,{className:"w-4 h-4"}),e.vehicleType]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e.startLocation," â†’ ",e.endLocation]})]})]}),t.jsxs("div",{className:"text-right space-y-2",children:[t.jsxs("p",{className:"text-xl font-semibold metric-number",children:["$",(e?.amount??0).toFixed(2)]}),t.jsx(b,{variant:"outline",className:(s=e.status,{draft:"bg-muted text-muted-foreground",submitted:"bg-warning/10 text-warning border-warning/20",approved:"bg-success/10 text-success border-success/20",rejected:"bg-destructive/10 text-destructive border-destructive/20",paid:"bg-accent/10 text-accent border-accent/20"}[s]),children:e.status}),"submitted"===e.status&&t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsx(h,{size:"sm",variant:"outline",onClick:()=>H(e.id,"approved"),children:"Approve"}),t.jsx(h,{size:"sm",variant:"outline",onClick:()=>H(e.id,"rejected"),children:"Reject"})]}),"approved"===e.status&&t.jsx(h,{size:"sm",variant:"outline",onClick:()=>H(e.id,"paid"),children:"Mark Paid"})]})]},e.id);var s})})})]})]})}import{r as s,j as t,bs as a,br as r,as as i,ah as l,aK as d,cD as n,c5 as c,bq as m,at as o}from"./react-core-hQu9tqS1.js";import{t as x}from"./index-savvei9t.js";import{u,h,C as p,f as j,d as g,e as v,I as N,B as b}from"./index-BDwglPMF.js";import{L as f}from"./label-C9sYRYKW.js";import{S as y,a as w,b as S,c as R,d as C}from"./select-Bmd3s7f4.js";import{T as F}from"./textarea-BOBjqKNu.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./animation-vendor-Cf_i_fm0.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";const q=.655;export{e as MileageReimbursement};
