function e(){const[e,W]=s.useState([]),[$,z]=s.useState([]),[R,q]=s.useState(""),[H,B]=s.useState("all"),[G,K]=s.useState(!1),[U,Q]=s.useState(null),[X,Y]=s.useState({name:"",stationType:"depot",chargerType:"level-2",powerOutput:7.2,connectorType:["J1772"],available:!0,occupied:!1,status:"online"}),Z=($||[]).filter(e=>(e.vehicleNumber.toLowerCase().includes(R.toLowerCase())||e.driverName?.toLowerCase().includes(R.toLowerCase())||e.stationName.toLowerCase().includes(R.toLowerCase()))&&("all"===H||e.status===H)),_=(e||[]).length,ee=(e||[]).filter(e=>e.available&&!e.occupied&&"online"===e.status).length,se=($||[]).filter(e=>"active"===e.status).length,te=($||[]).filter(e=>"completed"===e.status).reduce((e,s)=>e+s.energyDelivered,0),ae=($||[]).filter(e=>"completed"===e.status).reduce((e,s)=>e+s.cost,0),re=($||[]).filter(e=>"completed"===e.status).reduce((e,s)=>e+s.carbonOffset,0),ie=[{id:"st-1",tenantId:"tenant-demo",name:"Main Depot - Station 1",location:{address:"123 Fleet St, Tampa, FL",lat:27.9506,lng:-82.4572},stationType:"depot",networkProvider:"ChargePoint",chargerType:"level-2",powerOutput:7.2,connectorType:["J1772","CCS"],available:!0,occupied:!1,totalSessions:145,totalEnergyDelivered:2340,status:"online"},{id:"st-2",tenantId:"tenant-demo",name:"Main Depot - Station 2",location:{address:"123 Fleet St, Tampa, FL",lat:27.9506,lng:-82.4572},stationType:"depot",networkProvider:"ChargePoint",chargerType:"dc-fast",powerOutput:50,connectorType:["CCS","CHAdeMO"],available:!0,occupied:!0,currentSession:"ses-1",totalSessions:89,totalEnergyDelivered:1890,status:"online"}],ne=[{id:"ses-1",tenantId:"tenant-demo",vehicleId:"veh-ev1",vehicleNumber:"EV-1001",driverId:"drv-1",driverName:"John Smith",stationId:"st-2",stationName:"Main Depot - Station 2",startTime:new Date(Date.now()-18e5).toISOString(),energyDelivered:25.5,cost:8.92,startSOC:15,status:"active",smartCharging:!0,tariffType:"tou",peakDemandCharge:2.5,carbonOffset:12.5},{id:"ses-2",tenantId:"tenant-demo",vehicleId:"veh-ev2",vehicleNumber:"EV-1002",driverId:"drv-2",driverName:"Sarah Johnson",stationId:"st-1",stationName:"Main Depot - Station 1",startTime:new Date(Date.now()-864e5).toISOString(),endTime:new Date(Date.now()-792e5).toISOString(),duration:120,energyDelivered:45.3,cost:12.85,startSOC:10,endSOC:95,status:"completed",smartCharging:!0,tariffType:"tou",peakDemandCharge:0,carbonOffset:22.3}];return 0===(e||[]).length&&ie.length>0&&W(ie),0===($||[]).length&&ne.length>0&&z(ne),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold",children:"EV Charging Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Smart charging with OCPP protocol, tariff optimization, and carbon tracking"})]}),t.jsxs(x,{open:G,onOpenChange:K,children:[t.jsx(m,{asChild:!0,children:t.jsxs(h,{children:[t.jsx(a,{className:"w-4 h-4 mr-2"}),"Add Station"]})}),t.jsxs(j,{className:"max-w-2xl",children:[t.jsxs(u,{children:[t.jsx(p,{children:"Add Charging Station"}),t.jsx(g,{children:"Register a new EV charging station for your fleet"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(T,{htmlFor:"station-name",children:"Station Name *"}),t.jsx(v,{id:"station-name",value:X.name,onChange:e=>Y({...X,name:e.target.value}),placeholder:"Main Depot - Station 1"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(T,{htmlFor:"station-type",children:"Station Type"}),t.jsxs(D,{value:X.stationType,onValueChange:e=>Y({...X,stationType:e}),children:[t.jsx(O,{id:"station-type",children:t.jsx(k,{})}),t.jsxs(F,{children:[t.jsx(I,{value:"depot",children:"Depot"}),t.jsx(I,{value:"public",children:"Public"}),t.jsx(I,{value:"home",children:"Home"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(T,{htmlFor:"address",children:"Location Address *"}),t.jsx(v,{id:"address",value:X.location?.address,onChange:e=>Y({...X,location:{...X.location,address:e.target.value}}),placeholder:"123 Fleet St, Tampa, FL"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(T,{htmlFor:"charger-type",children:"Charger Type"}),t.jsxs(D,{value:X.chargerType,onValueChange:e=>Y({...X,chargerType:e}),children:[t.jsx(O,{id:"charger-type",children:t.jsx(k,{})}),t.jsxs(F,{children:[t.jsx(I,{value:"level-1",children:"Level 1"}),t.jsx(I,{value:"level-2",children:"Level 2"}),t.jsx(I,{value:"dc-fast",children:"DC Fast"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(T,{htmlFor:"power-output",children:"Power (kW)"}),t.jsx(v,{id:"power-output",type:"number",step:"0.1",value:X.powerOutput,onChange:e=>Y({...X,powerOutput:parseFloat(e.target.value)})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(T,{htmlFor:"network",children:"Network Provider"}),t.jsx(v,{id:"network",value:X.networkProvider,onChange:e=>Y({...X,networkProvider:e.target.value}),placeholder:"ChargePoint"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(T,{htmlFor:"available",children:"Available for Use"}),t.jsx(L,{id:"available",checked:!1!==X.available,onCheckedChange:e=>Y({...X,available:e})})]})]}),t.jsxs(f,{children:[t.jsx(h,{variant:"outline",onClick:()=>K(!1),children:"Cancel"}),t.jsx(h,{onClick:()=>{if(!X.name||!X.location?.address)return void o.error("Please fill in required fields");const e={id:U?.id||`station-${Date.now()}`,tenantId:"tenant-demo",name:X.name,location:X.location,stationType:X.stationType,networkProvider:X.networkProvider,chargerType:X.chargerType,powerOutput:X.powerOutput||7.2,connectorType:X.connectorType||["J1772"],available:!1!==X.available,occupied:X.occupied||!1,totalSessions:U?.totalSessions||0,totalEnergyDelivered:U?.totalEnergyDelivered||0,status:X.status};U?(W(s=>(s||[]).map(s=>s.id===e.id?e:s)),o.success("Station updated successfully")):(W(s=>[...s||[],e]),o.success("Station added successfully")),K(!1),Q(null),Y({name:"",stationType:"depot",chargerType:"level-2",powerOutput:7.2,connectorType:["J1772"],available:!0,occupied:!1,status:"online"})},children:"Add Station"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs(N,{children:[t.jsx(y,{className:"pb-3",children:t.jsx(b,{className:"text-sm font-medium text-muted-foreground",children:"Total Stations"})}),t.jsxs(w,{children:[t.jsx("div",{className:"text-2xl font-bold",children:_}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[t.jsx(r,{className:"w-3 h-3"}),"Registered"]})]})]}),t.jsxs(N,{children:[t.jsx(y,{className:"pb-3",children:t.jsx(b,{className:"text-sm font-medium text-muted-foreground",children:"Available Now"})}),t.jsxs(w,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:ee}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[t.jsx(i,{className:"w-3 h-3"}),"Ready to charge"]})]})]}),t.jsxs(N,{children:[t.jsx(y,{className:"pb-3",children:t.jsx(b,{className:"text-sm font-medium text-muted-foreground",children:"Active Sessions"})}),t.jsxs(w,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:se}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[t.jsx(n,{className:"w-3 h-3"}),"Charging now"]})]})]}),t.jsxs(N,{children:[t.jsx(y,{className:"pb-3",children:t.jsx(b,{className:"text-sm font-medium text-muted-foreground",children:"Carbon Offset"})}),t.jsxs(w,{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[re.toFixed(1)," kg"]}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[t.jsx(l,{className:"w-3 h-3"}),"CO2 saved"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(N,{children:[t.jsxs(y,{children:[t.jsx(b,{children:"Charging Stations"}),t.jsx(S,{children:"Fleet charging infrastructure"})]}),t.jsx(w,{children:t.jsxs("div",{className:"space-y-3",children:[(e||[]).map(e=>{return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(r,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-medium",children:e.name})]}),t.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[(a=e.chargerType,{"level-1":"Level 1 (120V)","level-2":"Level 2 (240V)","dc-fast":"DC Fast Charge"}[a])," â€¢ ",e.powerOutput," kW"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx(C,{className:(s=e.status,{online:"bg-green-100 text-green-700",offline:"bg-gray-100 text-gray-700",maintenance:"bg-yellow-100 text-yellow-700"}[s]),variant:"secondary",children:e.status}),e.occupied&&t.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"In use"})]})]},e.id);var s,a}),0===(e||[]).length&&t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No charging stations registered. Add your first station to get started."})]})})]}),t.jsxs(N,{children:[t.jsxs(y,{children:[t.jsx(b,{children:"Energy & Cost Summary"}),t.jsx(S,{children:"Completed charging sessions"})]}),t.jsx(w,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(n,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium",children:"Total Energy Delivered"})]}),t.jsxs("span",{className:"text-lg font-bold",children:[te.toFixed(1)," kWh"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(d,{className:"w-5 h-5 text-green-600"}),t.jsx("span",{className:"text-sm font-medium",children:"Total Cost"})]}),t.jsxs("span",{className:"text-lg font-bold",children:["$",ae.toFixed(2)]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(l,{className:"w-5 h-5 text-green-600"}),t.jsx("span",{className:"text-sm font-medium",children:"Carbon Offset"})]}),t.jsxs("span",{className:"text-lg font-bold",children:[re.toFixed(1)," kg CO2"]})]}),t.jsxs("div",{className:"pt-3 border-t",children:[t.jsx("div",{className:"text-xs text-muted-foreground",children:"Average cost per kWh"}),t.jsxs("div",{className:"text-sm font-medium",children:["$",te>0?(ae/te).toFixed(2):"0.00","/kWh"]})]})]})})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(v,{placeholder:"Search sessions...",value:R,onChange:e=>q(e.target.value),className:"pl-10"})]}),t.jsxs(D,{value:H,onValueChange:B,children:[t.jsx(O,{className:"w-48",children:t.jsx(k,{})}),t.jsxs(F,{children:[t.jsx(I,{value:"all",children:"All Status"}),t.jsx(I,{value:"active",children:"Active"}),t.jsx(I,{value:"completed",children:"Completed"}),t.jsx(I,{value:"scheduled",children:"Scheduled"})]})]})]}),t.jsxs(N,{children:[t.jsxs(y,{children:[t.jsxs(b,{children:["Charging Sessions (",Z.length,")"]}),t.jsx(S,{children:"Active and historical charging activity"})]}),t.jsx(w,{children:t.jsxs(P,{children:[t.jsx(A,{children:t.jsxs(E,{children:[t.jsx(V,{children:"Vehicle / Driver"}),t.jsx(V,{children:"Station"}),t.jsx(V,{children:"Start Time"}),t.jsx(V,{children:"Energy"}),t.jsx(V,{children:"Cost"}),t.jsx(V,{children:"Status"}),t.jsx(V,{children:"Actions"})]})}),t.jsx(M,{children:0===Z.length?t.jsx(E,{children:t.jsx(J,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No charging sessions found."})}):Z.map(e=>{return t.jsxs(E,{children:[t.jsx(J,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:e.vehicleNumber}),t.jsx("div",{className:"text-sm text-muted-foreground",children:e.driverName})]})}),t.jsx(J,{children:t.jsx("div",{className:"text-sm",children:e.stationName})}),t.jsxs(J,{children:[t.jsx("div",{className:"text-sm",children:new Date(e.startTime).toLocaleDateString()}),t.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(e.startTime).toLocaleTimeString()})]}),t.jsx(J,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(n,{className:"w-3 h-3 text-blue-600"}),t.jsxs("span",{className:"text-sm",children:[e.energyDelivered.toFixed(1)," kWh"]})]})}),t.jsx(J,{children:t.jsxs("div",{className:"text-sm font-medium",children:["$",e.cost.toFixed(2)]})}),t.jsx(J,{children:t.jsx(C,{className:(s=e.status,{active:"bg-green-100 text-green-700",completed:"bg-blue-100 text-blue-700",interrupted:"bg-red-100 text-red-700",scheduled:"bg-yellow-100 text-yellow-700"}[s]),variant:"secondary",children:e.status})}),t.jsx(J,{children:"active"===e.status&&t.jsx(h,{variant:"ghost",size:"sm",onClick:()=>{return s=e.id,z(e=>(e||[]).map(e=>e.id===s?{...e,status:"completed",endTime:(new Date).toISOString(),endSOC:e.startSOC+50,duration:45}:e)),void o.success("Charging session completed");var s},children:"End"})})]},e.id);var s})})]})})]})]})}import{r as s,j as t,br as a,bm as r,ah as i,bb as n,d4 as l,aK as d,b8 as c}from"./react-core-hQu9tqS1.js";import{t as o}from"./index-savvei9t.js";import{D as x,t as m,h,j,k as u,l as p,m as g,I as v,n as f,C as N,d as y,e as b,f as w,i as S,B as C}from"./index-BDwglPMF.js";import{L as T}from"./label-C9sYRYKW.js";import{S as D,a as O,b as k,c as F,d as I}from"./select-Bmd3s7f4.js";import{S as L}from"./switch-9MiV1CpI.js";import{T as P,a as A,b as E,c as V,d as M,e as J}from"./table-_lE51wjz.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./animation-vendor-Cf_i_fm0.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";export{e as EVChargingManagement,e as default};
