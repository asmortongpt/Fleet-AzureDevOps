function t(t,e){Fn[t]=Fn[t]||[],Fn[t].push(e)}function e(t,e){if(!Bn[t]){Bn[t]=!0;try{e()}catch(n){Le&&Fe.error(`Error while instrumenting ${t}`,n)}}}function n(t,e){const n=t&&Fn[t];if(n)for(const o of n)try{o(e)}catch(r){Le&&Fe.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Be(o)}\nError:`,r)}}function r(n){const r="error";t(r,n),e(r,o)}function o(){Hn=He.onerror,He.onerror=function(t,e,r,o,s){return n("error",{column:o,error:s,line:r,msg:t,url:e}),!!Hn&&Hn.apply(this,arguments)},He.onerror.__SENTRY_INSTRUMENTED__=!0}function s(n){const r="unhandledrejection";t(r,n),e(r,i)}function i(){qn=He.onunhandledrejection,He.onunhandledrejection=function(t){return n("unhandledrejection",t),!qn||qn.apply(this,arguments)},He.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function a(t){if(t){if("object"==typeof t&&"deref"in t&&"function"==typeof t.deref)try{return t.deref()}catch{return}return t}}function c(t){return{scope:t._sentryScope,isolationScope:a(t._sentryIsolationScope)}}function u(t){return t.split(",").map(t=>{const e=t.indexOf("=");return-1===e?[]:[t.slice(0,e),t.slice(e+1)].map(t=>{try{return decodeURIComponent(t.trim())}catch{return}})}).reduce((t,[e,n])=>(e&&n&&(t[e]=n),t),{})}function p(t,e=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${i}`}function f(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function l(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let r;return e.orgId?r=String(e.orgId):n&&(r=function(t){const e=t.match(Wn);return e?.[1]}(n)),r}function d(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),o=r?e:_(t).parent_span_id,s=c(t).scope;return{parent_span_id:o,span_id:r?s?.getPropagationContext().propagationSpanId||Je():e,trace_id:n}}function h(t){return t&&t.length>0?t.map(({context:{spanId:t,traceId:e,traceFlags:n,...r},attributes:o})=>({span_id:t,trace_id:e,sampled:1===n,attributes:o,...r})):void 0}function m(t){return"number"==typeof t?g(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?g(t.getTime()):ze()}function g(t){return t>9999999999?t/1e3:t}function _(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(function(t){return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(t)){const{attributes:r,startTime:o,name:s,endTime:i,status:a,links:c}=t;return{span_id:e,trace_id:n,data:r,description:s,parent_span_id:"parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0,start_timestamp:m(o),timestamp:m(i)||void 0,status:y(a),op:r["sentry.op"],origin:r["sentry.origin"],links:h(c)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function y(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"internal_error"}function v(t){return t._sentryRootSpan||t}function b(){Kn||(Ge(()=>{}),Kn=!0)}function E(t){Fe.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function w(t,e){if(!e?.length||!t.description)return!1;for(const n of e){if(x(n)){if(Ye(t.description,n))return Le&&E(t),!0;continue}if(!n.name&&!n.op)continue;const e=!n.name||Ye(t.description,n.name),r=!n.op||t.op&&Ye(t.op,n.op);if(e&&r)return Le&&E(t),!0}return!1}function S(t,e){const n=e.parent_span_id,r=e.span_id;if(n)for(const o of t)o.parent_span_id===r&&(o.parent_span_id=n)}function x(t){return"string"==typeof t||t instanceof RegExp}function $(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},o={environment:n.environment||Vn,release:n.release,public_key:r,trace_id:t,org_id:l(e)};return e.emit("createDsc",o),o}function k(t){function e(t){return"number"!=typeof a&&"string"!=typeof a||(t.sample_rate=`${a}`),t}const n=We();if(!n)return{};const r=v(t),o=_(r),s=o.data,i=r.spanContext().traceState,a=i?.get("sentry.sample_rate")??s["sentry.sample_rate"]??s["sentry.previous_trace_sample_rate"],p=r._frozenDsc;if(p)return e(p);const f=i?.get("sentry.dsc"),l=f&&function(t){const e=function(t){if(t&&(qe(t)||Array.isArray(t)))return Array.isArray(t)?t.reduce((t,e)=>{const n=u(e);return Object.entries(n).forEach(([e,n])=>{t[e]=n}),t},{}):u(t)}(t);if(!e)return;const n=Object.entries(e).reduce((t,[e,n])=>(e.match(zn)&&(t[e.slice(7)]=n),t),{});return Object.keys(n).length>0?n:void 0}(f);if(l)return e(l);const d=$(t.spanContext().traceId,n),h=o.description;return"url"!==s["sentry.source"]&&h&&(d.transaction=h),function(){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=We()?.getOptions();return!(!t||null==t.tracesSampleRate&&!t.tracesSampler)}()&&(d.sampled=String(function(t){const{traceFlags:e}=t.spanContext();return 1===e}(r)),d.sample_rand=i?.get("sentry.sample_rand")??c(r).scope?.getPropagationContext().sampleRand.toString()),e(d),n.emit("createDsc",d,r),d}function O(t,e=100,n=1/0){try{return D("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function j(t,e=3,n=102400){const r=O(t,e);return o=JSON.stringify(r),~-encodeURI(o).split(/%..|./).length>n?j(t,e-1,n):r;var o}function D(t,e,n=1/0,r=1/0,o=function(){const t=new WeakSet;return[function(e){return!!t.has(e)||(t.add(e),!1)},function(e){t.delete(e)}]}()){const[s,i]=o;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const a=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(Ve(e))return Xe(e);if(Ze(e))return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${Be(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const n=function(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(s(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return D("",u.toJSON(),c-1,r,o)}catch{}const p=Array.isArray(e)?[]:{};let f=0;const l=Ke(e);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){if(f>=r){p[d]="[MaxProperties ~]";break}p[d]=D(d,l[d],c-1,r,o),f++}return i(e),p}function N(t,e=[]){return[t,e]}function T(t,e){const[n,r]=t;return[n,[...r,e]]}function I(t,e){const n=t[1];for(const r of n)if(e(r,r[0].type))return!0;return!1}function R(t){const e=Qe(He);return e.encodePolyfill?e.encodePolyfill(t):(new TextEncoder).encode(t)}function C(t){function e(t){"string"==typeof o?o="string"==typeof t?o+t:[R(o),t]:o.push("string"==typeof t?R(t):t)}const[n,r]=t;let o=JSON.stringify(n);for(const s of r){const[t,n]=s;if(e(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)e(n);else{let t;try{t=JSON.stringify(n)}catch{t=JSON.stringify(O(n))}e(t)}}return"string"==typeof o?o:function(t){const e=t.reduce((t,e)=>t+e.length,0),n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}(o)}function P(t){const e="string"==typeof t.data?R(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}function M(t){return Xn[t]}function A(t){if(!t?.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function U(t){return new nr(e=>{e(t)})}function L(t){return new nr((e,n)=>{n(t)})}function F(t,e,n,r=0){try{const o=B(e,n,t,r);return tn(o)?o:U(o)}catch(o){return L(o)}}function B(t,e,n,r){const o=n[r];if(!t||!o)return t;const s=o({...t},e);return Le&&null===s&&Fe.log(`Event processor "${o.id||"?"}" dropped event`),tn(s)?s.then(t=>B(t,e,n,r+1)):B(s,e,n,r+1)}function H(t,e){const{extra:n,tags:r,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:p,attachments:f,propagationContext:l,transactionName:d,span:h}=e;q(t,"extra",n),q(t,"tags",r),q(t,"user",o),q(t,"contexts",s),t.sdkProcessingMetadata=en(t.sdkProcessingMetadata,a,2),i&&(t.level=i),d&&(t.transactionName=d),h&&(t.span=h),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),p.length&&(t.eventProcessors=[...t.eventProcessors,...p]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...l}}function q(t,e,n){t[e]=en(t[e],n,1)}function G(t,e){return pn().captureException(t,void 0)}function J(t,e){const n="string"==typeof e?e:void 0,r="string"!=typeof e?{captureContext:e}:void 0;return pn().captureMessage(t,n,r)}function z(t,e){return pn().captureEvent(t,e)}function W(t,e){un().setContext(t,e)}function Y(t){const e=un(),n=pn(),{userAgent:r}=He.navigator||{},o=fn({user:n.getUser()||e.getUser(),...r&&{userAgent:r},...t}),s=e.getSession();return"ok"===s?.status&&ln(s,{status:"exited"}),K(),e.setSession(o),o}function K(){const t=un(),e=pn().getSession()||t.getSession();e&&dn(e),V(),t.setSession()}function V(){const t=un(),e=We(),n=t.getSession();n&&e&&e.captureSession(n)}function X(t=!1){t?K():V()}function Z(t,e){const n=e??function(t){return Q().get(t)}(t)??[];if(0===n.length)return;const r=t.getOptions(),o=function(t,e,n,r){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(o.dsn=p(r)),N(o,[(s=t,[{type:"log",item_count:s.length,content_type:"application/vnd.sentry.items.log+json"},{items:s}])]);var s}(n,r._metadata,r.tunnel,t.getDsn());Q().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function Q(){return hn("clientToLogBufferMap",()=>new WeakMap)}function tt(t,e){const n=e??function(t){return et().get(t)}(t)??[];if(0===n.length)return;const r=t.getOptions(),o=function(t,e,n,r){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(o.dsn=p(r)),N(o,[(s=t,[{type:"trace_metric",item_count:s.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:s}])]);var s}(n,r._metadata,r.tunnel,t.getDsn());et().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(o)}function et(){return hn("clientToMetricBufferMap",()=>new WeakMap)}function nt(t=100){function e(t){n.delete(t)}const n=new Set;return{get $(){return Array.from(n)},add:function(r){if(n.size>=t)return L(rr);const o=r();return n.add(o),o.then(()=>e(o),()=>e(o)),o},drain:function(t){if(!n.size)return U(!0);const e=Promise.allSettled(Array.from(n)).then(()=>!0);if(!t)return e;const r=[e,new Promise(e=>setTimeout(()=>e(!1),t))];return Promise.race(r)}}}function rt(t,e,n=nt(t.bufferSize||64)){let r={};return{send:function(o){const s=[];if(I(o,(e,n)=>{const o=M(n);!function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(r,o)?s.push(e):t.recordDroppedEvent("ratelimit_backoff",o)}),0===s.length)return Promise.resolve({});const i=N(o[0],s),a=e=>{I(i,(n,r)=>{t.recordDroppedEvent(e,M(r))})};return n.add(()=>e({body:C(i)}).then(t=>(void 0===t.statusCode||t.statusCode>=200&&300>t.statusCode||Le&&Fe.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=function(t,{statusCode:e,headers:n},r=Date.now()){const o={...t},s=n?.["x-sentry-rate-limits"],i=n?.["retry-after"];if(s)for(const a of s.trim().split(",")){const[t,e,,,n]=a.split(":",5),s=parseInt(t,10),i=1e3*(isNaN(s)?60:s);if(e)for(const a of e.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(o[a]=r+i);else o.all=r+i}else i?o.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}(i,r):429===e&&(o.all=r+6e4);return o}(r,t),t),t=>{throw a("network_error"),Le&&Fe.error("Encountered error running transport request:",t),t})).then(t=>t,t=>{if(t===rr)return Le&&Fe.error("Skipped sending event because buffer is full."),a("queue_overflow"),Promise.resolve({});throw t})},flush:t=>n.drain(t)}}function ot(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n?.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}function st(t){return{message:t,[ir]:!0}}function it(t){return{message:t,[ar]:!0}}function at(t){return!!t&&"object"==typeof t&&ir in t}function ct(t){return!!t&&"object"==typeof t&&ar in t}function ut(t,e,n,r,o){let s,i=0,a=!1;t.on(n,()=>{i=0,clearTimeout(s),a=!1}),t.on(e,e=>{i+=r(e),8e5>i?a||(a=!0,s=setTimeout(()=>{o(t)},5e3)):o(t)}),t.on("flush",()=>{o(t)})}function pt(t){return"replay_event"===t?"replay":t||"error"}function ft(t){return void 0===t.type}function lt(t){return"transaction"===t.type}function dt(t){let e=0;return t.name&&(e+=2*t.name.length),e+=8,e+mt(t.attributes)}function ht(t){let e=0;return t.message&&(e+=2*t.message.length),e+mt(t.attributes)}function mt(t){if(!t)return 0;let e=0;return Object.values(t).forEach(t=>{Array.isArray(t)?e+=t.length*gt(t[0]):En(t)?e+=gt(t):e+=100}),e}function gt(t){return"string"==typeof t?2*t.length:"number"==typeof t?8:"boolean"==typeof t?4:0}function _t(t,e){!0===e.debug&&(Le?Fe.enable():Ge(()=>{})),pn().update(e.initialScope);const n=new t(e);return function(t){pn().setClient(t)}(n),n.init(),n}function yt(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function vt(t){"aggregates"in t?void 0===t.attrs?.ip_address&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):void 0===t.ipAddress&&(t.ipAddress="{{auto}}")}function bt(t,e,n=[e],r="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:n.map(t=>({name:`${r}:@sentry/${t}`,version:Sn})),version:Sn}),t._metadata=o}function Et(t,e){const n=We(),r=un();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=ur}=n.getOptions();if(0>=s)return;const i={timestamp:nn(),...t},a=o?Ge(()=>o(i,e)):i;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,e),r.addBreadcrumb(a,s))}function wt(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:dr],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function St(t){try{const e=[...t.exception?.values??[]].reverse().find(t=>void 0===t.mechanism?.parent_id&&t.stacktrace?.frames?.length),n=e?.stacktrace?.frames;return n?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return Le&&Fe.error(`Cannot extract url for event ${kn(t)}`),null}}function xt(t,e,n,r,o,s){if(!o.exception?.values||!s||!jn(s.originalException,Error))return;const i=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;i&&(o.exception.values=$t(t,e,r,s.originalException,n,o.exception.values,i,0))}function $t(t,e,n,r,o,s,i,a){if(s.length>=n+1)return s;let c=[...s];if(jn(r[o],Error)){kt(i,a);const s=t(e,r[o]),u=c.length;Ot(s,o,u,a),c=$t(t,e,n,r[o],o,[s,...c],s,u)}return Array.isArray(r.errors)&&r.errors.forEach((r,s)=>{if(jn(r,Error)){kt(i,a);const u=t(e,r),p=c.length;Ot(u,`errors[${s}]`,p,a),c=$t(t,e,n,r,o,[u,...c],u,p)}}),c}function kt(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function Ot(t,e,n,r){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function jt(n){const r="console";t(r,n),e(r,Dt)}function Dt(){"console"in He&&Dn.forEach(function(t){t in He.console&&Nn(He.console,t,function(e){return Tn[t]=e,function(...e){n("console",{args:e,level:t});const r=Tn[t];r?.apply(He.console,e)}})})}function Nt(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}function Tt(t,e){let n=In(t),r=In(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;r.length>o;o++){const t=r[o],e=n[o];if(t.filename!==e.filename||t.lineno!==e.lineno||t.colno!==e.colno||t.function!==e.function)return!1}return!0}function It(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch{return!1}}function Rt(t){return t.exception?.values?.[0]}function Ct(t){return void 0===t?void 0:t>=400&&500>t?"warning":500>t?void 0:"error"}function Pt(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Mt(r,o){const s="fetch";t(s,r),e(s,()=>function(t,e=!1){e&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in _r))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}())return!1;if(Pt(_r.fetch))return!0;let t=!1;const e=_r.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow?.fetch&&(t=Pt(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Le&&Fe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}()||Nn(He,"fetch",function(t){return function(...e){const r=new Error,{method:o,url:s}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:Ut(e),method:At(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Ut(e),method:At(e,"method")?String(e.method).toUpperCase():"GET"}}(e),i={args:e,fetchData:{method:o,url:s},startTimestamp:1e3*ze(),virtualError:r,headers:Lt(e)};return n("fetch",{...i}),t.apply(He,e).then(async t=>(n("fetch",{...i,endTimestamp:1e3*ze(),response:t}),t),t=>{if(n("fetch",{...i,endTimestamp:1e3*ze(),error:t}),Rn(t)&&void 0===t.stack&&(t.stack=r.stack,Cn(t,"framesToPop",1)),t instanceof TypeError&&("Failed to fetch"===t.message||"Load failed"===t.message||"NetworkError when attempting to fetch resource."===t.message))try{const e=new URL(i.fetchData.url);t.message=`${t.message} (${e.host})`}catch{}throw t})}})}(0,o))}function At(t,e){return!!t&&"object"==typeof t&&!!t[e]}function Ut(t){return"string"==typeof t?t:t?At(t,"url")?t.url:t.toString?t.toString():"":""}function Lt(t){const[e,n]=t;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(Pn(e))return new Headers(e.headers)}catch{}}function Ft(){return"npm"}function Bt(){return vr>0}function Ht(t,e={}){if(!function(t){return"function"==typeof t}(t))return t;try{const e=t.__sentry_wrapped__;if(e)return"function"==typeof e?e:t;if($n(t))return t}catch{return t}const n=function(...n){try{const r=n.map(t=>Ht(t,e));return t.apply(this,r)}catch(r){throw vr++,setTimeout(()=>{vr--}),Un(t=>{t.addEventProcessor(t=>(e.mechanism&&(Ln(t,void 0),on(t,e.mechanism)),t.extra={...t.extra,arguments:n},t)),G(r)}),r}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}catch{}An(n,t),Cn(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}function qt(){const t=Mn(),{referrer:e}=yr.document||{},{userAgent:n}=yr.navigator||{};return{url:t,headers:{...e&&{Referer:e},...n&&{"User-Agent":n}}}}function Gt(t,e){return br.call(t)===`[object ${e}]`}function Jt(t){return Gt(t,"String")}function zt(t){return Gt(t,"Object")}function Wt(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function Yt(t){return"number"==typeof t&&t!=t}function Kt(t,e){try{return t instanceof e}catch(n){return!1}}function Vt(t,e=[],n=!1){return e.some(e=>function(t,e,n=!1){return!!Jt(t)&&(Gt(e,"RegExp")?e.test(t):!!Jt(e)&&(n?t===e:t.includes(e)))}(t,e,n))}function Xt(t){return t&&t.Math==Math?t:void 0}function Zt(){return Er}function Qt(t,e,n){const r=n||Er,o=r.__SENTRY__=r.__SENTRY__||{};return o[t]||(o[t]=e())}function te(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,o=[];let s=0,i=0;const a=" > ",c=a.length;let u;const p=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&s++<r&&(u=ee(n,p),"html"!==u&&(1>=s||f>i+o.length*c+u.length));)o.push(u),i+=u.length,n=n.parentNode;return o.reverse().join(a)}catch(n){return"<unknown>"}}function ee(t,e){const n=t,r=[];let o,s,i,a,c;if(!n||!n.tagName)return"";if(wr.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter(t=>n.getAttribute(t)).map(t=>[t,n.getAttribute(t)]):null;if(u&&u.length)u.forEach(t=>{r.push(`[${t[0]}="${t[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&Jt(o))for(s=o.split(/\s+/),c=0;s.length>c;c++)r.push(`.${s[c]}`);const p=["aria-label","type","name","title","alt"];for(c=0;p.length>c;c++)i=p[c],a=n.getAttribute(i),a&&r.push(`[${i}="${a}"]`);return r.join("")}function ne(t){return wr.document&&wr.document.querySelector?wr.document.querySelector(t):null}function re(t){if(!wr.HTMLElement)return null;let e=t;for(let n=0;5>n;n++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}function oe(t){if(!("console"in Er))return t();const e=Er.console,n={},r=Object.keys($r);r.forEach(t=>{const r=$r[t];n[t]=e[t],e[t]=r});try{return t()}finally{r.forEach(t=>{e[t]=n[t]})}}function se(t,e=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${i}`}function ie(t,e,n){if(!(e in t))return;const r=t[e],o=n(r);"function"==typeof o&&function(t,e){try{t.prototype=e.prototype=e.prototype||{},ae(t,"__sentry_original__",e)}catch(n){}}(o,r),t[e]=o}function ae(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(r){Sr&&kr.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function ce(t){return ue(t,new Map)}function ue(t,e){if(function(t){if(!zt(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||"Object"===e}catch(e){return!0}}(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const o of Object.keys(t))void 0!==t[o]&&(r[o]=ue(t[o],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach(t=>{r.push(ue(t,e))}),r}return t}function pe(t){try{return t&&"function"==typeof t&&t.name||Or}catch(e){return Or}}function fe(t,e){jr[t]=jr[t]||[],jr[t].push(e)}function le(t,e){Dr[t]||(e(),Dr[t]=!0)}function de(t,e){const n=t&&jr[t];if(n)for(const o of n)try{o(e)}catch(r){Sr&&kr.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${pe(o)}\nError:`,r)}}function he(){const t=Er.crypto||Er.msCrypto;let e=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(e=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(n){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,t=>(t^(15&e())>>t/4).toString(16))}function me(t){return Array.isArray(t)?t:[t]}function ge(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function _e(t){const e="fetch";fe(e,t),le(e,ye)}function ye(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in Nr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}())return!1;if(ge(Nr.fetch))return!0;let t=!1;const e=Nr.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=ge(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Sr&&kr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t})()&&ie(Er,"fetch",function(t){return function(...e){const{method:n,url:r}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:be(e),method:ve(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:be(e),method:ve(e,"method")?String(e.method).toUpperCase():"GET"}}(e),o={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return de("fetch",{...o}),t.apply(Er,e).then(t=>(de("fetch",{...o,endTimestamp:Date.now(),response:t}),t),t=>{throw de("fetch",{...o,endTimestamp:Date.now(),error:t}),t})}})}function ve(t,e){return!!t&&"object"==typeof t&&!!t[e]}function be(t){return"string"==typeof t?t:t?ve(t,"url")?t.url:t.toString?t.toString():"":""}function Ee(t){const e="error";fe(e,t),le(e,we)}function we(){Tr=Er.onerror,Er.onerror=function(t,e,n,r,o){return de("error",{column:r,error:o,line:n,msg:t,url:e}),!(!Tr||Tr.__SENTRY_LOADER__)&&Tr.apply(this,arguments)},Er.onerror.__SENTRY_INSTRUMENTED__=!0}function Se(t){const e="unhandledrejection";fe(e,t),le(e,xe)}function xe(){Ir=Er.onunhandledrejection,Er.onunhandledrejection=function(t){return de("unhandledrejection",t),!(Ir&&!Ir.__SENTRY_LOADER__)||Ir.apply(this,arguments)},Er.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function $e(t){const e="history";fe(e,t),le(e,ke)}function ke(){function t(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=Pr,e=String(n);Pr=e,de("history",{from:t,to:e})}return t.apply(this,e)}}if(!function(){const t=Rr.chrome;return!(t&&t.app&&t.app.runtime||!("history"in Rr)||!Rr.history.pushState||!Rr.history.replaceState)}())return;const e=Cr.onpopstate;Cr.onpopstate=function(...t){const n=Cr.location.href,r=Pr;if(Pr=n,de("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(o){}},ie(Cr.history,"pushState",t),ie(Cr.history,"replaceState",t)}function Oe(t){fe("xhr",t),le("xhr",je)}function je(){if(!Mr.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;ie(t,"open",function(t){return function(...e){const n=Date.now(),r=Jt(e[0])?e[0].toUpperCase():void 0,o=function(t){if(Jt(t))return t;try{return t.toString()}catch(e){}}(e[1]);if(!r||!o)return t.apply(this,e);this[Ar]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const t=this[Ar];if(t&&4===this.readyState){try{t.status_code=this.status}catch(e){}de("xhr",{args:[r,o],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?ie(this,"onreadystatechange",function(t){return function(...e){return s(),t.apply(this,e)}}):this.addEventListener("readystatechange",s),ie(this,"setRequestHeader",function(t){return function(...e){const[n,r]=e,o=this[Ar];return o&&Jt(n)&&Jt(r)&&(o.request_headers[n.toLowerCase()]=r),t.apply(this,e)}}),t.apply(this,e)}}),ie(t,"send",function(t){return function(...e){const n=this[Ar];return n?(void 0!==e[0]&&(n.body=e[0]),de("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),t.apply(this,e)):t.apply(this,e)}})}function De(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function Ne(t,e){return t.require(e)}function Te(t){let e;try{e=Ne(module,t)}catch(n){}try{const{cwd:n}=Ne(module,"process");e=Ne(module,`${n()}/node_modules/${t}`)}catch(n){}return e}function Ie(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function Re(){return Date.now()/1e3}function Ce(t){if(t)return function(t){if(0!==Object.keys(t).length)return Object.entries(t).reduce((t,[e,n],r)=>{const o=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,s=0===r?o:`${t},${o}`;return s.length>8192?(Sr&&kr.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):s},"")}(Object.entries(t).reduce((t,[e,n])=>(n&&(t[`${qr}${e}`]=n),t),{}))}function Pe(t){return t.split(",").map(t=>t.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((t,[e,n])=>(t[e]=n,t),{})}function Me(t,e){const n=function(t){if(!t)return;const e=t.match(Jr);if(!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}(t),r=function(t){if(!Jt(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((t,e)=>{const n=Pe(e);for(const r of Object.keys(n))t[r]=n[r];return t},{});else{if(!t)return;e=Pe(t)}const n=Object.entries(e).reduce((t,[e,n])=>(e.match(Gr)&&(t[e.slice(7)]=n),t),{});return Object.keys(n).length>0?n:void 0}(e),{traceId:o,parentSpanId:s,parentSampled:i}=n||{};return n?{traceId:o||he(),parentSpanId:s||he().substring(16),spanId:he().substring(16),sampled:i,dsc:r||{}}:{traceId:o||he(),spanId:he().substring(16)}}function Ae(t=he(),e=he().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function Ue(t,e=[]){return[t,e]}import{D as Le,d as Fe,g as Be,G as He,i as qe,c as Ge,a as Je,t as ze,b as We,e as Ye,f as Ke,h as Ve,j as Xe,k as Ze,l as Qe,m as tn,n as en,o as nn,u as rn,p as on,q as sn,r as an,S as cn,s as un,v as pn,w as fn,x as ln,y as dn,z as hn,A as mn,B as gn,C as _n,E as yn,F as vn,H as bn,I as En,J as wn,K as Sn,L as xn,M as $n,N as kn,O as On,P as jn,Q as Dn,R as Nn,T as Tn,U as In,V as Rn,W as Cn,X as Pn,Y as Mn,Z as An,_ as Un,$ as Ln}from"./form-vendor-DKCvS-hL.js";const Fn={},Bn={};let Hn=null,qn=null;const Gn="sentry.profile_id",Jn="sentry.exclusive_time",zn=/^sentry-/,Wn=/^o(\d+)\./,Yn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;let Kn=!1;const Vn="production",Xn={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};let Zn,Qn,tr,er,nr=class t{constructor(t){this._state=0,this._handlers=[],this._runExecutor(t)}then(e,n){return new t((t,r)=>{this._handlers.push([!1,n=>{if(e)try{t(e(n))}catch(o){r(o)}else t(n)},e=>{if(n)try{t(n(e))}catch(o){r(o)}else r(e)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(e){return new t((t,n)=>{let r,o;return this.then(t=>{o=!1,r=t,e&&e()},t=>{o=!0,r=t,e&&e()}).then(()=>{o?n(r):t(r)})})}_executeHandlers(){if(0===this._state)return;const t=this._handlers.slice();this._handlers=[],t.forEach(t=>{t[0]||(1===this._state&&t[1](this._value),2===this._state&&t[2](this._value),t[0]=!0)})}_runExecutor(t){const e=(t,e)=>{0===this._state&&(tn(e)?e.then(n,r):(this._state=t,this._value=e,this._executeHandlers()))},n=t=>{e(1,t)},r=t=>{e(2,t)};try{t(n,r)}catch(o){r(o)}}};const rr=Symbol.for("SentryBufferFullError"),or="Not capturing exception because it's already been captured.",sr="Discarded session because of missing or non-string release",ir=Symbol.for("SentryInternalError"),ar=Symbol.for("SentryDoNotSendEventError");class cr{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=nt(t.transportOptions?.bufferSize??64),t.dsn?this._dsn=function(t){const e="string"==typeof t?function(t){const e=Yn.exec(t);if(!e)return void Ge(()=>{});const[n,r,o="",s="",i="",a=""]=e.slice(1);let c="",u=a;const p=u.split("/");if(p.length>1&&(c=p.slice(0,-1).join("/"),u=p.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return f({host:s,pass:o,path:c,projectId:u,port:i,protocol:n,publicKey:r})}(t):f(t);if(e&&function(t){if(!Le)return!0;const{port:e,projectId:n,protocol:r}=t;return!(["protocol","publicKey","host","projectId"].find(e=>!t[e]&&(Fe.error(`Invalid Sentry Dsn: ${e} missing`),!0))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?e&&isNaN(parseInt(e,10))&&(Fe.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(Fe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(Fe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}(t.dsn):Le&&Fe.warn("No DSN provided, client will not send events."),this._dsn){const r=(e=this._dsn,n=t._metadata?t._metadata.sdk:void 0,t.tunnel||`${function(t){return`${function(t){return`${t.protocol?`${t.protocol}:`:""}//${t.host}${t.port?`:${t.port}`:""}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/`}(e)}?${function(t,e){const n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}(e,n)}`);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}var e,n;this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&ut(this,"afterCaptureLog","flushLogs",ht,Z),(this._options.enableMetrics??this._options._experiments?.enableMetrics??1)&&ut(this,"afterCaptureMetric","flushMetrics",dt,tt)}captureException(t,e,n){const r=rn();if(mn(t))return Le&&Fe.log(or),r;const o={event_id:r,...e};return this._process(()=>this.eventFromException(t,o).then(t=>this._captureEvent(t,o,n)).then(t=>t),"error"),o.event_id}captureMessage(t,e,n,r){const o={event_id:rn(),...n},s=bn(t)?t:String(t),i=En(t),a=i?this.eventFromMessage(s,e,o):this.eventFromException(t,o);return this._process(()=>a.then(t=>this._captureEvent(t,o,r)),i?"unknown":"error"),o.event_id}captureEvent(t,e,n){const r=rn();if(e?.originalException&&mn(e.originalException))return Le&&Fe.log(or),r;const o={event_id:r,...e},s=t.sdkProcessingMetadata||{},i=s.capturedSpanScope,a=s.capturedSpanIsolationScope,c=pt(t.type);return this._process(()=>this._captureEvent(t,o,i||n,a),c),o.event_id}captureSession(t){this.sendSession(t),ln(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const e=this._transport;if(!e)return!0;this.emit("flush");const n=await this._isClientDoneProcessing(t),r=await e.flush(t);return n&&r}async close(t){const e=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),e}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];gn(this,t,this._integrations),e||_n(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=function(t,e,n,r){const o=A(n),s=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){if(!e)return t;const n=t.sdk||{};t.sdk={...n,name:n.name||e.name,version:n.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0}}(t,n?.sdk);const i=function(t,e,n,r){const o=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:p(r)},...o&&{trace:o}}}(t,o,r,e);return delete t.sdkProcessingMetadata,N(i,[[{type:s},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const r of e.attachments||[])n=T(n,P(r));this.sendEnvelope(n).then(e=>this.emit("afterSendEvent",t,e))}sendSession(t){const{release:e,environment:n=Vn}=this._options;if("aggregates"in t){const r=t.attrs||{};if(!r.release&&!e)return void(Le&&Fe.warn(sr));r.release=r.release||e,r.environment=r.environment||n,t.attrs=r}else{if(!t.release&&!e)return void(Le&&Fe.warn(sr));t.release=t.release||e,t.environment=t.environment||n}this.emit("beforeSendSession",t);const r=function(t,e,n,r){const o=A(n);return N({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&e&&{dsn:p(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,e,n=1){if(this._options.sendClientReports){const r=`${t}:${e}`;Le&&Fe.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(t,e){const n=this._hooks[t]=this._hooks[t]||new Set,r=(...t)=>e(...t);return n.add(r),()=>{n.delete(r)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach(t=>t(...e))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(e){return Le&&Fe.error("Error while sending envelope:",e),{}}return Le&&Fe.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=yn(this,t),_n(this,t)}_updateSessionFromEvent(t,e){let n="fatal"===e.level,r=!1;const o=e.exception?.values;if(o){r=!0,n=!1;for(const t of o)if(!1===t.mechanism?.handled){n=!0;break}}const s="ok"===t.status;(s&&0===t.errors||s&&n)&&(ln(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}async _isClientDoneProcessing(t){let e=0;for(;!t||t>e;){if(await new Promise(t=>setTimeout(t,1)),!this._numProcessing)return!0;e++}return!1}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r){const o=this.getOptions(),s=Object.keys(this._integrations);return!e.integrations&&s?.length&&(e.integrations=s),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),function(t,e,n,r,o,s){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||rn(),timestamp:e.timestamp||nn()},u=n.integrations||t.integrations.map(t=>t.name);!function(t,e){const{environment:n,release:r,dist:o,maxValueLength:s}=e;t.environment=t.environment||n||Vn,!t.release&&r&&(t.release=r),!t.dist&&o&&(t.dist=o);const i=t.request;i?.url&&s&&(i.url=an(i.url,s)),s&&t.exception?.values?.forEach(t=>{t.value&&(t.value=an(t.value,s))})}(c,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(c,u),o&&o.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){const n=function(t){const e=He._sentryDebugIds,n=He._debugIds;if(!e&&!n)return{};const r=e?Object.keys(e):[],o=n?Object.keys(n):[];if(er&&r.length===Qn&&o.length===tr)return er;Qn=r.length,tr=o.length,er={},Zn||(Zn={});const s=(e,n)=>{for(const r of e){const e=n[r],o=Zn?.[r];if(o&&er&&e)er[o[0]]=e,Zn&&(Zn[r]=[o[0],e]);else if(e){const n=t(r);for(let t=n.length-1;t>=0;t--){const o=n[t],s=o?.filename;if(s&&er&&Zn){er[s]=e,Zn[r]=[s,e];break}}}}};return e&&s(r,e),n&&s(o,n),er}(e);t.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(t=>{t.filename&&(t.debug_id=n[t.filename])})})}(c,t.stackParser);const p=function(t,e){if(!e)return t;const n=t?t.clone():new cn;return n.update(e),n}(r,n.captureContext);n.mechanism&&on(c,n.mechanism);const f=o?o.getEventProcessors():[],l=sn().getScopeData();s&&H(l,s.getScopeData()),p&&H(l,p.getScopeData());const h=[...n.attachments||[],...l.attachments];return h.length&&(n.attachments=h),function(t,e){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:s}=e;!function(t,e){const{extra:n,tags:r,user:o,contexts:s,level:i,transactionName:a}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(r).length&&(t.tags={...r,...t.tags}),Object.keys(o).length&&(t.user={...o,...t.user}),Object.keys(s).length&&(t.contexts={...s,...t.contexts}),i&&(t.level=i),a&&"transaction"!==t.type&&(t.transaction=a)}(t,e),r&&function(t,e){t.contexts={trace:d(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:k(e),...t.sdkProcessingMetadata};const n=_(v(e)).description;n&&!t.transaction&&"transaction"===t.type&&(t.transaction=n)}(t,r),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,o),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,s)}(c,l),F([...f,...l.eventProcessors],c,n).then(t=>(t&&function(t){const e={};if(t.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)})}),0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})})}(t),"number"==typeof i&&i>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>({...t,...t.data&&{data:O(t.data,e,n)}}))},...t.user&&{user:O(t.user,e,n)},...t.contexts&&{contexts:O(t.contexts,e,n)},...t.extra&&{extra:O(t.extra,e,n)}};return t.contexts?.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=O(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(t=>({...t,...t.data&&{data:O(t.data,e,n)}}))),t.contexts?.flags&&r.contexts&&(r.contexts.flags=O(t.contexts.flags,3,n)),r}(t,i,a):t))}(o,t,e,n,this,r).then(t=>{if(null===t)return t;this.emit("postprocessEvent",t,e),t.contexts={trace:vn(n),...t.contexts};const r=function(t,e){const n=e.getPropagationContext();return n.dsc||$(n.traceId,t)}(this,n);return t.sdkProcessingMetadata={dynamicSamplingContext:r,...t.sdkProcessingMetadata},t})}_captureEvent(t,e={},n=pn(),r=un()){return Le&&ft(t)&&Fe.log(`Captured error event \`${ot(t)[0]||"<unknown>"}\``),this._processEvent(t,e,n,r).then(t=>t.event_id,t=>{Le&&(ct(t)?Fe.log(t.message):at(t)?Fe.warn(t.message):Fe.warn(t))})}_processEvent(t,e,n,r){const o=this.getOptions(),{sampleRate:s}=o,i=lt(t),a=ft(t),c=`before send for type \`${t.type||"error"}\``,u=void 0===s?void 0:function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;return"number"!=typeof e||isNaN(e)||0>e||e>1?void 0:e}(s);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error"),L(it(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));const p=pt(t.type);return this._prepareEvent(t,e,n,r).then(t=>{if(null===t)throw this.recordDroppedEvent("event_processor",p),it("An event processor returned `null`, will not send event.");return e.data&&!0===e.data.__sentry__?t:function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(tn(t))return t.then(t=>{if(!wn(t)&&null!==t)throw st(n);return t},t=>{throw st(`${e} rejected with ${t}`)});if(!wn(t)&&null!==t)throw st(n);return t}(function(t,e,n,r){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i,ignoreSpans:a}=e;let c=n;if(ft(c)&&o)return o(c,r);if(lt(c)){if(i||a){const e=function(t){const{trace_id:e,parent_span_id:n,span_id:r,status:o,origin:s,data:i,op:a}=t.contexts?.trace??{};return{data:i??{},description:t.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:s,profile_id:i?.[Gn],exclusive_time:i?.[Jn],measurements:t.measurements,is_segment:!0}}(c);if(a?.length&&w(e,a))return null;if(i){const t=i(e);t?c=en(n,{type:"transaction",timestamp:(u=t).timestamp,start_timestamp:u.start_timestamp,transaction:u.description,contexts:{trace:{trace_id:u.trace_id,span_id:u.span_id,parent_span_id:u.parent_span_id,op:u.op,status:u.status,origin:u.origin,data:{...u.data,...u.profile_id&&{[Gn]:u.profile_id},...u.exclusive_time&&{[Jn]:u.exclusive_time}}}},measurements:u.measurements}):b()}if(c.spans){const e=[],n=c.spans;for(const t of n)if(a?.length&&w(t,a))S(n,t);else if(i){const n=i(t);n?e.push(n):(b(),e.push(t))}else e.push(t);const r=c.spans.length-e.length;r&&t.recordDroppedEvent("before_send","span",r),c.spans=e}}if(s)return c.spans&&(c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c.spans.length}),s(c,r)}var u;return c}(this,o,t,e),c)}).then(o=>{if(null===o)throw this.recordDroppedEvent("before_send",p),i&&this.recordDroppedEvent("before_send","span",1+(t.spans||[]).length),it(`${c} returned \`null\`, will not send event.`);const s=n.getSession()||r.getSession();if(a&&s&&this._updateSessionFromEvent(s,o),i){const t=(o.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const u=o.transaction_info;if(i&&u&&o.transaction!==t.transaction){const t="custom";o.transaction_info={...u,source:t}}return this.sendEvent(o,e),o}).then(null,t=>{if(ct(t)||at(t))throw t;throw this.captureException(t,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:t}),st(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)})}_process(t,e){this._numProcessing++,this._promiseBuffer.add(t).then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t===rr&&this.recordDroppedEvent("queue_overflow",e),t))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([t,e])=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e}})}_flushOutcomes(){Le&&Fe.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(Le&&Fe.log("No outcomes to send"));if(!this._dsn)return void(Le&&Fe.log("No dsn provided, will not send outcomes"));Le&&Fe.log("Sending outcomes:",t);const e=(n=t,N((r=this._options.tunnel&&p(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:nn(),discarded_events:n}]]));var n,r;this.sendEnvelope(e)}}const ur=100;let pr;const fr=new WeakMap,lr=xn(()=>({name:"FunctionToString",setupOnce(){pr=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=$n(this),n=fr.has(We())&&void 0!==e?e:this;return pr.apply(n,t)}}catch{}},setup(t){fr.set(t,!0)}})),dr=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],hr=xn((t={})=>{let e;return{name:"EventFilters",setup(n){const r=n.getOptions();e=wt(t,r)},processEvent(n,r,o){if(!e){const n=o.getOptions();e=wt(t,n)}return function(t,e){if(t.type){if("transaction"===t.type&&function(t,e){if(!e?.length)return!1;const n=t.transaction;return!!n&&On(n,e)}(t,e.ignoreTransactions))return Le&&Fe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${kn(t)}`),!0}else{if(function(t,e){return!!e?.length&&ot(t).some(t=>On(t,e))}(t,e.ignoreErrors))return Le&&Fe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${kn(t)}`),!0;if(function(t){return!!t.exception?.values?.length&&!t.message&&!t.exception.values.some(t=>t.stacktrace||t.type&&"Error"!==t.type||t.value)}(t))return Le&&Fe.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${kn(t)}`),!0;if(function(t,e){if(!e?.length)return!1;const n=St(t);return!!n&&On(n,e)}(t,e.denyUrls))return Le&&Fe.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${kn(t)}.\nUrl: ${St(t)}`),!0;if(!function(t,e){if(!e?.length)return!0;const n=St(t);return!n||On(n,e)}(t,e.allowUrls))return Le&&Fe.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${kn(t)}.\nUrl: ${St(t)}`),!0}return!1}(n,e)?null:n}}}),mr=xn((t={})=>({...hr(t),name:"InboundFilters"})),gr=xn(()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(t,e){return!(!e||!function(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!It(t,e)||!Tt(t,e))}(t,e)&&!function(t,e){const n=Rt(e),r=Rt(t);return!!(n&&r&&n.type===r.type&&n.value===r.value&&It(t,e)&&Tt(t,e))}(t,e))}(e,t))return Le&&Fe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),_r=He,yr=He;let vr=0;const br=Object.prototype.toString,Er="object"==typeof globalThis&&Xt(globalThis)||"object"==typeof window&&Xt(window)||"object"==typeof self&&Xt(self)||"object"==typeof global&&Xt(global)||function(){return this}()||{},wr=Zt(),Sr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,xr=["debug","info","warn","error","log","assert","trace"],$r={},kr=function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return xr.forEach(Sr?n=>{e[n]=(...e)=>{t&&oe(()=>{Er.console[n](`Sentry Logger [${n}]:`,...e)})}}:t=>{e[t]=()=>{}}),e}(),Or="<anonymous>",jr={},Dr={},Nr=Zt();let Tr=null,Ir=null;const Rr=Zt(),Cr=Er;let Pr;const Mr=Er,Ar="__sentry_xhr_v3__";var Ur;!function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(Ur||(Ur={}));class Lr{constructor(t){Lr.prototype.__init.call(this),Lr.prototype.__init2.call(this),Lr.prototype.__init3.call(this),Lr.prototype.__init4.call(this),this._state=Ur.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new Lr((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(o){r(o)}else n(e)},t=>{if(e)try{n(e(t))}catch(o){r(o)}else r(t)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new Lr((e,n)=>{let r,o;return this.then(e=>{o=!1,r=e,t&&t()},e=>{o=!0,r=e,t&&t()}).then(()=>{o?n(r):e(r)})})}__init(){this._resolve=t=>{this._setResult(Ur.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Ur.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===Ur.PENDING&&(Wt(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Ur.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(t=>{t[0]||(this._state===Ur.RESOLVED&&t[1](this._value),this._state===Ur.REJECTED&&t[2](this._value),t[0]=!0)})}}}const Fr=function(){const{performance:t}=Er;if(!t||!t.now)return Re;const e=Date.now()-t.now(),n=null==t.timeOrigin?e:t.timeOrigin;return()=>(n+t.now())/1e3}(),Br=(()=>{const{performance:t}=Er;if(!t||!t.now)return;const e=36e5,n=t.now(),r=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=e>o,i=t.timing&&t.timing.navigationStart,a="number"==typeof i?Math.abs(i+n-r):e;return s||e>a?o>a?i:t.timeOrigin:r})(),Hr="baggage",qr="sentry-",Gr=/^sentry-/,Jr=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");export{te as $,gr as A,W as B,cr as C,Qt as D,kr as E,Wt as F,Fr as G,he as H,ce as I,Ae as J,me as K,zt as L,Re as M,Er as N,oe as O,Ee as P,Se as Q,ae as R,Lr as S,Yt as T,se as U,Ue as V,yr as W,pe as X,Br as Y,Ie as Z,Z as _,bt as a,re as a0,Ce as a1,Kt as a2,Hr as a3,_e as a4,Oe as a5,Ar as a6,Vt as a7,$e as a8,Me as a9,ne as aa,De as ab,Te as ac,Ne as ad,J as ae,G as af,tt as b,vt as c,rt as d,jt as e,Mt as f,Ft as g,Et as h,Ct as i,Y as j,X as k,r as l,nt as m,j as n,s as o,yt as p,Bt as q,U as r,Nt as s,z as t,qt as u,xt as v,Ht as w,_t as x,mr as y,lr as z};
