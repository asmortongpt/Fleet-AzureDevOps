function e(e){const k=x().drivers||[],{openInspect:P}=h(),[W,A]=s.useState("overview"),[$,z]=s.useState("month"),[E,L]=s.useState(null),[V,q]=s.useState(!1),B=s.useMemo(()=>k.map(e=>({...e,trips:Math.floor(200*Math.random()+50),miles:Math.floor(5e3*Math.random()+1e3),fuelEfficiency:Math.floor(10*Math.random()+20),incidents:Math.floor(5*Math.random()),onTimeDelivery:Math.floor(20*Math.random()+80),violations:Math.floor(3*Math.random()),overallScore:Math.floor(30*Math.random()+70),trend:Math.random()>.5?"up":"down"})),[k]),F=s.useMemo(()=>[...B].sort((e,s)=>s.safetyScore-e.safetyScore).slice(0,5),[B]),O=s.useMemo(()=>B.filter(e=>e.incidents>2||75>e.safetyScore),[B]),G=s.useMemo(()=>{const e=B.reduce((e,s)=>e+s.trips,0),s=B.reduce((e,s)=>e+s.miles,0),t=B.length>0?Math.round(B.reduce((e,s)=>e+s.safetyScore,0)/B.length):0,a=B.reduce((e,s)=>e+s.incidents,0);return{totalDrivers:k.length,activeDrivers:k.filter(e=>"active"===e.status).length,totalTrips:e,totalMiles:s,avgSafetyScore:t,totalIncidents:a}},[k,B]),K=s.useMemo(()=>[{name:"Week 1",score:85},{name:"Week 2",score:88},{name:"Week 3",score:87},{name:"Week 4",score:92}],[]),Q=e=>90>e?75>e?60>e?"text-destructive":"text-warning":"text-accent":"text-success",Y=e=>90>e?75>e?60>e?{label:"Needs Improvement",color:"bg-destructive/10 text-destructive border-destructive/20"}:{label:"Fair",color:"bg-warning/10 text-warning border-warning/20"}:{label:"Good",color:"bg-accent/10 text-accent border-accent/20"}:{label:"Excellent",color:"bg-success/10 text-success border-success/20"};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Driver Performance"}),t.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor and analyze driver metrics and safety scores"})]}),t.jsxs(M,{value:$,onValueChange:z,children:[t.jsx(T,{className:"w-[180px]",children:t.jsx(D,{placeholder:"Time Period"})}),t.jsxs(I,{children:[t.jsx(C,{value:"week",children:"This Week"}),t.jsx(C,{value:"month",children:"This Month"}),t.jsx(C,{value:"quarter",children:"This Quarter"}),t.jsx(C,{value:"year",children:"This Year"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(m,{title:"Total Drivers",value:G.totalDrivers,subtitle:`${G.activeDrivers} active`,icon:t.jsx(a,{className:"w-5 h-5"}),status:"info"}),t.jsx(m,{title:"Avg Safety Score",value:G.avgSafetyScore,subtitle:"fleet average",icon:t.jsx(r,{className:"w-5 h-5"}),status:85>G.avgSafetyScore?"warning":"success"}),t.jsx(m,{title:"Total Trips",value:G.totalTrips.toLocaleString(),subtitle:"completed",icon:t.jsx(l,{className:"w-5 h-5"}),status:"info"}),t.jsx(m,{title:"Total Incidents",value:G.totalIncidents,subtitle:"reported",icon:t.jsx(i,{className:"w-5 h-5"}),status:10>G.totalIncidents?"success":"warning"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsx(o,{title:"Safety Score Trend",type:"line",data:K,dataKey:"score",color:"hsl(var(--accent))",height:280})}),t.jsxs(j,{children:[t.jsx(u,{children:t.jsxs(f,{className:"flex items-center gap-2",children:[t.jsx(c,{className:"w-5 h-5 text-warning"}),"Top Performers"]})}),t.jsx(p,{children:t.jsx("div",{className:"space-y-4",children:F.map((e,s)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm "+(0===s?"bg-warning/20 text-warning":1===s?"bg-muted-foreground/20 text-muted-foreground":"bg-accent/20 text-accent"),children:s+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:e.department})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:`font-semibold ${Q(e.safetyScore)}`,children:e.safetyScore})})]},e.id))})})]})]}),t.jsxs(g,{value:W,onValueChange:A,children:[t.jsxs(v,{className:"grid w-full grid-cols-3",children:[t.jsx(N,{value:"overview",children:"All Drivers"}),t.jsx(N,{value:"top",children:"Top Performers"}),t.jsx(N,{value:"attention",children:"Needs Attention"})]}),t.jsx(b,{value:"overview",className:"space-y-4 mt-6",children:t.jsx("div",{className:"grid grid-cols-1 gap-4",children:B.map(e=>{const s=Y(e.safetyScore);return t.jsx(j,{children:t.jsx(p,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex gap-4 flex-1",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-semibold",children:e.name.split(" ").map(e=>e[0]).join("")}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"font-semibold text-lg",children:e.name}),t.jsx(y,{className:s.color,children:s.label}),"up"===e.trend&&t.jsx(n,{className:"w-4 h-4 text-success",weight:"bold"})]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[e.employeeId," • ",e.department," • ",e.licenseType]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Safety Score"}),t.jsx("p",{className:`font-semibold text-lg ${Q(e.safetyScore)}`,children:e.safetyScore})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Total Trips"}),t.jsx("p",{className:"font-semibold text-lg",children:e.trips})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Miles Driven"}),t.jsx("p",{className:"font-semibold text-lg",children:(e.miles||0).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Incidents"}),t.jsx("p",{className:"font-semibold text-lg "+(e.incidents>2?"text-destructive":""),children:e.incidents})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"On-Time Delivery"}),t.jsxs("span",{className:"text-xs font-medium",children:[e.onTimeDelivery,"%"]})]}),t.jsx(w,{value:e.onTimeDelivery,className:"h-2"})]})]})]}),t.jsx(S,{variant:"outline",size:"sm",onClick:()=>{P({type:"driver",id:e.id}),L({id:e.id,name:e.name,employeeId:e.employeeId,department:e.department,licenseType:e.licenseType,status:e.status,safetyScore:e.safetyScore}),q(!0)},children:"View Details"})]})})},e.id)})})}),t.jsx(b,{value:"top",className:"space-y-4 mt-6",children:t.jsx("div",{className:"grid grid-cols-1 gap-4",children:F.map((e,s)=>{const a=Y(e.safetyScore);return t.jsx(j,{children:t.jsx(p,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl "+(0===s?"bg-warning/20 text-warning":1===s?"bg-muted-foreground/20 text-muted-foreground":"bg-accent/20 text-accent"),children:s+1}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[t.jsx("h3",{className:"font-semibold text-lg",children:e.name}),t.jsx(y,{className:a.color,children:a.label})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Safety Score: ",t.jsx("span",{className:`font-semibold ${Q(e.safetyScore)}`,children:e.safetyScore})," • ",e.trips," trips • ",(e.miles||0).toLocaleString()," miles"]})]}),t.jsx(c,{className:"w-8 h-8 text-warning",weight:"fill"})]})})},e.id)})})}),t.jsx(b,{value:"attention",className:"space-y-4 mt-6",children:0===O.length?t.jsx(j,{children:t.jsxs(p,{className:"p-12 text-center",children:[t.jsx(d,{className:"w-12 h-12 mx-auto text-success mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"All drivers are performing well!"})]})}):t.jsx("div",{className:"grid grid-cols-1 gap-4",children:O.map(e=>t.jsx(j,{children:t.jsx(p,{className:"p-6",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex gap-4 flex-1",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-destructive/10 text-destructive flex items-center justify-center",children:t.jsx(i,{className:"w-6 h-6",weight:"fill"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-lg mb-1",children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.department}),t.jsx("div",{className:"space-y-2"})]})]})})})},e.id))})})]})]})}import{r as s,j as t,b4 as a,aO as r,bB as l,C as i,aN as c,b5 as n,ah as d}from"./react-core-hQu9tqS1.js";import{C as o}from"./ChartCard-DFH6_mI0.js";import{M as m}from"./MetricCard-pRY2Qop8.js";import{u as x,g as h,C as j,d as u,e as f,f as p,T as g,a as v,b as N,c as b,B as y,P as w,h as S}from"./index-BDwglPMF.js";import{S as M,a as T,b as D,c as I,d as C}from"./select-Bmd3s7f4.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./animation-vendor-Cf_i_fm0.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";export{e as DriverPerformance};
