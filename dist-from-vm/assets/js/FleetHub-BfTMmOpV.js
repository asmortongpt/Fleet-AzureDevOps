const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/three-helpers-DedzJcO9.js","assets/js/react-core-hQu9tqS1.js","assets/js/lazy-modules-Bs19xeuI.js","assets/js/form-vendor-DKCvS-hL.js","assets/js/chart-vendor-DWRb53_H.js","assets/js/utils-vendor-Bojdf5C8.js","assets/js/mui-core-BKffG9O1.js","assets/js/three-core-ZrcxJ5g9.js","assets/js/three-react-B1s7Iy2r.js","assets/js/LiveFleetDashboard-4P0eraFq.js","assets/js/react-router-cBrq_s0x.js","assets/js/MapFirstLayout-DjypJrVA.js","assets/js/sheet-B4c1gADU.js","assets/js/ui-dialogs-C2yTnBPV.js","assets/js/ui-radix-C-X5Qx_8.js","assets/js/index-BDwglPMF.js","assets/js/query-vendor--Fe2N4Al.js","assets/js/animation-vendor-Cf_i_fm0.js","assets/js/date-vendor-npJ7nI92.js","assets/js/ui-menus--48tEbqQ.js","assets/css/index-Bc55fxkl.css","assets/js/ProfessionalFleetMap-CXhovPIf.js","assets/js/switch-9MiV1CpI.js","assets/js/label-C9sYRYKW.js","assets/js/index-savvei9t.js","assets/js/select-Bmd3s7f4.js","assets/js/textarea-BOBjqKNu.js","assets/js/separator-Dey2K2dP.js","assets/js/VehicleTelemetry-N30Mla0T.js","assets/js/UniversalMap-ZyGzQ1ui.js","assets/js/GoogleMap-BAYip6gy.js","assets/js/table-_lE51wjz.js","assets/js/VirtualGarage-DaoxvrAF.js","assets/js/EVChargingManagement-k47oCseS.js"])))=>i.map(i=>d[i]);
function e(){return i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsx(_,{className:"h-6 w-1/4"}),i.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[i.jsx(_,{className:"h-20"}),i.jsx(_,{className:"h-20"}),i.jsx(_,{className:"h-20"}),i.jsx(_,{className:"h-20"})]})]})}function t(){const{push:e}=w();return i.jsxs("div",{className:"p-4 space-y-4 bg-gradient-to-b from-slate-900/50 to-transparent h-full overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-white",children:"Fleet Overview"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Real-time fleet status • Click metrics for details"})]}),i.jsx(k,{status:"online",label:"Live"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[i.jsx(E,{title:"Vehicles",value:"156",subtitle:"12 new this month",trend:"up",trendValue:"+8%",variant:"primary",icon:i.jsx(j,{className:"w-5 h-5"}),onClick:()=>{e({id:"fleet-overview",type:"fleet-overview",label:"Fleet Overview",data:{filter:"all"}})},drilldownLabel:"View all fleet vehicles"}),i.jsx(E,{title:"Active",value:"142",subtitle:"91% of fleet",trend:"up",trendValue:"+3",variant:"success",icon:i.jsx(b,{className:"w-5 h-5"}),onClick:()=>{e({id:"active-vehicles",type:"active-vehicles",label:"Active Vehicles",data:{filter:"active",status:"active"}})},drilldownLabel:"View active vehicles on map"}),i.jsx(E,{title:"Maintenance",value:"8",subtitle:"5.1% of fleet",trend:"down",trendValue:"-2",variant:"warning",icon:i.jsx(f,{className:"w-5 h-5"}),onClick:()=>{e({id:"maintenance",type:"maintenance",label:"Maintenance Overview",data:{filter:"maintenance"}})},drilldownLabel:"View maintenance work orders"}),i.jsx(E,{title:"Fuel Today",value:"$2,450",subtitle:"Est. daily",variant:"default",icon:i.jsx(v,{className:"w-5 h-5"}),onClick:()=>{e({id:"fuel-stats",type:"fuel-stats",label:"Fuel Stats",data:{view:"fuel"}})},drilldownLabel:"View fuel consumption details"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 to-slate-900/60 backdrop-blur-xl rounded-lg border border-slate-700/50 p-3 flex items-center gap-4 cursor-pointer hover:border-blue-500/30 hover:scale-[1.01] transition-all",onClick:()=>e({id:"utilization",type:"utilization",label:"Fleet Utilization Details",data:{view:"utilization"}}),role:"button",tabIndex:0,children:[i.jsx(C,{progress:87,color:"blue",label:"Utilized"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-medium text-slate-400 uppercase",children:"Fleet Utilization"}),i.jsx("p",{className:"text-lg font-bold text-white",children:"87%"}),i.jsx("p",{className:"text-[10px] text-slate-500",children:"vs 82% last week • Click for details"})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 to-slate-900/60 backdrop-blur-xl rounded-lg border border-slate-700/50 p-3",children:[i.jsx("h3",{className:"text-xs font-medium text-slate-400 uppercase mb-2",children:"Performance"}),i.jsx(T,{label:"Miles/Day",value:"245",trend:"up",onClick:()=>e({id:"miles-day",type:"miles-day",label:"Daily Mileage Analysis",data:{metricType:"miles-day"}})}),i.jsx(T,{label:"On-Time",value:"94.2%",trend:"up",onClick:()=>e({id:"on-time",type:"on-time",label:"On-Time Performance",data:{metricType:"on-time"}})}),i.jsx(T,{label:"Idle Time",value:"12.3%",trend:"down",onClick:()=>e({id:"idle-time",type:"idle-time",label:"Idle Time Analysis",data:{metricType:"idle-time"}})}),i.jsx(T,{label:"MPG Avg",value:"18.4",trend:"up",onClick:()=>e({id:"mpg",type:"mpg",label:"Fuel Efficiency Report",data:{metricType:"mpg"}})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 to-slate-900/60 backdrop-blur-xl rounded-lg border border-slate-700/50 p-3 flex items-center gap-4 cursor-pointer hover:border-emerald-500/30 hover:scale-[1.01] transition-all",onClick:()=>e({id:"safety-score",type:"safety-score",label:"Safety Score Breakdown",data:{view:"safety"}}),role:"button",tabIndex:0,children:[i.jsx(C,{progress:92,color:"green",label:"Score"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-medium text-slate-400 uppercase",children:"Safety Score"}),i.jsx("p",{className:"text-lg font-bold text-white",children:"92/100"}),i.jsx("p",{className:"text-[10px] text-slate-500",children:"47 days incident-free • Click for details"})]})]})]})]})}function a({camera:e}){const t=g.useRef(null),[a,s]=g.useState(!1);return g.useEffect(()=>{if(!e.streamUrl||!t.current)return;const a=t.current;e.streamUrl.endsWith(".m3u8")?a.canPlayType("application/vnd.apple.mpegurl")?a.src=e.streamUrl:r(async()=>{const{default:e}=await import("./three-helpers-DedzJcO9.js").then(e=>e.h);return{default:e}},__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(({default:t})=>{if(t.isSupported()){const l=new t;l.loadSource(e.streamUrl),l.attachMedia(a),l.on(t.Events.ERROR,()=>s(!0))}}).catch(()=>s(!0)):a.src=e.streamUrl,a.play().catch(()=>{})},[e.streamUrl]),i.jsxs("div",e.streamUrl&&"offline"!==e.status?{className:"aspect-video bg-black relative overflow-hidden",children:[a?i.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-500",children:i.jsx(h,{className:"w-8 h-8"})}):i.jsx("video",{ref:t,className:"w-full h-full object-cover",muted:!0,playsInline:!0,autoPlay:!0}),i.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full "+("recording"===e.status?"bg-red-500 animate-pulse":"bg-yellow-500")}),i.jsx("span",{className:"text-[10px] text-white font-medium",children:"recording"===e.status?"LIVE":"BUFFERING"})]}),i.jsx("span",{className:"absolute bottom-2 left-2 text-xs text-white/70 drop-shadow",children:e.id})]}:{className:"aspect-video bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center relative",children:[i.jsx(h,{className:"w-8 h-8 text-slate-600"}),i.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"}),i.jsx("span",{className:"text-[10px] text-white font-medium",children:"OFFLINE"})]}),i.jsx("span",{className:"absolute bottom-2 left-2 text-xs text-slate-400",children:e.id})]})}function s(){return i.jsxs("div",{className:"p-4 space-y-4 bg-gradient-to-b from-slate-900/50 to-transparent h-full",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-bold text-white",children:"Video Telematics"}),i.jsx(k,{status:"online",label:"Recording"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsx(E,{title:"Cameras",value:"148",variant:"success",icon:i.jsx(h,{className:"w-5 h-5"})}),i.jsx(E,{title:"Events Today",value:"23",variant:"warning"}),i.jsx(E,{title:"Storage",value:"2.4 TB",variant:"default"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[{id:"CAM-001",location:"Front Gate",status:"recording",streamUrl:void 0},{id:"CAM-002",location:"Loading Bay A",status:"recording",streamUrl:void 0},{id:"CAM-003",location:"Parking Lot",status:"recording",streamUrl:void 0},{id:"CAM-004",location:"Service Bay",status:"offline",streamUrl:void 0}].map(e=>i.jsxs("div",{className:"bg-slate-900 rounded-lg border border-slate-700 overflow-hidden cursor-pointer hover:border-blue-500/50 transition-colors",children:[i.jsx(a,{camera:e}),i.jsx("div",{className:"p-2 border-t border-slate-700",children:i.jsx("p",{className:"text-xs font-medium text-white",children:e.location})})]},e.id))}),i.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Configure camera stream URLs in the Video Management settings"})]})}function l(){const a=[{id:"map",label:"Live Map",icon:i.jsx(c,{className:"w-4 h-4"}),content:i.jsx(U,{tabName:"Live Map",children:i.jsx(o.Suspense,{fallback:i.jsx(e,{}),children:i.jsx(V,{})})})},{id:"overview",label:"Overview",icon:i.jsx(d,{className:"w-4 h-4"}),content:i.jsx(t,{})},{id:"telemetry",label:"Telemetry",icon:i.jsx(m,{className:"w-4 h-4"}),content:i.jsx(U,{tabName:"Telemetry",children:i.jsx(o.Suspense,{fallback:i.jsx(e,{}),children:i.jsx(L,{})})})},{id:"3d",label:"3D Garage",icon:i.jsx(x,{className:"w-4 h-4"}),content:i.jsx(U,{tabName:"3D Garage",children:i.jsx(o.Suspense,{fallback:i.jsx(e,{}),children:i.jsx(S,{})})})},{id:"video",label:"Video",icon:i.jsx(h,{className:"w-4 h-4"}),content:i.jsx(s,{})},{id:"ev",label:"EV Charging",icon:i.jsx(u,{className:"w-4 h-4"}),content:i.jsx(U,{tabName:"EV Charging",children:i.jsx(o.Suspense,{fallback:i.jsx(e,{}),children:i.jsx(F,{})})})}];return i.jsx(y,{title:"Fleet Hub",icon:i.jsx(n,{className:"w-6 h-6"}),description:"Fleet vehicles, tracking, and telemetry",tabs:a,defaultTab:"map"})}import{_ as r}from"./three-helpers-DedzJcO9.js";import{j as i,c5 as n,r as o,v as c,b9 as d,ak as m,dg as x,dh as h,bm as u,C as p,ab as j,at as b,b6 as f,ar as v,R as g}from"./react-core-hQu9tqS1.js";import{h as N,X as w}from"./index-BDwglPMF.js";import{H as y,S as k,a as E,P as C,Q as T}from"./stat-card-DHir2vxC.js";import{S as _}from"./skeleton-D5f7LGYG.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./mui-core-BKffG9O1.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./animation-vendor-Cf_i_fm0.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";const V=o.lazy(()=>r(()=>import("./LiveFleetDashboard-4P0eraFq.js"),__vite__mapDeps([9,1,2,3,4,5,6,10,11,12,13,14,0,7,8,15,16,17,18,19,20,21,22,23,24,25,26,27])).then(e=>({default:e.LiveFleetDashboard}))),L=o.lazy(()=>r(()=>import("./VehicleTelemetry-N30Mla0T.js"),__vite__mapDeps([28,1,2,3,4,5,6,24,29,30,15,10,16,0,7,8,14,13,17,18,19,20,25,31])).then(e=>({default:e.VehicleTelemetry}))),S=o.lazy(()=>r(()=>import("./VirtualGarage-DaoxvrAF.js"),__vite__mapDeps([32,0,1,2,3,4,5,6,7,8,16,15,10,14,13,17,18,19,20,25])).then(e=>({default:e.VirtualGarage}))),F=o.lazy(()=>r(()=>import("./EVChargingManagement-k47oCseS.js"),__vite__mapDeps([33,1,2,3,4,5,6,24,15,10,16,0,7,8,14,13,17,18,19,20,23,25,22,31])).then(e=>({default:e.EVChargingManagement})));class U extends o.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?i.jsx("div",{className:"flex flex-col items-center justify-center h-full p-8 bg-gradient-to-b from-slate-900/50 to-transparent",children:i.jsxs("div",{className:"bg-gradient-to-br from-amber-900/40 to-amber-950/60 rounded-xl border border-amber-500/30 p-8 text-center max-w-md",children:[i.jsx(p,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Tab Temporarily Unavailable"}),i.jsxs("p",{className:"text-sm text-slate-400 mb-4",children:["The ",this.props.tabName," feature is currently unavailable. Our team has been notified."]}),i.jsx(N,{onClick:()=>this.setState({hasError:!1,error:void 0}),variant:"outline",size:"sm",className:"border-amber-500/50 text-amber-300 hover:bg-amber-500/20",children:"Try Again"})]})}):this.props.children}}export{l as FleetHub,l as default};
