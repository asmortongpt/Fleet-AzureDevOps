function e(){const{data:e}=u(),{data:a}=p(),{data:i}=v(),{data:l}=f(),[r,n]=s.useState("executive");return t.jsxs("div",{className:"h-screen flex flex-col",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx(b,{value:r,onValueChange:e=>n(e),children:t.jsxs(g,{children:[t.jsx(N,{value:"executive",children:"Executive Dashboard"}),t.jsx(N,{value:"analysis",children:"Data Analysis"})]})})}),t.jsxs("div",{className:"flex-1 overflow-hidden",children:["executive"===r&&t.jsx(L,{vehicles:e||[],workOrders:a||[],_drivers:l}),"analysis"===r&&t.jsx(O,{vehicles:e||[],_workOrders:a,_facilities:i})]})]})}import{r as s,j as t,bF as a,aw as i,aI as l,dc as r,d6 as n,L as c,Q as d,aV as o,W as x,_ as h,aH as m,aC as j}from"./react-core-hQu9tqS1.js";import{r as u,V as p,x as v,Q as f,T as b,a as g,b as N,S as w,h as y,C as z,f as k,B as C,d as F,e as A,c as V,i as $}from"./index-BDwglPMF.js";import{S as P,a as S,b as U,c as D,d as T}from"./select-Bmd3s7f4.js";import{S as M}from"./separator-Dey2K2dP.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./animation-vendor-Cf_i_fm0.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";const L=({vehicles:e,workOrders:s})=>{const c=e?.length||0,u=e?.filter(e=>"active"===e.status).length||0,p=s?.filter(e=>"pending"===e.status).length||0,v=s?.filter(e=>"completed"===e.status).length||0,f=c>0?(u/c*100).toFixed(1):0,b=p+v>0?(v/(p+v)*100).toFixed(1):0,g=[{title:"Fleet Utilization",value:`${f}%`,trend:"+5.2%",isPositive:!0,icon:t.jsx(m,{className:"h-5 w-5 text-blue-400"}),bg:"from-blue-500/10 to-blue-500/5",border:"border-blue-500/20"},{title:"Active Vehicles",value:u,subtitle:`of ${c} total`,icon:t.jsx(d,{className:"h-5 w-5 text-emerald-400"}),bg:"from-emerald-500/10 to-emerald-500/5",border:"border-emerald-500/20"},{title:"Maintenance Completion",value:`${b}%`,trend:"+12.4%",isPositive:!0,icon:t.jsx(x,{className:"h-5 w-5 text-amber-400"}),bg:"from-amber-500/10 to-amber-500/5",border:"border-amber-500/20"},{title:"Avg Fuel Cost",value:"$3.45",trend:"-0.8%",isPositive:!0,icon:t.jsx(h,{className:"h-5 w-5 text-purple-400"}),bg:"from-purple-500/10 to-purple-500/5",border:"border-purple-500/20"},{title:"Total Cost/Mile",value:"$0.58",trend:"-2.3%",isPositive:!0,icon:t.jsx(o,{className:"h-5 w-5 text-indigo-400"}),bg:"from-indigo-500/10 to-indigo-500/5",border:"border-indigo-500/20"},{title:"Avg Response Time",value:"14.2 min",trend:"-18%",isPositive:!0,icon:t.jsx(j,{className:"h-5 w-5 text-cyan-400"}),bg:"from-cyan-500/10 to-cyan-500/5",border:"border-cyan-500/20"}];return t.jsx(w,{className:"h-full bg-[#0a0f1c]",children:t.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Executive Overview"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Real-time fleet performance metrics"})]}),t.jsxs(y,{variant:"outline",className:"border-white/10 bg-white/5 text-slate-300 hover:bg-white/10 hover:text-white",children:[t.jsx(a,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4","data-testid":"analytics-kpi-grid",children:g.map((e,s)=>t.jsx(z,{"data-testid":`analytics-kpi-${s}`,className:`bg-gradient-to-br ${e.bg} border-white/5 backdrop-blur-sm`,children:t.jsxs(k,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:`p-2 rounded-lg bg-white/5 border ${e.border||"border-white/10"}`,children:e.icon}),e.trend&&t.jsxs(C,{variant:"outline",className:"bg-black/20 border-white/10 "+(e.isPositive?"text-emerald-400":"text-red-400"),children:[t.jsx(e.isPositive?i:l,{className:"h-3 w-3 mr-1"}),e.trend]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-400 block mb-1",children:e.title}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("span",{className:"text-3xl font-bold text-white tracking-tight",children:e.value}),e.subtitle&&t.jsx("span",{className:"text-xs text-slate-500",children:e.subtitle})]})]})]})},s))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(z,{className:"bg-[#0f1526]/50 border-white/5 backdrop-blur-sm",children:[t.jsx(F,{children:t.jsx(A,{className:"text-lg font-semibold text-slate-200",children:"Fleet Utilization Trend"})}),t.jsx(k,{children:t.jsx("div",{className:"h-[250px] w-full bg-gradient-to-t from-blue-500/10 to-transparent rounded-lg border border-white/5 flex items-center justify-center text-slate-500",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(r,{className:"h-8 w-8 opacity-50"}),t.jsx("span",{className:"text-sm",children:"Utilization Data Visualization"})]})})})]}),t.jsxs(z,{className:"bg-[#0f1526]/50 border-white/5 backdrop-blur-sm",children:[t.jsx(F,{children:t.jsx(A,{className:"text-lg font-semibold text-slate-200",children:"Cost Distribution"})}),t.jsx(k,{children:t.jsx("div",{className:"h-[250px] w-full bg-gradient-to-t from-purple-500/10 to-transparent rounded-lg border border-white/5 flex items-center justify-center text-slate-500",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(n,{className:"h-8 w-8 opacity-50"}),t.jsx("span",{className:"text-sm",children:"Cost Breakdown Visualization"})]})})})]})]})]})})},O=({vehicles:e})=>{const[a,i]=s.useState("utilization"),[l,r]=s.useState("30d");return t.jsx(w,{className:"h-full",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Data Analysis"}),t.jsx("p",{className:"text-muted-foreground",children:"Detailed fleet analytics and insights"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(P,{value:l,onValueChange:r,children:[t.jsx(S,{className:"w-32","data-testid":"analytics-date-range",children:t.jsx(U,{})}),t.jsxs(D,{children:[t.jsx(T,{value:"7d",children:"Last 7 days"}),t.jsx(T,{value:"30d",children:"Last 30 days"}),t.jsx(T,{value:"90d",children:"Last 90 days"}),t.jsx(T,{value:"ytd",children:"Year to date"})]})]}),t.jsx(y,{variant:"outline",size:"icon",children:t.jsx(c,{className:"h-4 w-4"})})]})]}),t.jsxs(b,{value:a,onValueChange:i,children:[t.jsxs(g,{"data-testid":"analytics-metric-tabs",children:[t.jsx(N,{value:"utilization",children:"Utilization"}),t.jsx(N,{value:"costs",children:"Costs"}),t.jsx(N,{value:"maintenance",children:"Maintenance"}),t.jsx(N,{value:"fuel",children:"Fuel"})]}),t.jsx(V,{value:"utilization",className:"space-y-4",children:t.jsxs(z,{children:[t.jsxs(F,{children:[t.jsx(A,{children:"Fleet Utilization Analysis"}),t.jsx($,{children:"Vehicle usage patterns and efficiency metrics"})]}),t.jsx(k,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:[t.jsx(d,{className:"h-12 w-12 mr-3"}),t.jsx("span",{children:"Utilization charts will appear here"})]}),t.jsx(M,{}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold",children:e?.length||0}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Vehicles"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold",children:e?.filter(e=>"active"===e.status).length||0}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Now"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold",children:"72%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Utilization"})]})]})]})})]})}),t.jsx(V,{value:"costs",className:"space-y-4",children:t.jsxs(z,{children:[t.jsxs(F,{children:[t.jsx(A,{children:"Cost Analysis"}),t.jsx($,{children:"Total cost of ownership and operating expenses"})]}),t.jsx(k,{children:t.jsxs("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:[t.jsx(o,{className:"h-12 w-12 mr-3"}),t.jsx("span",{children:"Cost analysis charts will appear here"})]})})]})}),t.jsx(V,{value:"maintenance",className:"space-y-4",children:t.jsxs(z,{children:[t.jsxs(F,{children:[t.jsx(A,{children:"Maintenance Analytics"}),t.jsx($,{children:"Service trends and maintenance efficiency"})]}),t.jsx(k,{children:t.jsxs("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:[t.jsx(x,{className:"h-12 w-12 mr-3"}),t.jsx("span",{children:"Maintenance charts will appear here"})]})})]})}),t.jsx(V,{value:"fuel",className:"space-y-4",children:t.jsxs(z,{children:[t.jsxs(F,{children:[t.jsx(A,{children:"Fuel Analytics"}),t.jsx($,{children:"Fuel consumption and efficiency metrics"})]}),t.jsx(k,{children:t.jsxs("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:[t.jsx(h,{className:"h-12 w-12 mr-3"}),t.jsx("span",{children:"Fuel charts will appear here"})]})})]})})]})]})})};export{e as AnalyticsWorkspace,e as default};
