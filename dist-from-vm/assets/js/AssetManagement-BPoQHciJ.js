function e({totalAssets:e,activeAssets:s,maintenanceAssets:i,totalValue:n}){return t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(d,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:t.jsx(a,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:e}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Assets"})]})]})}),t.jsx(d,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:t.jsx(a,{className:"w-5 h-5 text-success"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:s}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active Assets"})]})]})}),t.jsx(d,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:t.jsx(r,{className:"w-5 h-5 text-warning"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:i}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"In Maintenance"})]})]})}),t.jsx(d,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:t.jsx(l,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:["$",n.toLocaleString()]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"})]})]})})]})}function s(){const{assets:s,loading:a}=function(){const[e,s]=i.useState([]),[t,a]=i.useState(!0);i.useEffect(()=>{r()},[]);const r=async()=>{try{a(!0);const e=await o.get("/api/assets");e?.data&&s(e.data)}catch(e){u.error("Failed to fetch assets:",e),f.error("Failed to load assets")}finally{a(!1)}};return{assets:e,loading:t,fetchAssets:r,addAsset:async e=>{try{const t=await o.post("/api/assets",e);if(t?.data)return s(e=>{const s=t.data;return s?[...e,s]:e}),f.success("Asset added successfully"),t.data}catch(t){throw u.error("Failed to add asset:",t),f.error("Failed to add asset"),t}},updateAsset:async(e,t)=>{try{const a=await o.put(`/api/assets/${e}`,t);if(a?.data)return s(s=>s.map(s=>s.id===e?{...s,...t}:s)),f.success("Asset updated successfully"),a.data}catch(a){throw u.error("Failed to update asset:",a),f.error("Failed to update asset"),a}},deleteAsset:async e=>{try{await o.delete(`/api/assets/${e}`),s(s=>s.filter(s=>s.id!==e)),f.success("Asset deleted successfully")}catch(t){throw u.error("Failed to delete asset:",t),f.error("Failed to delete asset"),t}}}}(),{searchTerm:r,setSearchTerm:l,filterType:L,setFilterType:V,filterStatus:M,setFilterStatus:I,filteredAssets:$,stats:k}=function(e){const[s,t]=i.useState(""),[a,r]=i.useState("all"),[l,n]=i.useState("all"),c=i.useMemo(()=>e.filter(e=>(e.asset_name?.toLowerCase().includes(s.toLowerCase())||e.asset_tag?.toLowerCase().includes(s.toLowerCase())||e.serial_number?.toLowerCase().includes(s.toLowerCase()))&&("all"===a||e.asset_type===a)&&("all"===l||e.status===l)),[e,s,a,l]),d=i.useMemo(()=>({totalAssets:e.length,activeAssets:e.filter(e=>"active"===e.status||"in_use"===e.status).length,maintenanceAssets:e.filter(e=>"maintenance"===e.status).length,totalValue:e.reduce((e,s)=>e+(s.current_value||0),0),assetsByType:e.reduce((e,s)=>(e[s.asset_type]=(e[s.asset_type]||0)+1,e),{}),assetsByStatus:e.reduce((e,s)=>(e[s.status]=(e[s.status]||0)+1,e),{})}),[e]);return{searchTerm:s,setSearchTerm:t,filterType:a,setFilterType:r,filterStatus:l,setFilterStatus:n,filteredAssets:c,stats:d}}(s),q=e=>{switch(e){case"active":case"in_use":return"bg-success/10 text-success border-success/20";case"maintenance":return"bg-warning/10 text-warning border-warning/20";case"retired":case"disposed":return"bg-muted text-muted-foreground";default:return"bg-primary/10 text-primary border-primary/20"}},B=e=>{switch(e){case"excellent":return"bg-success/10 text-success border-success/20";case"good":return"bg-primary/10 text-primary border-primary/20";case"fair":return"bg-warning/10 text-warning border-warning/20";case"poor":case"needs_repair":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-muted text-muted-foreground"}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("p",{className:"text-muted-foreground",children:"Loading assets..."})}):t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Asset Management"}),t.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage all organizational assets"})]}),t.jsxs(x,{children:[t.jsx(n,{className:"w-4 h-4 mr-2"}),"Add Asset"]})]}),t.jsx(e,{totalAssets:k.totalAssets,activeAssets:k.activeAssets,maintenanceAssets:k.maintenanceAssets,totalValue:k.totalValue}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(c,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(m,{placeholder:"Search by name, tag, or serial number...",value:r,onChange:e=>l(e.target.value),className:"pl-9"})]}),t.jsxs(v,{value:L,onValueChange:V,children:[t.jsx(N,{className:"w-full sm:w-40",children:t.jsx(y,{placeholder:"All Types"})}),t.jsxs(b,{children:[t.jsx(A,{value:"all",children:"All Types"}),t.jsx(A,{value:"vehicle",children:"Vehicles"}),t.jsx(A,{value:"equipment",children:"Equipment"}),t.jsx(A,{value:"technology",children:"Technology"}),t.jsx(A,{value:"furniture",children:"Furniture"})]})]}),t.jsxs(v,{value:M,onValueChange:I,children:[t.jsx(N,{className:"w-full sm:w-40",children:t.jsx(y,{placeholder:"All Status"})}),t.jsxs(b,{children:[t.jsx(A,{value:"all",children:"All Status"}),t.jsx(A,{value:"active",children:"Active"}),t.jsx(A,{value:"in_use",children:"In Use"}),t.jsx(A,{value:"maintenance",children:"Maintenance"}),t.jsx(A,{value:"retired",children:"Retired"})]})]})]}),t.jsxs(d,{children:[t.jsx(h,{children:t.jsxs(j,{children:["Assets (",$.length,")"]})}),t.jsx(p,{className:"p-0",children:t.jsxs(w,{children:[t.jsx(S,{children:t.jsxs(T,{children:[t.jsx(_,{children:"Asset Tag"}),t.jsx(_,{children:"Name"}),t.jsx(_,{children:"Type"}),t.jsx(_,{children:"Status"}),t.jsx(_,{children:"Condition"}),t.jsx(_,{children:"Location"}),t.jsx(_,{children:"Assigned To"}),t.jsx(_,{children:"Value"})]})}),t.jsxs(F,{children:[$.map(e=>t.jsxs(T,{className:"cursor-pointer hover:bg-muted/50",children:[t.jsx(C,{className:"font-medium",children:e.asset_tag}),t.jsx(C,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:e.asset_name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.manufacturer," ",e.model]})]})}),t.jsx(C,{children:t.jsx(g,{variant:"outline",children:e.asset_type})}),t.jsx(C,{children:t.jsx(g,{variant:"outline",className:q(e.status),children:e.status})}),t.jsx(C,{children:t.jsx(g,{variant:"outline",className:B(e.condition),children:e.condition})}),t.jsx(C,{children:e.location||"N/A"}),t.jsx(C,{children:e.assigned_to_name||"Unassigned"}),t.jsxs(C,{children:["$",e.current_value?.toLocaleString()||"0"]})]},e.id)),0===$.length&&t.jsx(T,{children:t.jsx(C,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No assets found"})})]})]})})]})]})}import{j as t,D as a,bk as r,aK as l,r as i,br as n,b8 as c}from"./react-core-hQu9tqS1.js";import{C as d,o,p as u,h as x,I as m,d as h,e as j,f as p,B as g}from"./index-BDwglPMF.js";import{t as f}from"./index-savvei9t.js";import{S as v,a as N,b as y,c as b,d as A}from"./select-Bmd3s7f4.js";import{T as w,a as S,b as T,c as _,d as F,e as C}from"./table-_lE51wjz.js";import"./lazy-modules-Bs19xeuI.js";import"./form-vendor-DKCvS-hL.js";import"./chart-vendor-DWRb53_H.js";import"./utils-vendor-Bojdf5C8.js";import"./mui-core-BKffG9O1.js";import"./react-router-cBrq_s0x.js";import"./query-vendor--Fe2N4Al.js";import"./three-helpers-DedzJcO9.js";import"./three-core-ZrcxJ5g9.js";import"./three-react-B1s7Iy2r.js";import"./ui-radix-C-X5Qx_8.js";import"./ui-dialogs-C2yTnBPV.js";import"./animation-vendor-Cf_i_fm0.js";import"./date-vendor-npJ7nI92.js";import"./ui-menus--48tEbqQ.js";export{s as AssetManagement,s as default};
