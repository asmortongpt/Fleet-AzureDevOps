# =============================================================================
# Capital Tech Alliance - CTADispatch Terraform Variables
# =============================================================================
# Production deployment configuration
# DO NOT commit this file to version control

# Azure Subscription
subscription_id = "021415c2-2f52-4a73-ae77-f8363165a5e1"  # Capital Tech Alliance subscription

# Resource Group
resource_group_name = "cta-dispatch-rg"
location            = "eastus2"  # Same region as existing CTA resources
location_short      = "eus2"     # Short code for eastus2

# Environment
environment = "production"

# Naming
project_name = "ctadispatch"
company_name = "cta"

# Tags
tags = {
  Organization = "Capital Tech Alliance"
  Application  = "CTADispatch"
  Environment  = "Production"
  ManagedBy    = "Terraform"
  CostCenter   = "Operations"
}

# Networking
vnet_address_space                     = ["10.2.0.0/16"]
aks_subnet_address_prefix              = "10.2.0.0/22"
data_subnet_address_prefix             = "10.2.4.0/24"
private_endpoint_subnet_address_prefix = "10.2.8.0/24"
postgres_subnet_address_prefix         = "10.2.4.0/24"
redis_subnet_address_prefix            = "10.2.5.0/24"

# AKS Configuration
aks_node_count                = 3
aks_node_vm_size             = "Standard_D4s_v3"
aks_min_node_count           = 2
aks_max_node_count           = 10
aks_enable_auto_scaling      = true
aks_network_plugin           = "azure"
aks_network_policy           = "azure"
aks_dns_service_ip           = "10.2.254.10"
aks_service_cidr             = "10.2.254.0/24"

# PostgreSQL Configuration
postgres_sku_name            = "GP_Standard_D4s_v3"  # General Purpose for production
postgres_storage_mb          = 131072  # 128 GB
postgres_backup_retention_days = 35
postgres_geo_redundant_backup = true
postgres_high_availability   = true
postgres_version             = "16"

# Redis Configuration
redis_sku_name    = "Premium"  # Premium tier for production
redis_family      = "P"
redis_capacity    = 1
redis_enable_non_ssl_port = false

# Azure Storage
storage_account_tier             = "Standard"
storage_account_replication_type = "GRS"  # Geo-redundant for production

# Service Bus
servicebus_sku = "Premium"

# Event Hubs
eventhub_sku      = "Standard"
eventhub_capacity = 2

# Application Insights
appinsights_retention_in_days = 90

# Key Vault
key_vault_sku_name                    = "premium"
key_vault_enable_rbac_authorization   = true
key_vault_purge_protection_enabled    = true
key_vault_soft_delete_retention_days  = 90

# Container Registry
acr_sku = "Premium"  # Premium for production with geo-replication

# Domain Configuration
domain_name = "capitaltechalliance.com"
subdomain   = "solutions"

# Monitoring
enable_container_insights = true
enable_diagnostic_settings = true

# Cost Management
enable_cost_alerts = true
monthly_budget = 1000  # USD

# Security
enable_private_endpoints = true
enable_network_watcher   = true
enable_ddos_protection   = true  # Enterprise security requirement
