# ===========================================
# Fleet Management System - Environment Variables
# ===========================================

# ------------------
# Frontend (Vite)
# ------------------
# Leave empty to use window.location.origin - API paths already include /api/
VITE_API_URL=
VITE_ENVIRONMENT=production

# Azure AD Authentication
VITE_AZURE_AD_CLIENT_ID=your-azure-ad-client-id
VITE_AZURE_AD_TENANT_ID=your-azure-ad-tenant-id
VITE_AZURE_AD_REDIRECT_URI=https://fleet-webapp.azurestaticapps.net/auth/callback

# Azure Maps (Frontend)
VITE_AZURE_MAPS_SUBSCRIPTION_KEY=your-azure-maps-key

# Feature Flags
VITE_ENABLE_AI_ASSISTANT=true
VITE_ENABLE_TEAMS_INTEGRATION=true
VITE_ENABLE_EMAIL_CENTER=true
VITE_ENABLE_DARK_MODE=true

# Azure Application Insights (Frontend Telemetry)
# Get this from Azure Portal > Application Insights > Properties > Connection String
VITE_APPLICATION_INSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://eastus2-3.in.applicationinsights.azure.com/

# App Version (auto-set during build)
VITE_APP_VERSION=1.0.0
VITE_BUILD_ID=local

# ------------------
# Backend API
# ------------------

# Server Configuration
PORT=3000
NODE_ENV=production

# Database (Choose one)
# Option A: Azure Cosmos DB
DATABASE_TYPE=cosmosdb
DATABASE_CONNECTION_STRING=AccountEndpoint=https://fleet-cosmosdb.documents.azure.com:443/;AccountKey=your-key;

# Option B: Azure SQL Database
# DATABASE_TYPE=sql
# DATABASE_CONNECTION_STRING=Server=tcp:fleet-sql-server.database.windows.net,1433;Database=fleet-db;User ID=fleetadmin;Password=YourPassword;Encrypt=true;

# Azure OpenAI Service
AZURE_OPENAI_ENDPOINT=https://fleet-openai.openai.azure.com
AZURE_OPENAI_KEY=your-openai-key
AZURE_OPENAI_DEPLOYMENT=gpt-4
AZURE_OPENAI_API_VERSION=2023-12-01-preview

# Microsoft Graph API (Teams & Outlook)
MS_GRAPH_CLIENT_ID=your-graph-client-id
MS_GRAPH_CLIENT_SECRET=your-graph-client-secret
MS_GRAPH_TENANT_ID=your-tenant-id
MS_GRAPH_SCOPE=https://graph.microsoft.com/.default

# Azure Storage (File uploads)
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=fleetstorageacct;AccountKey=your-key;
AZURE_STORAGE_CONTAINER_NAME=fleet-files

# Authentication
# REQUIRED: JWT_SECRET must be at least 32 characters
# Generate with: openssl rand -base64 48
JWT_SECRET=your-secret-key-minimum-32-characters-long
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# CSRF Protection
# REQUIRED: CSRF_SECRET must be at least 32 characters
# Generate with: openssl rand -base64 48
CSRF_SECRET=your-csrf-secret-minimum-32-characters-long

# CORS - Production domains (REQUIRED in production)
# Add your production frontend URLs here
# Example: CORS_ORIGIN=https://fleet.yourdomain.com,https://app.yourdomain.com
CORS_ORIGIN=https://your-production-domain.com,http://localhost:5173

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ------------------
# Monitoring
# ------------------

# Application Insights
APPLICATION_INSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://eastus2-3.in.applicationinsights.azure.com/

# Azure Key Vault (Secrets Management)
AZURE_KEY_VAULT_URI=https://fleet-keyvault.vault.azure.net/

# ------------------
# External Services (Optional)
# ------------------

# Azure Maps (GPS/Routing)
AZURE_MAPS_SUBSCRIPTION_KEY=your-maps-key

# SendGrid (Email notifications)
SENDGRID_API_KEY=your-sendgrid-key
SENDGRID_FROM_EMAIL=noreply@fleet.com

# Twilio (SMS notifications)
TWILIO_ACCOUNT_SID=your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ------------------
# PostgreSQL (Docker Compose)
# ------------------
POSTGRES_DB=fleetdb
POSTGRES_USER=fleetadmin
POSTGRES_PASSWORD=your-secure-postgres-password-here

# ------------------
# Development Only
# ------------------

# Local Development
VITE_API_URL_DEV=http://localhost:3000
DATABASE_CONNECTION_STRING_DEV=your-local-db-connection

# Debug
DEBUG=fleet:*
LOG_LEVEL=debug

# ===========================================
# IMPORTANT: Never commit the actual .env file!
# Copy this to .env and fill in your values
# ===========================================
