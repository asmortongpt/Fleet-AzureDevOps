# ====================================
# FLEET MANAGEMENT SYSTEM - ENVIRONMENT CONFIGURATION
# ====================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control
# ====================================

# ====================================
# APPLICATION CONFIGURATION
# ====================================
NODE_ENV=production
PORT=3000
API_URL=https://api.fleet.example.com
FRONTEND_URL=https://fleet.example.com

# ====================================
# DATABASE CONFIGURATION (REQUIRED)
# ====================================
# Option 1: Use PostgreSQL connection string (recommended)
DATABASE_URL=postgresql://user:password@host:5432/database

# Option 2: Use individual parameters
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=fleet_db
# DB_USER=fleet_user
# DB_PASSWORD=your_secure_password

# ====================================
# REDIS CACHE (Optional)
# ====================================
# Leave blank to disable caching
REDIS_URL=redis://localhost:6379

# ====================================
# JWT AUTHENTICATION (REQUIRED)
# ====================================
# CRITICAL: Must be at least 32 characters
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long-change-this
JWT_EXPIRY=24h

# ====================================
# MICROSOFT OAUTH (Optional)
# ====================================
# For Azure AD / Microsoft SSO integration
MICROSOFT_CLIENT_ID=your-azure-ad-client-id
MICROSOFT_CLIENT_SECRET=your-azure-ad-client-secret
MICROSOFT_TENANT_ID=your-azure-ad-tenant-id
MICROSOFT_REDIRECT_URI=https://fleet.example.com/api/auth/microsoft/callback

# Legacy variable names (for backwards compatibility)
AZURE_AD_CLIENT_ID=your-azure-ad-client-id
AZURE_AD_CLIENT_SECRET=your-azure-ad-client-secret
AZURE_AD_TENANT_ID=your-azure-ad-tenant-id

# ====================================
# AZURE KEY VAULT (Optional)
# ====================================
# For production secrets management
AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/
AZURE_CLIENT_ID=your-service-principal-client-id
AZURE_CLIENT_SECRET=your-service-principal-client-secret
AZURE_TENANT_ID=your-azure-tenant-id

# ====================================
# CORS CONFIGURATION
# ====================================
# Comma-separated list of allowed origins
CORS_ORIGIN=https://fleet.example.com,https://admin.fleet.example.com

# ====================================
# FEATURE FLAGS
# ====================================
# WARNING: DO NOT enable USE_MOCK_DATA in production
USE_MOCK_DATA=false
ENABLE_CACHE=true
ENABLE_RATE_LIMITING=true

# ====================================
# AZURE SERVICES (Optional)
# ====================================
# Azure OpenAI Service
AZURE_OPENAI_ENDPOINT=https://fleet-openai.openai.azure.com
AZURE_OPENAI_KEY=your-openai-key
AZURE_OPENAI_DEPLOYMENT=gpt-4
AZURE_OPENAI_API_VERSION=2023-12-01-preview

# Azure Maps (GPS/Routing)
AZURE_MAPS_SUBSCRIPTION_KEY=your-maps-key

# Azure Storage (File uploads)
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=fleetstorageacct;AccountKey=your-key;
AZURE_STORAGE_CONTAINER_NAME=fleet-files

# Application Insights
APPLICATION_INSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://eastus2-3.in.applicationinsights.azure.com/

# ====================================
# EXTERNAL SERVICES (Optional)
# ====================================
# Microsoft Graph API (Teams & Outlook)
MS_GRAPH_CLIENT_ID=your-graph-client-id
MS_GRAPH_CLIENT_SECRET=your-graph-client-secret
MS_GRAPH_TENANT_ID=your-tenant-id
MS_GRAPH_SCOPE=https://graph.microsoft.com/.default

# Samsara Integration
SAMSARA_API_TOKEN=your-samsara-api-token

# SendGrid Email
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@fleet.com

# Twilio SMS
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ====================================
# FRONTEND CONFIGURATION (Vite)
# ====================================
# Leave empty to use window.location.origin - API paths already include /api/
VITE_API_URL=
VITE_ENVIRONMENT=production

# Azure AD Authentication (Frontend)
VITE_AZURE_CLIENT_ID=your-azure-ad-client-id
VITE_AZURE_TENANT_ID=your-azure-ad-tenant-id
VITE_AZURE_REDIRECT_URI=https://fleet.example.com/auth/callback

# Azure Maps (Frontend)
VITE_AZURE_MAPS_SUBSCRIPTION_KEY=your-azure-maps-key

# Feature Flags (Frontend)
VITE_ENABLE_AI_ASSISTANT=true
VITE_ENABLE_TEAMS_INTEGRATION=true
VITE_ENABLE_EMAIL_CENTER=true
VITE_ENABLE_DARK_MODE=true

# ====================================
# DEVELOPMENT ONLY
# ====================================
# Local Development
VITE_API_URL_DEV=http://localhost:3000

# Debug
DEBUG=fleet:*
LOG_LEVEL=debug

# ====================================
# IMPORTANT SECURITY NOTES
# ====================================
# 1. NEVER commit .env to version control
# 2. Use strong, randomly generated secrets
# 3. Rotate secrets every 90 days
# 4. Use different secrets for each environment
# 5. Restrict access to production secrets
# ====================================
