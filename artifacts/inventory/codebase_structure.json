{
  "timestamp": "2026-01-08T15:30:00Z",
  "repository": "asmortongpt/fleet",
  "branch": "feature/phase6-quality-gates",
  "last_commit": "b91d45b5b",
  "directories": {
    "frontend": [
      "src/components",
      "src/pages",
      "src/features",
      "src/contexts",
      "src/hooks",
      "src/lib",
      "src/utils",
      "src/router",
      "src/services",
      "src/stores",
      "src/types",
      "src/styles",
      "src/middleware",
      "src/config"
    ],
    "backend": [
      "api/src/routes",
      "api/src/controllers",
      "api/src/services",
      "api/src/middleware",
      "api/src/repositories",
      "api/src/models",
      "api/src/modules",
      "api/src/database",
      "api/src/db",
      "api/src/config",
      "api/src/utils",
      "api/src/types",
      "api/src/auth",
      "api/src/emulators",
      "api/src/websocket",
      "api/src/workers",
      "api/src/jobs",
      "api/src/queues"
    ],
    "config": [
      ".github/workflows",
      "infra/terraform",
      "api/database/migrations",
      "db/migrations",
      "migrations"
    ],
    "tests": [
      "tests",
      "tests/e2e",
      "tests/integration",
      "tests/security",
      "tests/smoke",
      "tests/unit",
      "api/tests",
      "api/tests/unit",
      "api/tests/integration",
      "api/tests/security",
      "src/tests",
      "src/__tests__"
    ],
    "tools": [
      "tools/remediator",
      "tools/gates",
      "tools/repo_sync",
      "tools/orchestrator",
      "scripts"
    ],
    "artifacts": [
      "artifacts/inventory",
      "artifacts/security",
      "artifacts/rbac",
      "artifacts/fedramp",
      "artifacts/workflows",
      "artifacts/plans",
      "artifacts/tests"
    ]
  },
  "ui_routes": [
    "/dashboard",
    "/fleet-hub",
    "/executive-dashboard",
    "/admin-dashboard",
    "/emulator-dashboard",
    "/dispatch-console",
    "/garage",
    "/virtual-garage",
    "/predictive",
    "/fuel",
    "/gps-tracking",
    "/workbench",
    "/analytics-workbench",
    "/mileage",
    "/routes",
    "/gis-map",
    "/traffic-cameras",
    "/comprehensive",
    "/vendor-management",
    "/parts-inventory",
    "/purchase-orders",
    "/invoices",
    "/teams-integration",
    "/email-center",
    "/maintenance-scheduling",
    "/receipt-processing",
    "/communication-log",
    "/osha-forms",
    "/policy-engine",
    "/policy-management",
    "/video-telematics",
    "/ev-charging",
    "/vehicle-telemetry",
    "/map-layers",
    "/route-optimization",
    "/form-builder",
    "/personal-use",
    "/personal-use-policy",
    "/reimbursement-queue",
    "/charges-billing",
    "/arcgis-integration",
    "/map-settings",
    "/asset-management",
    "/equipment-dashboard",
    "/heavy-equipment",
    "/task-management",
    "/incident-management",
    "/notifications",
    "/push-notification-admin",
    "/documents",
    "/document-qa",
    "/fuel-purchasing",
    "/endpoint-monitor",
    "/safety-alerts",
    "/settings",
    "/profile",
    "/cost-analytics"
  ],
  "api_endpoints": [
    "/api/vehicles",
    "/api/drivers",
    "/api/maintenance",
    "/api/work-orders",
    "/api/fuel-transactions",
    "/api/parts",
    "/api/vendors",
    "/api/purchase-orders",
    "/api/invoices",
    "/api/analytics",
    "/api/gps",
    "/api/routes",
    "/api/geofences",
    "/api/incidents",
    "/api/policies",
    "/api/damage-reports",
    "/api/communications",
    "/api/tasks",
    "/api/users",
    "/api/auth",
    "/api/auth/azure-ad",
    "/api/microsoft-auth",
    "/api/teams",
    "/api/outlook",
    "/api/search",
    "/api/ai-search",
    "/api/ai-dispatch",
    "/api/ai-task-prioritization",
    "/api/langchain",
    "/api/ocr",
    "/api/video-events",
    "/api/video-telematics",
    "/api/telematics",
    "/api/charging-stations",
    "/api/ev-management",
    "/api/asset-management",
    "/api/geospatial",
    "/api/reservations",
    "/api/scheduling",
    "/api/scheduling-notifications",
    "/api/mobile-integration",
    "/api/mobile-notifications",
    "/api/mobile-messaging",
    "/api/mobile-photos",
    "/api/push-notifications",
    "/api/alerts",
    "/api/personal-use-charges",
    "/api/annual-reauthorization",
    "/api/trip-marking",
    "/api/trip-usage",
    "/api/fuel-purchasing",
    "/api/vehicle-idling",
    "/api/vehicle-identification",
    "/api/vehicle-assignments",
    "/api/assignment-reporting",
    "/api/crash-detection",
    "/api/asset-analytics",
    "/api/cost-analysis",
    "/api/billing-reports",
    "/api/executive-dashboard",
    "/api/metrics",
    "/api/documents",
    "/api/document-geo",
    "/api/garage-bays",
    "/api/maintenance-schedules",
    "/api/maintenance-drilldowns",
    "/api/traffic-cameras",
    "/api/safety-training",
    "/api/safety-incidents",
    "/api/communication-logs",
    "/api/arcgis-layers",
    "/api/adaptive-cards",
    "/api/presence",
    "/api/queue",
    "/api/sync",
    "/api/break-glass",
    "/api/health",
    "/api/health-detailed",
    "/api/health-system",
    "/api/demo",
    "/api/emulator",
    "/api/route-emulator",
    "/api/drill-through",
    "/api/monitoring/query-performance",
    "/api/webhooks/teams",
    "/api/webhooks/outlook"
  ],
  "database_entities": [
    "users",
    "tenants",
    "vehicles",
    "drivers",
    "maintenance_records",
    "work_orders",
    "fuel_transactions",
    "parts",
    "vendors",
    "purchase_orders",
    "invoices",
    "incidents",
    "policies",
    "policy_violations",
    "damage_reports",
    "communications",
    "tasks",
    "routes",
    "geofences",
    "gps_tracking",
    "vehicle_assignments",
    "reservations",
    "scheduling_events",
    "charging_stations",
    "ev_charging_sessions",
    "assets",
    "documents",
    "document_geospatial",
    "personal_use_charges",
    "trip_usage",
    "inspection_records",
    "facilities",
    "garage_bays",
    "video_events",
    "telematics_data",
    "notifications",
    "push_notification_tokens",
    "audit_logs",
    "rbac_roles",
    "rbac_permissions",
    "module_permissions",
    "refresh_tokens",
    "configuration_settings",
    "quality_gates",
    "deployments"
  ],
  "test_coverage_gaps": [
    "src/features/fleet-3d/advanced-showroom - Missing comprehensive test coverage",
    "src/components/modules/integrations/ArcGISIntegration.tsx - Limited integration tests",
    "src/components/modules/operations/AdvancedRouteOptimization.tsx - No route optimization algorithm tests",
    "api/src/services/ai - AI service integration tests incomplete",
    "api/src/emulators - Emulator test coverage minimal",
    "api/src/services/3d/model-processing-pipeline.ts - 3D processing pipeline needs tests",
    "src/lib/policy-engine - Policy engine complex scenarios undertested",
    "api/src/websocket - WebSocket real-time features need more tests",
    "src/components/modules/compliance/VideoTelematics.tsx - Video processing tests missing",
    "api/src/services/documents - Document RAG service tests incomplete"
  ],
  "security_sensitive_locations": [
    "api/src/middleware/auth.middleware.ts",
    "api/src/middleware/azure-ad-auth.ts",
    "api/src/middleware/azure-ad-jwt.ts",
    "api/src/middleware/csrf.ts",
    "api/src/middleware/security-headers.ts",
    "api/src/middleware/rate-limit.ts",
    "api/src/middleware/rbac.ts",
    "api/src/middleware/permissions.ts",
    "api/src/auth/authService.ts",
    "api/src/routes/auth.ts",
    "api/src/routes/auth/azure-ad.ts",
    "api/src/config/key-vault.service.ts",
    "api/src/config/secrets.ts",
    "src/lib/security/encryption.ts",
    "src/lib/security/auth.ts",
    "src/utils/secure-storage.ts",
    "src/utils/secure-cookie.ts",
    "src/utils/xss-sanitizer.ts",
    "src/utils/api-security.ts",
    "src/core/multi-tenant/auth/AuthProviderFactory.tsx",
    "src/core/multi-tenant/auth/RealAuthContext.tsx",
    "src/core/multi-tenant/auth/OktaSSO.tsx",
    "src/core/multi-tenant/auth/EnterpriseAuth.tsx",
    "src/contexts/AuthContext.tsx",
    "api/src/middleware/sanitization.ts",
    "api/src/middleware/validation.ts",
    "api/src/services/audit/AuditService.ts",
    "src/shared/security/encryption/EncryptionService.ts",
    "src/shared/security/audit/AuditLogger.ts"
  ],
  "technology_stack": {
    "frontend": {
      "framework": "React 18.3.1",
      "build_tool": "Vite 6.3.5",
      "language": "TypeScript 5.7.2",
      "ui_libraries": [
        "@mui/material 7.3.5",
        "@radix-ui (multiple components)",
        "tailwindcss 4.1.11",
        "framer-motion 12.24.0"
      ],
      "state_management": [
        "@reduxjs/toolkit 2.11.0",
        "zustand 5.0.9",
        "jotai 2.15.1",
        "@tanstack/react-query 5.83.1"
      ],
      "3d_graphics": [
        "three 0.181.2",
        "@react-three/fiber 8.18.0",
        "@react-three/drei 9.122.0"
      ],
      "mapping": [
        "@react-google-maps/api 2.20.3",
        "mapbox-gl 3.17.0",
        "leaflet 1.9.4",
        "azure-maps-control 3.7.1"
      ]
    },
    "backend": {
      "runtime": "Node.js",
      "framework": "Express 4.18.2",
      "language": "TypeScript 5.3.3",
      "orm": "drizzle-orm 0.44.7",
      "database": "PostgreSQL (pg 8.16.3)",
      "cache": "Redis (redis 5.10.0, ioredis 5.8.2)",
      "queue": "Bull 4.16.5",
      "auth": [
        "jsonwebtoken 9.0.2",
        "bcrypt 5.1.1",
        "argon2 0.44.0"
      ],
      "ai_services": [
        "openai 4.28.0",
        "@azure/openai 1.0.0-beta.8",
        "@anthropic-ai/sdk 0.20.0",
        "langchain 0.3.5"
      ],
      "monitoring": [
        "applicationinsights 3.12.0",
        "@sentry/node 10.27.0",
        "dd-trace 5.26.0",
        "@opentelemetry/sdk-node 0.208.0"
      ]
    },
    "infrastructure": {
      "cloud": "Azure",
      "hosting": "Azure Static Web Apps",
      "ci_cd": [
        "GitHub Actions",
        "Azure Pipelines"
      ],
      "iac": "Terraform (infra/terraform)"
    }
  },
  "fedramp_compliance_indicators": {
    "access_control": [
      "RBAC implementation (api/src/middleware/rbac.ts)",
      "Module-based permissions (api/src/permissions)",
      "Multi-tenant isolation (api/src/middleware/tenant-context.ts)"
    ],
    "audit_logging": [
      "Comprehensive audit service (api/src/services/audit/AuditService.ts)",
      "Middleware logging (api/src/middleware/audit.ts)"
    ],
    "encryption": [
      "Encryption service (src/shared/security/encryption/EncryptionService.ts)",
      "Secure storage utilities (src/utils/secure-storage.ts)",
      "HTTPS enforcement (api/src/middleware/https.ts)"
    ],
    "security_headers": [
      "Helmet integration (api/src/middleware/security-headers.ts)",
      "CORS configuration (api/src/middleware/cors.ts)",
      "CSRF protection (api/src/middleware/csrf.ts)"
    ],
    "rate_limiting": [
      "Express rate limit (api/src/middleware/rate-limit.ts)",
      "Custom rate limiters (api/src/config/rate-limiters.ts)"
    ],
    "monitoring": [
      "Application Insights integration",
      "Sentry error tracking",
      "OpenTelemetry instrumentation",
      "Datadog tracing"
    ],
    "authentication": [
      "Azure AD integration (api/src/middleware/azure-ad-auth.ts)",
      "Okta SSO (src/core/multi-tenant/auth/OktaSSO.tsx)",
      "JWT validation (api/src/middleware/azure-ad-jwt.ts)",
      "MFA support (src/core/multi-tenant/auth/MFAProvider.tsx)"
    ]
  },
  "module_inventory": {
    "fleet_management": [
      "Vehicle tracking and management",
      "GPS/telematics integration",
      "Virtual garage visualization",
      "Fleet analytics and reporting"
    ],
    "maintenance": [
      "Predictive maintenance",
      "Work order management",
      "Garage bay scheduling",
      "Maintenance history tracking"
    ],
    "operations": [
      "Route optimization",
      "Dispatch console",
      "Task management",
      "Geofencing"
    ],
    "compliance": [
      "OSHA forms",
      "Incident management",
      "Video telematics",
      "Document management",
      "Policy engine"
    ],
    "procurement": [
      "Vendor management",
      "Parts inventory",
      "Purchase orders",
      "Invoice processing"
    ],
    "analytics": [
      "Executive dashboard",
      "Cost analysis",
      "Data workbench",
      "Endpoint monitoring"
    ],
    "integrations": [
      "Microsoft Teams",
      "Outlook/Email",
      "ArcGIS/GIS systems",
      "Traffic cameras",
      "PeopleSoft (emulator)"
    ],
    "fuel_management": [
      "Fuel transactions",
      "Fuel purchasing",
      "Card integration"
    ],
    "personal_use": [
      "Personal use tracking",
      "Reimbursement queue",
      "Charges and billing"
    ],
    "ev_management": [
      "Charging station management",
      "Charging session tracking"
    ]
  },
  "configuration_files": [
    "package.json",
    "tsconfig.json",
    "vite.config.ts",
    "playwright.config.ts",
    "vitest.config.ts",
    "tailwind.config.js",
    "eslint.config.js",
    ".env (multiple variants)",
    "azure-pipelines.yml",
    "staticwebapp.config.json",
    "k8s-fleet-deployment.yaml",
    "api/package.json",
    "api/tsconfig.json",
    "api/openapi.yaml",
    ".github/workflows/azure-static-web-apps-production.yml",
    ".github/workflows/quality-gate.yml"
  ],
  "notes": [
    "Repository is actively under development with Phase 6 quality gates implementation",
    "Multi-tenant architecture with comprehensive RBAC",
    "Extensive integration with Azure services (AD, Key Vault, Storage, AI)",
    "Real-time features via WebSocket and Socket.io",
    "AI-powered features including document Q&A, damage assessment, dispatch optimization",
    "Comprehensive testing strategy: E2E (Playwright), Unit (Vitest), Integration, Security",
    "FedRAMP compliance considerations built into architecture",
    "Microservices-oriented with emulators for external systems",
    "Strong emphasis on security: encryption, audit logging, input validation, rate limiting",
    "Production deployment on Azure Static Web Apps with CI/CD automation"
  ],
  "quality_gates": {
    "implemented": [
      "TypeScript strict mode enforcement",
      "ESLint code quality checks",
      "Pre-commit hooks (Husky)",
      "Automated testing (E2E, unit, integration)",
      "Security scanning (eslint-plugin-security)",
      "Accessibility testing (pa11y, jest-axe)",
      "Performance budgets",
      "Visual regression testing"
    ],
    "in_progress": [
      "Comprehensive coverage gates",
      "Automated FedRAMP compliance validation",
      "Load testing automation",
      "API contract testing"
    ]
  }
}
