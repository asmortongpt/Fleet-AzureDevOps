#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run lint-staged for automated code quality checks
npx lint-staged

# Run TypeScript type checking on frontend
echo "ğŸ” TypeScript: Checking frontend types..."
npm run typecheck || {
  echo "âŒ Frontend TypeScript errors detected. Please fix before committing."
  exit 1
}

# Run TypeScript type checking on API
echo "ğŸ” TypeScript: Checking API types..."
npm run typecheck:api || {
  echo "âŒ API TypeScript errors detected. Please fix before committing."
  exit 1
}

echo "âœ… Pre-commit checks passed!"
