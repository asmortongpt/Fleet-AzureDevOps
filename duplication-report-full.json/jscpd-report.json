{
  "statistics": {
    "detectionDate": "2025-12-08T14:39:28.177Z",
    "formats": {
      "typescript": {
        "sources": {
          "api/src/modules/work-orders/services/work-order.service.ts": {
            "lines": 101,
            "tokens": 1244,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/work-orders/repositories/work-order.repository.ts": {
            "lines": 55,
            "tokens": 482,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/work-orders/controllers/work-order.controller.ts": {
            "lines": 161,
            "tokens": 1763,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 153,
            "duplicatedTokens": 1486,
            "percentage": 95.03,
            "percentageTokens": 84.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/maintenance/services/maintenance.service.ts": {
            "lines": 54,
            "tokens": 629,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/maintenance/repositories/maintenance.repository.ts": {
            "lines": 33,
            "tokens": 310,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/maintenance/controllers/maintenance.controller.ts": {
            "lines": 222,
            "tokens": 2352,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 60,
            "duplicatedTokens": 638,
            "percentage": 27.03,
            "percentageTokens": 27.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/inspections/services/inspection.service.ts": {
            "lines": 110,
            "tokens": 1266,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/inspections/repositories/inspection.repository.ts": {
            "lines": 76,
            "tokens": 638,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/inspections/controllers/inspection.controller.ts": {
            "lines": 158,
            "tokens": 1810,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 64,
            "duplicatedTokens": 604,
            "percentage": 40.51,
            "percentageTokens": 33.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/incidents/services/incident.service.ts": {
            "lines": 116,
            "tokens": 1379,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/incidents/repositories/incident.repository.ts": {
            "lines": 67,
            "tokens": 569,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/incidents/controllers/incident.controller.ts": {
            "lines": 163,
            "tokens": 1830,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 69,
            "duplicatedTokens": 645,
            "percentage": 42.33,
            "percentageTokens": 35.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/fleet/services/vehicle.service.ts": {
            "lines": 52,
            "tokens": 584,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/fleet/repositories/vehicle.repository.ts": {
            "lines": 25,
            "tokens": 233,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/fleet/controllers/vehicle.controller.ts": {
            "lines": 31,
            "tokens": 333,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/facilities/services/facility.service.ts": {
            "lines": 61,
            "tokens": 710,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/facilities/repositories/facility.repository.ts": {
            "lines": 33,
            "tokens": 310,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/facilities/controllers/facility.controller.ts": {
            "lines": 173,
            "tokens": 1669,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 44,
            "duplicatedTokens": 474,
            "percentage": 25.43,
            "percentageTokens": 28.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/drivers/services/driver.service.ts": {
            "lines": 49,
            "tokens": 579,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/drivers/repositories/driver.repository.ts": {
            "lines": 8,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/modules/drivers/controllers/driver.controller.ts": {
            "lines": 171,
            "tokens": 1726,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 52,
            "duplicatedTokens": 551,
            "percentage": 30.41,
            "percentageTokens": 31.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/radio/__tests__/RadioEmulator.test.ts": {
            "lines": 579,
            "tokens": 4757,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 55,
            "duplicatedTokens": 408,
            "percentage": 9.5,
            "percentageTokens": 8.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/inventory/__tests__/VehicleInventoryEmulator.test.ts": {
            "lines": 555,
            "tokens": 4821,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 102,
            "percentage": 3.06,
            "percentageTokens": 2.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/__tests__/redirect-validator.test.ts": {
            "lines": 303,
            "tokens": 2531,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/__tests__/apiResponse.test.ts": {
            "lines": 279,
            "tokens": 2394,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/webhooks/teams.webhook.test.ts": {
            "lines": 270,
            "tokens": 2180,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 97,
            "duplicatedTokens": 860,
            "percentage": 35.93,
            "percentageTokens": 39.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/webhooks/outlook.webhook.test.ts": {
            "lines": 311,
            "tokens": 2660,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 99,
            "duplicatedTokens": 874,
            "percentage": 31.83,
            "percentageTokens": 32.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/services/teams.service.test.ts": {
            "lines": 355,
            "tokens": 2631,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/services/sync.service.test.ts": {
            "lines": 324,
            "tokens": 2661,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/services/queue.service.test.ts": {
            "lines": 283,
            "tokens": 2827,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/services/outlook.service.test.ts": {
            "lines": 492,
            "tokens": 3754,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/services/microsoft-graph.service.test.ts": {
            "lines": 363,
            "tokens": 2839,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 168,
            "percentage": 5.51,
            "percentageTokens": 5.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/services/attachment.service.test.ts": {
            "lines": 429,
            "tokens": 3523,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/services/ai-task-prioritization.test.ts": {
            "lines": 494,
            "tokens": 3663,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/services/adaptive-cards.service.test.ts": {
            "lines": 609,
            "tokens": 5024,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 26,
            "duplicatedTokens": 300,
            "percentage": 4.27,
            "percentageTokens": 5.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/adapters/SharePointStorageAdapter.ts": {
            "lines": 391,
            "tokens": 2886,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 117,
            "duplicatedTokens": 1021,
            "percentage": 29.92,
            "percentageTokens": 35.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/adapters/S3StorageAdapter.ts": {
            "lines": 684,
            "tokens": 3543,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 21,
            "duplicatedTokens": 177,
            "percentage": 3.07,
            "percentageTokens": 5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/adapters/LocalStorageAdapter.ts": {
            "lines": 531,
            "tokens": 4521,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 30,
            "duplicatedTokens": 265,
            "percentage": 5.65,
            "percentageTokens": 5.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/adapters/GoogleCloudStorageAdapter.ts": {
            "lines": 430,
            "tokens": 3895,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 73,
            "percentage": 2.09,
            "percentageTokens": 1.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/adapters/DropboxStorageAdapter.ts": {
            "lines": 429,
            "tokens": 1296,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 259,
            "percentage": 6.29,
            "percentageTokens": 19.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/adapters/BoxStorageAdapter.ts": {
            "lines": 291,
            "tokens": 2597,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 62,
            "duplicatedTokens": 575,
            "percentage": 21.31,
            "percentageTokens": 22.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/adapters/AzureBlobStorageAdapter.ts": {
            "lines": 512,
            "tokens": 3588,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 46,
            "duplicatedTokens": 378,
            "percentage": 8.98,
            "percentageTokens": 10.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/websocket/server.ts": {
            "lines": 82,
            "tokens": 281,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/websocket/handlers.ts": {
            "lines": 83,
            "tokens": 207,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/weather/nws.service.ts": {
            "lines": 81,
            "tokens": 206,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/weather/map-layers.service.ts": {
            "lines": 76,
            "tokens": 196,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/traffic/fl511-cameras.service.ts": {
            "lines": 78,
            "tokens": 196,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/traffic/camera-map-layers.service.ts": {
            "lines": 73,
            "tokens": 315,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/tracking/location-broadcaster.ts": {
            "lines": 63,
            "tokens": 330,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/storage/storage-factory.ts": {
            "lines": 100,
            "tokens": 679,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/storage/storage-adapter.base.ts": {
            "lines": 115,
            "tokens": 470,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/storage/local-storage-adapter.ts": {
            "lines": 354,
            "tokens": 2836,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 244,
            "percentage": 6.78,
            "percentageTokens": 8.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/storage/cloud-storage-adapter.ts": {
            "lines": 346,
            "tokens": 2713,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/queue/job-queue.service.ts": {
            "lines": 560,
            "tokens": 4233,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/notifications/notification.service.ts": {
            "lines": 553,
            "tokens": 2567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/mcp/task-asset-mcp.service.ts": {
            "lines": 371,
            "tokens": 1126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/dal/transactions.ts": {
            "lines": 392,
            "tokens": 750,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/dal/index.ts": {
            "lines": 32,
            "tokens": 130,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/dal/errors.ts": {
            "lines": 80,
            "tokens": 542,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/dal/errors.d.ts": {
            "lines": 37,
            "tokens": 278,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/dal/QueryLogger.ts": {
            "lines": 223,
            "tokens": 1493,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/dal/BaseRepository.ts": {
            "lines": 372,
            "tokens": 3282,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 58,
            "duplicatedTokens": 612,
            "percentage": 15.59,
            "percentageTokens": 18.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/custom-fields/custom-fields.service.ts": {
            "lines": 552,
            "tokens": 3095,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/config/task-asset-config.service.ts": {
            "lines": 554,
            "tokens": 3364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/collaboration/real-time.service.ts": {
            "lines": 457,
            "tokens": 2451,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 22,
            "duplicatedTokens": 334,
            "percentage": 4.81,
            "percentageTokens": 13.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/auth/azure-ad.service.ts": {
            "lines": 92,
            "tokens": 294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/analytics/analytics.service.ts": {
            "lines": 549,
            "tokens": 3481,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-bus/types.ts": {
            "lines": 177,
            "tokens": 1034,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-bus/config.ts": {
            "lines": 256,
            "tokens": 1840,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai/task-asset-ai.service.ts": {
            "lines": 507,
            "tokens": 2646,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 38,
            "duplicatedTokens": 378,
            "percentage": 7.5,
            "percentageTokens": 14.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/__tests__/document-search.service.test.ts": {
            "lines": 340,
            "tokens": 2374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/webhooks/teams.webhook.ts": {
            "lines": 497,
            "tokens": 2809,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 216,
            "duplicatedTokens": 1714,
            "percentage": 43.46,
            "percentageTokens": 61.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/webhooks/outlook.webhook.ts": {
            "lines": 699,
            "tokens": 3728,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 184,
            "duplicatedTokens": 1420,
            "percentage": 26.32,
            "percentageTokens": 38.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/monitoring/query-performance.ts": {
            "lines": 268,
            "tokens": 1955,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/monitoring/query-performance.enhanced.ts": {
            "lines": 123,
            "tokens": 1194,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 30,
            "duplicatedTokens": 440,
            "percentage": 24.39,
            "percentageTokens": 36.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/drill-through/drill-through.routes.ts": {
            "lines": 464,
            "tokens": 3515,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 38,
            "duplicatedTokens": 329,
            "percentage": 8.19,
            "percentageTokens": 9.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/drill-through/drill-through.routes.enhanced.ts": {
            "lines": 125,
            "tokens": 1253,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 161,
            "percentage": 16,
            "percentageTokens": 12.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/auth/azure-ad.ts": {
            "lines": 102,
            "tokens": 211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/__tests__/vehicle-history.routes.test.ts": {
            "lines": 411,
            "tokens": 3786,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/__tests__/auth.integration.test.ts": {
            "lines": 216,
            "tokens": 1780,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/permissions/__tests__/engine.test.ts": {
            "lines": 416,
            "tokens": 3881,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/__tests__/validation.test.ts": {
            "lines": 301,
            "tokens": 2668,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 56,
            "duplicatedTokens": 492,
            "percentage": 18.6,
            "percentageTokens": 18.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/__tests__/auth.test.ts": {
            "lines": 203,
            "tokens": 1976,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 68,
            "duplicatedTokens": 662,
            "percentage": 33.5,
            "percentageTokens": 33.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/processors/report.processor.ts": {
            "lines": 496,
            "tokens": 3150,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 166,
            "percentage": 2.42,
            "percentageTokens": 5.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/processors/notification.processor.ts": {
            "lines": 308,
            "tokens": 2175,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 224,
            "percentage": 7.14,
            "percentageTokens": 10.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/processors/email.processor.ts": {
            "lines": 243,
            "tokens": 1556,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/video/VideoTelematicsEmulator.ts": {
            "lines": 525,
            "tokens": 3956,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 28,
            "duplicatedTokens": 168,
            "percentage": 5.33,
            "percentageTokens": 4.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/route/RouteEmulator.ts": {
            "lines": 61,
            "tokens": 562,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/radio/RadioEmulator.ts": {
            "lines": 834,
            "tokens": 5796,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 64,
            "duplicatedTokens": 432,
            "percentage": 7.67,
            "percentageTokens": 7.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/obd2/OBD2Emulator.ts": {
            "lines": 381,
            "tokens": 2820,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/mobile/index.ts": {
            "lines": 67,
            "tokens": 495,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/mobile/PhotoGenerator.ts": {
            "lines": 309,
            "tokens": 2806,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 202,
            "percentage": 8.41,
            "percentageTokens": 7.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/mobile/MotionSensorSimulator.ts": {
            "lines": 82,
            "tokens": 657,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/mobile/MobileAppSimulator.ts": {
            "lines": 404,
            "tokens": 2570,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/mobile/InspectionGenerator.ts": {
            "lines": 353,
            "tokens": 3475,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/mobile/FuelReceiptGenerator.ts": {
            "lines": 340,
            "tokens": 2619,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 166,
            "percentage": 5.29,
            "percentageTokens": 6.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/mobile/DamageReportGenerator.ts": {
            "lines": 314,
            "tokens": 2989,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/maintenance/MaintenanceEmulator.ts": {
            "lines": 175,
            "tokens": 1684,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 40,
            "duplicatedTokens": 372,
            "percentage": 22.86,
            "percentageTokens": 22.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/iot/IoTEmulator.ts": {
            "lines": 88,
            "tokens": 858,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 252,
            "percentage": 30.68,
            "percentageTokens": 29.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/inventory/VehicleInventoryEmulator.ts": {
            "lines": 838,
            "tokens": 8342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/gps/GPSEmulator.ts": {
            "lines": 468,
            "tokens": 3684,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/fuel/FuelEmulator.ts": {
            "lines": 122,
            "tokens": 1280,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 25,
            "duplicatedTokens": 236,
            "percentage": 20.49,
            "percentageTokens": 18.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/evcharging/EVChargingEmulator.ts": {
            "lines": 389,
            "tokens": 3055,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 28,
            "duplicatedTokens": 168,
            "percentage": 7.2,
            "percentageTokens": 5.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/driver/DriverBehaviorEmulator.ts": {
            "lines": 141,
            "tokens": 1396,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 38,
            "duplicatedTokens": 358,
            "percentage": 26.95,
            "percentageTokens": 25.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/cost/CostEmulator.ts": {
            "lines": 750,
            "tokens": 8565,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/__tests__/TaskEmulator.test.ts": {
            "lines": 594,
            "tokens": 5558,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/__tests__/InventoryEmulator.test.ts": {
            "lines": 528,
            "tokens": 4679,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 65,
            "duplicatedTokens": 366,
            "percentage": 12.31,
            "percentageTokens": 7.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db/seeds/index.ts": {
            "lines": 51,
            "tokens": 432,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db/schemas/traffic-cameras.schema.ts": {
            "lines": 21,
            "tokens": 317,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/utils/route-helpers.test.ts": {
            "lines": 183,
            "tokens": 1930,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/utils/export-helpers.test.ts": {
            "lines": 180,
            "tokens": 1604,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 156,
            "percentage": 8.89,
            "percentageTokens": 9.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/utilization-calc.service.test.ts": {
            "lines": 564,
            "tokens": 3613,
            "sources": 1,
            "clones": 74,
            "duplicatedLines": 3552,
            "duplicatedTokens": 22922,
            "percentage": 629.79,
            "percentageTokens": 634.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/roi-calculator.service.test.ts": {
            "lines": 204,
            "tokens": 1381,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 109,
            "duplicatedTokens": 745,
            "percentage": 53.43,
            "percentageTokens": 53.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/qr-generator.service.test.ts": {
            "lines": 168,
            "tokens": 1102,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 130,
            "duplicatedTokens": 855,
            "percentage": 77.38,
            "percentageTokens": 77.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/example-di.service.test.ts": {
            "lines": 780,
            "tokens": 4951,
            "sources": 1,
            "clones": 15,
            "duplicatedLines": 539,
            "duplicatedTokens": 3431,
            "percentage": 69.1,
            "percentageTokens": 69.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/WorkOrderService.test.ts": {
            "lines": 384,
            "tokens": 2524,
            "sources": 1,
            "clones": 14,
            "duplicatedLines": 751,
            "duplicatedTokens": 5006,
            "percentage": 195.57,
            "percentageTokens": 198.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/VehicleService.test.ts": {
            "lines": 420,
            "tokens": 2749,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 277,
            "duplicatedTokens": 1809,
            "percentage": 65.95,
            "percentageTokens": 65.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/RouteService.test.ts": {
            "lines": 384,
            "tokens": 2524,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 353,
            "duplicatedTokens": 2330,
            "percentage": 91.93,
            "percentageTokens": 92.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/MaintenanceService.test.ts": {
            "lines": 960,
            "tokens": 6124,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 887,
            "duplicatedTokens": 5672,
            "percentage": 92.4,
            "percentageTokens": 92.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/InspectionService.test.ts": {
            "lines": 384,
            "tokens": 2524,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 353,
            "duplicatedTokens": 2330,
            "percentage": 91.93,
            "percentageTokens": 92.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/FuelTransactionService.test.ts": {
            "lines": 384,
            "tokens": 2524,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 353,
            "duplicatedTokens": 2330,
            "percentage": 91.93,
            "percentageTokens": 92.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/services/DriverService.test.ts": {
            "lines": 492,
            "tokens": 3217,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 328,
            "duplicatedTokens": 2136,
            "percentage": 66.67,
            "percentageTokens": 66.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/security/ssrf-protection.test.ts": {
            "lines": 404,
            "tokens": 2753,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/security/sql-injection.test.ts": {
            "lines": 243,
            "tokens": 1820,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/jobs/queue.test.ts": {
            "lines": 258,
            "tokens": 1999,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/workers/tesseract.worker.ts": {
            "lines": 123,
            "tokens": 861,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/workers/task-worker.ts": {
            "lines": 321,
            "tokens": 2642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/workers/daily-metrics.worker.ts": {
            "lines": 45,
            "tokens": 258,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/websocket/task-realtime.server.ts": {
            "lines": 188,
            "tokens": 1419,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/websocket/presence.service.ts": {
            "lines": 90,
            "tokens": 961,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/websocket/conflict-resolution.service.ts": {
            "lines": 74,
            "tokens": 491,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/validation/schemas.ts": {
            "lines": 440,
            "tokens": 6703,
            "sources": 1,
            "clones": 33,
            "duplicatedLines": 289,
            "duplicatedTokens": 4781,
            "percentage": 65.68,
            "percentageTokens": 71.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/tenant-validator.ts": {
            "lines": 282,
            "tokens": 1440,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/ssrf-protection.ts": {
            "lines": 609,
            "tokens": 3520,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 92,
            "duplicatedTokens": 682,
            "percentage": 15.11,
            "percentageTokens": 19.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/sql-safety.ts": {
            "lines": 329,
            "tokens": 2427,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/securityUtils.ts": {
            "lines": 182,
            "tokens": 1123,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/scope-filter.ts": {
            "lines": 264,
            "tokens": 1449,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/safe-http-request.ts": {
            "lines": 334,
            "tokens": 2086,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 96,
            "duplicatedTokens": 660,
            "percentage": 28.74,
            "percentageTokens": 31.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/safe-file-operations.ts": {
            "lines": 291,
            "tokens": 1589,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 200,
            "percentage": 7.56,
            "percentageTokens": 12.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/route-helpers.ts": {
            "lines": 355,
            "tokens": 2712,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/redirect-validator.ts": {
            "lines": 223,
            "tokens": 1209,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/queue-monitor.ts": {
            "lines": 383,
            "tokens": 2554,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/query-optimizer.ts": {
            "lines": 29,
            "tokens": 288,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/query-monitor.ts": {
            "lines": 540,
            "tokens": 4156,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/performance.ts": {
            "lines": 49,
            "tokens": 436,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/pagination.ts": {
            "lines": 70,
            "tokens": 546,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/n1-detector.ts": {
            "lines": 23,
            "tokens": 219,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/microsoft-graph-integration.ts": {
            "lines": 160,
            "tokens": 585,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/logger.ts": {
            "lines": 420,
            "tokens": 2660,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/logSanitizer.ts": {
            "lines": 88,
            "tokens": 491,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/file-validation.ts": {
            "lines": 263,
            "tokens": 1540,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/fieldMasking.ts": {
            "lines": 382,
            "tokens": 2617,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 238,
            "percentage": 7.33,
            "percentageTokens": 9.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/export-helpers.ts": {
            "lines": 302,
            "tokens": 2432,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/errors.ts": {
            "lines": 180,
            "tokens": 1189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/error-handler.ts": {
            "lines": 29,
            "tokens": 180,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/document-utils.ts": {
            "lines": 452,
            "tokens": 2276,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/dbHelpers.ts": {
            "lines": 357,
            "tokens": 1830,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/database.ts": {
            "lines": 337,
            "tokens": 1471,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/crud-route-factory.ts": {
            "lines": 290,
            "tokens": 2159,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 162,
            "percentage": 4.14,
            "percentageTokens": 7.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/column-resolver.ts": {
            "lines": 117,
            "tokens": 639,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/cache.ts": {
            "lines": 169,
            "tokens": 1440,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 39,
            "duplicatedTokens": 402,
            "percentage": 23.08,
            "percentageTokens": 27.92,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/ar-export.ts": {
            "lines": 437,
            "tokens": 2583,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/apiResponse.ts": {
            "lines": 123,
            "tokens": 1148,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/api-response.ts": {
            "lines": 208,
            "tokens": 1190,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 210,
            "percentage": 13.46,
            "percentageTokens": 17.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/work-order.ts": {
            "lines": 24,
            "tokens": 237,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/vehicle.ts": {
            "lines": 16,
            "tokens": 124,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/trip-usage.ts": {
            "lines": 755,
            "tokens": 4570,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 425,
            "duplicatedTokens": 2481,
            "percentage": 56.29,
            "percentageTokens": 54.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/teams.types.ts": {
            "lines": 309,
            "tokens": 1788,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/route.types.ts": {
            "lines": 68,
            "tokens": 508,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/rbac.ts": {
            "lines": 526,
            "tokens": 2586,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/queue.types.ts": {
            "lines": 286,
            "tokens": 1923,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/outlook.types.ts": {
            "lines": 360,
            "tokens": 2040,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/microsoft-graph.types.ts": {
            "lines": 480,
            "tokens": 2544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/maintenance.ts": {
            "lines": 248,
            "tokens": 1580,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/inspection.ts": {
            "lines": 19,
            "tokens": 193,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/index.ts": {
            "lines": 477,
            "tokens": 3134,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/incident.ts": {
            "lines": 25,
            "tokens": 239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/facility.ts": {
            "lines": 19,
            "tokens": 147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/external-modules.d.ts": {
            "lines": 312,
            "tokens": 2398,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/express.d.ts": {
            "lines": 85,
            "tokens": 455,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/enums.ts": {
            "lines": 421,
            "tokens": 2352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/driver.ts": {
            "lines": 13,
            "tokens": 99,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/document-storage.types.ts": {
            "lines": 515,
            "tokens": 3356,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/asset.types.ts": {
            "lines": 517,
            "tokens": 2141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types/ai-dispatch.types.ts": {
            "lines": 461,
            "tokens": 2476,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/route-optimization.test.ts": {
            "lines": 240,
            "tokens": 1673,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/recurring-maintenance.test.ts": {
            "lines": 380,
            "tokens": 1276,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/tests/query-monitor.test.ts": {
            "lines": 46,
            "tokens": 347,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/index.ts": {
            "lines": 22,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/StorageAdapter.ts": {
            "lines": 525,
            "tokens": 3044,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/webrtc.service.ts": {
            "lines": 732,
            "tokens": 2980,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/webhook.service.ts": {
            "lines": 890,
            "tokens": 4022,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/video-telematics.service.ts": {
            "lines": 742,
            "tokens": 3306,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/video-privacy.service.ts": {
            "lines": 401,
            "tokens": 2468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/vehicles.service.ts": {
            "lines": 258,
            "tokens": 1774,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/vehicle-models.service.ts": {
            "lines": 615,
            "tokens": 3626,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/vehicle-idling.service.ts": {
            "lines": 883,
            "tokens": 4490,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/vehicle-identification.service.ts": {
            "lines": 383,
            "tokens": 1899,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 38,
            "duplicatedTokens": 288,
            "percentage": 9.92,
            "percentageTokens": 15.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/utilization-calc.service.ts": {
            "lines": 110,
            "tokens": 779,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/teams.service.ts": {
            "lines": 601,
            "tokens": 4020,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 242,
            "percentage": 4.99,
            "percentageTokens": 6.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/streaming-query.service.ts": {
            "lines": 325,
            "tokens": 1323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/sms.service.ts": {
            "lines": 608,
            "tokens": 3036,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 68,
            "duplicatedTokens": 496,
            "percentage": 11.18,
            "percentageTokens": 16.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/smartcar.service.ts": {
            "lines": 549,
            "tokens": 3396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/scheduling.service.ts": {
            "lines": 874,
            "tokens": 3590,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 29,
            "duplicatedTokens": 124,
            "percentage": 3.32,
            "percentageTokens": 3.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/scheduling-notification.service.ts": {
            "lines": 926,
            "tokens": 5889,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 64,
            "duplicatedTokens": 390,
            "percentage": 6.91,
            "percentageTokens": 6.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/samsara.service.ts": {
            "lines": 429,
            "tokens": 2986,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/route-optimization.service.ts": {
            "lines": 724,
            "tokens": 5356,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/roi-calculator.service.ts": {
            "lines": 65,
            "tokens": 503,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/recurring-maintenance.ts": {
            "lines": 544,
            "tokens": 3540,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 98,
            "percentage": 2.76,
            "percentageTokens": 2.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/rag-engine.service.ts": {
            "lines": 445,
            "tokens": 3020,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/queue.service.ts": {
            "lines": 817,
            "tokens": 4733,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 6,
            "duplicatedTokens": 78,
            "percentage": 0.73,
            "percentageTokens": 1.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/query-performance.service.ts": {
            "lines": 370,
            "tokens": 2849,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/qr-generator.service.ts": {
            "lines": 55,
            "tokens": 407,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/push-notification.service.ts": {
            "lines": 878,
            "tokens": 4290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/presence.service.ts": {
            "lines": 474,
            "tokens": 2184,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 103,
            "duplicatedTokens": 104,
            "percentage": 21.73,
            "percentageTokens": 4.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/photo-storage.service.ts": {
            "lines": 64,
            "tokens": 486,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/photo-processing.service.ts": {
            "lines": 791,
            "tokens": 4059,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/outlook.service.ts": {
            "lines": 839,
            "tokens": 6160,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 176,
            "percentage": 3.34,
            "percentageTokens": 2.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/openaiVisionService.ts": {
            "lines": 343,
            "tokens": 2764,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/openai.ts": {
            "lines": 160,
            "tokens": 1060,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/offline-storage.service.ts": {
            "lines": 372,
            "tokens": 1603,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ocr.service.ts": {
            "lines": 350,
            "tokens": 1911,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ocpp.service.ts": {
            "lines": 778,
            "tokens": 4693,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/obd2.service.ts": {
            "lines": 607,
            "tokens": 2887,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/obd2-emulator.service.ts": {
            "lines": 689,
            "tokens": 5571,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/mobileDamageService.ts": {
            "lines": 529,
            "tokens": 3794,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/mobile-integration.service.ts": {
            "lines": 777,
            "tokens": 3440,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 29,
            "duplicatedTokens": 124,
            "percentage": 3.73,
            "percentageTokens": 3.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ml-training.service.ts": {
            "lines": 773,
            "tokens": 3367,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ml-decision-engine.service.ts": {
            "lines": 688,
            "tokens": 3388,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/microsoft-integration.service.ts": {
            "lines": 537,
            "tokens": 3550,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/microsoft-graph.service.ts": {
            "lines": 719,
            "tokens": 4887,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 200,
            "percentage": 3.62,
            "percentageTokens": 4.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/mcp-server.service.ts": {
            "lines": 382,
            "tokens": 2471,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 174,
            "percentage": 4.71,
            "percentageTokens": 7.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/mcp-server-registry.service.ts": {
            "lines": 587,
            "tokens": 4265,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/mapbox.service.ts": {
            "lines": 387,
            "tokens": 1844,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/heavy-equipment.service.ts": {
            "lines": 689,
            "tokens": 3550,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/google-calendar.service.ts": {
            "lines": 755,
            "tokens": 5073,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 42,
            "duplicatedTokens": 204,
            "percentage": 5.56,
            "percentageTokens": 4.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/fuel-purchasing.service.ts": {
            "lines": 558,
            "tokens": 3332,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/fuel-optimization.service.ts": {
            "lines": 517,
            "tokens": 1597,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/fleet-optimizer.service.ts": {
            "lines": 448,
            "tokens": 2040,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/fleet-cognition.service.ts": {
            "lines": 751,
            "tokens": 5168,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/fips-jwt.service.ts": {
            "lines": 218,
            "tokens": 1147,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/fips-crypto.service.ts": {
            "lines": 220,
            "tokens": 1014,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/executive-dashboard.service.ts": {
            "lines": 709,
            "tokens": 4468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/excel-export.service.ts": {
            "lines": 482,
            "tokens": 1610,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/example-di.service.ts": {
            "lines": 153,
            "tokens": 552,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ev-charging.service.ts": {
            "lines": 729,
            "tokens": 3536,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 54,
            "duplicatedTokens": 246,
            "percentage": 7.41,
            "percentageTokens": 6.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/embeddings.service.ts": {
            "lines": 24,
            "tokens": 100,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/email-notifications.ts": {
            "lines": 412,
            "tokens": 2293,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/drivers.service.ts": {
            "lines": 180,
            "tokens": 1173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/driver-scorecard.service.ts": {
            "lines": 439,
            "tokens": 2073,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/driver-safety-ai.service.ts": {
            "lines": 590,
            "tokens": 3661,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document.service.ts": {
            "lines": 593,
            "tokens": 3923,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 121,
            "duplicatedTokens": 1052,
            "percentage": 20.4,
            "percentageTokens": 26.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document-version.service.ts": {
            "lines": 575,
            "tokens": 2950,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document-storage.service.ts": {
            "lines": 843,
            "tokens": 4948,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document-search.service.ts": {
            "lines": 462,
            "tokens": 2568,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document-rag.service.ts": {
            "lines": 476,
            "tokens": 2985,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document-permission.service.ts": {
            "lines": 562,
            "tokens": 3254,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document-management.service.ts": {
            "lines": 651,
            "tokens": 4048,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document-folder.service.ts": {
            "lines": 664,
            "tokens": 3700,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/document-audit.service.ts": {
            "lines": 468,
            "tokens": 2864,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 214,
            "duplicatedTokens": 1436,
            "percentage": 45.73,
            "percentageTokens": 50.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/dispatch.service.ts": {
            "lines": 703,
            "tokens": 3273,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/custom-report.service.ts": {
            "lines": 872,
            "tokens": 7295,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/cost-analysis.service.ts": {
            "lines": 561,
            "tokens": 2060,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/camera-sync.ts": {
            "lines": 293,
            "tokens": 947,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/calendar.service.ts": {
            "lines": 668,
            "tokens": 2519,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 103,
            "duplicatedTokens": 104,
            "percentage": 15.42,
            "percentageTokens": 4.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/billing-reports.ts": {
            "lines": 322,
            "tokens": 1806,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/base.service.ts": {
            "lines": 11,
            "tokens": 90,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/auditService.ts": {
            "lines": 220,
            "tokens": 1509,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/attachment.service.ts": {
            "lines": 815,
            "tokens": 4586,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 37,
            "duplicatedTokens": 282,
            "percentage": 4.54,
            "percentageTokens": 6.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/assignment-notification.service.ts": {
            "lines": 564,
            "tokens": 3424,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 52,
            "duplicatedTokens": 396,
            "percentage": 9.22,
            "percentageTokens": 11.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/alert-engine.service.ts": {
            "lines": 613,
            "tokens": 3778,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-validation.ts": {
            "lines": 528,
            "tokens": 3317,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 32,
            "duplicatedTokens": 384,
            "percentage": 6.06,
            "percentageTokens": 11.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-validation.service.ts": {
            "lines": 445,
            "tokens": 1604,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-task-prioritization.ts": {
            "lines": 727,
            "tokens": 5009,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 127,
            "percentage": 0.96,
            "percentageTokens": 2.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-ocr.ts": {
            "lines": 579,
            "tokens": 2743,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-ocr.service.ts": {
            "lines": 537,
            "tokens": 4045,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-intake.ts": {
            "lines": 451,
            "tokens": 2083,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-intake.service.ts": {
            "lines": 430,
            "tokens": 2134,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-dispatch.ts": {
            "lines": 608,
            "tokens": 3862,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 83,
            "percentage": 1.32,
            "percentageTokens": 2.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-controls.ts": {
            "lines": 632,
            "tokens": 3086,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-controls.service.ts": {
            "lines": 499,
            "tokens": 2592,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ai-agent-supervisor.service.ts": {
            "lines": 558,
            "tokens": 3377,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/adaptive-cards.service.ts": {
            "lines": 505,
            "tokens": 811,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/actionable-messages.service.ts": {
            "lines": 680,
            "tokens": 2936,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/WorkOrderService.ts": {
            "lines": 70,
            "tokens": 468,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 63,
            "duplicatedTokens": 585,
            "percentage": 90,
            "percentageTokens": 125,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/VehicleService.ts": {
            "lines": 83,
            "tokens": 588,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/VectorSearchService.ts": {
            "lines": 729,
            "tokens": 3592,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/StorageManager.ts": {
            "lines": 771,
            "tokens": 5740,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/SearchIndexService.ts": {
            "lines": 818,
            "tokens": 4007,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 66,
            "duplicatedTokens": 228,
            "percentage": 8.07,
            "percentageTokens": 5.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/RouteService.ts": {
            "lines": 70,
            "tokens": 468,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 21,
            "duplicatedTokens": 195,
            "percentage": 30,
            "percentageTokens": 41.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/OcrQueueService.ts": {
            "lines": 757,
            "tokens": 3369,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/MaintenanceService.ts": {
            "lines": 192,
            "tokens": 1511,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/InspectionService.ts": {
            "lines": 70,
            "tokens": 468,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 21,
            "duplicatedTokens": 195,
            "percentage": 30,
            "percentageTokens": 41.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/FuelTransactionService.ts": {
            "lines": 70,
            "tokens": 468,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 21,
            "duplicatedTokens": 195,
            "percentage": 30,
            "percentageTokens": 41.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/EmbeddingService.ts": {
            "lines": 625,
            "tokens": 4813,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 198,
            "percentage": 4.16,
            "percentageTokens": 4.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/DriverService.ts": {
            "lines": 114,
            "tokens": 776,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/DocumentSearchService.ts": {
            "lines": 714,
            "tokens": 4484,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/DocumentIndexer.ts": {
            "lines": 635,
            "tokens": 3856,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/DocumentAiService.ts": {
            "lines": 698,
            "tokens": 3987,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 172,
            "percentage": 3.72,
            "percentageTokens": 4.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/verify-seed-data.ts": {
            "lines": 270,
            "tokens": 2190,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 13,
            "duplicatedTokens": 156,
            "percentage": 4.81,
            "percentageTokens": 7.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/verify-integration.ts": {
            "lines": 403,
            "tokens": 3309,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/sync-cameras.ts": {
            "lines": 36,
            "tokens": 252,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/setup-webhooks.ts": {
            "lines": 230,
            "tokens": 1862,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/seed-ultra-fast.ts": {
            "lines": 405,
            "tokens": 4332,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 48,
            "duplicatedTokens": 791,
            "percentage": 11.85,
            "percentageTokens": 18.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/seed-supplemental.ts": {
            "lines": 480,
            "tokens": 3502,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 54,
            "duplicatedTokens": 858,
            "percentage": 11.25,
            "percentageTokens": 24.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/seed-edge-cases.ts": {
            "lines": 669,
            "tokens": 7563,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 26,
            "duplicatedTokens": 286,
            "percentage": 3.89,
            "percentageTokens": 3.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/seed-core-entities.ts": {
            "lines": 313,
            "tokens": 2916,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 29,
            "duplicatedTokens": 358,
            "percentage": 9.27,
            "percentageTokens": 12.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/run-migrations.ts": {
            "lines": 169,
            "tokens": 1101,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/ocr-example.ts": {
            "lines": 78,
            "tokens": 484,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/migrate.ts": {
            "lines": 253,
            "tokens": 1734,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/migrate-to-winston.ts": {
            "lines": 212,
            "tokens": 1630,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/migrate-routes-to-factory.ts": {
            "lines": 217,
            "tokens": 2110,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/generate-demo-data.ts": {
            "lines": 332,
            "tokens": 2517,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/generate-coverage-report.ts": {
            "lines": 341,
            "tokens": 2083,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 159,
            "percentage": 4.11,
            "percentageTokens": 7.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/benchmark-cache-performance.ts": {
            "lines": 188,
            "tokens": 1338,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/analyze-coverage-gaps.ts": {
            "lines": 328,
            "tokens": 3137,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 98,
            "percentage": 3.05,
            "percentageTokens": 3.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/work-orders.schema.ts": {
            "lines": 382,
            "tokens": 3091,
            "sources": 1,
            "clones": 33,
            "duplicatedLines": 304,
            "duplicatedTokens": 2911,
            "percentage": 79.58,
            "percentageTokens": 94.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/work-order.schema.ts": {
            "lines": 18,
            "tokens": 141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/vendors.schema.ts": {
            "lines": 353,
            "tokens": 2503,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 71,
            "duplicatedTokens": 588,
            "percentage": 20.11,
            "percentageTokens": 23.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/vehicles.schema.ts": {
            "lines": 332,
            "tokens": 2498,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 13,
            "duplicatedTokens": 199,
            "percentage": 3.92,
            "percentageTokens": 7.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/vehicle.schema.ts": {
            "lines": 17,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/users.schema.ts": {
            "lines": 355,
            "tokens": 2368,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 80,
            "duplicatedTokens": 746,
            "percentage": 22.54,
            "percentageTokens": 31.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/telemetry.schema.ts": {
            "lines": 206,
            "tokens": 1478,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 190,
            "percentage": 12.62,
            "percentageTokens": 12.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/settings.schema.ts": {
            "lines": 446,
            "tokens": 2800,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 132,
            "percentage": 2.24,
            "percentageTokens": 4.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/routes.schema.ts": {
            "lines": 358,
            "tokens": 2943,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 86,
            "duplicatedTokens": 766,
            "percentage": 24.02,
            "percentageTokens": 26.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/roles-permissions.schema.ts": {
            "lines": 438,
            "tokens": 2854,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 40,
            "duplicatedTokens": 321,
            "percentage": 9.13,
            "percentageTokens": 11.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/notifications.schema.ts": {
            "lines": 521,
            "tokens": 3408,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 57,
            "duplicatedTokens": 540,
            "percentage": 10.94,
            "percentageTokens": 15.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/maintenance.schema.ts": {
            "lines": 249,
            "tokens": 1812,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 180,
            "percentage": 6.43,
            "percentageTokens": 9.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/inspections.schema.ts": {
            "lines": 349,
            "tokens": 2656,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 45,
            "duplicatedTokens": 387,
            "percentage": 12.89,
            "percentageTokens": 14.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/inspection.schema.ts": {
            "lines": 17,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/index.ts": {
            "lines": 30,
            "tokens": 184,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/incidents.schema.ts": {
            "lines": 458,
            "tokens": 4031,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 61,
            "duplicatedTokens": 542,
            "percentage": 13.32,
            "percentageTokens": 13.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/geofences.schema.ts": {
            "lines": 337,
            "tokens": 2666,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 64,
            "duplicatedTokens": 521,
            "percentage": 18.99,
            "percentageTokens": 19.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/fuel-transactions.schema.ts": {
            "lines": 324,
            "tokens": 2183,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 63,
            "duplicatedTokens": 592,
            "percentage": 19.44,
            "percentageTokens": 27.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/facilities.schema.ts": {
            "lines": 311,
            "tokens": 2722,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 52,
            "duplicatedTokens": 817,
            "percentage": 16.72,
            "percentageTokens": 30.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/drivers.schema.ts": {
            "lines": 245,
            "tokens": 1869,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 28,
            "duplicatedTokens": 324,
            "percentage": 11.43,
            "percentageTokens": 17.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/driver.schema.ts": {
            "lines": 17,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/communications.schema.ts": {
            "lines": 365,
            "tokens": 2314,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 50,
            "duplicatedTokens": 379,
            "percentage": 13.7,
            "percentageTokens": 16.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/common.schema.ts": {
            "lines": 204,
            "tokens": 1501,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/auth.schema.ts": {
            "lines": 215,
            "tokens": 1720,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/audit-logs.schema.ts": {
            "lines": 526,
            "tokens": 3345,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 203,
            "percentage": 4.18,
            "percentageTokens": 6.07,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/schemas/assets.schema.ts": {
            "lines": 464,
            "tokens": 3728,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 73,
            "duplicatedTokens": 811,
            "percentage": 15.73,
            "percentageTokens": 21.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/work-orders.ts": {
            "lines": 100,
            "tokens": 1003,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 339,
            "percentage": 31,
            "percentageTokens": 33.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/work-orders.enhanced-rls.ts": {
            "lines": 403,
            "tokens": 3153,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 127,
            "duplicatedTokens": 1329,
            "percentage": 31.51,
            "percentageTokens": 42.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/weather.ts": {
            "lines": 100,
            "tokens": 219,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/weather.enhanced.ts": {
            "lines": 104,
            "tokens": 1048,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/video-telematics.routes.ts": {
            "lines": 716,
            "tokens": 5265,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/video-events.ts": {
            "lines": 157,
            "tokens": 1168,
            "sources": 1,
            "clones": 30,
            "duplicatedLines": 442,
            "duplicatedTokens": 3195,
            "percentage": 281.53,
            "percentageTokens": 273.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/video-events.enhanced.ts": {
            "lines": 163,
            "tokens": 1220,
            "sources": 1,
            "clones": 19,
            "duplicatedLines": 249,
            "duplicatedTokens": 2340,
            "percentage": 152.76,
            "percentageTokens": 191.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vendors.ts": {
            "lines": 27,
            "tokens": 355,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 100,
            "duplicatedTokens": 1290,
            "percentage": 370.37,
            "percentageTokens": 363.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vendors.enhanced.ts": {
            "lines": 115,
            "tokens": 1006,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vendors.dal-example.ts": {
            "lines": 403,
            "tokens": 2853,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 130,
            "duplicatedTokens": 742,
            "percentage": 32.26,
            "percentageTokens": 26.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicles.ts": {
            "lines": 237,
            "tokens": 2057,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 246,
            "percentage": 12.66,
            "percentageTokens": 11.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicles.refactored.ts": {
            "lines": 43,
            "tokens": 249,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicles.optimized.example.ts": {
            "lines": 147,
            "tokens": 1169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicles.enhanced.ts": {
            "lines": 116,
            "tokens": 1046,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 185,
            "percentage": 13.79,
            "percentageTokens": 17.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicles-refactored.example.ts": {
            "lines": 54,
            "tokens": 606,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicle-idling.routes.ts": {
            "lines": 610,
            "tokens": 4042,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 34,
            "duplicatedTokens": 616,
            "percentage": 5.57,
            "percentageTokens": 15.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicle-idling.routes.enhanced.ts": {
            "lines": 85,
            "tokens": 825,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicle-identification.routes.ts": {
            "lines": 363,
            "tokens": 1827,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 28,
            "duplicatedTokens": 272,
            "percentage": 7.71,
            "percentageTokens": 14.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicle-identification.routes.enhanced.ts": {
            "lines": 85,
            "tokens": 687,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 86,
            "percentage": 11.76,
            "percentageTokens": 12.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicle-history.routes.ts": {
            "lines": 450,
            "tokens": 2046,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 66,
            "duplicatedTokens": 564,
            "percentage": 14.67,
            "percentageTokens": 27.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicle-assignments.routes.ts": {
            "lines": 792,
            "tokens": 5252,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 112,
            "duplicatedTokens": 1111,
            "percentage": 14.14,
            "percentageTokens": 21.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicle-assignments.routes.enhanced.ts": {
            "lines": 167,
            "tokens": 1320,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 58,
            "duplicatedTokens": 632,
            "percentage": 34.73,
            "percentageTokens": 47.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/vehicle-3d.routes.ts": {
            "lines": 511,
            "tokens": 4407,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/trip-usage.ts": {
            "lines": 682,
            "tokens": 5014,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 30,
            "duplicatedTokens": 278,
            "percentage": 4.4,
            "percentageTokens": 5.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/trip-marking.ts": {
            "lines": 615,
            "tokens": 3324,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 98,
            "duplicatedTokens": 502,
            "percentage": 15.93,
            "percentageTokens": 15.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/traffic-cameras.ts": {
            "lines": 72,
            "tokens": 250,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/traffic-cameras.enhanced.ts": {
            "lines": 340,
            "tokens": 2190,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 158,
            "percentage": 5.88,
            "percentageTokens": 7.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/test-routes.ts": {
            "lines": 92,
            "tokens": 939,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/telemetry.ts": {
            "lines": 169,
            "tokens": 1529,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 49,
            "duplicatedTokens": 543,
            "percentage": 28.99,
            "percentageTokens": 35.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/telemetry.enhanced.ts": {
            "lines": 118,
            "tokens": 1157,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 31,
            "duplicatedTokens": 419,
            "percentage": 26.27,
            "percentageTokens": 36.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/telematics.routes.ts": {
            "lines": 632,
            "tokens": 4227,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 73,
            "percentage": 0.79,
            "percentageTokens": 1.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/teams.routes.ts": {
            "lines": 750,
            "tokens": 2697,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 78,
            "duplicatedTokens": 762,
            "percentage": 10.4,
            "percentageTokens": 28.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/tasks.ts": {
            "lines": 28,
            "tokens": 353,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 237,
            "percentage": 67.86,
            "percentageTokens": 67.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/task-management.routes.ts": {
            "lines": 309,
            "tokens": 2228,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 88,
            "duplicatedTokens": 547,
            "percentage": 28.48,
            "percentageTokens": 24.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/task-management.routes.enhanced.ts": {
            "lines": 146,
            "tokens": 1127,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 71,
            "duplicatedTokens": 377,
            "percentage": 48.63,
            "percentageTokens": 33.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/sync.routes.ts": {
            "lines": 521,
            "tokens": 2376,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/storage-admin.ts": {
            "lines": 650,
            "tokens": 1578,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/smartcar.routes.ts": {
            "lines": 481,
            "tokens": 3682,
            "sources": 1,
            "clones": 16,
            "duplicatedLines": 226,
            "duplicatedTokens": 2216,
            "percentage": 46.99,
            "percentageTokens": 60.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/smartcar.routes.enhanced.ts": {
            "lines": 114,
            "tokens": 994,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/session-revocation.ts": {
            "lines": 353,
            "tokens": 2164,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/search.ts": {
            "lines": 625,
            "tokens": 4288,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 40,
            "duplicatedTokens": 352,
            "percentage": 6.4,
            "percentageTokens": 8.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/scheduling.routes.ts": {
            "lines": 920,
            "tokens": 6058,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 38,
            "duplicatedTokens": 322,
            "percentage": 4.13,
            "percentageTokens": 5.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/scheduling-notifications.routes.ts": {
            "lines": 437,
            "tokens": 2431,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 213,
            "percentage": 5.95,
            "percentageTokens": 8.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/scheduling-notifications.routes.enhanced.ts": {
            "lines": 140,
            "tokens": 836,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 213,
            "percentage": 18.57,
            "percentageTokens": 25.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/safety-incidents.ts": {
            "lines": 181,
            "tokens": 1557,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 28,
            "duplicatedTokens": 314,
            "percentage": 15.47,
            "percentageTokens": 20.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/routes.ts": {
            "lines": 326,
            "tokens": 2450,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 72,
            "duplicatedTokens": 691,
            "percentage": 22.09,
            "percentageTokens": 28.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/routes.enhanced.ts": {
            "lines": 140,
            "tokens": 1196,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 45,
            "duplicatedTokens": 515,
            "percentage": 32.14,
            "percentageTokens": 43.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/route-optimization.routes.ts": {
            "lines": 579,
            "tokens": 3199,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 122,
            "percentage": 2.42,
            "percentageTokens": 3.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/route-emulator.routes.ts": {
            "lines": 282,
            "tokens": 2174,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 204,
            "percentage": 8.51,
            "percentageTokens": 9.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/reservations.routes.ts": {
            "lines": 902,
            "tokens": 6163,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 134,
            "duplicatedTokens": 1279,
            "percentage": 14.86,
            "percentageTokens": 20.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/reservations.routes.enhanced.ts": {
            "lines": 112,
            "tokens": 1073,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 59,
            "duplicatedTokens": 622,
            "percentage": 52.68,
            "percentageTokens": 57.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/reimbursement-requests.ts": {
            "lines": 726,
            "tokens": 4110,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 111,
            "duplicatedTokens": 722,
            "percentage": 15.29,
            "percentageTokens": 17.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/reimbursement-requests.enhanced.ts": {
            "lines": 132,
            "tokens": 1012,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 98,
            "percentage": 5.3,
            "percentageTokens": 9.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/queue.routes.ts": {
            "lines": 511,
            "tokens": 3988,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 87,
            "duplicatedTokens": 895,
            "percentage": 17.03,
            "percentageTokens": 22.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/queue.routes.enhanced.ts": {
            "lines": 98,
            "tokens": 812,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 196,
            "percentage": 10.2,
            "percentageTokens": 24.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/quality-gates.ts": {
            "lines": 233,
            "tokens": 1469,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/push-notifications.routes.ts": {
            "lines": 596,
            "tokens": 3745,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 177,
            "duplicatedTokens": 1114,
            "percentage": 29.7,
            "percentageTokens": 29.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/purchase-orders.ts": {
            "lines": 27,
            "tokens": 352,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 350,
            "percentage": 100,
            "percentageTokens": 99.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/presence.routes.ts": {
            "lines": 217,
            "tokens": 1681,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/policy-templates.ts": {
            "lines": 597,
            "tokens": 3726,
            "sources": 1,
            "clones": 19,
            "duplicatedLines": 218,
            "duplicatedTokens": 2109,
            "percentage": 36.52,
            "percentageTokens": 56.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/policies.ts": {
            "lines": 179,
            "tokens": 1398,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 90,
            "duplicatedTokens": 732,
            "percentage": 50.28,
            "percentageTokens": 52.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/personal-use-policies.ts": {
            "lines": 443,
            "tokens": 2949,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 236,
            "percentage": 5.42,
            "percentageTokens": 8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/personal-use-charges.ts": {
            "lines": 17,
            "tokens": 179,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/permissions.ts": {
            "lines": 148,
            "tokens": 1055,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 48,
            "duplicatedTokens": 391,
            "percentage": 32.43,
            "percentageTokens": 37.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/permissions.routes.ts": {
            "lines": 411,
            "tokens": 2812,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 180,
            "percentage": 5.35,
            "percentageTokens": 6.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/permissions.enhanced.ts": {
            "lines": 110,
            "tokens": 907,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 48,
            "duplicatedTokens": 391,
            "percentage": 43.64,
            "percentageTokens": 43.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/performance.routes.ts": {
            "lines": 393,
            "tokens": 2952,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/parts.ts": {
            "lines": 27,
            "tokens": 355,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 353,
            "percentage": 100,
            "percentageTokens": 99.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/outlook.routes.ts": {
            "lines": 699,
            "tokens": 5963,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 62,
            "duplicatedTokens": 614,
            "percentage": 8.87,
            "percentageTokens": 10.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/osha-compliance.ts": {
            "lines": 524,
            "tokens": 3782,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 115,
            "duplicatedTokens": 1012,
            "percentage": 21.95,
            "percentageTokens": 26.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/osha-compliance.enhanced.ts": {
            "lines": 120,
            "tokens": 952,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 72,
            "duplicatedTokens": 531,
            "percentage": 60,
            "percentageTokens": 55.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/on-call-management.routes.ts": {
            "lines": 640,
            "tokens": 4173,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 129,
            "duplicatedTokens": 1192,
            "percentage": 20.16,
            "percentageTokens": 28.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/on-call-management.routes.enhanced.ts": {
            "lines": 144,
            "tokens": 1268,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 103,
            "duplicatedTokens": 977,
            "percentage": 71.53,
            "percentageTokens": 77.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ocr.routes.ts": {
            "lines": 474,
            "tokens": 3837,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 39,
            "duplicatedTokens": 392,
            "percentage": 8.23,
            "percentageTokens": 10.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ocr.routes.enhanced.ts": {
            "lines": 155,
            "tokens": 1436,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 39,
            "duplicatedTokens": 392,
            "percentage": 25.16,
            "percentageTokens": 27.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/obd2-emulator.routes.ts": {
            "lines": 395,
            "tokens": 2395,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/monitoring.ts": {
            "lines": 528,
            "tokens": 4552,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-trips.routes.ts": {
            "lines": 887,
            "tokens": 5336,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 93,
            "duplicatedTokens": 1153,
            "percentage": 10.48,
            "percentageTokens": 21.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-trips.routes.enhanced.ts": {
            "lines": 151,
            "tokens": 1569,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 67,
            "duplicatedTokens": 939,
            "percentage": 44.37,
            "percentageTokens": 59.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-photos.routes.ts": {
            "lines": 760,
            "tokens": 3132,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 164,
            "percentage": 2.89,
            "percentageTokens": 5.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-ocr.routes.ts": {
            "lines": 571,
            "tokens": 4179,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 102,
            "duplicatedTokens": 886,
            "percentage": 17.86,
            "percentageTokens": 21.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-obd2.routes.ts": {
            "lines": 716,
            "tokens": 3749,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-notifications.routes.ts": {
            "lines": 658,
            "tokens": 4204,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 67,
            "duplicatedTokens": 461,
            "percentage": 10.18,
            "percentageTokens": 10.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-notifications.routes.enhanced.ts": {
            "lines": 122,
            "tokens": 935,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 101,
            "percentage": 13.11,
            "percentageTokens": 10.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-messaging.routes.ts": {
            "lines": 616,
            "tokens": 4153,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 60,
            "duplicatedTokens": 316,
            "percentage": 9.74,
            "percentageTokens": 7.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-integration.routes.ts": {
            "lines": 555,
            "tokens": 2764,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-hardware.routes.ts": {
            "lines": 918,
            "tokens": 4756,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-hardware.routes.enhanced.ts": {
            "lines": 98,
            "tokens": 836,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 107,
            "percentage": 8.16,
            "percentageTokens": 12.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-assignment.routes.ts": {
            "lines": 605,
            "tokens": 3466,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 64,
            "duplicatedTokens": 687,
            "percentage": 10.58,
            "percentageTokens": 19.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mobile-assignment.routes.enhanced.ts": {
            "lines": 96,
            "tokens": 810,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 46,
            "duplicatedTokens": 496,
            "percentage": 47.92,
            "percentageTokens": 61.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/mileage-reimbursement.ts": {
            "lines": 347,
            "tokens": 2822,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/microsoft-auth.ts": {
            "lines": 355,
            "tokens": 2478,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 95,
            "duplicatedTokens": 774,
            "percentage": 26.76,
            "percentageTokens": 31.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/microsoft-auth.enhanced.ts": {
            "lines": 107,
            "tokens": 877,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/metrics.ts": {
            "lines": 44,
            "tokens": 355,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/maintenance.ts": {
            "lines": 98,
            "tokens": 887,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/maintenance-schedules.ts": {
            "lines": 732,
            "tokens": 5804,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 57,
            "duplicatedTokens": 598,
            "percentage": 7.79,
            "percentageTokens": 10.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/langchain.routes.ts": {
            "lines": 608,
            "tokens": 4028,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/invoices.ts": {
            "lines": 27,
            "tokens": 352,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 350,
            "percentage": 100,
            "percentageTokens": 99.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/inspections.ts": {
            "lines": 101,
            "tokens": 1029,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 90,
            "percentage": 7.92,
            "percentageTokens": 8.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/inspections.enhanced.ts": {
            "lines": 143,
            "tokens": 1321,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 34,
            "duplicatedTokens": 359,
            "percentage": 23.78,
            "percentageTokens": 27.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/inspections.dal-example.ts": {
            "lines": 488,
            "tokens": 3807,
            "sources": 1,
            "clones": 20,
            "duplicatedLines": 264,
            "duplicatedTokens": 1965,
            "percentage": 54.1,
            "percentageTokens": 51.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/inspections.dal-example.enhanced.ts": {
            "lines": 121,
            "tokens": 1098,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 6,
            "duplicatedTokens": 97,
            "percentage": 4.96,
            "percentageTokens": 8.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/incidents.ts": {
            "lines": 108,
            "tokens": 1121,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/incident-management.routes.ts": {
            "lines": 448,
            "tokens": 1679,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/heavy-equipment.routes.ts": {
            "lines": 506,
            "tokens": 3445,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 294,
            "percentage": 2.37,
            "percentageTokens": 8.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/health.ts": {
            "lines": 52,
            "tokens": 492,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/health.routes.ts": {
            "lines": 315,
            "tokens": 2522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/health-detailed.ts": {
            "lines": 517,
            "tokens": 3713,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 105,
            "percentage": 1.74,
            "percentageTokens": 2.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/health-detailed.enhanced.ts": {
            "lines": 203,
            "tokens": 1806,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/gps.ts": {
            "lines": 242,
            "tokens": 1649,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 188,
            "percentage": 9.09,
            "percentageTokens": 11.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/geofences.ts": {
            "lines": 176,
            "tokens": 1411,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 132,
            "duplicatedTokens": 878,
            "percentage": 75,
            "percentageTokens": 62.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/geofences.enhanced.ts": {
            "lines": 172,
            "tokens": 1383,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 81,
            "duplicatedTokens": 533,
            "percentage": 47.09,
            "percentageTokens": 38.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/fuel-transactions.ts": {
            "lines": 111,
            "tokens": 1077,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/fuel-purchasing.routes.ts": {
            "lines": 490,
            "tokens": 3934,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 106,
            "percentage": 1.63,
            "percentageTokens": 2.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/fleet-optimizer.routes.ts": {
            "lines": 189,
            "tokens": 1602,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/fleet-documents.routes.ts": {
            "lines": 695,
            "tokens": 2963,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 25,
            "duplicatedTokens": 199,
            "percentage": 3.6,
            "percentageTokens": 6.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/fleet-documents.routes.enhanced.ts": {
            "lines": 122,
            "tokens": 972,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 111,
            "percentage": 13.93,
            "percentageTokens": 11.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/facilities.ts": {
            "lines": 111,
            "tokens": 1077,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/executive-dashboard.routes.ts": {
            "lines": 272,
            "tokens": 1117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/executive-dashboard.routes.enhanced.ts": {
            "lines": 74,
            "tokens": 740,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/example-di.routes.ts": {
            "lines": 244,
            "tokens": 1199,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ev-management.routes.ts": {
            "lines": 778,
            "tokens": 3756,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 170,
            "percentage": 2.83,
            "percentageTokens": 4.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/emulator.routes.ts": {
            "lines": 377,
            "tokens": 1878,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/drivers.ts": {
            "lines": 85,
            "tokens": 731,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/drivers.refactored.ts": {
            "lines": 43,
            "tokens": 249,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/drivers.enhanced.ts": {
            "lines": 134,
            "tokens": 1254,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 43,
            "duplicatedTokens": 448,
            "percentage": 32.09,
            "percentageTokens": 35.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/driver-scorecard.routes.ts": {
            "lines": 161,
            "tokens": 1386,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 38,
            "duplicatedTokens": 325,
            "percentage": 23.6,
            "percentageTokens": 23.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/driver-scorecard.routes.enhanced.ts": {
            "lines": 129,
            "tokens": 1134,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 38,
            "duplicatedTokens": 325,
            "percentage": 29.46,
            "percentageTokens": 28.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/documents.ts": {
            "lines": 809,
            "tokens": 4902,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 156,
            "duplicatedTokens": 1238,
            "percentage": 19.28,
            "percentageTokens": 25.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/documents.routes.ts": {
            "lines": 619,
            "tokens": 3885,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 136,
            "duplicatedTokens": 1344,
            "percentage": 21.97,
            "percentageTokens": 34.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/document-system.routes.ts": {
            "lines": 118,
            "tokens": 665,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 39,
            "duplicatedTokens": 240,
            "percentage": 33.05,
            "percentageTokens": 36.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/document-system.routes.enhanced.ts": {
            "lines": 119,
            "tokens": 800,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 39,
            "duplicatedTokens": 240,
            "percentage": 32.77,
            "percentageTokens": 30,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/document-search.example.ts": {
            "lines": 267,
            "tokens": 1454,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/document-geo.routes.ts": {
            "lines": 569,
            "tokens": 2862,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 236,
            "percentage": 4.57,
            "percentageTokens": 8.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/dispatch.routes.ts": {
            "lines": 765,
            "tokens": 1341,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/dispatch.routes.enhanced.ts": {
            "lines": 125,
            "tokens": 991,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/deployments.ts": {
            "lines": 298,
            "tokens": 1931,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/dashboard-stats.example.ts": {
            "lines": 287,
            "tokens": 967,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/damage.ts": {
            "lines": 638,
            "tokens": 4716,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 76,
            "duplicatedTokens": 796,
            "percentage": 11.91,
            "percentageTokens": 16.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/damage-reports.ts": {
            "lines": 425,
            "tokens": 3569,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 63,
            "duplicatedTokens": 726,
            "percentage": 14.82,
            "percentageTokens": 20.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/damage-reports.enhanced.ts": {
            "lines": 163,
            "tokens": 1453,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 31,
            "duplicatedTokens": 383,
            "percentage": 19.02,
            "percentageTokens": 26.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/custom-reports.routes.ts": {
            "lines": 410,
            "tokens": 3381,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 106,
            "percentage": 1.95,
            "percentageTokens": 3.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/crash-detection.routes.ts": {
            "lines": 367,
            "tokens": 1523,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/costs.ts": {
            "lines": 590,
            "tokens": 5767,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 164,
            "percentage": 1.69,
            "percentageTokens": 2.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/cost-benefit-analysis.routes.ts": {
            "lines": 462,
            "tokens": 2993,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 47,
            "duplicatedTokens": 437,
            "percentage": 10.17,
            "percentageTokens": 14.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/cost-analysis.routes.ts": {
            "lines": 269,
            "tokens": 2307,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 86,
            "duplicatedTokens": 844,
            "percentage": 31.97,
            "percentageTokens": 36.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/communications.ts": {
            "lines": 593,
            "tokens": 3892,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 25,
            "duplicatedTokens": 250,
            "percentage": 4.22,
            "percentageTokens": 6.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/communications.enhanced.ts": {
            "lines": 145,
            "tokens": 1153,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 109,
            "percentage": 5.52,
            "percentageTokens": 9.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/communication-logs.ts": {
            "lines": 156,
            "tokens": 1399,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 68,
            "duplicatedTokens": 633,
            "percentage": 43.59,
            "percentageTokens": 45.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/charging-stations.ts": {
            "lines": 177,
            "tokens": 1376,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 173,
            "duplicatedTokens": 1190,
            "percentage": 97.74,
            "percentageTokens": 86.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/charging-stations.enhanced.ts": {
            "lines": 158,
            "tokens": 1201,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 120,
            "duplicatedTokens": 794,
            "percentage": 75.95,
            "percentageTokens": 66.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/charging-sessions.ts": {
            "lines": 186,
            "tokens": 1377,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 113,
            "duplicatedTokens": 741,
            "percentage": 60.75,
            "percentageTokens": 53.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/charging-sessions.enhanced.ts": {
            "lines": 183,
            "tokens": 1048,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 51,
            "duplicatedTokens": 454,
            "percentage": 27.87,
            "percentageTokens": 43.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/calendar.routes.ts": {
            "lines": 403,
            "tokens": 3132,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 36,
            "duplicatedTokens": 368,
            "percentage": 8.93,
            "percentageTokens": 11.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/break-glass.ts": {
            "lines": 443,
            "tokens": 2637,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 150,
            "percentage": 4.51,
            "percentageTokens": 5.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/billing-reports.ts": {
            "lines": 158,
            "tokens": 889,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 35,
            "duplicatedTokens": 339,
            "percentage": 22.15,
            "percentageTokens": 38.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/billing-reports.enhanced.ts": {
            "lines": 84,
            "tokens": 804,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 121,
            "percentage": 10.71,
            "percentageTokens": 15.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/auth.ts": {
            "lines": 792,
            "tokens": 4730,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 55,
            "duplicatedTokens": 554,
            "percentage": 6.94,
            "percentageTokens": 11.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/auth.enhanced.ts": {
            "lines": 163,
            "tokens": 1394,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 139,
            "percentage": 7.98,
            "percentageTokens": 9.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/attachments.routes.ts": {
            "lines": 750,
            "tokens": 4361,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 31,
            "duplicatedTokens": 264,
            "percentage": 4.13,
            "percentageTokens": 6.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/assignment-reporting.routes.ts": {
            "lines": 530,
            "tokens": 2749,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 45,
            "duplicatedTokens": 231,
            "percentage": 8.49,
            "percentageTokens": 8.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/assets-mobile.routes.ts": {
            "lines": 127,
            "tokens": 882,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 54,
            "duplicatedTokens": 442,
            "percentage": 42.52,
            "percentageTokens": 50.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/asset-relationships.routes.ts": {
            "lines": 499,
            "tokens": 2942,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 92,
            "duplicatedTokens": 708,
            "percentage": 18.44,
            "percentageTokens": 24.07,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/asset-relationships.routes.enhanced.ts": {
            "lines": 82,
            "tokens": 588,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/asset-management.routes.ts": {
            "lines": 652,
            "tokens": 3880,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 89,
            "duplicatedTokens": 595,
            "percentage": 13.65,
            "percentageTokens": 15.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/asset-management.routes.enhanced.ts": {
            "lines": 99,
            "tokens": 719,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 72,
            "duplicatedTokens": 425,
            "percentage": 72.73,
            "percentageTokens": 59.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/asset-analytics.routes.ts": {
            "lines": 101,
            "tokens": 544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/arcgis-layers.ts": {
            "lines": 358,
            "tokens": 2847,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/annual-reauthorization.routes.ts": {
            "lines": 468,
            "tokens": 2853,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 91,
            "duplicatedTokens": 725,
            "percentage": 19.44,
            "percentageTokens": 25.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/annual-reauthorization.routes.enhanced.ts": {
            "lines": 128,
            "tokens": 1108,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 32,
            "duplicatedTokens": 385,
            "percentage": 25,
            "percentageTokens": 34.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/alerts.routes.ts": {
            "lines": 804,
            "tokens": 1809,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ai-task-prioritization.routes.ts": {
            "lines": 462,
            "tokens": 3015,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 105,
            "duplicatedTokens": 1049,
            "percentage": 22.73,
            "percentageTokens": 34.79,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ai-task-asset.routes.ts": {
            "lines": 348,
            "tokens": 2206,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ai-search.ts": {
            "lines": 646,
            "tokens": 4383,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 184,
            "percentage": 2.48,
            "percentageTokens": 4.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ai-insights.routes.ts": {
            "lines": 769,
            "tokens": 4637,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 64,
            "duplicatedTokens": 858,
            "percentage": 8.32,
            "percentageTokens": 18.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ai-dispatch.routes.ts": {
            "lines": 727,
            "tokens": 3277,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 90,
            "duplicatedTokens": 774,
            "percentage": 12.38,
            "percentageTokens": 23.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/ai-chat.ts": {
            "lines": 636,
            "tokens": 3742,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/admin-jobs.routes.ts": {
            "lines": 359,
            "tokens": 3006,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 108,
            "duplicatedTokens": 1390,
            "percentage": 30.08,
            "percentageTokens": 46.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/adaptive-cards.routes.ts": {
            "lines": 495,
            "tokens": 2388,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 192,
            "percentage": 4.44,
            "percentageTokens": 8.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/base.repository.ts": {
            "lines": 57,
            "tokens": 627,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/WorkOrderRepository.ts": {
            "lines": 581,
            "tokens": 4126,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 49,
            "duplicatedTokens": 531,
            "percentage": 8.43,
            "percentageTokens": 12.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/VendorRepository.ts": {
            "lines": 207,
            "tokens": 1229,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 117,
            "percentage": 6.76,
            "percentageTokens": 9.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/VehicleRepository.ts": {
            "lines": 216,
            "tokens": 1472,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/VehicleRepository.example.ts": {
            "lines": 300,
            "tokens": 1968,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 204,
            "percentage": 9.67,
            "percentageTokens": 10.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/TripRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 44,
            "duplicatedLines": 858,
            "duplicatedTokens": 8008,
            "percentage": 1175.34,
            "percentageTokens": 1267.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/TelemetryRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/TaskRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/RouteRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/ReservationRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/ReimbursementRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/PurchaseOrderRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/PolicyRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/PartRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/MaintenanceRepository.ts": {
            "lines": 410,
            "tokens": 2925,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 49,
            "duplicatedTokens": 531,
            "percentage": 11.95,
            "percentageTokens": 18.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/InvoiceRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/InspectionRepository.ts": {
            "lines": 283,
            "tokens": 1721,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 117,
            "percentage": 4.95,
            "percentageTokens": 6.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/IncidentRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/GeofenceRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/FuelRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/FacilityRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/DriverRepository.ts": {
            "lines": 118,
            "tokens": 786,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/DocumentRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/DeploymentRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/DamageReportRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/CostRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/CommunicationRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/ChargingStationRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/ChargingSessionRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/BaseRepository.ts": {
            "lines": 393,
            "tokens": 2445,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 77,
            "duplicatedTokens": 610,
            "percentage": 19.59,
            "percentageTokens": 24.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/AttachmentRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/AlertRepository.ts": {
            "lines": 73,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 364,
            "percentage": 53.42,
            "percentageTokens": 57.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/permissions/types.ts": {
            "lines": 180,
            "tokens": 1153,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 162,
            "percentage": 11.11,
            "percentageTokens": 14.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/permissions/engine.ts": {
            "lines": 472,
            "tokens": 3483,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/monitoring/sentry.ts": {
            "lines": 355,
            "tokens": 2482,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/monitoring/applicationInsights.ts": {
            "lines": 295,
            "tokens": 1938,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/ml-models/fuel-price-forecasting.model.ts": {
            "lines": 445,
            "tokens": 1861,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/ml-models/fleet-optimization.model.ts": {
            "lines": 415,
            "tokens": 2401,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/ml-models/driver-scoring.model.ts": {
            "lines": 286,
            "tokens": 2177,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/ml-models/cost-forecasting.model.ts": {
            "lines": 447,
            "tokens": 1086,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/webhook-validation.ts": {
            "lines": 344,
            "tokens": 2290,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 176,
            "percentage": 4.07,
            "percentageTokens": 7.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/validation.ts": {
            "lines": 462,
            "tokens": 3608,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 13,
            "duplicatedTokens": 199,
            "percentage": 2.81,
            "percentageTokens": 5.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/validate.ts": {
            "lines": 257,
            "tokens": 1630,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 142,
            "duplicatedTokens": 602,
            "percentage": 55.25,
            "percentageTokens": 36.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/tenant-context.ts": {
            "lines": 349,
            "tokens": 1897,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/telemetry.ts": {
            "lines": 264,
            "tokens": 2135,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/sentryErrorHandler.ts": {
            "lines": 366,
            "tokens": 2662,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/security-headers.ts": {
            "lines": 321,
            "tokens": 1724,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/sanitization.ts": {
            "lines": 408,
            "tokens": 2757,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/role.middleware.ts": {
            "lines": 52,
            "tokens": 364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/response-formatter.ts": {
            "lines": 34,
            "tokens": 305,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/request-id.ts": {
            "lines": 207,
            "tokens": 1364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/rbac.ts": {
            "lines": 557,
            "tokens": 3342,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 44,
            "duplicatedTokens": 374,
            "percentage": 7.9,
            "percentageTokens": 11.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/rateLimiter.ts": {
            "lines": 501,
            "tokens": 3112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/rateLimit.ts": {
            "lines": 59,
            "tokens": 494,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/rate-limiter.ts": {
            "lines": 44,
            "tokens": 282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/rate-limit.ts": {
            "lines": 661,
            "tokens": 2581,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 86,
            "duplicatedTokens": 696,
            "percentage": 13.01,
            "percentageTokens": 26.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/processErrorHandlers.ts": {
            "lines": 150,
            "tokens": 954,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/permissions.ts": {
            "lines": 562,
            "tokens": 4535,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 180,
            "percentage": 3.2,
            "percentageTokens": 3.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/monitoring.ts": {
            "lines": 56,
            "tokens": 459,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/modulePermissions.ts": {
            "lines": 290,
            "tokens": 2074,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 178,
            "percentage": 5.52,
            "percentageTokens": 8.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/mock-database.ts": {
            "lines": 56,
            "tokens": 453,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/logging.ts": {
            "lines": 257,
            "tokens": 1919,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/errorHandler.ts": {
            "lines": 120,
            "tokens": 798,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/error.middleware.ts": {
            "lines": 36,
            "tokens": 296,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/error-formatter.ts": {
            "lines": 30,
            "tokens": 260,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/csrf.ts": {
            "lines": 68,
            "tokens": 450,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/corsConfig.ts": {
            "lines": 358,
            "tokens": 2078,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/cache.ts": {
            "lines": 416,
            "tokens": 2396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/azure-ad-auth.ts": {
            "lines": 66,
            "tokens": 212,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/auth.ts": {
            "lines": 157,
            "tokens": 1192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/audit.ts": {
            "lines": 115,
            "tokens": 913,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/async-handler.ts": {
            "lines": 37,
            "tokens": 222,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/middleware/api-version.ts": {
            "lines": 23,
            "tokens": 240,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/lib/logger.ts": {
            "lines": 630,
            "tokens": 4395,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/webhook-renewal.job.ts": {
            "lines": 284,
            "tokens": 1599,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 88,
            "duplicatedTokens": 707,
            "percentage": 30.99,
            "percentageTokens": 44.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/telematics-sync.ts": {
            "lines": 323,
            "tokens": 1973,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 136,
            "percentage": 5.57,
            "percentageTokens": 6.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/teams-sync.job.ts": {
            "lines": 312,
            "tokens": 1262,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 120,
            "duplicatedTokens": 711,
            "percentage": 38.46,
            "percentageTokens": 56.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/scheduling-reminders.job.ts": {
            "lines": 456,
            "tokens": 2626,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 69,
            "duplicatedTokens": 673,
            "percentage": 15.13,
            "percentageTokens": 25.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/report-scheduler.job.ts": {
            "lines": 443,
            "tokens": 1962,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 84,
            "percentage": 2.03,
            "percentageTokens": 4.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/queue.ts": {
            "lines": 335,
            "tokens": 2561,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 220,
            "percentage": 4.78,
            "percentageTokens": 8.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/queue-processors.ts": {
            "lines": 637,
            "tokens": 4006,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/push-notification-scheduler.job.ts": {
            "lines": 65,
            "tokens": 349,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/outlook-sync.job.ts": {
            "lines": 489,
            "tokens": 1569,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 84,
            "duplicatedTokens": 465,
            "percentage": 17.18,
            "percentageTokens": 29.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/maintenance-scheduler.ts": {
            "lines": 287,
            "tokens": 1758,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 57,
            "duplicatedTokens": 434,
            "percentage": 19.86,
            "percentageTokens": 24.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/jobs/alert-checker.job.ts": {
            "lines": 276,
            "tokens": 1638,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 48,
            "duplicatedTokens": 372,
            "percentage": 17.39,
            "percentageTokens": 22.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/interfaces/utilization.interface.ts": {
            "lines": 47,
            "tokens": 248,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/examples/queue-integration-example.ts": {
            "lines": 423,
            "tokens": 2722,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/examples/ocr-usage-example.ts": {
            "lines": 411,
            "tokens": 2804,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/errors/index.ts": {
            "lines": 32,
            "tokens": 105,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/errors/app-error.ts": {
            "lines": 40,
            "tokens": 297,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/errors/ApplicationError.ts": {
            "lines": 181,
            "tokens": 1019,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/errors/AppError.ts": {
            "lines": 52,
            "tokens": 366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/types.ts": {
            "lines": 413,
            "tokens": 2761,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 64,
            "duplicatedTokens": 432,
            "percentage": 15.5,
            "percentageTokens": 15.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/test-inventory-emulator.ts": {
            "lines": 137,
            "tokens": 1171,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 43,
            "duplicatedTokens": 238,
            "percentage": 31.39,
            "percentageTokens": 20.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/VehicleEmulator.ts": {
            "lines": 198,
            "tokens": 2294,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/TaskEmulator.ts": {
            "lines": 681,
            "tokens": 7566,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/RouteEmulator.ts": {
            "lines": 518,
            "tokens": 5725,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 172,
            "percentage": 2.32,
            "percentageTokens": 3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/MaintenanceRecordEmulator.ts": {
            "lines": 338,
            "tokens": 3525,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/InventoryEmulator.ts": {
            "lines": 905,
            "tokens": 10527,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 170,
            "percentage": 1.33,
            "percentageTokens": 1.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/GPSEmulator.ts": {
            "lines": 565,
            "tokens": 4467,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 83,
            "percentage": 1.77,
            "percentageTokens": 1.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/FuelTransactionEmulator.ts": {
            "lines": 293,
            "tokens": 2841,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/EmulatorOrchestrator.ts": {
            "lines": 983,
            "tokens": 7626,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/DriverEmulator.ts": {
            "lines": 148,
            "tokens": 1558,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 112,
            "percentage": 12.84,
            "percentageTokens": 7.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/DispatchEmulator.ts": {
            "lines": 807,
            "tokens": 6518,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db/seed.ts": {
            "lines": 37,
            "tokens": 374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db/schema.ts": {
            "lines": 225,
            "tokens": 3469,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db/index.ts": {
            "lines": 48,
            "tokens": 324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db/connection.ts": {
            "lines": 11,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/database/poolMonitor.ts": {
            "lines": 403,
            "tokens": 2726,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/database/index.ts": {
            "lines": 101,
            "tokens": 533,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/database/connectionManager.ts": {
            "lines": 678,
            "tokens": 5203,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 180,
            "percentage": 2.95,
            "percentageTokens": 3.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/data/mock-data.ts": {
            "lines": 289,
            "tokens": 1912,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/worker-pool.ts": {
            "lines": 350,
            "tokens": 2701,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/validateEnv.ts": {
            "lines": 27,
            "tokens": 283,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/telemetry.ts": {
            "lines": 191,
            "tokens": 1351,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 218,
            "percentage": 14.66,
            "percentageTokens": 16.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/swagger.ts": {
            "lines": 290,
            "tokens": 2077,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/storage.ts": {
            "lines": 399,
            "tokens": 2640,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/secrets.ts": {
            "lines": 435,
            "tokens": 2267,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/redis.ts": {
            "lines": 100,
            "tokens": 631,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/rateLimits.ts": {
            "lines": 314,
            "tokens": 1408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/rate-limiters.ts": {
            "lines": 140,
            "tokens": 1313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/queue-init.ts": {
            "lines": 21,
            "tokens": 167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/microsoft-graph.config.ts": {
            "lines": 408,
            "tokens": 2443,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/logger.ts": {
            "lines": 46,
            "tokens": 383,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/index.ts": {
            "lines": 30,
            "tokens": 211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/fips-enforcement.ts": {
            "lines": 185,
            "tokens": 1242,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/field-whitelists.ts": {
            "lines": 600,
            "tokens": 2505,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/environment.ts": {
            "lines": 175,
            "tokens": 1396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/env.ts": {
            "lines": 25,
            "tokens": 300,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/document-system.config.ts": {
            "lines": 239,
            "tokens": 1984,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/db-pool.ts": {
            "lines": 41,
            "tokens": 328,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/database.ts": {
            "lines": 95,
            "tokens": 333,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/database.d.ts": {
            "lines": 62,
            "tokens": 190,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/container.ts": {
            "lines": 32,
            "tokens": 350,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/connection-manager.ts": {
            "lines": 520,
            "tokens": 3692,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 180,
            "percentage": 3.85,
            "percentageTokens": 4.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/connection-manager.d.ts": {
            "lines": 106,
            "tokens": 434,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/connection-manager-keyvault.example.ts": {
            "lines": 176,
            "tokens": 1008,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/cache.ts": {
            "lines": 47,
            "tokens": 427,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/app-insights.ts": {
            "lines": 225,
            "tokens": 1541,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/setup.ts": {
            "lines": 17,
            "tokens": 102,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/helpers.ts": {
            "lines": 39,
            "tokens": 386,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/ai-dispatch.test.ts": {
            "lines": 594,
            "tokens": 4266,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 272,
            "percentage": 5.05,
            "percentageTokens": 6.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/__tests__/DispatchEmulator.test.ts": {
            "lines": 549,
            "tokens": 4727,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/types.ts": {
            "lines": 33,
            "tokens": 346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/server.ts": {
            "lines": 542,
            "tokens": 3707,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 139,
            "duplicatedTokens": 1024,
            "percentage": 25.65,
            "percentageTokens": 27.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/server.original.ts": {
            "lines": 203,
            "tokens": 1511,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 123,
            "duplicatedTokens": 974,
            "percentage": 60.59,
            "percentageTokens": 64.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/server-websocket.ts": {
            "lines": 70,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/server-gps.ts": {
            "lines": 52,
            "tokens": 402,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 112,
            "percentage": 23.08,
            "percentageTokens": 27.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/main.ts": {
            "lines": 16,
            "tokens": 128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db.ts": {
            "lines": 9,
            "tokens": 38,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db.d.ts": {
            "lines": 6,
            "tokens": 35,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/container.ts": {
            "lines": 62,
            "tokens": 662,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/utils/layerUtils.ts": {
            "lines": 74,
            "tokens": 599,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/hooks/useLayerOperations.ts": {
            "lines": 41,
            "tokens": 330,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/hooks/useLayerActions.ts": {
            "lines": 134,
            "tokens": 1334,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/hooks/useArcGISLayers.ts": {
            "lines": 69,
            "tokens": 560,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard/hooks/useFleetMetrics.ts": {
            "lines": 72,
            "tokens": 760,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard/hooks/useFleetFilters.ts": {
            "lines": 133,
            "tokens": 1406,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/hooks/useFleetAnalyticsData.ts": {
            "lines": 68,
            "tokens": 749,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/hooks/useChartData.ts": {
            "lines": 39,
            "tokens": 513,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/components/index.ts": {
            "lines": 3,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/AssetManagement/hooks/useAssets.ts": {
            "lines": 101,
            "tokens": 876,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/AssetManagement/hooks/useAssetFilters.ts": {
            "lines": 64,
            "tokens": 653,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/types.ts": {
            "lines": 35,
            "tokens": 133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/index.ts": {
            "lines": 23,
            "tokens": 108,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/types.ts": {
            "lines": 64,
            "tokens": 383,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/index.ts": {
            "lines": 8,
            "tokens": 102,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/__tests__/xss-test-payloads.ts": {
            "lines": 206,
            "tokens": 1079,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/mobile/services/OBD2Service.ts": {
            "lines": 976,
            "tokens": 7116,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/index.ts": {
            "lines": 6,
            "tokens": 72,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/index.ts": {
            "lines": 5,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/index.ts": {
            "lines": 6,
            "tokens": 72,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/index.ts": {
            "lines": 4,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/index.ts": {
            "lines": 6,
            "tokens": 72,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/index.ts": {
            "lines": 11,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/drivers/index.ts": {
            "lines": 3,
            "tokens": 36,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/index.ts": {
            "lines": 5,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/index.ts": {
            "lines": 6,
            "tokens": 72,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/index.ts": {
            "lines": 4,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/index.ts": {
            "lines": 11,
            "tokens": 79,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/utils/validation.ts": {
            "lines": 45,
            "tokens": 304,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/utils/storage.ts": {
            "lines": 35,
            "tokens": 226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/utils/provider.ts": {
            "lines": 47,
            "tokens": 262,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/utils/coordinates.ts": {
            "lines": 68,
            "tokens": 602,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/hooks/useMapProvider.ts": {
            "lines": 55,
            "tokens": 478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/store/slices/moduleSlice.ts": {
            "lines": 24,
            "tokens": 169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/store/slices/formSlice.ts": {
            "lines": 78,
            "tokens": 557,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/store/slices/filterSlice.ts": {
            "lines": 39,
            "tokens": 300,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/inspect/types.ts": {
            "lines": 14,
            "tokens": 86,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/index.ts": {
            "lines": 4,
            "tokens": 63,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/telemetry/obdii-service.ts": {
            "lines": 57,
            "tokens": 544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/telemetry/analytics.ts": {
            "lines": 35,
            "tokens": 242,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/rbac.ts": {
            "lines": 439,
            "tokens": 3076,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/auth.ts": {
            "lines": 405,
            "tokens": 3128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/policy-engine/types.ts": {
            "lines": 32,
            "tokens": 264,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/mock-data/users.ts": {
            "lines": 526,
            "tokens": 4014,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/mobile/types.ts": {
            "lines": 76,
            "tokens": 538,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/documents/utils.ts": {
            "lines": 351,
            "tokens": 3130,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/documents/types.ts": {
            "lines": 234,
            "tokens": 1644,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/documents/index.ts": {
            "lines": 5,
            "tokens": 19,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/compliance/eld-hos.ts": {
            "lines": 38,
            "tokens": 255,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/arcgis/types.ts": {
            "lines": 84,
            "tokens": 499,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/arcgis/service.ts": {
            "lines": 319,
            "tokens": 2674,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/drill-through/useDrillThrough.ts": {
            "lines": 196,
            "tokens": 1521,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/documents/useKeyboardShortcuts.ts": {
            "lines": 258,
            "tokens": 2023,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/documents/index.ts": {
            "lines": 4,
            "tokens": 10,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/__tests__/useFleetMetrics.test.ts": {
            "lines": 169,
            "tokens": 1547,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/__tests__/useExport.test.ts": {
            "lines": 302,
            "tokens": 2928,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 124,
            "duplicatedTokens": 1066,
            "percentage": 41.06,
            "percentageTokens": 36.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ux/index.ts": {
            "lines": 24,
            "tokens": 126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/index.ts": {
            "lines": 32,
            "tokens": 212,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/index.ts": {
            "lines": 10,
            "tokens": 64,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/obd2/index.ts": {
            "lines": 5,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/index.ts": {
            "lines": 32,
            "tokens": 233,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/index.ts": {
            "lines": 43,
            "tokens": 382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/demo/index.ts": {
            "lines": 4,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/index.ts": {
            "lines": 12,
            "tokens": 85,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ai/index.ts": {
            "lines": 6,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/types.ts": {
            "lines": 68,
            "tokens": 292,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/api.ts": {
            "lines": 78,
            "tokens": 410,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrillThrough/index.ts": {
            "lines": 14,
            "tokens": 76,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/xss-sanitizer.ts": {
            "lines": 109,
            "tokens": 670,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/transactionUtils.ts": {
            "lines": 58,
            "tokens": 389,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/toast.ts": {
            "lines": 71,
            "tokens": 644,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/secure-storage.ts": {
            "lines": 117,
            "tokens": 670,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/secure-cookie.ts": {
            "lines": 124,
            "tokens": 801,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/rum.ts": {
            "lines": 602,
            "tokens": 4538,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/retry.ts": {
            "lines": 556,
            "tokens": 3176,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/privacy.ts": {
            "lines": 516,
            "tokens": 3636,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/performance.ts": {
            "lines": 111,
            "tokens": 768,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/memoryAPI.ts": {
            "lines": 47,
            "tokens": 295,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/mapHealthCheck.ts": {
            "lines": 646,
            "tokens": 3904,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/logger.ts": {
            "lines": 307,
            "tokens": 2172,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/imageOptimization.ts": {
            "lines": 358,
            "tokens": 2616,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 222,
            "percentage": 6.15,
            "percentageTokens": 8.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/formValidation.ts": {
            "lines": 350,
            "tokens": 2928,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/demo-data-generator.ts": {
            "lines": 121,
            "tokens": 849,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/damage2Dto3DMapper.ts": {
            "lines": 306,
            "tokens": 2229,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/cors-preflight.ts": {
            "lines": 151,
            "tokens": 881,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/cache.ts": {
            "lines": 94,
            "tokens": 954,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 39,
            "duplicatedTokens": 402,
            "percentage": 41.49,
            "percentageTokens": 42.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/apiResponse.ts": {
            "lines": 86,
            "tokens": 479,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/api-security.ts": {
            "lines": 175,
            "tokens": 1396,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/analytics.ts": {
            "lines": 125,
            "tokens": 835,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/utils/accessibility.ts": {
            "lines": 798,
            "tokens": 4270,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/ux-components.d.ts": {
            "lines": 160,
            "tokens": 1166,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 120,
            "percentage": 10.63,
            "percentageTokens": 10.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/user-management.ts": {
            "lines": 279,
            "tokens": 1460,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/trip-usage.ts": {
            "lines": 461,
            "tokens": 2726,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 425,
            "duplicatedTokens": 2481,
            "percentage": 92.19,
            "percentageTokens": 91.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/traffic-cameras.ts": {
            "lines": 218,
            "tokens": 1169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/telemetry.ts": {
            "lines": 189,
            "tokens": 916,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/scheduling.ts": {
            "lines": 228,
            "tokens": 1516,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/radio.ts": {
            "lines": 187,
            "tokens": 1429,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/microsoft.ts": {
            "lines": 375,
            "tokens": 2475,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/global.d.ts": {
            "lines": 6,
            "tokens": 49,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/endpoint-monitor.ts": {
            "lines": 53,
            "tokens": 333,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/drill-through.ts": {
            "lines": 102,
            "tokens": 574,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/branding.d.ts": {
            "lines": 8,
            "tokens": 38,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/asset.types.ts": {
            "lines": 580,
            "tokens": 2821,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/amt.types.ts": {
            "lines": 142,
            "tokens": 815,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/tests/setup.ts": {
            "lines": 27,
            "tokens": 217,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/telemetry/webVitals.ts": {
            "lines": 26,
            "tokens": 78,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/telemetry/index.ts": {
            "lines": 720,
            "tokens": 6275,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/telemetry/eventTracking.ts": {
            "lines": 53,
            "tokens": 186,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/telemetry/errorTracking.ts": {
            "lines": 26,
            "tokens": 78,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/telemetry/appInsights.ts": {
            "lines": 38,
            "tokens": 135,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/typography.ts": {
            "lines": 88,
            "tokens": 951,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/design-tokens.ts": {
            "lines": 201,
            "tokens": 1464,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/colors.ts": {
            "lines": 122,
            "tokens": 1338,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/stores/appStore.ts": {
            "lines": 280,
            "tokens": 2615,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/store/store.ts": {
            "lines": 21,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/vehicle-models.ts": {
            "lines": 234,
            "tokens": 1954,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/userService.ts": {
            "lines": 19,
            "tokens": 140,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/mockData.ts": {
            "lines": 525,
            "tokens": 5283,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/drilldownService.ts": {
            "lines": 29,
            "tokens": 255,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/branding.service.ts": {
            "lines": 38,
            "tokens": 255,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/analytics.ts": {
            "lines": 689,
            "tokens": 5227,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/MaintenanceService.ts": {
            "lines": 33,
            "tokens": 225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/schemas/api-responses.ts": {
            "lines": 261,
            "tokens": 3402,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 36,
            "duplicatedTokens": 436,
            "percentage": 13.79,
            "percentageTokens": 12.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/vehicles.ts": {
            "lines": 20,
            "tokens": 195,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/routes/api.routes.ts": {
            "lines": 19,
            "tokens": 159,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/repository/workOrderRepository.ts": {
            "lines": 41,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/repository/vehicleRepository.ts": {
            "lines": 35,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/repository/maintenanceRepository.ts": {
            "lines": 40,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/cacheMiddleware.ts": {
            "lines": 28,
            "tokens": 280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware/apiResponseMiddleware.ts": {
            "lines": 22,
            "tokens": 199,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/websocket-client.ts": {
            "lines": 410,
            "tokens": 2956,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/version-checker.ts": {
            "lines": 67,
            "tokens": 462,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils.ts": {
            "lines": 5,
            "tokens": 58,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/user-utils.ts": {
            "lines": 452,
            "tokens": 3498,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 174,
            "percentage": 3.1,
            "percentageTokens": 4.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/types.ts": {
            "lines": 729,
            "tokens": 5064,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/telemetry.ts": {
            "lines": 389,
            "tokens": 2761,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/sentry.ts": {
            "lines": 442,
            "tokens": 2832,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/reactive-state.ts": {
            "lines": 782,
            "tokens": 6085,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/radioApi.ts": {
            "lines": 270,
            "tokens": 2792,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/msOfficeIntegration.ts": {
            "lines": 373,
            "tokens": 2905,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/moduleManager.ts": {
            "lines": 433,
            "tokens": 2849,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/module-logger.ts": {
            "lines": 451,
            "tokens": 3733,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/microsoft-auth.ts": {
            "lines": 185,
            "tokens": 1084,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/export-utils.ts": {
            "lines": 497,
            "tokens": 3517,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/error-handler.ts": {
            "lines": 426,
            "tokens": 2829,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/demo-data.ts": {
            "lines": 326,
            "tokens": 4288,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/dataService.ts": {
            "lines": 297,
            "tokens": 2753,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/data-transformers.ts": {
            "lines": 212,
            "tokens": 2148,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/api.ts": {
            "lines": 38,
            "tokens": 216,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/api-client.ts": {
            "lines": 634,
            "tokens": 6920,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/api-client.assetRelationships.ts": {
            "lines": 171,
            "tokens": 637,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/aiAssistant.ts": {
            "lines": 214,
            "tokens": 1776,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useWebSocket.ts": {
            "lines": 220,
            "tokens": 1804,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useVehicles.ts": {
            "lines": 82,
            "tokens": 689,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useVehicleTelemetry.ts": {
            "lines": 407,
            "tokens": 3117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useVehicleSchedule.ts": {
            "lines": 241,
            "tokens": 2148,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 38,
            "duplicatedTokens": 352,
            "percentage": 15.77,
            "percentageTokens": 16.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useVehicleInventory.ts": {
            "lines": 456,
            "tokens": 3394,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 24,
            "duplicatedTokens": 334,
            "percentage": 5.26,
            "percentageTokens": 9.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useVehicleFilters.ts": {
            "lines": 34,
            "tokens": 352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useTrafficCameras.ts": {
            "lines": 105,
            "tokens": 769,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useTokenRefresh.ts": {
            "lines": 64,
            "tokens": 611,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useToast.ts": {
            "lines": 73,
            "tokens": 484,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useTelemetry.ts": {
            "lines": 491,
            "tokens": 3457,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 172,
            "percentage": 4.48,
            "percentageTokens": 4.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useTeams.ts": {
            "lines": 347,
            "tokens": 3055,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 20,
            "duplicatedTokens": 324,
            "percentage": 5.76,
            "percentageTokens": 10.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useSystemStatus.ts": {
            "lines": 387,
            "tokens": 3039,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useScheduling.ts": {
            "lines": 488,
            "tokens": 3972,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useSanitizedInput.ts": {
            "lines": 94,
            "tokens": 604,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useResizeObserver.ts": {
            "lines": 42,
            "tokens": 306,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useRealtimeTasks.ts": {
            "lines": 74,
            "tokens": 678,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useRadioSocket.ts": {
            "lines": 185,
            "tokens": 1614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useQueryWithErrorHandling.ts": {
            "lines": 347,
            "tokens": 2297,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/usePersonalUseQueries.ts": {
            "lines": 200,
            "tokens": 1642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/usePermissions.ts": {
            "lines": 282,
            "tokens": 2125,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/usePerformanceMonitor.ts": {
            "lines": 31,
            "tokens": 207,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/usePTT.ts": {
            "lines": 298,
            "tokens": 2522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useOutlook.ts": {
            "lines": 300,
            "tokens": 2666,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useOBD2Emulator.ts": {
            "lines": 201,
            "tokens": 1565,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useNotifications.ts": {
            "lines": 171,
            "tokens": 1269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useLocalStorage.ts": {
            "lines": 55,
            "tokens": 358,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useInventory.ts": {
            "lines": 441,
            "tokens": 3112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useInterval.ts": {
            "lines": 58,
            "tokens": 293,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useFormValidation.ts": {
            "lines": 108,
            "tokens": 1050,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 120,
            "percentage": 15.74,
            "percentageTokens": 11.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useFleetMetrics.ts": {
            "lines": 26,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useExport.ts": {
            "lines": 39,
            "tokens": 535,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useErrorRecovery.ts": {
            "lines": 514,
            "tokens": 2959,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useErrorHandler.ts": {
            "lines": 320,
            "tokens": 2047,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useEndpointMonitoring.ts": {
            "lines": 155,
            "tokens": 1136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useEndpointHealth.ts": {
            "lines": 250,
            "tokens": 2167,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 174,
            "percentage": 7.2,
            "percentageTokens": 8.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useDrivers.ts": {
            "lines": 32,
            "tokens": 223,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 112,
            "percentage": 59.38,
            "percentageTokens": 50.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useDispatchSocket.ts": {
            "lines": 299,
            "tokens": 2513,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useDemoMode.ts": {
            "lines": 186,
            "tokens": 1438,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useDebounce.ts": {
            "lines": 35,
            "tokens": 146,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useDataWorkbenchData.ts": {
            "lines": 99,
            "tokens": 1299,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useDataQueriesEnhanced.ts": {
            "lines": 476,
            "tokens": 3708,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 62,
            "duplicatedTokens": 610,
            "percentage": 13.03,
            "percentageTokens": 16.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useDataQueries.ts": {
            "lines": 359,
            "tokens": 3173,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 62,
            "duplicatedTokens": 610,
            "percentage": 17.27,
            "percentageTokens": 19.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useCrudResource.ts": {
            "lines": 132,
            "tokens": 969,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useCalendarIntegration.ts": {
            "lines": 318,
            "tokens": 2233,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useCalendar.ts": {
            "lines": 77,
            "tokens": 781,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAuth.ts": {
            "lines": 279,
            "tokens": 2226,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 200,
            "percentage": 5.73,
            "percentageTokens": 8.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAudioVisualization.ts": {
            "lines": 221,
            "tokens": 1697,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAsync.ts": {
            "lines": 82,
            "tokens": 461,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAppointmentTypes.ts": {
            "lines": 141,
            "tokens": 1246,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAdaptiveCards.ts": {
            "lines": 46,
            "tokens": 409,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAccessibility.ts": {
            "lines": 476,
            "tokens": 2817,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-theme.ts": {
            "lines": 36,
            "tokens": 266,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-mobile.ts": {
            "lines": 18,
            "tokens": 178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-maintenance-data.ts": {
            "lines": 75,
            "tokens": 752,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-keyboard-shortcuts.ts": {
            "lines": 83,
            "tokens": 630,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-fuel-data.ts": {
            "lines": 58,
            "tokens": 489,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-fleet-data.ts": {
            "lines": 293,
            "tokens": 3061,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-drilldown-helpers.ts": {
            "lines": 115,
            "tokens": 895,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-api.ts": {
            "lines": 893,
            "tokens": 8917,
            "sources": 1,
            "clones": 14,
            "duplicatedLines": 140,
            "duplicatedTokens": 1252,
            "percentage": 15.68,
            "percentageTokens": 14.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-amt-api.ts": {
            "lines": 122,
            "tokens": 1313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/index.ts": {
            "lines": 50,
            "tokens": 216,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/example-tanstack-query-usage.ts": {
            "lines": 196,
            "tokens": 1248,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/errors/AppError.ts": {
            "lines": 10,
            "tokens": 45,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/database/FleetDatabaseAdapter.ts": {
            "lines": 22,
            "tokens": 104,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/container/index.ts": {
            "lines": 28,
            "tokens": 333,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 94,
            "percentage": 39.29,
            "percentageTokens": 28.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/container/DIContainer.ts": {
            "lines": 20,
            "tokens": 168,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 94,
            "percentage": 55,
            "percentageTokens": 55.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/telemetry.ts": {
            "lines": 363,
            "tokens": 2166,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/security.config.ts": {
            "lines": 21,
            "tokens": 170,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/query-client.ts": {
            "lines": 127,
            "tokens": 1347,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/endpoints.ts": {
            "lines": 310,
            "tokens": 5850,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/vite-end.d.ts": {
            "lines": 46,
            "tokens": 400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/registerServiceWorker.ts": {
            "lines": 365,
            "tokens": 2203,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/logger.ts": {
            "lines": 24,
            "tokens": 192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/logSanitizer.ts": {
            "lines": 32,
            "tokens": 181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/logMiddleware.ts": {
            "lines": 26,
            "tokens": 156,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 261666,
          "tokens": 1776248,
          "sources": 900,
          "clones": 729,
          "duplicatedLines": 13021,
          "duplicatedTokens": 105280,
          "percentage": 4.98,
          "percentageTokens": 5.93,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "markup": {
        "sources": {
          "api/src/templates/scheduling/reservation_request.html": {
            "lines": 174,
            "tokens": 1274,
            "sources": 1,
            "clones": 15,
            "duplicatedLines": 241,
            "duplicatedTokens": 1944,
            "percentage": 138.51,
            "percentageTokens": 152.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/scheduling/reservation_reminder.html": {
            "lines": 198,
            "tokens": 1500,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 104,
            "duplicatedTokens": 806,
            "percentage": 52.53,
            "percentageTokens": 53.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/scheduling/reservation_rejected.html": {
            "lines": 182,
            "tokens": 1296,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 80,
            "duplicatedTokens": 585,
            "percentage": 43.96,
            "percentageTokens": 45.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/scheduling/reservation_approved.html": {
            "lines": 197,
            "tokens": 1493,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 84,
            "duplicatedTokens": 662,
            "percentage": 42.64,
            "percentageTokens": 44.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/scheduling/maintenance_reminder.html": {
            "lines": 202,
            "tokens": 1544,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 75,
            "duplicatedTokens": 534,
            "percentage": 37.13,
            "percentageTokens": 34.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/scheduling/conflict_detected.html": {
            "lines": 172,
            "tokens": 1276,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 48,
            "duplicatedTokens": 315,
            "percentage": 27.91,
            "percentageTokens": 24.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 1125,
          "tokens": 8383,
          "sources": 6,
          "clones": 19,
          "duplicatedLines": 316,
          "duplicatedTokens": 2423,
          "percentage": 28.09,
          "percentageTokens": 28.9,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "json": {
        "sources": {
          "api/src/templates/adaptive-cards/work-order.json": {
            "lines": 223,
            "tokens": 1226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/adaptive-cards/vehicle-maintenance.json": {
            "lines": 165,
            "tokens": 871,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/adaptive-cards/inspection-checklist.json": {
            "lines": 277,
            "tokens": 1483,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 105,
            "percentage": 6.5,
            "percentageTokens": 7.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/adaptive-cards/incident-report.json": {
            "lines": 226,
            "tokens": 1236,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/adaptive-cards/fuel-receipt.json": {
            "lines": 317,
            "tokens": 1646,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 105,
            "percentage": 5.68,
            "percentageTokens": 6.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/adaptive-cards/driver-performance.json": {
            "lines": 311,
            "tokens": 1628,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/templates/adaptive-cards/approval-request.json": {
            "lines": 228,
            "tokens": 1202,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/permissions/config/modules.json": {
            "lines": 56,
            "tokens": 515,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/permissions/config/fields.json": {
            "lines": 154,
            "tokens": 992,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/permissions/config/actions.json": {
            "lines": 166,
            "tokens": 1341,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/config/scenarios.json": {
            "lines": 176,
            "tokens": 1476,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/config/routes.json": {
            "lines": 172,
            "tokens": 2049,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/config/default.json": {
            "lines": 172,
            "tokens": 1352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/config/tsconfig.json": {
            "lines": 22,
            "tokens": 145,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 2665,
          "tokens": 17162,
          "sources": 14,
          "clones": 1,
          "duplicatedLines": 18,
          "duplicatedTokens": 105,
          "percentage": 0.68,
          "percentageTokens": 0.61,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "javascript": {
        "sources": {
          "api/src/services/dal/errors.js": {
            "lines": 77,
            "tokens": 570,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db/schema.js": {
            "lines": 216,
            "tokens": 4849,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/database.js": {
            "lines": 95,
            "tokens": 583,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/config/connection-manager.js": {
            "lines": 446,
            "tokens": 3658,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/db.js": {
            "lines": 12,
            "tokens": 132,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/gis/components/FacilitiesSidebar.tsx": {
            "lines": 13,
            "tokens": 145,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/LayerControls.tsx": {
            "lines": 4,
            "tokens": 49,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/LayerCard.tsx": {
            "lines": 69,
            "tokens": 652,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/HeaderSection.tsx": {
            "lines": 4,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/ExamplesTab.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard/components/FleetTable.tsx": {
            "lines": 21,
            "tokens": 160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard/components/FleetMetricsBar.tsx": {
            "lines": 0,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard/components/FleetFiltersPanel.tsx": {
            "lines": 26,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/components/UtilizationTab.tsx": {
            "lines": 11,
            "tokens": 83,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/components/OverviewTab.tsx": {
            "lines": 43,
            "tokens": 289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/components/FinancialTab.tsx": {
            "lines": 30,
            "tokens": 215,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/AssetManagement/components/AssetStatsBar.tsx": {
            "lines": 0,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/OverviewTab.tsx": {
            "lines": 128,
            "tokens": 1227,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx": {
            "lines": 141,
            "tokens": 1296,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 75,
            "duplicatedTokens": 733,
            "percentage": 53.19,
            "percentageTokens": 56.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx": {
            "lines": 144,
            "tokens": 1441,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 75,
            "duplicatedTokens": 733,
            "percentage": 52.08,
            "percentageTokens": 50.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/DataWorkbenchMetrics.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/DataWorkbenchHeader.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/DataWorkbenchDialogs.tsx": {
            "lines": 346,
            "tokens": 3193,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/AnalyticsTab.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx": {
            "lines": 207,
            "tokens": 2008,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/mobile/components/OBD2AdapterScanner.tsx": {
            "lines": 219,
            "tokens": 2059,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 72,
            "duplicatedTokens": 884,
            "percentage": 32.88,
            "percentageTokens": 42.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/__tests__/StatusBadge.test.tsx": {
            "lines": 116,
            "tokens": 1050,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/__tests__/SearchInput.test.tsx": {
            "lines": 398,
            "tokens": 3753,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 302,
            "duplicatedTokens": 2980,
            "percentage": 75.88,
            "percentageTokens": 79.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/TrafficCameras.tsx": {
            "lines": 341,
            "tokens": 2871,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/RecurringScheduleDialog.tsx": {
            "lines": 363,
            "tokens": 2960,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/ReceiptProcessing.tsx": {
            "lines": 295,
            "tokens": 2753,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/MileageReimbursement.tsx": {
            "lines": 243,
            "tokens": 2235,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 173,
            "percentage": 8.64,
            "percentageTokens": 7.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/CustomFormBuilder.tsx": {
            "lines": 238,
            "tokens": 2420,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/AIAssistant.tsx": {
            "lines": 318,
            "tokens": 2887,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/VendorManagement.tsx": {
            "lines": 431,
            "tokens": 3870,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/PurchaseOrders.tsx": {
            "lines": 433,
            "tokens": 4007,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/PartsInventory.tsx": {
            "lines": 292,
            "tokens": 2735,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/Invoices.tsx": {
            "lines": 51,
            "tokens": 528,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/personal-use/PersonalUsePolicyConfig.tsx": {
            "lines": 554,
            "tokens": 4629,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/personal-use/PersonalUseDashboard.tsx": {
            "lines": 712,
            "tokens": 6616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/TaskManagement.tsx": {
            "lines": 500,
            "tokens": 4478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/RouteManagement.tsx": {
            "lines": 199,
            "tokens": 1737,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 173,
            "percentage": 10.55,
            "percentageTokens": 9.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/GeofenceManagement.tsx": {
            "lines": 403,
            "tokens": 3465,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/DispatchConsole.tsx": {
            "lines": 429,
            "tokens": 4060,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/AdvancedRouteOptimization.tsx": {
            "lines": 445,
            "tokens": 3900,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/mobile/MobileManagerView.tsx": {
            "lines": 238,
            "tokens": 1948,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/mobile/MobileEmployeeDashboard.tsx": {
            "lines": 375,
            "tokens": 3005,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/PredictiveMaintenance.tsx": {
            "lines": 8,
            "tokens": 52,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/MaintenanceScheduling.tsx": {
            "lines": 409,
            "tokens": 3524,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/MaintenanceRequest.tsx": {
            "lines": 198,
            "tokens": 1916,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/GarageService.tsx": {
            "lines": 239,
            "tokens": 2271,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/TeamsIntegration.tsx": {
            "lines": 147,
            "tokens": 1371,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/MapSettings.tsx": {
            "lines": 254,
            "tokens": 2011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/GISCommandCenter.tsx": {
            "lines": 134,
            "tokens": 1101,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/EmailCenter.tsx": {
            "lines": 219,
            "tokens": 2011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/ArcGISIntegration.tsx": {
            "lines": 36,
            "tokens": 364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/ArcGISIntegration.original.tsx": {
            "lines": 144,
            "tokens": 1354,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fuel/FuelPurchasing.tsx": {
            "lines": 332,
            "tokens": 3099,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fuel/FuelManagement.tsx": {
            "lines": 164,
            "tokens": 1471,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VirtualGarage3D.tsx": {
            "lines": 199,
            "tokens": 1577,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleTelemetry.tsx": {
            "lines": 521,
            "tokens": 4429,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleManagement.tsx": {
            "lines": 51,
            "tokens": 459,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleInventory.tsx": {
            "lines": 511,
            "tokens": 4299,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleAssignmentManagement.tsx": {
            "lines": 340,
            "tokens": 2793,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/GPSTracking.tsx": {
            "lines": 210,
            "tokens": 1949,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetOptimizer.tsx": {
            "lines": 215,
            "tokens": 2078,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboardRefactored.example.tsx": {
            "lines": 188,
            "tokens": 1410,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboardModern.tsx": {
            "lines": 197,
            "tokens": 1635,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard.tsx": {
            "lines": 106,
            "tokens": 774,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 106,
            "duplicatedTokens": 774,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard.refactored.tsx": {
            "lines": 106,
            "tokens": 774,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 106,
            "duplicatedTokens": 774,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics.tsx": {
            "lines": 49,
            "tokens": 437,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 49,
            "duplicatedTokens": 437,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics.refactored.tsx": {
            "lines": 49,
            "tokens": 437,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 49,
            "duplicatedTokens": 437,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/drivers/DriverScorecard.tsx": {
            "lines": 267,
            "tokens": 2502,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/drivers/DriverPerformance.tsx": {
            "lines": 424,
            "tokens": 3999,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/drivers/DriverManagement.tsx": {
            "lines": 76,
            "tokens": 652,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/VideoTelematics.tsx": {
            "lines": 526,
            "tokens": 4320,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/OSHAForms.tsx": {
            "lines": 438,
            "tokens": 3744,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/DocumentQA.tsx": {
            "lines": 188,
            "tokens": 1611,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/DocumentManagement.tsx": {
            "lines": 328,
            "tokens": 2950,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/communication/CommunicationLog.tsx": {
            "lines": 307,
            "tokens": 2789,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/charging/EVChargingManagement.tsx": {
            "lines": 345,
            "tokens": 3064,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/charging/EVChargingDashboard.tsx": {
            "lines": 325,
            "tokens": 2935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/EquipmentDashboard.tsx": {
            "lines": 379,
            "tokens": 3616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/AssetManagement.tsx": {
            "lines": 94,
            "tokens": 888,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 94,
            "duplicatedTokens": 888,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/AssetManagement.refactored.tsx": {
            "lines": 94,
            "tokens": 888,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 94,
            "duplicatedTokens": 888,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/ExecutiveDashboard.tsx": {
            "lines": 361,
            "tokens": 3426,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/EndpointMonitor.tsx": {
            "lines": 172,
            "tokens": 1683,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.tsx": {
            "lines": 104,
            "tokens": 781,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 178,
            "duplicatedTokens": 1373,
            "percentage": 171.15,
            "percentageTokens": 175.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.refactored.tsx": {
            "lines": 104,
            "tokens": 781,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 104,
            "duplicatedTokens": 781,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak.tsx": {
            "lines": 113,
            "tokens": 844,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 74,
            "duplicatedTokens": 592,
            "percentage": 65.49,
            "percentageTokens": 70.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/CustomReportBuilder.tsx": {
            "lines": 430,
            "tokens": 3689,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/CostAnalysisCenter.tsx": {
            "lines": 326,
            "tokens": 2936,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/CarbonFootprintTracker.tsx": {
            "lines": 318,
            "tokens": 3112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/PushNotificationAdmin.tsx": {
            "lines": 488,
            "tokens": 4460,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/PolicyEngineWorkbench.tsx": {
            "lines": 411,
            "tokens": 3377,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/PeopleManagement.tsx": {
            "lines": 168,
            "tokens": 1727,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/Notifications.tsx": {
            "lines": 163,
            "tokens": 1499,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/VehicleInventory.test.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/TrafficCameras.test.tsx": {
            "lines": 424,
            "tokens": 3396,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 364,
            "duplicatedTokens": 2864,
            "percentage": 85.85,
            "percentageTokens": 84.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/InventoryManagement.test.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/GPSTracking.test.tsx": {
            "lines": 469,
            "tokens": 3581,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 208,
            "duplicatedTokens": 1670,
            "percentage": 44.35,
            "percentageTokens": 46.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/VehicleInspector.tsx": {
            "lines": 7,
            "tokens": 61,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/TripInspector.tsx": {
            "lines": 7,
            "tokens": 61,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/TaskInspector.tsx": {
            "lines": 158,
            "tokens": 1645,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/RouteInspector.tsx": {
            "lines": 89,
            "tokens": 963,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/DriverInspector.tsx": {
            "lines": 173,
            "tokens": 1907,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/AlertInspector.tsx": {
            "lines": 171,
            "tokens": 1704,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/VideoViewer.tsx": {
            "lines": 153,
            "tokens": 1036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/PdfViewer.tsx": {
            "lines": 74,
            "tokens": 521,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/OfficeViewer.tsx": {
            "lines": 24,
            "tokens": 275,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/ImageViewer.tsx": {
            "lines": 177,
            "tokens": 1345,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/CodeViewer.tsx": {
            "lines": 59,
            "tokens": 382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/3DViewer.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/search/SearchHistory.tsx": {
            "lines": 65,
            "tokens": 503,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/search/SearchFilters.tsx": {
            "lines": 186,
            "tokens": 1415,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/search/SavedSearches.tsx": {
            "lines": 104,
            "tokens": 891,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/search/DocumentSearch.tsx": {
            "lines": 142,
            "tokens": 1156,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/collaboration/DocumentSharing.tsx": {
            "lines": 124,
            "tokens": 1036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/collaboration/DocumentComments.tsx": {
            "lines": 184,
            "tokens": 1372,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/collaboration/DocumentCollaborators.tsx": {
            "lines": 105,
            "tokens": 797,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/collaboration/DocumentActivity.tsx": {
            "lines": 25,
            "tokens": 239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/ai/SemanticSearch.tsx": {
            "lines": 110,
            "tokens": 1025,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/ai/DocumentInsights.tsx": {
            "lines": 140,
            "tokens": 1237,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/ai/DocumentClassification.tsx": {
            "lines": 159,
            "tokens": 1268,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 128,
            "duplicatedTokens": 918,
            "percentage": 80.5,
            "percentageTokens": 72.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/ai/DocumentChat.tsx": {
            "lines": 123,
            "tokens": 1029,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/components/MapErrorBoundary.tsx": {
            "lines": 12,
            "tokens": 98,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Maps/Layers/TrafficCameraLayer.tsx": {
            "lines": 171,
            "tokens": 1211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/tests/unit/component.test.tsx": {
            "lines": 52,
            "tokens": 482,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/tests/components/VehicleCard.test.tsx": {
            "lines": 302,
            "tokens": 2738,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/inspect/InspectContext.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/radio/index.tsx": {
            "lines": 77,
            "tokens": 613,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/WorkHub.tsx": {
            "lines": 177,
            "tokens": 1440,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/PeopleHub.tsx": {
            "lines": 282,
            "tokens": 2488,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/OperationsHub.tsx": {
            "lines": 211,
            "tokens": 1586,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/InsightsHub.tsx": {
            "lines": 328,
            "tokens": 2361,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/FleetHub.tsx": {
            "lines": 265,
            "tokens": 2235,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/PersonalUse/ReimbursementQueue.tsx": {
            "lines": 346,
            "tokens": 2813,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/PersonalUse/PersonalUseDashboard.tsx": {
            "lines": 374,
            "tokens": 3043,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/PersonalUse/ChargesAndBilling.tsx": {
            "lines": 323,
            "tokens": 2823,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/vehicle/VehicleHistoryTrail.tsx": {
            "lines": 59,
            "tokens": 469,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/vehicle/TripPlayback.tsx": {
            "lines": 42,
            "tokens": 327,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/virtual-table.tsx": {
            "lines": 15,
            "tokens": 101,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/tooltip.tsx": {
            "lines": 36,
            "tokens": 199,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/toggle.tsx": {
            "lines": 0,
            "tokens": 15,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/toggle-group.tsx": {
            "lines": 37,
            "tokens": 197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/textarea.tsx": {
            "lines": 3,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/tabs.tsx": {
            "lines": 45,
            "tokens": 208,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/table.tsx": {
            "lines": 86,
            "tokens": 453,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/switch.tsx": {
            "lines": 10,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/sonner.tsx": {
            "lines": 8,
            "tokens": 44,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/slider.tsx": {
            "lines": 26,
            "tokens": 136,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/skeleton.tsx": {
            "lines": 0,
            "tokens": 8,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/sidebar.tsx": {
            "lines": 565,
            "tokens": 3076,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/sheet.tsx": {
            "lines": 86,
            "tokens": 474,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/separator.tsx": {
            "lines": 5,
            "tokens": 21,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/select.tsx": {
            "lines": 128,
            "tokens": 614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/scroll-area.tsx": {
            "lines": 31,
            "tokens": 152,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/resizable.tsx": {
            "lines": 28,
            "tokens": 138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/radio-group.tsx": {
            "lines": 16,
            "tokens": 75,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/progress.tsx": {
            "lines": 3,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/popover.tsx": {
            "lines": 22,
            "tokens": 121,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/pagination.tsx": {
            "lines": 93,
            "tokens": 527,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/optimized-image.tsx": {
            "lines": 16,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/navigation-menu.tsx": {
            "lines": 131,
            "tokens": 584,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/menubar.tsx": {
            "lines": 237,
            "tokens": 1194,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/label.tsx": {
            "lines": 3,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/input.tsx": {
            "lines": 7,
            "tokens": 27,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/input-otp.tsx": {
            "lines": 37,
            "tokens": 213,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/hover-card.tsx": {
            "lines": 5,
            "tokens": 21,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/form.tsx": {
            "lines": 111,
            "tokens": 778,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/dropdown-menu.tsx": {
            "lines": 208,
            "tokens": 1048,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 94,
            "duplicatedTokens": 457,
            "percentage": 45.19,
            "percentageTokens": 43.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/drawer.tsx": {
            "lines": 76,
            "tokens": 392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/dialog.tsx": {
            "lines": 78,
            "tokens": 410,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/context-menu.tsx": {
            "lines": 163,
            "tokens": 765,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 94,
            "duplicatedTokens": 457,
            "percentage": 57.67,
            "percentageTokens": 59.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/command.tsx": {
            "lines": 138,
            "tokens": 664,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/checkbox.tsx": {
            "lines": 3,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/chart.tsx": {
            "lines": 303,
            "tokens": 2113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/carousel.tsx": {
            "lines": 116,
            "tokens": 636,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/card.tsx": {
            "lines": 69,
            "tokens": 383,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/calendar.tsx": {
            "lines": 3,
            "tokens": 54,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/button.tsx": {
            "lines": 1,
            "tokens": 21,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/breadcrumb.tsx": {
            "lines": 77,
            "tokens": 424,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/badge.tsx": {
            "lines": 0,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/avatar.tsx": {
            "lines": 32,
            "tokens": 142,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/alert.tsx": {
            "lines": 29,
            "tokens": 141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/alert-dialog.tsx": {
            "lines": 101,
            "tokens": 484,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/accordion.tsx": {
            "lines": 39,
            "tokens": 204,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/testing/MobileEmulatorTestScreen.tsx": {
            "lines": 148,
            "tokens": 1063,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/skeletons/SkeletonComponents.tsx": {
            "lines": 328,
            "tokens": 2512,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/VirtualList.tsx": {
            "lines": 286,
            "tokens": 2291,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/StatusBadge.tsx": {
            "lines": 6,
            "tokens": 31,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/SearchInput.tsx": {
            "lines": 25,
            "tokens": 170,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/PageHeader.tsx": {
            "lines": 2,
            "tokens": 22,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/OptimizedImage.tsx": {
            "lines": 112,
            "tokens": 733,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/MetricsGrid.tsx": {
            "lines": 4,
            "tokens": 14,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/MetricCard.tsx": {
            "lines": 47,
            "tokens": 405,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/LoadingSkeleton.tsx": {
            "lines": 76,
            "tokens": 657,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/FormField.tsx": {
            "lines": 73,
            "tokens": 579,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/FilterPanel.tsx": {
            "lines": 21,
            "tokens": 247,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/FilterBar.tsx": {
            "lines": 210,
            "tokens": 1725,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/ErrorAlert.tsx": {
            "lines": 77,
            "tokens": 593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/EnhancedDataTable.tsx": {
            "lines": 265,
            "tokens": 2143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/DialogForm.tsx": {
            "lines": 8,
            "tokens": 116,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/DataTable.tsx": {
            "lines": 77,
            "tokens": 693,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/ConfirmDialog.tsx": {
            "lines": 10,
            "tokens": 90,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/AdvancedLoadingSkeleton.tsx": {
            "lines": 239,
            "tokens": 1988,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/SecuritySettings.tsx": {
            "lines": 186,
            "tokens": 1613,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/NotificationSettings.tsx": {
            "lines": 205,
            "tokens": 1694,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/GeneralSettings.tsx": {
            "lines": 143,
            "tokens": 1225,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/FleetSettings.tsx": {
            "lines": 155,
            "tokens": 1324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/DataPrivacySettings.tsx": {
            "lines": 183,
            "tokens": 1642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/AppearanceSettings.tsx": {
            "lines": 195,
            "tokens": 1640,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/AdvancedSettings.tsx": {
            "lines": 119,
            "tokens": 1033,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/VehicleReservationModal.tsx": {
            "lines": 356,
            "tokens": 2586,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 191,
            "duplicatedTokens": 1374,
            "percentage": 53.65,
            "percentageTokens": 53.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/SchedulingCalendar.tsx": {
            "lines": 219,
            "tokens": 2141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/ScheduleView.tsx": {
            "lines": 344,
            "tokens": 3220,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/MaintenanceAppointmentModal.tsx": {
            "lines": 351,
            "tokens": 2643,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 41,
            "duplicatedTokens": 226,
            "percentage": 11.68,
            "percentageTokens": 8.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/reactive/ReactiveComponents.tsx": {
            "lines": 407,
            "tokens": 2978,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/radio/TranscriptPanel.tsx": {
            "lines": 50,
            "tokens": 468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/radio/RadioFeed.tsx": {
            "lines": 70,
            "tokens": 720,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/radio/PolicyQueue.tsx": {
            "lines": 48,
            "tokens": 507,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/radio/EntityBadge.tsx": {
            "lines": 50,
            "tokens": 402,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/providers/ThemeProvider.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/providers/QueryProvider.tsx": {
            "lines": 5,
            "tokens": 38,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/providers/AuthProvider.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/obd2/OBD2Dashboard.tsx": {
            "lines": 379,
            "tokens": 2614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/monitoring/EndpointHealthDashboard.tsx": {
            "lines": 312,
            "tokens": 2371,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/mobile/TouchComponents.tsx": {
            "lines": 498,
            "tokens": 3404,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/mobile/MobileNavigation.tsx": {
            "lines": 397,
            "tokens": 2455,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/mobile/AssetCheckInOut.tsx": {
            "lines": 10,
            "tokens": 133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/licenses/LicenseManagement.tsx": {
            "lines": 7,
            "tokens": 117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/LeafletMarkerCount.tsx": {
            "lines": 16,
            "tokens": 197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/LeafletMapLoading.tsx": {
            "lines": 3,
            "tokens": 21,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/LeafletMapError.tsx": {
            "lines": 9,
            "tokens": 66,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/ResponsiveLayout.tsx": {
            "lines": 390,
            "tokens": 2812,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/HubLayout.tsx": {
            "lines": 11,
            "tokens": 126,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/InspectDrawer.tsx": {
            "lines": 10,
            "tokens": 117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/guards/RouteGuard.tsx": {
            "lines": 77,
            "tokens": 593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/guards/PermissionGate.tsx": {
            "lines": 117,
            "tokens": 632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/VehicleHUD.tsx": {
            "lines": 269,
            "tokens": 2113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/TimelineDrawer.tsx": {
            "lines": 229,
            "tokens": 1951,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/GameCameraController.tsx": {
            "lines": 12,
            "tokens": 85,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/DamageStrip.tsx": {
            "lines": 219,
            "tokens": 1796,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/Asset3DViewer.tsx": {
            "lines": 600,
            "tokens": 8114,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 92,
            "duplicatedTokens": 774,
            "percentage": 15.33,
            "percentageTokens": 9.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/filters/AssetTypeFilter.tsx": {
            "lines": 189,
            "tokens": 1552,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 149,
            "duplicatedTokens": 1232,
            "percentage": 78.84,
            "percentageTokens": 79.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/VehicleForm.example.tsx": {
            "lines": 53,
            "tokens": 494,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/UXShowcase.example.tsx": {
            "lines": 246,
            "tokens": 1881,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/MapErrorRecoveryExample.tsx": {
            "lines": 157,
            "tokens": 1090,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/ErrorHandlingExample.tsx": {
            "lines": 241,
            "tokens": 1801,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 44,
            "duplicatedTokens": 417,
            "percentage": 18.26,
            "percentageTokens": 23.15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/CompleteUXIntegration.example.tsx": {
            "lines": 249,
            "tokens": 1927,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/errors/SentryErrorBoundary.tsx": {
            "lines": 81,
            "tokens": 689,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/errors/QueryErrorBoundary.tsx": {
            "lines": 131,
            "tokens": 781,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/WorkOrderDetailPanel.tsx": {
            "lines": 210,
            "tokens": 1794,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/VehicleTripsList.tsx": {
            "lines": 35,
            "tokens": 363,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/VehicleDetailPanel.tsx": {
            "lines": 491,
            "tokens": 3976,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/TripTelemetryView.tsx": {
            "lines": 205,
            "tokens": 1788,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/PartsBreakdownView.tsx": {
            "lines": 25,
            "tokens": 281,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/MetricCard.tsx": {
            "lines": 106,
            "tokens": 616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/LaborDetailsView.tsx": {
            "lines": 28,
            "tokens": 343,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/FacilityVehiclesView.tsx": {
            "lines": 32,
            "tokens": 369,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/FacilityDetailPanel.tsx": {
            "lines": 104,
            "tokens": 979,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/DriverTripsView.tsx": {
            "lines": 151,
            "tokens": 1482,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/DriverPerformanceView.tsx": {
            "lines": 224,
            "tokens": 2043,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/DriverDetailPanel.tsx": {
            "lines": 194,
            "tokens": 1743,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/AssetRelationshipsList.tsx": {
            "lines": 0,
            "tokens": 5,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/TagManager.tsx": {
            "lines": 116,
            "tokens": 894,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/FolderManager.tsx": {
            "lines": 190,
            "tokens": 1392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentViewer.tsx": {
            "lines": 202,
            "tokens": 1312,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentUploader.tsx": {
            "lines": 209,
            "tokens": 1714,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentSidebar.tsx": {
            "lines": 213,
            "tokens": 1476,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentProperties.tsx": {
            "lines": 207,
            "tokens": 1814,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentMapPopup.tsx": {
            "lines": 166,
            "tokens": 1002,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentMapFilter.tsx": {
            "lines": 173,
            "tokens": 1011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentMapCluster.tsx": {
            "lines": 144,
            "tokens": 1136,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 116,
            "percentage": 10.42,
            "percentageTokens": 10.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentMap.tsx": {
            "lines": 50,
            "tokens": 325,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 116,
            "percentage": 30,
            "percentageTokens": 35.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentList.tsx": {
            "lines": 239,
            "tokens": 1724,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentGrid.tsx": {
            "lines": 228,
            "tokens": 1563,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentExplorer.tsx": {
            "lines": 208,
            "tokens": 1460,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/BulkActions.tsx": {
            "lines": 150,
            "tokens": 1172,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dialogs/TripUsageDialog.tsx": {
            "lines": 242,
            "tokens": 2216,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dialogs/AddVehicleDialog.tsx": {
            "lines": 496,
            "tokens": 4730,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 44,
            "duplicatedTokens": 417,
            "percentage": 8.87,
            "percentageTokens": 8.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/demo/RoleSwitcher.tsx": {
            "lines": 177,
            "tokens": 1572,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/SystemStatusPanel.tsx": {
            "lines": 174,
            "tokens": 1474,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/MiniChart.tsx": {
            "lines": 201,
            "tokens": 2036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/MetricCard.tsx": {
            "lines": 78,
            "tokens": 471,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/CompactVehicleList.tsx": {
            "lines": 114,
            "tokens": 997,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 138,
            "percentage": 8.77,
            "percentageTokens": 13.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/CompactMetricCard.tsx": {
            "lines": 26,
            "tokens": 265,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/AllEndpointsMonitor.tsx": {
            "lines": 250,
            "tokens": 2103,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/AlertsFeed.tsx": {
            "lines": 122,
            "tokens": 1066,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/AIInsightsPanel.tsx": {
            "lines": 109,
            "tokens": 925,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/damage/MobileDamageCapture.tsx": {
            "lines": 301,
            "tokens": 2652,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/damage/DamageAnalysisResults.tsx": {
            "lines": 154,
            "tokens": 1471,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/VehicleIdentification.tsx": {
            "lines": 221,
            "tokens": 1984,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/ToastContainer.tsx": {
            "lines": 0,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/SafeDataDisplay.tsx": {
            "lines": 191,
            "tokens": 1569,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/NotificationBell.tsx": {
            "lines": 68,
            "tokens": 519,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/ModuleWrapper.tsx": {
            "lines": 318,
            "tokens": 2550,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/KPIStrip.tsx": {
            "lines": 59,
            "tokens": 404,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/DataGrid.tsx": {
            "lines": 127,
            "tokens": 1092,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/assets/ScanAssetModal.tsx": {
            "lines": 9,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/assets/CheckoutAssetModal.tsx": {
            "lines": 6,
            "tokens": 74,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/assets/AssetLocationMap.tsx": {
            "lines": 27,
            "tokens": 275,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/analytics/UtilizationDashboard.tsx": {
            "lines": 24,
            "tokens": 307,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ai/SmartForm.tsx": {
            "lines": 147,
            "tokens": 1420,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ai/DocumentScanner.tsx": {
            "lines": 207,
            "tokens": 1916,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ai/ConversationalIntake.tsx": {
            "lines": 105,
            "tokens": 941,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/SystemHealthWidget.tsx": {
            "lines": 199,
            "tokens": 2122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/PerformanceMetrics.tsx": {
            "lines": 219,
            "tokens": 2263,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/MonitoringDashboard.tsx": {
            "lines": 161,
            "tokens": 1415,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 68,
            "duplicatedTokens": 824,
            "percentage": 42.24,
            "percentageTokens": 58.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ErrorRateChart.tsx": {
            "lines": 156,
            "tokens": 1657,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/EmulatorMonitor.tsx": {
            "lines": 282,
            "tokens": 2545,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/AlertsPanel.tsx": {
            "lines": 238,
            "tokens": 2414,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/module-tests.spec.tsx": {
            "lines": 48,
            "tokens": 482,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/accessibility.test.tsx": {
            "lines": 415,
            "tokens": 3133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/UniversalMap.test.tsx": {
            "lines": 180,
            "tokens": 1339,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/LeafletMap.test.tsx": {
            "lines": 599,
            "tokens": 4920,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 215,
            "duplicatedTokens": 1792,
            "percentage": 35.89,
            "percentageTokens": 36.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/GoogleMap.test.tsx": {
            "lines": 630,
            "tokens": 5333,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 215,
            "duplicatedTokens": 1792,
            "percentage": 34.13,
            "percentageTokens": 33.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/PersonalUse/TripMarker.tsx": {
            "lines": 263,
            "tokens": 2197,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 212,
            "duplicatedTokens": 1524,
            "percentage": 80.61,
            "percentageTokens": 69.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Maps/UnifiedFleetMap.tsx": {
            "lines": 132,
            "tokens": 1098,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Maps/ProfessionalFleetMap.tsx": {
            "lines": 30,
            "tokens": 260,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Maps/AdvancedGeofencing.tsx": {
            "lines": 146,
            "tokens": 1133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrillThrough/DrillThroughModal.tsx": {
            "lines": 174,
            "tokens": 1406,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrillThrough/DrillThroughMetric.tsx": {
            "lines": 32,
            "tokens": 226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/errorReporting.tsx": {
            "lines": 7,
            "tokens": 91,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/SettingsPage.tsx": {
            "lines": 94,
            "tokens": 740,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/ProfilePage.tsx": {
            "lines": 275,
            "tokens": 2261,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/Login.tsx": {
            "lines": 53,
            "tokens": 422,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/AuthCallback.tsx": {
            "lines": 0,
            "tokens": 11,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/AdminDashboard.tsx": {
            "lines": 227,
            "tokens": 1990,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/403.tsx": {
            "lines": 7,
            "tokens": 60,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/tenantContext.tsx": {
            "lines": 7,
            "tokens": 15,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/examples/MapWithTelemetry.example.tsx": {
            "lines": 80,
            "tokens": 701,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/ToastContext.tsx": {
            "lines": 2,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/PermissionContext.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/GlobalStateContext.tsx": {
            "lines": 158,
            "tokens": 1282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/EntityLinkingContext.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/DrilldownContext.tsx": {
            "lines": 9,
            "tokens": 21,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/context/BrandingContext.tsx": {
            "lines": 0,
            "tokens": 5,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/VideoTelematicsDashboard.tsx": {
            "lines": 292,
            "tokens": 2751,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/VehicleModelLibrary.tsx": {
            "lines": 323,
            "tokens": 2616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/VehicleDetailPanel.tsx": {
            "lines": 0,
            "tokens": 14,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Vehicle3DViewer.tsx": {
            "lines": 639,
            "tokens": 5382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalSearch.tsx": {
            "lines": 230,
            "tokens": 2011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap.tsx": {
            "lines": 32,
            "tokens": 226,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 32,
            "duplicatedTokens": 226,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap.refactored.tsx": {
            "lines": 32,
            "tokens": 226,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 32,
            "duplicatedTokens": 226,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Toast.tsx": {
            "lines": 26,
            "tokens": 264,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ThemeToggle.tsx": {
            "lines": 1,
            "tokens": 20,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/TelemetryDashboard.tsx": {
            "lines": 164,
            "tokens": 1616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/StatusIndicator.tsx": {
            "lines": 13,
            "tokens": 151,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/SkeletonLoader.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/RouteOptimizer.tsx": {
            "lines": 353,
            "tokens": 3046,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/RelatedRecordsPanel.tsx": {
            "lines": 262,
            "tokens": 2094,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/RealTimeEventHub.tsx": {
            "lines": 468,
            "tokens": 3770,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/RadioPopover.tsx": {
            "lines": 97,
            "tokens": 737,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Quick3DTest.tsx": {
            "lines": 39,
            "tokens": 412,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ProtectedRoute.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/PerformanceMonitor.tsx": {
            "lines": 361,
            "tokens": 2540,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MetricCard.tsx": {
            "lines": 18,
            "tokens": 158,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MapboxMap.tsx": {
            "lines": 81,
            "tokens": 576,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MapHealthDashboard.tsx": {
            "lines": 117,
            "tokens": 933,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MapErrorBoundary.tsx": {
            "lines": 78,
            "tokens": 573,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/LoadingSpinner.tsx": {
            "lines": 2,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/LeafletMap.tsx": {
            "lines": 65,
            "tokens": 456,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/LazyMap.tsx": {
            "lines": 300,
            "tokens": 1812,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/GoogleMap.tsx": {
            "lines": 81,
            "tokens": 612,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/EvidenceLocker.tsx": {
            "lines": 381,
            "tokens": 3611,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ErrorMessage.tsx": {
            "lines": 24,
            "tokens": 178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ErrorBoundary.tsx": {
            "lines": 40,
            "tokens": 246,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/EnhancedUniversalMap.tsx": {
            "lines": 100,
            "tokens": 740,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/EnhancedErrorBoundary.tsx": {
            "lines": 28,
            "tokens": 168,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrilldownPanel.tsx": {
            "lines": 114,
            "tokens": 771,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrilldownManager.tsx": {
            "lines": 81,
            "tokens": 506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrilldownBreadcrumbs.tsx": {
            "lines": 21,
            "tokens": 182,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DispatchConsole.tsx": {
            "lines": 257,
            "tokens": 2092,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ConsentBanner.tsx": {
            "lines": 128,
            "tokens": 1190,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChartCard.tsx": {
            "lines": 81,
            "tokens": 632,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 46,
            "duplicatedTokens": 290,
            "percentage": 56.79,
            "percentageTokens": 45.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Breadcrumb.tsx": {
            "lines": 47,
            "tokens": 345,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/AssetTypeFilter.tsx": {
            "lines": 187,
            "tokens": 1587,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 149,
            "duplicatedTokens": 1232,
            "percentage": 79.68,
            "percentageTokens": 77.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/AssetComboManager.tsx": {
            "lines": 259,
            "tokens": 2176,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 39,
            "duplicatedTokens": 248,
            "percentage": 15.06,
            "percentageTokens": 11.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/AssetComboManager.enhanced.tsx": {
            "lines": 250,
            "tokens": 2107,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 39,
            "duplicatedTokens": 248,
            "percentage": 15.6,
            "percentageTokens": 11.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/__tests__/ErrorBoundary.test.tsx": {
            "lines": 288,
            "tokens": 2002,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/main.tsx": {
            "lines": 12,
            "tokens": 70,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ErrorFallback.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/App.tsx": {
            "lines": 275,
            "tokens": 2141,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 61035,
          "tokens": 511983,
          "sources": 384,
          "clones": 30,
          "duplicatedLines": 1978,
          "duplicatedTokens": 16099,
          "percentage": 3.24,
          "percentageTokens": 3.14,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "markdown": {
        "sources": {
          "api/src/services/dal/README.md": {
            "lines": 586,
            "tokens": 3175,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/routes/webhooks/README.md": {
            "lines": 482,
            "tokens": 2534,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/mobile/README.md": {
            "lines": 158,
            "tokens": 900,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/inventory/README.md": {
            "lines": 371,
            "tokens": 2397,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/inventory/INTEGRATION_INSTRUCTIONS.md": {
            "lines": 346,
            "tokens": 1730,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/inventory/IMPLEMENTATION_SUMMARY.md": {
            "lines": 449,
            "tokens": 3221,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/SAFE_HTTP_REQUEST_GUIDE.md": {
            "lines": 445,
            "tokens": 2053,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/storage/README.md": {
            "lines": 476,
            "tokens": 2478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/ocr.service.README.md": {
            "lines": 307,
            "tokens": 1861,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/attachment.service.README.md": {
            "lines": 477,
            "tokens": 2576,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/SCHEDULING_NOTIFICATIONS_README.md": {
            "lines": 696,
            "tokens": 3796,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/MICROSOFT_GRAPH_README.md": {
            "lines": 321,
            "tokens": 2088,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/services/AI_DISPATCH_README.md": {
            "lines": 537,
            "tokens": 2659,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/repositories/README.md": {
            "lines": 155,
            "tokens": 1036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/permissions/README.md": {
            "lines": 573,
            "tokens": 4119,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/032_VALIDATION_REPORT.md": {
            "lines": 385,
            "tokens": 3508,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/TASK_EMULATOR_README.md": {
            "lines": 436,
            "tokens": 2894,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/INVENTORY_EMULATOR_README.md": {
            "lines": 550,
            "tokens": 3512,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/emulators/DISPATCH_EMULATOR_README.md": {
            "lines": 476,
            "tokens": 2595,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/docs/ROUTE_DI_MIGRATION_TEMPLATE.md": {
            "lines": 42,
            "tokens": 292,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/docs/QUEUE_SYSTEM.md": {
            "lines": 451,
            "tokens": 2271,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/inspect/README.md": {
            "lines": 182,
            "tokens": 1400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/README.md": {
            "lines": 495,
            "tokens": 2616,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/README.md": {
            "lines": 327,
            "tokens": 2144,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/INTEGRATION_EXAMPLES.md": {
            "lines": 341,
            "tokens": 1282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/telemetry/README.md": {
            "lines": 323,
            "tokens": 1576,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 10387,
          "tokens": 60713,
          "sources": 26,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "python": {
        "sources": {
          "api/src/emulators/config/generate_fleet.py": {
            "lines": 169,
            "tokens": 3505,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/utils/safe_file_operations.py": {
            "lines": 386,
            "tokens": 1659,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 182,
            "percentage": 6.22,
            "percentageTokens": 10.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 555,
          "tokens": 5164,
          "sources": 2,
          "clones": 1,
          "duplicatedLines": 12,
          "duplicatedTokens": 91,
          "percentage": 2.16,
          "percentageTokens": 1.76,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "sql": {
        "sources": {
          "api/src/database/migrations/20251126_traffic_cameras_public_data.sql": {
            "lines": 252,
            "tokens": 2603,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 24,
            "duplicatedTokens": 320,
            "percentage": 9.52,
            "percentageTokens": 12.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/seed-missing-data.sql": {
            "lines": 210,
            "tokens": 3143,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 91,
            "duplicatedTokens": 1415,
            "percentage": 43.33,
            "percentageTokens": 45.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/seed-missing-data-fixed.sql": {
            "lines": 239,
            "tokens": 3474,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 91,
            "duplicatedTokens": 1415,
            "percentage": 38.08,
            "percentageTokens": 40.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/scripts/add-missing-coverage.sql": {
            "lines": 182,
            "tokens": 2442,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/mobile-ocr-tables.sql": {
            "lines": 100,
            "tokens": 1028,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/add-vendor-parts-pricing.sql": {
            "lines": 476,
            "tokens": 4092,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/add-vehicle-damage-table.sql": {
            "lines": 315,
            "tokens": 1662,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/add-microsoft-id.sql": {
            "lines": 38,
            "tokens": 243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/add-maintenance-tracking.sql": {
            "lines": 506,
            "tokens": 4677,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/add-cameras-system.sql": {
            "lines": 127,
            "tokens": 937,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/add-arcgis-layers-table.sql": {
            "lines": 48,
            "tokens": 425,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/999_add_performance_indexes.sql": {
            "lines": 358,
            "tokens": 3764,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/20251203_rbac_implementation.sql": {
            "lines": 361,
            "tokens": 3210,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 192,
            "percentage": 3.32,
            "percentageTokens": 5.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/20250124_vehicle_idling_tracking.sql": {
            "lines": 401,
            "tokens": 3628,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 238,
            "percentage": 3.49,
            "percentageTokens": 6.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/20250124_crash_detection.sql": {
            "lines": 300,
            "tokens": 2332,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/20250124_ai_assistant_tables.sql": {
            "lines": 199,
            "tokens": 2122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/036_task_emulator_tables.sql": {
            "lines": 296,
            "tokens": 2778,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/036_inventory_management_system.sql": {
            "lines": 697,
            "tokens": 5631,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/035_add_tenant_id_to_search_tables.sql": {
            "lines": 144,
            "tokens": 705,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/034_performance_indexes.sql": {
            "lines": 269,
            "tokens": 2610,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/033_security_audit_system.sql": {
            "lines": 265,
            "tokens": 2621,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/033_performance_indexes.sql": {
            "lines": 356,
            "tokens": 2077,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/032_verification_script.sql": {
            "lines": 170,
            "tokens": 1171,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/032_multi_asset_vehicle_extensions.sql": {
            "lines": 428,
            "tokens": 3832,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/032_down_rollback.sql": {
            "lines": 99,
            "tokens": 705,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/031_tenant_isolation_fixes.sql": {
            "lines": 334,
            "tokens": 1787,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/031_obd2_integration.sql": {
            "lines": 418,
            "tokens": 4394,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/031_automated_trip_logging.sql": {
            "lines": 553,
            "tokens": 4282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/030_scheduling_notifications.sql": {
            "lines": 310,
            "tokens": 2239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/025_ai_chat_system.sql": {
            "lines": 244,
            "tokens": 1493,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/024_vector_embeddings_rag.sql": {
            "lines": 500,
            "tokens": 3837,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/024_photo_processing_queue.sql": {
            "lines": 380,
            "tokens": 3324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/024_document_fulltext_search.sql": {
            "lines": 285,
            "tokens": 1935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/023_search_and_indexing_system.sql": {
            "lines": 449,
            "tokens": 3241,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/023_ocr_system.sql": {
            "lines": 300,
            "tokens": 2897,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/023_notification_system.sql": {
            "lines": 327,
            "tokens": 3331,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/023_document_management_ocr.sql": {
            "lines": 579,
            "tokens": 4450,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/023_dispatch_radio_system.sql": {
            "lines": 511,
            "tokens": 4529,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/022_policy_templates_library.sql": {
            "lines": 478,
            "tokens": 1801,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/022_microsoft_teams_integration.sql": {
            "lines": 84,
            "tokens": 511,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/021_contextual_communications_ai.sql": {
            "lines": 454,
            "tokens": 3184,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/020_osha_compliance_forms.sql": {
            "lines": 478,
            "tokens": 3554,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/016_policies_procedures_devices.sql": {
            "lines": 320,
            "tokens": 3109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/015_mobile_integration.sql": {
            "lines": 360,
            "tokens": 3290,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/014_video_telematics.sql": {
            "lines": 524,
            "tokens": 4171,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/014_create_emulator_tables.sql": {
            "lines": 231,
            "tokens": 2385,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/013_ev_management.sql": {
            "lines": 693,
            "tokens": 5306,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/012_vehicle_3d_models.sql": {
            "lines": 516,
            "tokens": 3604,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/011_dispatch_system.sql": {
            "lines": 210,
            "tokens": 2120,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/010_route_optimization.sql": {
            "lines": 524,
            "tokens": 3754,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/009_telematics_integration.sql": {
            "lines": 429,
            "tokens": 3305,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/008_security_events_and_password_reset.sql": {
            "lines": 35,
            "tokens": 280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/007_documents_table.sql": {
            "lines": 211,
            "tokens": 1742,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/003-recurring-maintenance.sql": {
            "lines": 214,
            "tokens": 2086,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/003-add-rag-embeddings.sql": {
            "lines": 30,
            "tokens": 178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/migrations/002-add-ai-features.sql": {
            "lines": 170,
            "tokens": 1868,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "api/src/database/seed-comprehensive-fleet-data.sql": {
            "lines": 349,
            "tokens": 3064,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 18336,
          "tokens": 152963,
          "sources": 57,
          "clones": 11,
          "duplicatedLines": 116,
          "duplicatedTokens": 1790,
          "percentage": 0.63,
          "percentageTokens": 1.17,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "bash": {
        "sources": {
          "api/src/services/migrate-tier2-services.sh": {
            "lines": 91,
            "tokens": 528,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 91,
          "tokens": 528,
          "sources": 1,
          "clones": 0,
          "duplicatedLines": 0,
          "duplicatedTokens": 0,
          "percentage": 0,
          "percentageTokens": 0,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "tsx": {
        "sources": {
          "src/components/modules/integrations/gis/components/RegionSummary.tsx": {
            "lines": 45,
            "tokens": 417,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/gis/components/FacilitiesSidebar.tsx": {
            "lines": 58,
            "tokens": 484,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/LoadingState.tsx": {
            "lines": 20,
            "tokens": 107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/LayerHealthBadge.tsx": {
            "lines": 40,
            "tokens": 259,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 24,
            "duplicatedTokens": 178,
            "percentage": 60,
            "percentageTokens": 68.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/LayerControls.tsx": {
            "lines": 36,
            "tokens": 249,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/LayerCard.tsx": {
            "lines": 124,
            "tokens": 1007,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 41,
            "duplicatedTokens": 411,
            "percentage": 33.06,
            "percentageTokens": 40.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/HelpTab.tsx": {
            "lines": 96,
            "tokens": 1142,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/HeaderSection.tsx": {
            "lines": 47,
            "tokens": 349,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 27,
            "duplicatedTokens": 243,
            "percentage": 57.45,
            "percentageTokens": 69.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/ExamplesTab.tsx": {
            "lines": 77,
            "tokens": 564,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/ErrorAlert.tsx": {
            "lines": 23,
            "tokens": 125,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/arcgis/components/EmptyState.tsx": {
            "lines": 23,
            "tokens": 145,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 99,
            "percentage": 43.48,
            "percentageTokens": 68.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard/components/FleetTable.tsx": {
            "lines": 98,
            "tokens": 853,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 68,
            "percentage": 7.14,
            "percentageTokens": 7.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard/components/FleetMetricsBar.tsx": {
            "lines": 59,
            "tokens": 587,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard/components/FleetFiltersPanel.tsx": {
            "lines": 65,
            "tokens": 573,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 91,
            "percentage": 12.31,
            "percentageTokens": 15.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/components/UtilizationTab.tsx": {
            "lines": 59,
            "tokens": 449,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/components/OverviewTab.tsx": {
            "lines": 88,
            "tokens": 515,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/components/KPIsTab.tsx": {
            "lines": 120,
            "tokens": 1070,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 33,
            "duplicatedTokens": 279,
            "percentage": 27.5,
            "percentageTokens": 26.07,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics/components/FinancialTab.tsx": {
            "lines": 118,
            "tokens": 833,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/AssetManagement/components/AssetStatsBar.tsx": {
            "lines": 44,
            "tokens": 339,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/SortIcon.tsx": {
            "lines": 17,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/OverviewTab.tsx": {
            "lines": 226,
            "tokens": 2046,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx": {
            "lines": 270,
            "tokens": 2476,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 59,
            "duplicatedTokens": 635,
            "percentage": 21.85,
            "percentageTokens": 25.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx": {
            "lines": 291,
            "tokens": 3054,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 86,
            "duplicatedTokens": 902,
            "percentage": 29.55,
            "percentageTokens": 29.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/DataWorkbenchMetrics.tsx": {
            "lines": 14,
            "tokens": 154,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/DataWorkbenchHeader.tsx": {
            "lines": 10,
            "tokens": 103,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/DataWorkbenchDialogs.tsx": {
            "lines": 448,
            "tokens": 3866,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 19,
            "duplicatedTokens": 186,
            "percentage": 4.24,
            "percentageTokens": 4.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak/AnalyticsTab.tsx": {
            "lines": 307,
            "tokens": 3070,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 26,
            "duplicatedTokens": 252,
            "percentage": 8.47,
            "percentageTokens": 8.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx": {
            "lines": 250,
            "tokens": 2383,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 64,
            "duplicatedTokens": 768,
            "percentage": 25.6,
            "percentageTokens": 32.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/mobile/components/OBD2AdapterScanner.tsx": {
            "lines": 943,
            "tokens": 6494,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/__tests__/StatusBadge.test.tsx": {
            "lines": 248,
            "tokens": 2312,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/__tests__/SearchInput.test.tsx": {
            "lines": 430,
            "tokens": 4069,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 48,
            "duplicatedTokens": 528,
            "percentage": 11.16,
            "percentageTokens": 12.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/TrafficCameras.tsx": {
            "lines": 744,
            "tokens": 5622,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 36,
            "duplicatedTokens": 272,
            "percentage": 4.84,
            "percentageTokens": 4.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/RecurringScheduleDialog.tsx": {
            "lines": 457,
            "tokens": 3720,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 33,
            "duplicatedTokens": 298,
            "percentage": 7.22,
            "percentageTokens": 8.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/ReceiptProcessing.tsx": {
            "lines": 529,
            "tokens": 4765,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 144,
            "duplicatedTokens": 734,
            "percentage": 27.22,
            "percentageTokens": 15.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/MileageReimbursement.tsx": {
            "lines": 366,
            "tokens": 3418,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 20,
            "duplicatedTokens": 222,
            "percentage": 5.46,
            "percentageTokens": 6.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/CustomFormBuilder.tsx": {
            "lines": 454,
            "tokens": 4475,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 121,
            "percentage": 1.54,
            "percentageTokens": 2.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/tools/AIAssistant.tsx": {
            "lines": 707,
            "tokens": 5914,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/VendorManagement.tsx": {
            "lines": 583,
            "tokens": 5200,
            "sources": 1,
            "clones": 14,
            "duplicatedLines": 199,
            "duplicatedTokens": 1571,
            "percentage": 34.13,
            "percentageTokens": 30.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/PurchaseOrders.tsx": {
            "lines": 653,
            "tokens": 6170,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 200,
            "duplicatedTokens": 1392,
            "percentage": 30.63,
            "percentageTokens": 22.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/PartsInventory.tsx": {
            "lines": 441,
            "tokens": 4161,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 186,
            "duplicatedTokens": 1493,
            "percentage": 42.18,
            "percentageTokens": 35.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/procurement/Invoices.tsx": {
            "lines": 191,
            "tokens": 1847,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 31,
            "duplicatedTokens": 244,
            "percentage": 16.23,
            "percentageTokens": 13.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/personal-use/PersonalUsePolicyConfig.tsx": {
            "lines": 851,
            "tokens": 6920,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 111,
            "duplicatedTokens": 1018,
            "percentage": 13.04,
            "percentageTokens": 14.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/personal-use/PersonalUseDashboard.tsx": {
            "lines": 820,
            "tokens": 7405,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 55,
            "duplicatedTokens": 553,
            "percentage": 6.71,
            "percentageTokens": 7.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/TaskManagement.tsx": {
            "lines": 778,
            "tokens": 6833,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 143,
            "duplicatedTokens": 1099,
            "percentage": 18.38,
            "percentageTokens": 16.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/RouteManagement.tsx": {
            "lines": 390,
            "tokens": 3583,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/GeofenceManagement.tsx": {
            "lines": 650,
            "tokens": 5632,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 102,
            "duplicatedTokens": 686,
            "percentage": 15.69,
            "percentageTokens": 12.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/DispatchConsole.tsx": {
            "lines": 528,
            "tokens": 4607,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/AdvancedRouteOptimization.tsx": {
            "lines": 949,
            "tokens": 7880,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 33,
            "duplicatedTokens": 315,
            "percentage": 3.48,
            "percentageTokens": 4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/mobile/MobileManagerView.tsx": {
            "lines": 371,
            "tokens": 2959,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/mobile/MobileEmployeeDashboard.tsx": {
            "lines": 624,
            "tokens": 4908,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/PredictiveMaintenance.tsx": {
            "lines": 162,
            "tokens": 1488,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 17,
            "duplicatedTokens": 148,
            "percentage": 10.49,
            "percentageTokens": 9.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/MaintenanceScheduling.tsx": {
            "lines": 567,
            "tokens": 4972,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 32,
            "duplicatedTokens": 258,
            "percentage": 5.64,
            "percentageTokens": 5.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/MaintenanceRequest.tsx": {
            "lines": 333,
            "tokens": 3197,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 219,
            "percentage": 7.21,
            "percentageTokens": 6.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/maintenance/GarageService.tsx": {
            "lines": 337,
            "tokens": 3119,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 150,
            "percentage": 5.93,
            "percentageTokens": 4.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/TeamsIntegration.tsx": {
            "lines": 266,
            "tokens": 2386,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 161,
            "percentage": 6.77,
            "percentageTokens": 6.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/MapSettings.tsx": {
            "lines": 788,
            "tokens": 5331,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 132,
            "percentage": 2.03,
            "percentageTokens": 2.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/GISCommandCenter.tsx": {
            "lines": 225,
            "tokens": 2076,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/EmailCenter.tsx": {
            "lines": 335,
            "tokens": 3210,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 18,
            "duplicatedTokens": 161,
            "percentage": 5.37,
            "percentageTokens": 5.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/ArcGISIntegration.tsx": {
            "lines": 108,
            "tokens": 836,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 110,
            "percentage": 10.19,
            "percentageTokens": 13.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/integrations/ArcGISIntegration.original.tsx": {
            "lines": 447,
            "tokens": 4201,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 113,
            "duplicatedTokens": 1041,
            "percentage": 25.28,
            "percentageTokens": 24.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fuel/FuelPurchasing.tsx": {
            "lines": 747,
            "tokens": 6661,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fuel/FuelManagement.tsx": {
            "lines": 284,
            "tokens": 2696,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 88,
            "percentage": 4.93,
            "percentageTokens": 3.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VirtualGarage3D.tsx": {
            "lines": 451,
            "tokens": 3444,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleTelemetry.tsx": {
            "lines": 717,
            "tokens": 5918,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 86,
            "duplicatedTokens": 523,
            "percentage": 11.99,
            "percentageTokens": 8.84,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleManagement.tsx": {
            "lines": 99,
            "tokens": 899,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 164,
            "percentage": 17.17,
            "percentageTokens": 18.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleInventory.tsx": {
            "lines": 768,
            "tokens": 6398,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 93,
            "duplicatedTokens": 773,
            "percentage": 12.11,
            "percentageTokens": 12.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleAssignmentManagement.tsx": {
            "lines": 700,
            "tokens": 5890,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 174,
            "percentage": 2.29,
            "percentageTokens": 2.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/GPSTracking.tsx": {
            "lines": 515,
            "tokens": 4255,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 148,
            "percentage": 2.72,
            "percentageTokens": 3.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/GPSTracking.stories.tsx": {
            "lines": 241,
            "tokens": 1320,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetOptimizer.tsx": {
            "lines": 415,
            "tokens": 3822,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 75,
            "percentage": 1.93,
            "percentageTokens": 1.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboardRefactored.example.tsx": {
            "lines": 383,
            "tokens": 2493,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboardModern.tsx": {
            "lines": 476,
            "tokens": 4544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard.tsx": {
            "lines": 214,
            "tokens": 1671,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 214,
            "duplicatedTokens": 1671,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetDashboard.refactored.tsx": {
            "lines": 214,
            "tokens": 1671,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 214,
            "duplicatedTokens": 1671,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics.tsx": {
            "lines": 93,
            "tokens": 842,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 92,
            "duplicatedTokens": 865,
            "percentage": 98.92,
            "percentageTokens": 102.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/FleetAnalytics.refactored.tsx": {
            "lines": 90,
            "tokens": 839,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 77,
            "duplicatedTokens": 720,
            "percentage": 85.56,
            "percentageTokens": 85.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/drivers/DriverScorecard.tsx": {
            "lines": 458,
            "tokens": 4065,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 75,
            "percentage": 1.75,
            "percentageTokens": 1.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/drivers/DriverPerformance.tsx": {
            "lines": 550,
            "tokens": 5433,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 145,
            "percentage": 2.73,
            "percentageTokens": 2.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/drivers/DriverManagement.tsx": {
            "lines": 117,
            "tokens": 1051,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 25,
            "duplicatedTokens": 266,
            "percentage": 21.37,
            "percentageTokens": 25.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/VideoTelematics.tsx": {
            "lines": 873,
            "tokens": 7149,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 60,
            "duplicatedTokens": 435,
            "percentage": 6.87,
            "percentageTokens": 6.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/OSHAForms.tsx": {
            "lines": 721,
            "tokens": 6208,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 69,
            "duplicatedTokens": 560,
            "percentage": 9.57,
            "percentageTokens": 9.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/DocumentQA.tsx": {
            "lines": 461,
            "tokens": 3834,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 78,
            "percentage": 1.74,
            "percentageTokens": 2.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/compliance/DocumentManagement.tsx": {
            "lines": 603,
            "tokens": 5502,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 49,
            "duplicatedTokens": 378,
            "percentage": 8.13,
            "percentageTokens": 6.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/communication/CommunicationLog.tsx": {
            "lines": 498,
            "tokens": 4438,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 47,
            "duplicatedTokens": 328,
            "percentage": 9.44,
            "percentageTokens": 7.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/charging/EVChargingManagement.tsx": {
            "lines": 689,
            "tokens": 5971,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 39,
            "duplicatedTokens": 217,
            "percentage": 5.66,
            "percentageTokens": 3.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/charging/EVChargingDashboard.tsx": {
            "lines": 701,
            "tokens": 6047,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/EquipmentDashboard.tsx": {
            "lines": 647,
            "tokens": 5825,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 126,
            "percentage": 1.55,
            "percentageTokens": 2.16,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/AssetManagement.tsx": {
            "lines": 199,
            "tokens": 1562,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 207,
            "duplicatedTokens": 1653,
            "percentage": 104.02,
            "percentageTokens": 105.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/assets/AssetManagement.refactored.tsx": {
            "lines": 199,
            "tokens": 1562,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 199,
            "duplicatedTokens": 1562,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/ExecutiveDashboard.tsx": {
            "lines": 774,
            "tokens": 6821,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 108,
            "duplicatedTokens": 846,
            "percentage": 13.95,
            "percentageTokens": 12.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/EndpointMonitor.tsx": {
            "lines": 473,
            "tokens": 4645,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 101,
            "percentage": 3.17,
            "percentageTokens": 2.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.tsx": {
            "lines": 204,
            "tokens": 1813,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 312,
            "duplicatedTokens": 2762,
            "percentage": 152.94,
            "percentageTokens": 152.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.refactored.tsx": {
            "lines": 204,
            "tokens": 1813,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 204,
            "duplicatedTokens": 1813,
            "percentage": 100,
            "percentageTokens": 100,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/DataWorkbench.bak.tsx": {
            "lines": 293,
            "tokens": 3082,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 108,
            "duplicatedTokens": 949,
            "percentage": 36.86,
            "percentageTokens": 30.79,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/CustomReportBuilder.tsx": {
            "lines": 831,
            "tokens": 7210,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/CostAnalysisCenter.tsx": {
            "lines": 561,
            "tokens": 4889,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/analytics/CarbonFootprintTracker.tsx": {
            "lines": 759,
            "tokens": 7073,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/PushNotificationAdmin.tsx": {
            "lines": 870,
            "tokens": 7800,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 94,
            "duplicatedTokens": 810,
            "percentage": 10.8,
            "percentageTokens": 10.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/PolicyEngineWorkbench.tsx": {
            "lines": 672,
            "tokens": 5690,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 92,
            "duplicatedTokens": 708,
            "percentage": 13.69,
            "percentageTokens": 12.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/PeopleManagement.tsx": {
            "lines": 267,
            "tokens": 2551,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 60,
            "duplicatedTokens": 584,
            "percentage": 22.47,
            "percentageTokens": 22.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/admin/Notifications.tsx": {
            "lines": 453,
            "tokens": 3748,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/VehicleInventory.test.tsx": {
            "lines": 585,
            "tokens": 5580,
            "sources": 1,
            "clones": 27,
            "duplicatedLines": 224,
            "duplicatedTokens": 2513,
            "percentage": 38.29,
            "percentageTokens": 45.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/TrafficCameras.test.tsx": {
            "lines": 470,
            "tokens": 3655,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 120,
            "percentage": 4.04,
            "percentageTokens": 3.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/RouteManagement.test.tsx": {
            "lines": 118,
            "tokens": 748,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 45,
            "duplicatedTokens": 333,
            "percentage": 38.14,
            "percentageTokens": 44.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/InventoryManagement.test.tsx": {
            "lines": 465,
            "tokens": 4336,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 60,
            "duplicatedTokens": 529,
            "percentage": 12.9,
            "percentageTokens": 12.2,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/GeofenceManagement.test.tsx": {
            "lines": 153,
            "tokens": 966,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 111,
            "percentage": 9.8,
            "percentageTokens": 11.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/GPSTracking.test.tsx": {
            "lines": 519,
            "tokens": 3857,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 120,
            "percentage": 3.66,
            "percentageTokens": 3.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/GISCommandCenter.test.tsx": {
            "lines": 110,
            "tokens": 696,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 111,
            "percentage": 13.64,
            "percentageTokens": 15.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/FleetDashboard.test.tsx": {
            "lines": 127,
            "tokens": 842,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 111,
            "percentage": 11.81,
            "percentageTokens": 13.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/__tests__/DispatchConsole.test.tsx": {
            "lines": 460,
            "tokens": 4270,
            "sources": 1,
            "clones": 16,
            "duplicatedLines": 194,
            "duplicatedTokens": 1842,
            "percentage": 42.17,
            "percentageTokens": 43.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/FleetDashboard/index.tsx": {
            "lines": 230,
            "tokens": 158,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/utils/popups.tsx": {
            "lines": 180,
            "tokens": 1086,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/utils/icons.tsx": {
            "lines": 160,
            "tokens": 900,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/hooks/useMarkerLayers.tsx": {
            "lines": 207,
            "tokens": 1866,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/hooks/useLeafletInit.tsx": {
            "lines": 228,
            "tokens": 1838,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/VehicleInspector.tsx": {
            "lines": 287,
            "tokens": 2840,
            "sources": 1,
            "clones": 20,
            "duplicatedLines": 200,
            "duplicatedTokens": 1684,
            "percentage": 69.69,
            "percentageTokens": 59.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/TripInspector.tsx": {
            "lines": 377,
            "tokens": 3940,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 92,
            "duplicatedTokens": 918,
            "percentage": 24.4,
            "percentageTokens": 23.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/TaskInspector.tsx": {
            "lines": 422,
            "tokens": 4209,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 65,
            "duplicatedTokens": 692,
            "percentage": 15.4,
            "percentageTokens": 16.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/RouteInspector.tsx": {
            "lines": 349,
            "tokens": 3366,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 71,
            "duplicatedTokens": 658,
            "percentage": 20.34,
            "percentageTokens": 19.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/DriverInspector.tsx": {
            "lines": 344,
            "tokens": 3496,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 43,
            "duplicatedTokens": 420,
            "percentage": 12.5,
            "percentageTokens": 12.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/inspectors/AlertInspector.tsx": {
            "lines": 372,
            "tokens": 3561,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 51,
            "duplicatedTokens": 526,
            "percentage": 13.71,
            "percentageTokens": 14.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/VideoViewer.tsx": {
            "lines": 305,
            "tokens": 2327,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/PdfViewer.tsx": {
            "lines": 210,
            "tokens": 1665,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/OfficeViewer.tsx": {
            "lines": 84,
            "tokens": 651,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/ImageViewer.tsx": {
            "lines": 264,
            "tokens": 2234,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/CodeViewer.tsx": {
            "lines": 274,
            "tokens": 2092,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/viewer/3DViewer.tsx": {
            "lines": 67,
            "tokens": 590,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/search/SearchHistory.tsx": {
            "lines": 127,
            "tokens": 930,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/search/SearchFilters.tsx": {
            "lines": 281,
            "tokens": 2392,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 114,
            "percentage": 2.49,
            "percentageTokens": 4.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/search/SavedSearches.tsx": {
            "lines": 187,
            "tokens": 1527,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 17,
            "duplicatedTokens": 206,
            "percentage": 9.09,
            "percentageTokens": 13.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/search/DocumentSearch.tsx": {
            "lines": 238,
            "tokens": 1982,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/collaboration/DocumentSharing.tsx": {
            "lines": 222,
            "tokens": 1863,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/collaboration/DocumentComments.tsx": {
            "lines": 294,
            "tokens": 2323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/collaboration/DocumentCollaborators.tsx": {
            "lines": 167,
            "tokens": 1321,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/collaboration/DocumentActivity.tsx": {
            "lines": 141,
            "tokens": 1234,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/ai/SemanticSearch.tsx": {
            "lines": 187,
            "tokens": 1660,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/ai/DocumentInsights.tsx": {
            "lines": 225,
            "tokens": 1984,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/ai/DocumentClassification.tsx": {
            "lines": 247,
            "tokens": 2050,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/ai/DocumentChat.tsx": {
            "lines": 206,
            "tokens": 1713,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/components/ProviderBadge.tsx": {
            "lines": 16,
            "tokens": 113,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/components/MapLoadingOverlay.tsx": {
            "lines": 17,
            "tokens": 134,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/components/MapErrorBoundary.tsx": {
            "lines": 78,
            "tokens": 556,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap/components/ClusteringBadge.tsx": {
            "lines": 10,
            "tokens": 66,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Maps/Layers/TrafficCameraLayer.tsx": {
            "lines": 257,
            "tokens": 1718,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/tests/unit/component.test.tsx": {
            "lines": 203,
            "tokens": 2142,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/tests/components/VehicleCard.test.tsx": {
            "lines": 320,
            "tokens": 2893,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/tests/components/AssetManagement.test.tsx": {
            "lines": 174,
            "tokens": 1357,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/inspect/InspectContext.tsx": {
            "lines": 27,
            "tokens": 311,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/radio/index.tsx": {
            "lines": 128,
            "tokens": 1072,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/WorkHub.tsx": {
            "lines": 356,
            "tokens": 2810,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 45,
            "duplicatedTokens": 386,
            "percentage": 12.64,
            "percentageTokens": 13.74,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/PeopleHub.tsx": {
            "lines": 570,
            "tokens": 4693,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 102,
            "percentage": 1.4,
            "percentageTokens": 2.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/OperationsHub.tsx": {
            "lines": 427,
            "tokens": 3239,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 54,
            "duplicatedTokens": 496,
            "percentage": 12.65,
            "percentageTokens": 15.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/InsightsHub.tsx": {
            "lines": 448,
            "tokens": 3389,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/hubs/FleetHub.tsx": {
            "lines": 482,
            "tokens": 3893,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 47,
            "duplicatedTokens": 400,
            "percentage": 9.75,
            "percentageTokens": 10.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/PersonalUse/ReimbursementQueue.tsx": {
            "lines": 621,
            "tokens": 5430,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 100,
            "duplicatedTokens": 960,
            "percentage": 16.1,
            "percentageTokens": 17.68,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/PersonalUse/PersonalUseDashboard.tsx": {
            "lines": 518,
            "tokens": 4326,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 66,
            "duplicatedTokens": 641,
            "percentage": 12.74,
            "percentageTokens": 14.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/PersonalUse/ChargesAndBilling.tsx": {
            "lines": 561,
            "tokens": 5166,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 80,
            "duplicatedTokens": 752,
            "percentage": 14.26,
            "percentageTokens": 14.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/vehicle/VehicleHistoryTrail.tsx": {
            "lines": 456,
            "tokens": 3828,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 66,
            "duplicatedTokens": 538,
            "percentage": 14.47,
            "percentageTokens": 14.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/vehicle/TripPlayback.tsx": {
            "lines": 567,
            "tokens": 4390,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 66,
            "duplicatedTokens": 538,
            "percentage": 11.64,
            "percentageTokens": 12.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/virtual-table.tsx": {
            "lines": 104,
            "tokens": 838,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/tooltip.tsx": {
            "lines": 58,
            "tokens": 341,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/toggle.tsx": {
            "lines": 44,
            "tokens": 267,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/toggle-group.tsx": {
            "lines": 72,
            "tokens": 408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/textarea.tsx": {
            "lines": 17,
            "tokens": 95,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/tabs.tsx": {
            "lines": 65,
            "tokens": 322,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/table.tsx": {
            "lines": 113,
            "tokens": 587,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/switch.tsx": {
            "lines": 30,
            "tokens": 142,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/sonner.tsx": {
            "lines": 23,
            "tokens": 161,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/slider.tsx": {
            "lines": 62,
            "tokens": 352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/skeleton.tsx": {
            "lines": 13,
            "tokens": 93,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/sidebar.tsx": {
            "lines": 730,
            "tokens": 4249,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/sheet.tsx": {
            "lines": 136,
            "tokens": 793,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/separator.tsx": {
            "lines": 27,
            "tokens": 142,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/select.tsx": {
            "lines": 184,
            "tokens": 959,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/scroll-area.tsx": {
            "lines": 57,
            "tokens": 287,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/resizable.tsx": {
            "lines": 53,
            "tokens": 299,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/radio-group.tsx": {
            "lines": 44,
            "tokens": 231,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/progress.tsx": {
            "lines": 28,
            "tokens": 169,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/popover.tsx": {
            "lines": 53,
            "tokens": 346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/pagination.tsx": {
            "lines": 124,
            "tokens": 724,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/optimized-image.tsx": {
            "lines": 74,
            "tokens": 503,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/navigation-menu.tsx": {
            "lines": 167,
            "tokens": 782,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/menubar.tsx": {
            "lines": 275,
            "tokens": 1382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/label.tsx": {
            "lines": 23,
            "tokens": 114,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/input.tsx": {
            "lines": 20,
            "tokens": 110,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/input-otp.tsx": {
            "lines": 76,
            "tokens": 472,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/hover-card.tsx": {
            "lines": 41,
            "tokens": 257,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/form.tsx": {
            "lines": 164,
            "tokens": 1108,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/dropdown-menu.tsx": {
            "lines": 259,
            "tokens": 1347,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/drawer.tsx": {
            "lines": 129,
            "tokens": 716,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/dialog.tsx": {
            "lines": 132,
            "tokens": 738,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/context-menu.tsx": {
            "lines": 253,
            "tokens": 1268,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/command.tsx": {
            "lines": 176,
            "tokens": 845,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/collapsible.tsx": {
            "lines": 31,
            "tokens": 184,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/checkbox.tsx": {
            "lines": 31,
            "tokens": 162,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/chart.tsx": {
            "lines": 412,
            "tokens": 2891,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/carousel.tsx": {
            "lines": 241,
            "tokens": 1561,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/card.tsx": {
            "lines": 91,
            "tokens": 495,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/calendar.tsx": {
            "lines": 73,
            "tokens": 502,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/button.tsx": {
            "lines": 59,
            "tokens": 383,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/breadcrumb.tsx": {
            "lines": 109,
            "tokens": 644,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/badge.tsx": {
            "lines": 45,
            "tokens": 276,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/avatar.tsx": {
            "lines": 52,
            "tokens": 253,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/aspect-ratio.tsx": {
            "lines": 9,
            "tokens": 76,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/alert.tsx": {
            "lines": 65,
            "tokens": 345,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/alert-dialog.tsx": {
            "lines": 150,
            "tokens": 772,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/accordion.tsx": {
            "lines": 63,
            "tokens": 373,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/testing/MobileEmulatorTestScreen.tsx": {
            "lines": 321,
            "tokens": 2470,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/skeletons/SkeletonComponents.tsx": {
            "lines": 353,
            "tokens": 2625,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/VirtualList.tsx": {
            "lines": 352,
            "tokens": 2865,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 106,
            "duplicatedTokens": 750,
            "percentage": 30.11,
            "percentageTokens": 26.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/StatusBadge.tsx": {
            "lines": 81,
            "tokens": 652,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/SearchInput.tsx": {
            "lines": 116,
            "tokens": 687,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/PageHeader.tsx": {
            "lines": 47,
            "tokens": 421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/OptimizedImage.tsx": {
            "lines": 232,
            "tokens": 1638,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/MetricsGrid.tsx": {
            "lines": 48,
            "tokens": 178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/MetricCard.tsx": {
            "lines": 110,
            "tokens": 636,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/LoadingSkeleton.tsx": {
            "lines": 105,
            "tokens": 932,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/FormField.tsx": {
            "lines": 129,
            "tokens": 1057,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/FilterPanel.tsx": {
            "lines": 55,
            "tokens": 527,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/FilterBar.tsx": {
            "lines": 340,
            "tokens": 2467,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/FileUpload.tsx": {
            "lines": 35,
            "tokens": 317,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/ErrorAlert.tsx": {
            "lines": 102,
            "tokens": 795,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/EnhancedDataTable.tsx": {
            "lines": 444,
            "tokens": 3109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/DialogForm.tsx": {
            "lines": 31,
            "tokens": 321,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/DataTable.tsx": {
            "lines": 153,
            "tokens": 1060,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/ConfirmDialog.tsx": {
            "lines": 52,
            "tokens": 340,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/shared/AdvancedLoadingSkeleton.tsx": {
            "lines": 254,
            "tokens": 2116,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/SecuritySettings.tsx": {
            "lines": 358,
            "tokens": 2953,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 164,
            "percentage": 5.59,
            "percentageTokens": 5.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/NotificationSettings.tsx": {
            "lines": 288,
            "tokens": 2417,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 69,
            "duplicatedTokens": 594,
            "percentage": 23.96,
            "percentageTokens": 24.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/GeneralSettings.tsx": {
            "lines": 252,
            "tokens": 2293,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 96,
            "percentage": 4.37,
            "percentageTokens": 4.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/FleetSettings.tsx": {
            "lines": 220,
            "tokens": 1860,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 113,
            "percentage": 5.91,
            "percentageTokens": 6.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/DataPrivacySettings.tsx": {
            "lines": 304,
            "tokens": 2510,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 82,
            "percentage": 3.29,
            "percentageTokens": 3.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/AppearanceSettings.tsx": {
            "lines": 260,
            "tokens": 2294,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 205,
            "percentage": 9.23,
            "percentageTokens": 8.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/AdvancedSettings.tsx": {
            "lines": 314,
            "tokens": 2519,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 98,
            "percentage": 3.5,
            "percentageTokens": 3.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/security/HttpsRedirect.tsx": {
            "lines": 56,
            "tokens": 297,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/security/CspMetaTags.tsx": {
            "lines": 148,
            "tokens": 889,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/VehicleReservationModal.tsx": {
            "lines": 596,
            "tokens": 4958,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 209,
            "duplicatedTokens": 1597,
            "percentage": 35.07,
            "percentageTokens": 32.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/SchedulingCalendar.tsx": {
            "lines": 481,
            "tokens": 4636,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/ScheduleView.tsx": {
            "lines": 610,
            "tokens": 5671,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 100,
            "duplicatedTokens": 798,
            "percentage": 16.39,
            "percentageTokens": 14.07,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/scheduling/MaintenanceAppointmentModal.tsx": {
            "lines": 611,
            "tokens": 5142,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 167,
            "duplicatedTokens": 1261,
            "percentage": 27.33,
            "percentageTokens": 24.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/reactive/ReactiveComponents.tsx": {
            "lines": 508,
            "tokens": 3674,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/radio/TranscriptPanel.tsx": {
            "lines": 140,
            "tokens": 1247,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/radio/RadioFeed.tsx": {
            "lines": 168,
            "tokens": 1583,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/radio/PolicyQueue.tsx": {
            "lines": 183,
            "tokens": 1617,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/radio/EntityBadge.tsx": {
            "lines": 120,
            "tokens": 879,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/providers/ThemeProvider.tsx": {
            "lines": 108,
            "tokens": 853,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/providers/QueryProvider.tsx": {
            "lines": 70,
            "tokens": 401,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/providers/AuthProvider.tsx": {
            "lines": 34,
            "tokens": 161,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/obd2/OBD2Dashboard.tsx": {
            "lines": 627,
            "tokens": 4522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/monitoring/EndpointHealthDashboard.tsx": {
            "lines": 494,
            "tokens": 3499,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 193,
            "percentage": 4.45,
            "percentageTokens": 5.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/mobile/TouchComponents.tsx": {
            "lines": 554,
            "tokens": 3811,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/mobile/MobileNavigation.tsx": {
            "lines": 444,
            "tokens": 2803,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/mobile/AssetCheckInOut.tsx": {
            "lines": 126,
            "tokens": 1358,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/licenses/LicenseManagement.tsx": {
            "lines": 75,
            "tokens": 745,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/LeafletMarkerCount.tsx": {
            "lines": 60,
            "tokens": 462,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/LeafletMapLoading.tsx": {
            "lines": 49,
            "tokens": 286,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/LeafletMapError.tsx": {
            "lines": 51,
            "tokens": 383,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/ResponsiveLayout.tsx": {
            "lines": 467,
            "tokens": 3369,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/HubLayout.tsx": {
            "lines": 18,
            "tokens": 212,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/InspectorRouter.tsx": {
            "lines": 50,
            "tokens": 418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/InspectTestButton.tsx": {
            "lines": 26,
            "tokens": 160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/inspect/InspectDrawer.tsx": {
            "lines": 31,
            "tokens": 263,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/guards/RouteGuard.tsx": {
            "lines": 133,
            "tokens": 934,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/guards/PermissionGate.tsx": {
            "lines": 213,
            "tokens": 1214,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/VehicleHUD.tsx": {
            "lines": 381,
            "tokens": 2681,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/TimelineDrawer.tsx": {
            "lines": 419,
            "tokens": 3498,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/GameCameraController.tsx": {
            "lines": 227,
            "tokens": 2010,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/DamageStrip.tsx": {
            "lines": 432,
            "tokens": 3767,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/garage/Asset3DViewer.tsx": {
            "lines": 701,
            "tokens": 8668,
            "sources": 1,
            "clones": 14,
            "duplicatedLines": 126,
            "duplicatedTokens": 2380,
            "percentage": 17.97,
            "percentageTokens": 27.46,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/filters/AssetTypeFilter.tsx": {
            "lines": 351,
            "tokens": 2898,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 288,
            "duplicatedTokens": 2679,
            "percentage": 82.05,
            "percentageTokens": 92.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/VehicleForm.example.tsx": {
            "lines": 122,
            "tokens": 1107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/UXShowcase.example.tsx": {
            "lines": 298,
            "tokens": 2334,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 92,
            "percentage": 2.35,
            "percentageTokens": 3.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/MapErrorRecoveryExample.tsx": {
            "lines": 377,
            "tokens": 3080,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/ErrorHandlingExample.tsx": {
            "lines": 384,
            "tokens": 2976,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/examples/CompleteUXIntegration.example.tsx": {
            "lines": 406,
            "tokens": 3323,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 92,
            "percentage": 1.72,
            "percentageTokens": 2.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/errors/SentryErrorBoundary.tsx": {
            "lines": 370,
            "tokens": 2696,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/errors/QueryErrorBoundary.tsx": {
            "lines": 218,
            "tokens": 1519,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/WorkOrderDetailPanel.tsx": {
            "lines": 306,
            "tokens": 2461,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/VehicleTripsList.tsx": {
            "lines": 178,
            "tokens": 1534,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 62,
            "duplicatedTokens": 591,
            "percentage": 34.83,
            "percentageTokens": 38.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/VehicleDetailPanel.tsx": {
            "lines": 598,
            "tokens": 4881,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 26,
            "duplicatedTokens": 235,
            "percentage": 4.35,
            "percentageTokens": 4.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/TripTelemetryView.tsx": {
            "lines": 320,
            "tokens": 2704,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 90,
            "percentage": 3.44,
            "percentageTokens": 3.33,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/PartsBreakdownView.tsx": {
            "lines": 125,
            "tokens": 1170,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/MetricCard.tsx": {
            "lines": 181,
            "tokens": 1026,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/LaborDetailsView.tsx": {
            "lines": 129,
            "tokens": 1341,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 99,
            "percentage": 7.75,
            "percentageTokens": 7.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/FacilityVehiclesView.tsx": {
            "lines": 103,
            "tokens": 920,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/FacilityDetailPanel.tsx": {
            "lines": 161,
            "tokens": 1409,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/DriverTripsView.tsx": {
            "lines": 222,
            "tokens": 1995,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 62,
            "duplicatedTokens": 591,
            "percentage": 27.93,
            "percentageTokens": 29.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/DriverPerformanceView.tsx": {
            "lines": 293,
            "tokens": 2564,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 30,
            "duplicatedTokens": 264,
            "percentage": 10.24,
            "percentageTokens": 10.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/DriverDetailPanel.tsx": {
            "lines": 275,
            "tokens": 2331,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 35,
            "duplicatedTokens": 338,
            "percentage": 12.73,
            "percentageTokens": 14.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/drilldown/AssetRelationshipsList.tsx": {
            "lines": 162,
            "tokens": 1188,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/TagManager.tsx": {
            "lines": 205,
            "tokens": 1758,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 92,
            "percentage": 4.88,
            "percentageTokens": 5.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/FolderManager.tsx": {
            "lines": 274,
            "tokens": 2128,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentViewer.tsx": {
            "lines": 334,
            "tokens": 2333,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentUploader.tsx": {
            "lines": 366,
            "tokens": 3068,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentSidebar.tsx": {
            "lines": 370,
            "tokens": 2553,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 87,
            "percentage": 3.78,
            "percentageTokens": 3.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentProperties.tsx": {
            "lines": 330,
            "tokens": 2860,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentMapPopup.tsx": {
            "lines": 232,
            "tokens": 1429,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 77,
            "duplicatedTokens": 457,
            "percentage": 33.19,
            "percentageTokens": 31.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentMapFilter.tsx": {
            "lines": 255,
            "tokens": 1516,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentMapCluster.tsx": {
            "lines": 280,
            "tokens": 2068,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentMap.tsx": {
            "lines": 329,
            "tokens": 2011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentList.tsx": {
            "lines": 365,
            "tokens": 2664,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 57,
            "duplicatedTokens": 412,
            "percentage": 15.62,
            "percentageTokens": 15.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentGrid.tsx": {
            "lines": 334,
            "tokens": 2407,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 43,
            "duplicatedTokens": 325,
            "percentage": 12.87,
            "percentageTokens": 13.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/DocumentExplorer.tsx": {
            "lines": 364,
            "tokens": 2826,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/documents/BulkActions.tsx": {
            "lines": 284,
            "tokens": 2335,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dialogs/TripUsageDialog.tsx": {
            "lines": 427,
            "tokens": 3818,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 222,
            "percentage": 6.09,
            "percentageTokens": 5.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dialogs/AddVehicleDialog.tsx": {
            "lines": 721,
            "tokens": 6705,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 86,
            "percentage": 1.11,
            "percentageTokens": 1.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/demo/RoleSwitcher.tsx": {
            "lines": 437,
            "tokens": 3327,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/SystemStatusPanel.tsx": {
            "lines": 259,
            "tokens": 2031,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/MiniChart.tsx": {
            "lines": 258,
            "tokens": 2460,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 38,
            "duplicatedTokens": 410,
            "percentage": 14.73,
            "percentageTokens": 16.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/MetricCard.tsx": {
            "lines": 216,
            "tokens": 1107,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/CompactVehicleList.tsx": {
            "lines": 221,
            "tokens": 2003,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/CompactMetricCard.tsx": {
            "lines": 89,
            "tokens": 777,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/AllEndpointsMonitor.tsx": {
            "lines": 436,
            "tokens": 3452,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 92,
            "percentage": 1.61,
            "percentageTokens": 2.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/AlertsFeed.tsx": {
            "lines": 244,
            "tokens": 2215,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/AIInsightsPanel.tsx": {
            "lines": 174,
            "tokens": 1382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/damage/MobileDamageCapture.tsx": {
            "lines": 512,
            "tokens": 4459,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/damage/DamageAnalysisResults.tsx": {
            "lines": 365,
            "tokens": 3296,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/VehicleIdentification.tsx": {
            "lines": 397,
            "tokens": 3290,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 62,
            "duplicatedTokens": 432,
            "percentage": 15.62,
            "percentageTokens": 13.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/ToastContainer.tsx": {
            "lines": 79,
            "tokens": 733,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/SafeDataDisplay.tsx": {
            "lines": 358,
            "tokens": 2792,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/NotificationBell.tsx": {
            "lines": 236,
            "tokens": 1820,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/ModuleWrapper.tsx": {
            "lines": 463,
            "tokens": 3573,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/ModuleLoadingSpinner.tsx": {
            "lines": 17,
            "tokens": 102,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/KPIStrip.tsx": {
            "lines": 113,
            "tokens": 811,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/DataGrid.tsx": {
            "lines": 235,
            "tokens": 1873,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/assets/ScanAssetModal.tsx": {
            "lines": 90,
            "tokens": 908,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/assets/CheckoutAssetModal.tsx": {
            "lines": 115,
            "tokens": 1342,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/assets/AssetLocationMap.tsx": {
            "lines": 120,
            "tokens": 1221,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/analytics/UtilizationDashboard.tsx": {
            "lines": 116,
            "tokens": 1072,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ai/SmartForm.tsx": {
            "lines": 336,
            "tokens": 2953,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ai/DocumentScanner.tsx": {
            "lines": 390,
            "tokens": 3354,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ai/ConversationalIntake.tsx": {
            "lines": 268,
            "tokens": 2243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/SystemHealthWidget.tsx": {
            "lines": 242,
            "tokens": 2567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/PerformanceMetrics.tsx": {
            "lines": 327,
            "tokens": 3184,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 244,
            "percentage": 9.17,
            "percentageTokens": 7.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/MonitoringDashboard.tsx": {
            "lines": 281,
            "tokens": 2600,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ErrorRateChart.tsx": {
            "lines": 308,
            "tokens": 3305,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/EmulatorMonitor.tsx": {
            "lines": 434,
            "tokens": 3835,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 6,
            "duplicatedTokens": 74,
            "percentage": 1.38,
            "percentageTokens": 1.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/AlertsPanel.tsx": {
            "lines": 419,
            "tokens": 3947,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 6,
            "duplicatedTokens": 74,
            "percentage": 1.43,
            "percentageTokens": 1.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/module-tests.spec.tsx": {
            "lines": 357,
            "tokens": 2862,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/accessibility.test.tsx": {
            "lines": 582,
            "tokens": 4220,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/UniversalMap.test.tsx": {
            "lines": 558,
            "tokens": 4134,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/LeafletMap.test.tsx": {
            "lines": 751,
            "tokens": 6153,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 58,
            "duplicatedTokens": 548,
            "percentage": 7.72,
            "percentageTokens": 8.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/GoogleMap.test.tsx": {
            "lines": 774,
            "tokens": 6280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/PersonalUse/TripMarker.tsx": {
            "lines": 398,
            "tokens": 3400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Maps/UnifiedFleetMap.tsx": {
            "lines": 492,
            "tokens": 3885,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Maps/ProfessionalFleetMap.tsx": {
            "lines": 216,
            "tokens": 1555,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Maps/AdvancedGeofencing.tsx": {
            "lines": 737,
            "tokens": 5631,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 72,
            "duplicatedTokens": 424,
            "percentage": 9.77,
            "percentageTokens": 7.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrillThrough/DrillThroughModal.tsx": {
            "lines": 302,
            "tokens": 2453,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrillThrough/DrillThroughMetric.tsx": {
            "lines": 90,
            "tokens": 473,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/services/errorReporting.tsx": {
            "lines": 579,
            "tokens": 4222,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 178,
            "percentage": 3.11,
            "percentageTokens": 4.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/SettingsPage.tsx": {
            "lines": 305,
            "tokens": 2289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/ProfilePage.tsx": {
            "lines": 465,
            "tokens": 4133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/Login.tsx": {
            "lines": 232,
            "tokens": 1896,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/AuthCallback.tsx": {
            "lines": 147,
            "tokens": 1117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/AdminDashboard.tsx": {
            "lines": 286,
            "tokens": 2530,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/pages/403.tsx": {
            "lines": 82,
            "tokens": 632,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/tenantContext.tsx": {
            "lines": 103,
            "tokens": 686,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/navigation.tsx": {
            "lines": 406,
            "tokens": 2765,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/examples/MapWithTelemetry.example.tsx": {
            "lines": 484,
            "tokens": 3390,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/ToastContext.tsx": {
            "lines": 116,
            "tokens": 720,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/PermissionContext.tsx": {
            "lines": 68,
            "tokens": 461,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/GlobalStateContext.tsx": {
            "lines": 226,
            "tokens": 1873,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/EntityLinkingContext.tsx": {
            "lines": 552,
            "tokens": 5569,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/contexts/DrilldownContext.tsx": {
            "lines": 74,
            "tokens": 581,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/context/BrandingContext.tsx": {
            "lines": 33,
            "tokens": 311,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/VideoTelematicsDashboard.tsx": {
            "lines": 601,
            "tokens": 5477,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 102,
            "duplicatedTokens": 814,
            "percentage": 16.97,
            "percentageTokens": 14.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/VehicleModelLibrary.tsx": {
            "lines": 479,
            "tokens": 4027,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 69,
            "percentage": 1.04,
            "percentageTokens": 1.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/VehicleDetailPanel.tsx": {
            "lines": 22,
            "tokens": 156,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Vehicle3DViewer.tsx": {
            "lines": 948,
            "tokens": 7707,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UserProfile.tsx": {
            "lines": 50,
            "tokens": 374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalSearch.tsx": {
            "lines": 576,
            "tokens": 5079,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 60,
            "duplicatedTokens": 628,
            "percentage": 10.42,
            "percentageTokens": 12.36,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap.tsx": {
            "lines": 214,
            "tokens": 1722,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 196,
            "duplicatedTokens": 1588,
            "percentage": 91.59,
            "percentageTokens": 92.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap.stories.tsx": {
            "lines": 326,
            "tokens": 2065,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 49,
            "duplicatedTokens": 379,
            "percentage": 15.03,
            "percentageTokens": 18.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/UniversalMap.refactored.tsx": {
            "lines": 204,
            "tokens": 1716,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 188,
            "duplicatedTokens": 1486,
            "percentage": 92.16,
            "percentageTokens": 86.6,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Toast.tsx": {
            "lines": 68,
            "tokens": 565,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ThemeToggle.tsx": {
            "lines": 21,
            "tokens": 170,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/TelemetryDashboard.tsx": {
            "lines": 586,
            "tokens": 4682,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/StatusIndicator.tsx": {
            "lines": 64,
            "tokens": 548,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/SkeletonLoader.tsx": {
            "lines": 22,
            "tokens": 229,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/RouteOptimizer.tsx": {
            "lines": 856,
            "tokens": 7070,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 53,
            "duplicatedTokens": 395,
            "percentage": 6.19,
            "percentageTokens": 5.59,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/RelatedRecordsPanel.tsx": {
            "lines": 379,
            "tokens": 3191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/RealTimeEventHub.tsx": {
            "lines": 600,
            "tokens": 4859,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/RadioPopover.tsx": {
            "lines": 219,
            "tokens": 1517,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Quick3DTest.tsx": {
            "lines": 47,
            "tokens": 511,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ProtectedRoute.tsx": {
            "lines": 199,
            "tokens": 823,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/PerformanceMonitor.tsx": {
            "lines": 484,
            "tokens": 3042,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MetricCard.tsx": {
            "lines": 86,
            "tokens": 749,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MapboxMap.tsx": {
            "lines": 910,
            "tokens": 5901,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 162,
            "percentage": 2.2,
            "percentageTokens": 2.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MapHealthDashboard.tsx": {
            "lines": 347,
            "tokens": 2352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MapErrorBoundary.tsx": {
            "lines": 596,
            "tokens": 4014,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/LoadingSpinner.tsx": {
            "lines": 28,
            "tokens": 200,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/LoadingOverlay.tsx": {
            "lines": 18,
            "tokens": 144,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/LeafletMap.tsx": {
            "lines": 258,
            "tokens": 1819,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 102,
            "percentage": 3.1,
            "percentageTokens": 5.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/LeafletMap.stories.tsx": {
            "lines": 428,
            "tokens": 2682,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 38,
            "duplicatedTokens": 289,
            "percentage": 8.88,
            "percentageTokens": 10.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/LazyMap.tsx": {
            "lines": 578,
            "tokens": 3240,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/KeyboardShortcuts.tsx": {
            "lines": 352,
            "tokens": 2431,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 184,
            "percentage": 3.41,
            "percentageTokens": 7.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/GoogleMap.tsx": {
            "lines": 824,
            "tokens": 5244,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 28,
            "duplicatedTokens": 328,
            "percentage": 3.4,
            "percentageTokens": 6.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/GoogleMap.stories.tsx": {
            "lines": 420,
            "tokens": 2439,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 33,
            "duplicatedTokens": 276,
            "percentage": 7.86,
            "percentageTokens": 11.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/EvidenceLocker.tsx": {
            "lines": 605,
            "tokens": 5543,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 57,
            "duplicatedTokens": 451,
            "percentage": 9.42,
            "percentageTokens": 8.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ErrorMessage.tsx": {
            "lines": 60,
            "tokens": 418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ErrorBoundary.tsx": {
            "lines": 446,
            "tokens": 3327,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 64,
            "duplicatedTokens": 494,
            "percentage": 14.35,
            "percentageTokens": 14.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/EnhancedUniversalMap.tsx": {
            "lines": 387,
            "tokens": 2513,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/EnhancedErrorBoundary.tsx": {
            "lines": 298,
            "tokens": 2314,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 64,
            "duplicatedTokens": 494,
            "percentage": 21.48,
            "percentageTokens": 21.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrilldownPanel.tsx": {
            "lines": 182,
            "tokens": 1323,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrilldownManager.tsx": {
            "lines": 155,
            "tokens": 962,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DrilldownBreadcrumbs.tsx": {
            "lines": 55,
            "tokens": 375,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/DispatchConsole.tsx": {
            "lines": 791,
            "tokens": 6320,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ConsentBanner.tsx": {
            "lines": 351,
            "tokens": 2683,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ChartCard.tsx": {
            "lines": 140,
            "tokens": 1012,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/Breadcrumb.tsx": {
            "lines": 65,
            "tokens": 472,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/AssetTypeFilter.tsx": {
            "lines": 377,
            "tokens": 3375,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 288,
            "duplicatedTokens": 2679,
            "percentage": 76.39,
            "percentageTokens": 79.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/AssetComboManager.tsx": {
            "lines": 511,
            "tokens": 4137,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 164,
            "duplicatedTokens": 1535,
            "percentage": 32.09,
            "percentageTokens": 37.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/AssetComboManager.enhanced.tsx": {
            "lines": 580,
            "tokens": 4537,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 164,
            "duplicatedTokens": 1535,
            "percentage": 28.28,
            "percentageTokens": 33.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/__tests__/ErrorBoundary.test.tsx": {
            "lines": 405,
            "tokens": 2785,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test-utils.tsx": {
            "lines": 495,
            "tokens": 4202,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/main.tsx": {
            "lines": 72,
            "tokens": 452,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/ErrorFallback.tsx": {
            "lines": 40,
            "tokens": 327,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/App.tsx": {
            "lines": 474,
            "tokens": 5023,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/App-SinglePage.tsx": {
            "lines": 201,
            "tokens": 1476,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 122500,
          "tokens": 996508,
          "sources": 419,
          "clones": 302,
          "duplicatedLines": 4915,
          "duplicatedTokens": 42787,
          "percentage": 4.01,
          "percentageTokens": 4.29,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "css": {
        "sources": {
          "src/components/modules/tools/TrafficCameras.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/RouteManagement.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/operations/GeofenceManagement.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/modules/fleet/VehicleTelemetry.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/leaflet/utils/popups.tsx": {
            "lines": 133,
            "tokens": 862,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/demo/RoleSwitcher.css": {
            "lines": 525,
            "tokens": 2946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/common/ToastContainer.css": {
            "lines": 114,
            "tokens": 614,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/LeafletMap.test.tsx": {
            "lines": 53,
            "tokens": 425,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/__tests__/GoogleMap.test.tsx": {
            "lines": 52,
            "tokens": 445,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/theme.css": {
            "lines": 261,
            "tokens": 2346,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/responsive-utilities.css": {
            "lines": 472,
            "tokens": 3680,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/enterprise-tokens.css": {
            "lines": 353,
            "tokens": 2400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/design-tokens-responsive.css": {
            "lines": 412,
            "tokens": 3051,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 176,
            "percentage": 1.21,
            "percentageTokens": 5.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/design-system.css": {
            "lines": 358,
            "tokens": 2819,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/dashboard-layout.css": {
            "lines": 524,
            "tokens": 3691,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 5,
            "duplicatedTokens": 176,
            "percentage": 0.95,
            "percentageTokens": 4.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/styles/dark-mode-enhancements.css": {
            "lines": 331,
            "tokens": 1818,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/stories/page.css": {
            "lines": 67,
            "tokens": 364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/stories/header.css": {
            "lines": 31,
            "tokens": 189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/stories/button.css": {
            "lines": 29,
            "tokens": 195,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/MapboxMap.tsx": {
            "lines": 27,
            "tokens": 253,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/KeyboardShortcuts.tsx": {
            "lines": 17,
            "tokens": 92,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/main.css": {
            "lines": 185,
            "tokens": 1508,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 150,
            "percentage": 8.11,
            "percentageTokens": 9.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/index.css": {
            "lines": 117,
            "tokens": 1045,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 150,
            "percentage": 12.82,
            "percentageTokens": 14.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 4061,
          "tokens": 28755,
          "sources": 23,
          "clones": 2,
          "duplicatedLines": 20,
          "duplicatedTokens": 326,
          "percentage": 0.49,
          "percentageTokens": 1.13,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 482421,
      "tokens": 3558407,
      "sources": 1832,
      "clones": 1095,
      "duplicatedLines": 20396,
      "duplicatedTokens": 168901,
      "percentage": 4.23,
      "percentageTokens": 4.75,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const id = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const workOrder",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 117,
        "end": 126,
        "startLoc": {
          "line": 117,
          "column": 7,
          "position": 1301
        },
        "endLoc": {
          "line": 126,
          "column": 10,
          "position": 1400
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 64,
        "end": 73,
        "startLoc": {
          "line": 64,
          "column": 8,
          "position": 793
        },
        "endLoc": {
          "line": 73,
          "column": 9,
          "position": 892
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const id = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const deleted",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 140,
        "end": 149,
        "startLoc": {
          "line": 140,
          "column": 7,
          "position": 1537
        },
        "endLoc": {
          "line": 149,
          "column": 8,
          "position": 1636
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 64,
        "end": 73,
        "startLoc": {
          "line": 64,
          "column": 8,
          "position": 793
        },
        "endLoc": {
          "line": 73,
          "column": 9,
          "position": 892
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const maintenanceId = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/maintenance/controllers/maintenance.controller.ts",
        "start": 172,
        "end": 181,
        "startLoc": {
          "line": 172,
          "column": 18,
          "position": 1862
        },
        "endLoc": {
          "line": 181,
          "column": 6,
          "position": 1959
        }
      },
      "secondFile": {
        "name": "api/src/modules/maintenance/controllers/maintenance.controller.ts",
        "start": 89,
        "end": 98,
        "startLoc": {
          "line": 89,
          "column": 19,
          "position": 1044
        },
        "endLoc": {
          "line": 98,
          "column": 23,
          "position": 1141
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const maintenanceId = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const deleted",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/maintenance/controllers/maintenance.controller.ts",
        "start": 198,
        "end": 207,
        "startLoc": {
          "line": 198,
          "column": 18,
          "position": 2112
        },
        "endLoc": {
          "line": 207,
          "column": 8,
          "position": 2211
        }
      },
      "secondFile": {
        "name": "api/src/modules/maintenance/controllers/maintenance.controller.ts",
        "start": 89,
        "end": 181,
        "startLoc": {
          "line": 89,
          "column": 19,
          "position": 1044
        },
        "endLoc": {
          "line": 181,
          "column": 7,
          "position": 1961
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ", { tenantId, count: data.length, total });\n      res.json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async getById(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const id = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const cacheKey = `inspection:",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/inspections/controllers/inspection.controller.ts",
        "start": 61,
        "end": 77,
        "startLoc": {
          "line": 61,
          "column": 22,
          "position": 830
        },
        "endLoc": {
          "line": 77,
          "column": 13,
          "position": 992
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 57,
        "end": 73,
        "startLoc": {
          "line": 57,
          "column": 22,
          "position": 734
        },
        "endLoc": {
          "line": 73,
          "column": 13,
          "position": 896
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "});\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async create(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n\n      if",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/inspections/controllers/inspection.controller.ts",
        "start": 92,
        "end": 102,
        "startLoc": {
          "line": 92,
          "column": 2,
          "position": 1138
        },
        "endLoc": {
          "line": 102,
          "column": 3,
          "position": 1226
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 88,
        "end": 97,
        "startLoc": {
          "line": 88,
          "column": 2,
          "position": 1042
        },
        "endLoc": {
          "line": 97,
          "column": 6,
          "position": 1129
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const inspection",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/inspections/controllers/inspection.controller.ts",
        "start": 98,
        "end": 106,
        "startLoc": {
          "line": 98,
          "column": 7,
          "position": 1171
        },
        "endLoc": {
          "line": 106,
          "column": 11,
          "position": 1253
        }
      },
      "secondFile": {
        "name": "api/src/modules/maintenance/controllers/maintenance.controller.ts",
        "start": 155,
        "end": 163,
        "startLoc": {
          "line": 155,
          "column": 18,
          "position": 1684
        },
        "endLoc": {
          "line": 163,
          "column": 7,
          "position": 1766
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "});\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async update(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const id = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const inspection",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/inspections/controllers/inspection.controller.ts",
        "start": 108,
        "end": 123,
        "startLoc": {
          "line": 108,
          "column": 2,
          "position": 1315
        },
        "endLoc": {
          "line": 123,
          "column": 11,
          "position": 1447
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 111,
        "end": 73,
        "startLoc": {
          "line": 111,
          "column": 2,
          "position": 1268
        },
        "endLoc": {
          "line": 73,
          "column": 9,
          "position": 892
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "});\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async delete(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const id = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const deleted = await this.inspectionService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/inspections/controllers/inspection.controller.ts",
        "start": 131,
        "end": 146,
        "startLoc": {
          "line": 131,
          "column": 2,
          "position": 1551
        },
        "endLoc": {
          "line": 146,
          "column": 18,
          "position": 1691
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 134,
        "end": 149,
        "startLoc": {
          "line": 134,
          "column": 2,
          "position": 1504
        },
        "endLoc": {
          "line": 149,
          "column": 17,
          "position": 1644
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ", { tenantId, count: data.length, total });\n      res.json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async getById(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const id = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const cacheKey = `incident:",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/incidents/controllers/incident.controller.ts",
        "start": 59,
        "end": 75,
        "startLoc": {
          "line": 59,
          "column": 20,
          "position": 793
        },
        "endLoc": {
          "line": 75,
          "column": 11,
          "position": 955
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 57,
        "end": 73,
        "startLoc": {
          "line": 57,
          "column": 22,
          "position": 734
        },
        "endLoc": {
          "line": 73,
          "column": 13,
          "position": 896
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "});\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async create(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const userId = (req as any).user?.id;\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      // Add reported_by from authenticated user if not provided",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/incidents/controllers/incident.controller.ts",
        "start": 90,
        "end": 105,
        "startLoc": {
          "line": 90,
          "column": 2,
          "position": 1101
        },
        "endLoc": {
          "line": 105,
          "column": 59,
          "position": 1235
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 88,
        "end": 103,
        "startLoc": {
          "line": 88,
          "column": 2,
          "position": 1042
        },
        "endLoc": {
          "line": 103,
          "column": 42,
          "position": 1176
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "});\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async update(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const id = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const incident",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/incidents/controllers/incident.controller.ts",
        "start": 113,
        "end": 128,
        "startLoc": {
          "line": 113,
          "column": 2,
          "position": 1335
        },
        "endLoc": {
          "line": 128,
          "column": 9,
          "position": 1467
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 111,
        "end": 73,
        "startLoc": {
          "line": 111,
          "column": 2,
          "position": 1268
        },
        "endLoc": {
          "line": 73,
          "column": 9,
          "position": 892
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "});\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async delete(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const id = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const deleted = await this.incidentService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/incidents/controllers/incident.controller.ts",
        "start": 136,
        "end": 151,
        "startLoc": {
          "line": 136,
          "column": 2,
          "position": 1571
        },
        "endLoc": {
          "line": 151,
          "column": 16,
          "position": 1711
        }
      },
      "secondFile": {
        "name": "api/src/modules/work-orders/controllers/work-order.controller.ts",
        "start": 134,
        "end": 149,
        "startLoc": {
          "line": 134,
          "column": 2,
          "position": 1504
        },
        "endLoc": {
          "line": 149,
          "column": 17,
          "position": 1644
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const facility",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/facilities/controllers/facility.controller.ts",
        "start": 106,
        "end": 114,
        "startLoc": {
          "line": 106,
          "column": 15,
          "position": 1015
        },
        "endLoc": {
          "line": 114,
          "column": 9,
          "position": 1097
        }
      },
      "secondFile": {
        "name": "api/src/modules/maintenance/controllers/maintenance.controller.ts",
        "start": 155,
        "end": 163,
        "startLoc": {
          "line": 155,
          "column": 18,
          "position": 1684
        },
        "endLoc": {
          "line": 163,
          "column": 7,
          "position": 1766
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const facilityId = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/facilities/controllers/facility.controller.ts",
        "start": 123,
        "end": 132,
        "startLoc": {
          "line": 123,
          "column": 15,
          "position": 1186
        },
        "endLoc": {
          "line": 132,
          "column": 6,
          "position": 1283
        }
      },
      "secondFile": {
        "name": "api/src/modules/facilities/controllers/facility.controller.ts",
        "start": 71,
        "end": 80,
        "startLoc": {
          "line": 71,
          "column": 16,
          "position": 702
        },
        "endLoc": {
          "line": 80,
          "column": 23,
          "position": 799
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const facilityId = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const deleted",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/facilities/controllers/facility.controller.ts",
        "start": 149,
        "end": 158,
        "startLoc": {
          "line": 149,
          "column": 15,
          "position": 1429
        },
        "endLoc": {
          "line": 158,
          "column": 8,
          "position": 1528
        }
      },
      "secondFile": {
        "name": "api/src/modules/facilities/controllers/facility.controller.ts",
        "start": 71,
        "end": 132,
        "startLoc": {
          "line": 71,
          "column": 16,
          "position": 702
        },
        "endLoc": {
          "line": 132,
          "column": 9,
          "position": 1285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "|| ''}:${status || ''}`;\n      const cached = await cacheService.get<{ data: any[], total: number }>(cacheKey);\n\n      if (cached) {\n        res.json(cached);\n        return;\n      }\n\n      // Get all drivers from service",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/drivers/controllers/driver.controller.ts",
        "start": 26,
        "end": 34,
        "startLoc": {
          "line": 26,
          "column": 8,
          "position": 282
        },
        "endLoc": {
          "line": 34,
          "column": 32,
          "position": 359
        }
      },
      "secondFile": {
        "name": "api/src/modules/incidents/controllers/incident.controller.ts",
        "start": 25,
        "end": 33,
        "startLoc": {
          "line": 25,
          "column": 10,
          "position": 301
        },
        "endLoc": {
          "line": 33,
          "column": 34,
          "position": 378
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const driver",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/drivers/controllers/driver.controller.ts",
        "start": 104,
        "end": 112,
        "startLoc": {
          "line": 104,
          "column": 13,
          "position": 1058
        },
        "endLoc": {
          "line": 112,
          "column": 7,
          "position": 1140
        }
      },
      "secondFile": {
        "name": "api/src/modules/maintenance/controllers/maintenance.controller.ts",
        "start": 155,
        "end": 163,
        "startLoc": {
          "line": 155,
          "column": 18,
          "position": 1684
        },
        "endLoc": {
          "line": 163,
          "column": 7,
          "position": 1766
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const driverId = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/drivers/controllers/driver.controller.ts",
        "start": 121,
        "end": 130,
        "startLoc": {
          "line": 121,
          "column": 13,
          "position": 1236
        },
        "endLoc": {
          "line": 130,
          "column": 6,
          "position": 1333
        }
      },
      "secondFile": {
        "name": "api/src/modules/drivers/controllers/driver.controller.ts",
        "start": 69,
        "end": 78,
        "startLoc": {
          "line": 69,
          "column": 14,
          "position": 731
        },
        "endLoc": {
          "line": 78,
          "column": 23,
          "position": 828
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(req: Request, res: Response, next: NextFunction): Promise<void> {\n    try {\n      const tenantId = (req as any).user?.tenant_id;\n      const driverId = Number(req.params.id);\n\n      if (!tenantId) {\n        throw new ValidationError('Tenant ID is required');\n      }\n\n      const deleted",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/modules/drivers/controllers/driver.controller.ts",
        "start": 147,
        "end": 156,
        "startLoc": {
          "line": 147,
          "column": 13,
          "position": 1486
        },
        "endLoc": {
          "line": 156,
          "column": 8,
          "position": 1585
        }
      },
      "secondFile": {
        "name": "api/src/modules/drivers/controllers/driver.controller.ts",
        "start": 69,
        "end": 130,
        "startLoc": {
          "line": 69,
          "column": 14,
          "position": 731
        },
        "endLoc": {
          "line": 130,
          "column": 7,
          "position": 1335
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", async () => {\n      const transmissionStartSpy = vi.fn()\n      radioEmulator.on('transmission-start', transmissionStartSpy)\n\n      radioEmulator.pressPTT('routine')\n      await new Promise(resolve => setTimeout(resolve, 200))\n\n      const transmission = transmissionStartSpy.mock.calls[0][0]\n      expect(transmission.audioQuality",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/radio/__tests__/RadioEmulator.test.ts",
        "start": 246,
        "end": 254,
        "startLoc": {
          "line": 246,
          "column": 44,
          "position": 2026
        },
        "endLoc": {
          "line": 254,
          "column": 13,
          "position": 2115
        }
      },
      "secondFile": {
        "name": "api/src/emulators/radio/__tests__/RadioEmulator.test.ts",
        "start": 234,
        "end": 242,
        "startLoc": {
          "line": 234,
          "column": 45,
          "position": 1907
        },
        "endLoc": {
          "line": 242,
          "column": 15,
          "position": 1996
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "},\n      persistence: {\n        enabled: false,\n        database: 'test',\n        redis: {\n          enabled: false,\n          ttl: 3600\n        }\n      },\n      realtime: {\n        websocket: {\n          enabled: false,\n          port: 8080,\n          path: '/ws'\n        },\n        broadcasting: {\n          interval: 1000,\n          batchSize: 10",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/inventory/__tests__/VehicleInventoryEmulator.test.ts",
        "start": 25,
        "end": 42,
        "startLoc": {
          "line": 25,
          "column": 7,
          "position": 167
        },
        "endLoc": {
          "line": 42,
          "column": 3,
          "position": 269
        }
      },
      "secondFile": {
        "name": "api/src/emulators/radio/__tests__/RadioEmulator.test.ts",
        "start": 45,
        "end": 53,
        "startLoc": {
          "line": 45,
          "column": 7,
          "position": 318
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 411
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        changeType: 'created',\n        resource: 'teams/team_123/channels/channel_456/messages/message_789',\n        resourceData: {\n          id: 'message_789',\n          '@odata.type': '#Microsoft.Graph.chatMessage',\n          '@odata.id': 'teams/team_123/channels/channel_456/messages/message_789'\n        },\n        subscriptionExpirationDateTime: '2025-02-15T10:00:00Z',\n        tenantId: 'tenant_123'\n      };\n\n      const result = service.validateClientState(payload);\n\n      expect(result).toBe(false",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/webhooks/teams.webhook.test.ts",
        "start": 164,
        "end": 178,
        "startLoc": {
          "line": 164,
          "column": 21,
          "position": 1286
        },
        "endLoc": {
          "line": 178,
          "column": 6,
          "position": 1374
        }
      },
      "secondFile": {
        "name": "api/src/tests/webhooks/teams.webhook.test.ts",
        "start": 144,
        "end": 158,
        "startLoc": {
          "line": 144,
          "column": 16,
          "position": 1151
        },
        "endLoc": {
          "line": 158,
          "column": 5,
          "position": 1239
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "{\n  private readonly webhookSecret: string;\n  private readonly clientState: string;\n\n  constructor(secret: string, clientState: string) {\n    this.webhookSecret = secret;\n    this.clientState = clientState;\n  }\n\n  validateSignature(payload: string, signature: string): boolean {\n    const hmac = crypto.createHmac('sha256', this.webhookSecret);\n    hmac.update(payload);\n    const expectedSignature = hmac.digest('base64');\n    return signature === expectedSignature;\n  }\n\n  validateClientState(payload: OutlookWebhookPayload",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/webhooks/outlook.webhook.test.ts",
        "start": 30,
        "end": 46,
        "startLoc": {
          "line": 30,
          "column": 2,
          "position": 135
        },
        "endLoc": {
          "line": 46,
          "column": 22,
          "position": 285
        }
      },
      "secondFile": {
        "name": "api/src/tests/webhooks/teams.webhook.test.ts",
        "start": 29,
        "end": 45,
        "startLoc": {
          "line": 29,
          "column": 2,
          "position": 128
        },
        "endLoc": {
          "line": 45,
          "column": 20,
          "position": 278
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "(mockSecret, mockClientState);\n  });\n\n  describe('Signature Verification', () => {\n    it('should validate correct webhook signature', () => {\n      const payload = JSON.stringify({ test: 'data' });\n      const hmac = crypto.createHmac('sha256', mockSecret);\n      hmac.update(payload);\n      const signature = hmac.digest('base64');\n\n      const result = service.validateSignature(payload, signature);\n\n      expect(result).toBe(true);\n    });\n\n    it('should reject invalid webhook signature', () => {\n      const payload = JSON.stringify({ test: 'data' });\n      const invalidSignature = 'invalid_signature';\n\n      const result = service.validateSignature(payload, invalidSignature);\n\n      expect(result).toBe(false);\n    });\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/webhooks/outlook.webhook.test.ts",
        "start": 121,
        "end": 144,
        "startLoc": {
          "line": 121,
          "column": 22,
          "position": 931
        },
        "endLoc": {
          "line": 144,
          "column": 2,
          "position": 1156
        }
      },
      "secondFile": {
        "name": "api/src/tests/webhooks/teams.webhook.test.ts",
        "start": 103,
        "end": 127,
        "startLoc": {
          "line": 103,
          "column": 20,
          "position": 734
        },
        "endLoc": {
          "line": 127,
          "column": 3,
          "position": 960
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n        changeType: 'created',\n        resource: 'users/user@example.com/messages/message_123',\n        resourceData: {\n          '@odata.type': '#Microsoft.Graph.Message',\n          '@odata.id': 'users/user@example.com/messages/message_123',\n          '@odata.etag': 'W/\"etag_value\"',\n          id: 'message_123'\n        },\n        subscriptionExpirationDateTime: '2025-02-15T10:00:00Z',\n        tenantId: 'tenant_123'\n      };\n\n      const result = service.validateClientState(payload);\n\n      expect(result).toBe(false",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/webhooks/outlook.webhook.test.ts",
        "start": 171,
        "end": 186,
        "startLoc": {
          "line": 171,
          "column": 14,
          "position": 1353
        },
        "endLoc": {
          "line": 186,
          "column": 6,
          "position": 1448
        }
      },
      "secondFile": {
        "name": "api/src/tests/webhooks/outlook.webhook.test.ts",
        "start": 150,
        "end": 165,
        "startLoc": {
          "line": 150,
          "column": 16,
          "position": 1211
        },
        "endLoc": {
          "line": 165,
          "column": 5,
          "position": 1306
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ", async () => {\n      const consoleSpy = vi.spyOn(console, 'log').mockImplementation(() => {});\n      const payload = createMockPayload('created');\n\n      await service.processNotification(payload);\n\n      expect(consoleSpy).toHaveBeenCalledWith('Email received:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/webhooks/outlook.webhook.test.ts",
        "start": 216,
        "end": 222,
        "startLoc": {
          "line": 216,
          "column": 45,
          "position": 1663
        },
        "endLoc": {
          "line": 222,
          "column": 18,
          "position": 1737
        }
      },
      "secondFile": {
        "name": "api/src/tests/webhooks/teams.webhook.test.ts",
        "start": 207,
        "end": 213,
        "startLoc": {
          "line": 207,
          "column": 46,
          "position": 1582
        },
        "endLoc": {
          "line": 213,
          "column": 19,
          "position": 1656
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ", async () => {\n      const consoleSpy = vi.spyOn(console, 'log').mockImplementation(() => {});\n      const payload = createMockPayload('updated');\n\n      await service.processNotification(payload);\n\n      expect(consoleSpy).toHaveBeenCalledWith('Email updated:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/webhooks/outlook.webhook.test.ts",
        "start": 226,
        "end": 232,
        "startLoc": {
          "line": 226,
          "column": 44,
          "position": 1762
        },
        "endLoc": {
          "line": 232,
          "column": 17,
          "position": 1836
        }
      },
      "secondFile": {
        "name": "api/src/tests/webhooks/teams.webhook.test.ts",
        "start": 217,
        "end": 223,
        "startLoc": {
          "line": 217,
          "column": 46,
          "position": 1681
        },
        "endLoc": {
          "line": 223,
          "column": 19,
          "position": 1755
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ", async () => {\n      const consoleSpy = vi.spyOn(console, 'log').mockImplementation(() => {});\n      const payload = createMockPayload('deleted');\n\n      await service.processNotification(payload);\n\n      expect(consoleSpy).toHaveBeenCalledWith('Email deleted:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/webhooks/outlook.webhook.test.ts",
        "start": 236,
        "end": 242,
        "startLoc": {
          "line": 236,
          "column": 44,
          "position": 1861
        },
        "endLoc": {
          "line": 242,
          "column": 17,
          "position": 1935
        }
      },
      "secondFile": {
        "name": "api/src/tests/webhooks/teams.webhook.test.ts",
        "start": 227,
        "end": 233,
        "startLoc": {
          "line": 227,
          "column": 46,
          "position": 1780
        },
        "endLoc": {
          "line": 233,
          "column": 19,
          "position": 1854
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ");\n      consoleSpy.mockRestore();\n    });\n\n    it('should reject notification with invalid client state', async () => {\n      const payload = createMockPayload('created');\n      payload.clientState = 'invalid';\n\n      await expect(service.processNotification(payload)).rejects.toThrow(\n        'Invalid client state'\n      );\n    });\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/webhooks/outlook.webhook.test.ts",
        "start": 242,
        "end": 254,
        "startLoc": {
          "line": 242,
          "column": 14,
          "position": 1939
        },
        "endLoc": {
          "line": 254,
          "column": 2,
          "position": 2026
        }
      },
      "secondFile": {
        "name": "api/src/tests/webhooks/teams.webhook.test.ts",
        "start": 233,
        "end": 246,
        "startLoc": {
          "line": 233,
          "column": 14,
          "position": 1858
        },
        "endLoc": {
          "line": 246,
          "column": 3,
          "position": 1946
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "),\n          json: async () => ({ error: 'Rate limited' })\n        });\n\n      try {\n        await service.makeGraphRequest('/me');\n      } catch (error: any) {\n        expect(error.message).toContain('Retry after 60 seconds');\n      }\n    });\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/services/microsoft-graph.service.test.ts",
        "start": 353,
        "end": 363,
        "startLoc": {
          "line": 353,
          "column": 2,
          "position": 2749
        },
        "endLoc": {
          "line": 363,
          "column": 2,
          "position": 2833
        }
      },
      "secondFile": {
        "name": "api/src/tests/services/microsoft-graph.service.test.ts",
        "start": 333,
        "end": 344,
        "startLoc": {
          "line": 333,
          "column": 2,
          "position": 2589
        },
        "endLoc": {
          "line": 344,
          "column": 3,
          "position": 2674
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ");\n\n      const factSet = card.body.find(item => item.type === 'FactSet');\n      expect(factSet).toBeDefined();\n      expect(factSet.facts).toHaveLength(3);\n      expect(factSet.facts[0].value).toBe(mockMaintenanceData",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/services/adaptive-cards.service.test.ts",
        "start": 436,
        "end": 441,
        "startLoc": {
          "line": 436,
          "column": 20,
          "position": 3271
        },
        "endLoc": {
          "line": 441,
          "column": 20,
          "position": 3342
        }
      },
      "secondFile": {
        "name": "api/src/tests/services/adaptive-cards.service.test.ts",
        "start": 400,
        "end": 405,
        "startLoc": {
          "line": 400,
          "column": 14,
          "position": 2893
        },
        "endLoc": {
          "line": 405,
          "column": 14,
          "position": 2964
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ",\n        $schema: 'http://adaptivecards.io/schemas/adaptive-card.json',\n        body: [{ type: 'TextBlock', text: 'Test' }]\n      } as any;\n\n      const result = service.validateCard(invalidCard);\n\n      expect(result.valid).toBe(false);\n      expect(result.errors).toContain('Card version is required'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/tests/services/adaptive-cards.service.test.ts",
        "start": 528,
        "end": 536,
        "startLoc": {
          "line": 528,
          "column": 15,
          "position": 4247
        },
        "endLoc": {
          "line": 536,
          "column": 27,
          "position": 4326
        }
      },
      "secondFile": {
        "name": "api/src/tests/services/adaptive-cards.service.test.ts",
        "start": 515,
        "end": 523,
        "startLoc": {
          "line": 515,
          "column": 6,
          "position": 4131
        },
        "endLoc": {
          "line": 523,
          "column": 35,
          "position": 4210
        }
      }
    },
    {
      "format": "markup",
      "lines": 24,
      "fragment": "<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      line-height: 1.6;\n      color: #333;\n      margin: 0;\n      padding: 0;\n      background-color: #f5f5f5;\n    }\n    .container {\n      max-width: 600px;\n      margin: 20px auto;\n      background: white;\n      border-radius: 8px;\n      overflow: hidden;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    }\n    .header {\n      background: linear-gradient(135deg, #f59e0b",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_reminder.html",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 8,
          "position": 153
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 8,
          "position": 153
        }
      }
    },
    {
      "format": "markup",
      "lines": 12,
      "fragment": "</p>\n\n      <div class=\"info-box\">\n        <div class=\"info-item\">\n          <div class=\"label\">Vehicle:</div>\n          <div class=\"value\">\n            <strong>{{make}} {{model}}</strong>\n            <span class=\"badge\">{{license_plate}}</span>\n          </div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Pickup",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_reminder.html",
        "start": 142,
        "end": 153,
        "startLoc": {
          "line": 142,
          "column": 13,
          "position": 859
        },
        "endLoc": {
          "line": 153,
          "column": 7,
          "position": 969
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 124,
        "end": 135,
        "startLoc": {
          "line": 124,
          "column": 7,
          "position": 729
        },
        "endLoc": {
          "line": 135,
          "column": 10,
          "position": 839
        }
      }
    },
    {
      "format": "markup",
      "lines": 14,
      "fragment": "Time:</div>\n          <div class=\"value\">{{end_time}}</div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Pickup Location:</div>\n          <div class=\"value\">{{pickup_location}}</div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Purpose:</div>\n          <div class=\"value\">{{purpose}}</div>\n        </div>\n      </div>\n\n      <div",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_reminder.html",
        "start": 157,
        "end": 170,
        "startLoc": {
          "line": 157,
          "column": 2,
          "position": 1025
        },
        "endLoc": {
          "line": 170,
          "column": 4,
          "position": 1152
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 143,
        "end": 156,
        "startLoc": {
          "line": 143,
          "column": 2,
          "position": 937
        },
        "endLoc": {
          "line": 156,
          "column": 2,
          "position": 1064
        }
      }
    },
    {
      "format": "markup",
      "lines": 9,
      "fragment": "from Fleet Management System.</p>\n      <p>\n        <a href=\"{{settings_url}}\">Manage notification preferences</a> |\n        <a href=\"{{help_url}}\">Help & Support</a>\n      </p>\n    </div>\n  </div>\n</body>\n</html>",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_reminder.html",
        "start": 191,
        "end": 199,
        "startLoc": {
          "line": 191,
          "column": 2,
          "position": 1423
        },
        "endLoc": {
          "line": 199,
          "column": 2,
          "position": 1500
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 167,
        "end": 175,
        "startLoc": {
          "line": 167,
          "column": 2,
          "position": 1197
        },
        "endLoc": {
          "line": 175,
          "column": 2,
          "position": 1274
        }
      }
    },
    {
      "format": "markup",
      "lines": 24,
      "fragment": "<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      line-height: 1.6;\n      color: #333;\n      margin: 0;\n      padding: 0;\n      background-color: #f5f5f5;\n    }\n    .container {\n      max-width: 600px;\n      margin: 20px auto;\n      background: white;\n      border-radius: 8px;\n      overflow: hidden;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    }\n    .header {\n      background: linear-gradient(135deg, #ef4444",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_rejected.html",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 8,
          "position": 153
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 8,
          "position": 153
        }
      }
    },
    {
      "format": "markup",
      "lines": 12,
      "fragment": "</p>\n\n      <div class=\"info-box\">\n        <div class=\"info-item\">\n          <div class=\"label\">Vehicle:</div>\n          <div class=\"value\">\n            <strong>{{make}} {{model}}</strong>\n            <span class=\"badge\">{{license_plate}}</span>\n          </div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Requested Period:",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_rejected.html",
        "start": 131,
        "end": 142,
        "startLoc": {
          "line": 131,
          "column": 10,
          "position": 766
        },
        "endLoc": {
          "line": 142,
          "column": 8,
          "position": 878
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 124,
        "end": 135,
        "startLoc": {
          "line": 124,
          "column": 7,
          "position": 729
        },
        "endLoc": {
          "line": 135,
          "column": 4,
          "position": 841
        }
      }
    },
    {
      "format": "markup",
      "lines": 9,
      "fragment": "</div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Purpose:</div>\n          <div class=\"value\">{{purpose}}</div>\n        </div>\n      </div>\n\n      <div class=\"reason-box",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_rejected.html",
        "start": 143,
        "end": 151,
        "startLoc": {
          "line": 143,
          "column": 13,
          "position": 898
        },
        "endLoc": {
          "line": 151,
          "column": 11,
          "position": 966
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_reminder.html",
        "start": 162,
        "end": 170,
        "startLoc": {
          "line": 162,
          "column": 20,
          "position": 1089
        },
        "endLoc": {
          "line": 170,
          "column": 10,
          "position": 1157
        }
      }
    },
    {
      "format": "markup",
      "lines": 13,
      "fragment": "</p>\n    </div>\n\n    <div class=\"footer\">\n      <p>This is an automated notification from Fleet Management System.</p>\n      <p>\n        <a href=\"{{settings_url}}\">Manage notification preferences</a> |\n        <a href=\"{{help_url}}\">Help & Support</a>\n      </p>\n    </div>\n  </div>\n</body>\n</html>",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_rejected.html",
        "start": 171,
        "end": 183,
        "startLoc": {
          "line": 171,
          "column": 7,
          "position": 1184
        },
        "endLoc": {
          "line": 183,
          "column": 2,
          "position": 1296
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 163,
        "end": 175,
        "startLoc": {
          "line": 163,
          "column": 7,
          "position": 1162
        },
        "endLoc": {
          "line": 175,
          "column": 2,
          "position": 1274
        }
      }
    },
    {
      "format": "markup",
      "lines": 24,
      "fragment": "<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      line-height: 1.6;\n      color: #333;\n      margin: 0;\n      padding: 0;\n      background-color: #f5f5f5;\n    }\n    .container {\n      max-width: 600px;\n      margin: 20px auto;\n      background: white;\n      border-radius: 8px;\n      overflow: hidden;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    }\n    .header {\n      background: linear-gradient(135deg, #10b981",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_approved.html",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 8,
          "position": 153
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 8,
          "position": 153
        }
      }
    },
    {
      "format": "markup",
      "lines": 27,
      "fragment": "}\n    .info-box {\n      background: #f9fafb;\n      border: 1px solid #e5e7eb;\n      padding: 20px;\n      margin: 20px 0;\n      border-radius: 6px;\n    }\n    .info-box .info-item {\n      display: flex;\n      margin: 10px 0;\n      padding: 8px 0;\n      border-bottom: 1px solid #e5e7eb;\n    }\n    .info-box .info-item:last-child {\n      border-bottom: none;\n    }\n    .info-box .label {\n      font-weight: 600;\n      color: #6b7280;\n      min-width: 140px;\n    }\n    .info-box .value {\n      color: #111827;\n      flex: 1;\n    }\n    .button",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_approved.html",
        "start": 48,
        "end": 74,
        "startLoc": {
          "line": 48,
          "column": 5,
          "position": 281
        },
        "endLoc": {
          "line": 74,
          "column": 8,
          "position": 421
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_rejected.html",
        "start": 40,
        "end": 66,
        "startLoc": {
          "line": 40,
          "column": 5,
          "position": 235
        },
        "endLoc": {
          "line": 66,
          "column": 12,
          "position": 375
        }
      }
    },
    {
      "format": "markup",
      "lines": 17,
      "fragment": ">\n\n      <div class=\"info-box\">\n        <div class=\"info-item\">\n          <div class=\"label\">Vehicle:</div>\n          <div class=\"value\">\n            <strong>{{make}} {{model}}</strong>\n            <span class=\"badge\">{{license_plate}}</span>\n          </div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Pickup Time:</div>\n          <div class=\"value\"><strong>{{start_time}}</strong></div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Return Time:</div>\n          <div class=\"value\"><",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_approved.html",
        "start": 141,
        "end": 157,
        "startLoc": {
          "line": 141,
          "column": 4,
          "position": 844
        },
        "endLoc": {
          "line": 157,
          "column": 2,
          "position": 1023
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 124,
        "end": 158,
        "startLoc": {
          "line": 124,
          "column": 2,
          "position": 731
        },
        "endLoc": {
          "line": 158,
          "column": 13,
          "position": 1040
        }
      }
    },
    {
      "format": "markup",
      "lines": 8,
      "fragment": "</div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Pickup Location:</div>\n          <div class=\"value\">{{pickup_location}}</div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Dropoff",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_approved.html",
        "start": 157,
        "end": 164,
        "startLoc": {
          "line": 157,
          "column": 2,
          "position": 1030
        },
        "endLoc": {
          "line": 164,
          "column": 8,
          "position": 1108
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 144,
        "end": 151,
        "startLoc": {
          "line": 144,
          "column": 13,
          "position": 953
        },
        "endLoc": {
          "line": 151,
          "column": 9,
          "position": 1031
        }
      }
    },
    {
      "format": "markup",
      "lines": 13,
      "fragment": "</p>\n    </div>\n\n    <div class=\"footer\">\n      <p>This is an automated notification from Fleet Management System.</p>\n      <p>\n        <a href=\"{{settings_url}}\">Manage notification preferences</a> |\n        <a href=\"{{help_url}}\">Help & Support</a>\n      </p>\n    </div>\n  </div>\n</body>\n</html>",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/reservation_approved.html",
        "start": 186,
        "end": 198,
        "startLoc": {
          "line": 186,
          "column": 7,
          "position": 1381
        },
        "endLoc": {
          "line": 198,
          "column": 2,
          "position": 1493
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 163,
        "end": 175,
        "startLoc": {
          "line": 163,
          "column": 7,
          "position": 1162
        },
        "endLoc": {
          "line": 175,
          "column": 2,
          "position": 1274
        }
      }
    },
    {
      "format": "markup",
      "lines": 24,
      "fragment": "<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      line-height: 1.6;\n      color: #333;\n      margin: 0;\n      padding: 0;\n      background-color: #f5f5f5;\n    }\n    .container {\n      max-width: 600px;\n      margin: 20px auto;\n      background: white;\n      border-radius: 8px;\n      overflow: hidden;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    }\n    .header {\n      background: linear-gradient(135deg, #8b5cf6",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/maintenance_reminder.html",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 8,
          "position": 153
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 8,
          "position": 153
        }
      }
    },
    {
      "format": "markup",
      "lines": 30,
      "fragment": "}\n    .checklist {\n      background: #f9fafb;\n      border: 1px solid #e5e7eb;\n      padding: 20px;\n      margin: 20px 0;\n      border-radius: 4px;\n    }\n    .checklist h3 {\n      margin: 0 0 15px 0;\n      color: #111827;\n      font-size: 16px;\n    }\n    .checklist ul {\n      margin: 0;\n      padding-left: 20px;\n      color: #374151;\n    }\n    .checklist li {\n      margin: 8px 0;\n    }\n    .footer {\n      background: #f9fafb;\n      padding: 20px 30px;\n      text-align: center;\n      color: #6b7280;\n      font-size: 13px;\n    }\n    .footer a {\n      color: #8b5cf6;",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/maintenance_reminder.html",
        "start": 88,
        "end": 117,
        "startLoc": {
          "line": 88,
          "column": 5,
          "position": 493
        },
        "endLoc": {
          "line": 117,
          "column": 9,
          "position": 652
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_reminder.html",
        "start": 88,
        "end": 117,
        "startLoc": {
          "line": 88,
          "column": 5,
          "position": 493
        },
        "endLoc": {
          "line": 117,
          "column": 9,
          "position": 652
        }
      }
    },
    {
      "format": "markup",
      "lines": 12,
      "fragment": "</p>\n\n      <div class=\"info-box\">\n        <div class=\"info-item\">\n          <div class=\"label\">Vehicle:</div>\n          <div class=\"value\">\n            <strong>{{make}} {{model}}</strong>\n            <span class=\"badge\">{{license_plate}}</span>\n          </div>\n        </div>\n        <div class=\"info-item\">\n          <div class=\"label\">Service",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/maintenance_reminder.html",
        "start": 142,
        "end": 153,
        "startLoc": {
          "line": 142,
          "column": 13,
          "position": 861
        },
        "endLoc": {
          "line": 153,
          "column": 8,
          "position": 971
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 124,
        "end": 135,
        "startLoc": {
          "line": 124,
          "column": 7,
          "position": 729
        },
        "endLoc": {
          "line": 135,
          "column": 10,
          "position": 839
        }
      }
    },
    {
      "format": "markup",
      "lines": 13,
      "fragment": "</p>\n    </div>\n\n    <div class=\"footer\">\n      <p>This is an automated reminder from Fleet Management System.</p>\n      <p>\n        <a href=\"{{settings_url}}\">Manage notification preferences</a> |\n        <a href=\"{{help_url}}\">Help & Support</a>\n      </p>\n    </div>\n  </div>\n</body>\n</html>",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/maintenance_reminder.html",
        "start": 191,
        "end": 203,
        "startLoc": {
          "line": 191,
          "column": 7,
          "position": 1432
        },
        "endLoc": {
          "line": 203,
          "column": 2,
          "position": 1544
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_reminder.html",
        "start": 187,
        "end": 175,
        "startLoc": {
          "line": 187,
          "column": 7,
          "position": 1388
        },
        "endLoc": {
          "line": 175,
          "column": 2,
          "position": 1274
        }
      }
    },
    {
      "format": "markup",
      "lines": 41,
      "fragment": "<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      line-height: 1.6;\n      color: #333;\n      margin: 0;\n      padding: 0;\n      background-color: #f5f5f5;\n    }\n    .container {\n      max-width: 600px;\n      margin: 20px auto;\n      background: white;\n      border-radius: 8px;\n      overflow: hidden;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    }\n    .header {\n      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\n      color: white;\n      padding: 30px;\n      text-align: center;\n    }\n    .header h1 {\n      margin: 0;\n      font-size: 24px;\n      font-weight: 600;\n    }\n    .header .icon {\n      font-size: 48px;\n      margin-bottom: 10px;\n    }\n    .content {\n      padding: 30px;\n    }\n    .alert-box",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/conflict_detected.html",
        "start": 1,
        "end": 41,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 41,
          "column": 11,
          "position": 238
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 1,
        "end": 41,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 41,
          "column": 10,
          "position": 238
        }
      }
    },
    {
      "format": "markup",
      "lines": 9,
      "fragment": "from Fleet Management System.</p>\n      <p>\n        <a href=\"{{settings_url}}\">Manage notification preferences</a> |\n        <a href=\"{{help_url}}\">Help & Support</a>\n      </p>\n    </div>\n  </div>\n</body>\n</html>",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/scheduling/conflict_detected.html",
        "start": 165,
        "end": 173,
        "startLoc": {
          "line": 165,
          "column": 2,
          "position": 1199
        },
        "endLoc": {
          "line": 173,
          "column": 2,
          "position": 1276
        }
      },
      "secondFile": {
        "name": "api/src/templates/scheduling/reservation_request.html",
        "start": 167,
        "end": 175,
        "startLoc": {
          "line": 167,
          "column": 2,
          "position": 1197
        },
        "endLoc": {
          "line": 175,
          "column": 2,
          "position": 1274
        }
      }
    },
    {
      "format": "json",
      "lines": 19,
      "fragment": "{\n  \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n  \"type\": \"AdaptiveCard\",\n  \"version\": \"1.5\",\n  \"body\": [\n    {\n      \"type\": \"Container\",\n      \"style\": \"default\",\n      \"items\": [\n        {\n          \"type\": \"ColumnSet\",\n          \"columns\": [\n            {\n              \"type\": \"Column\",\n              \"width\": \"auto\",\n              \"items\": [\n                {\n                  \"type\": \"Image\",\n                  \"url\": \"https://img.icons8.com/fluency/96/gas-station.png\"",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/templates/adaptive-cards/fuel-receipt.json",
        "start": 1,
        "end": 19,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 19,
          "column": 52,
          "position": 105
        }
      },
      "secondFile": {
        "name": "api/src/templates/adaptive-cards/inspection-checklist.json",
        "start": 1,
        "end": 19,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 19,
          "column": 50,
          "position": 105
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ";\n  }\n\n  private async streamToBuffer(stream: Readable): Promise<Buffer> {\n    const chunks: Buffer[] = [];\n    for await (const chunk of stream) {\n      chunks.push(chunk as Buffer);\n    }\n    return Buffer.concat(chunks);\n  }\n\n  private",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/S3StorageAdapter.ts",
        "start": 662,
        "end": 673,
        "startLoc": {
          "line": 662,
          "column": 2,
          "position": 3300
        },
        "endLoc": {
          "line": 673,
          "column": 8,
          "position": 3392
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 382,
        "end": 392,
        "startLoc": {
          "line": 382,
          "column": 2,
          "position": 2796
        },
        "endLoc": {
          "line": 392,
          "column": 2,
          "position": 2886
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${\n          error instanceof Error ? error.message : 'Unknown error'\n        }`\n      );\n    }\n  }\n\n  async upload(key: string, data: Buffer | Readable, options?: UploadOptions): Promise<UploadResult> {\n    this.ensureInitialized();\n\n    const normalizedKey = this.normalizeKey(key);\n    const filePath",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/LocalStorageAdapter.ts",
        "start": 69,
        "end": 80,
        "startLoc": {
          "line": 69,
          "column": 3,
          "position": 474
        },
        "endLoc": {
          "line": 80,
          "column": 9,
          "position": 565
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 88,
        "end": 99,
        "startLoc": {
          "line": 88,
          "column": 43,
          "position": 660
        },
        "endLoc": {
          "line": 99,
          "column": 7,
          "position": 751
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "${\n          error instanceof Error ? error.message : 'Unknown error'\n        }`\n      );\n    }\n  }\n\n  async upload(key: string, data: Buffer | Readable, options?: UploadOptions): Promise<UploadResult> {\n    this.ensureInitialized();\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/GoogleCloudStorageAdapter.ts",
        "start": 102,
        "end": 111,
        "startLoc": {
          "line": 102,
          "column": 45,
          "position": 815
        },
        "endLoc": {
          "line": 111,
          "column": 3,
          "position": 888
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 88,
        "end": 98,
        "startLoc": {
          "line": 88,
          "column": 43,
          "position": 660
        },
        "endLoc": {
          "line": 98,
          "column": 6,
          "position": 734
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${normalizedKey}`;\n  }\n\n  async getStats(): Promise<StorageStats> {\n    const result = await this.list({ recursive: true });\n\n    return {\n      totalFiles: result.files.length,\n      totalSize: result.files.reduce((sum, file) => sum + file.size, 0),\n      lastModified: result.files.reduce(\n        (latest, file) =>\n          !latest || file.lastModified > latest ? file.lastModified : latest,\n        undefined as Date | undefined\n      )\n    };\n  }\n\n  private getDropboxPath",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/DropboxStorageAdapter.ts",
        "start": 401,
        "end": 418,
        "startLoc": {
          "line": 401,
          "column": 19,
          "position": 978
        },
        "endLoc": {
          "line": 418,
          "column": 15,
          "position": 1147
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 368,
        "end": 385,
        "startLoc": {
          "line": 368,
          "column": 22,
          "position": 2636
        },
        "endLoc": {
          "line": 385,
          "column": 6,
          "position": 2805
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ";\n  }\n\n  private async streamToBuffer(stream: Readable): Promise<Buffer> {\n    const chunks: Buffer[] = [];\n    for await (const chunk of stream) {\n      chunks.push(chunk as Buffer);\n    }\n    return Buffer.concat(chunks);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/DropboxStorageAdapter.ts",
        "start": 420,
        "end": 430,
        "startLoc": {
          "line": 420,
          "column": 2,
          "position": 1206
        },
        "endLoc": {
          "line": 430,
          "column": 2,
          "position": 1296
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 382,
        "end": 392,
        "startLoc": {
          "line": 382,
          "column": 2,
          "position": 2796
        },
        "endLoc": {
          "line": 392,
          "column": 2,
          "position": 2886
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${\n          error instanceof Error ? error.message : 'Unknown error'\n        }`\n      );\n    }\n  }\n\n  async upload(key: string, data: Buffer | Readable, options?: UploadOptions): Promise<UploadResult> {\n    this.ensureInitialized();\n\n    const normalizedKey = this.normalizeKey(key);\n    const filename",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/BoxStorageAdapter.ts",
        "start": 61,
        "end": 72,
        "startLoc": {
          "line": 61,
          "column": 36,
          "position": 379
        },
        "endLoc": {
          "line": 72,
          "column": 9,
          "position": 470
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 88,
        "end": 99,
        "startLoc": {
          "line": 88,
          "column": 43,
          "position": 660
        },
        "endLoc": {
          "line": 99,
          "column": 7,
          "position": 751
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "};\n  }\n\n  async copy(sourceKey: string, destinationKey: string, options?: CopyOptions): Promise<UploadResult> {\n    this.ensureInitialized();\n\n    const normalizedSource = this.normalizeKey(sourceKey);\n    const normalizedDest = this.normalizeKey(destinationKey);\n    const fileId",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/BoxStorageAdapter.ts",
        "start": 181,
        "end": 189,
        "startLoc": {
          "line": 181,
          "column": 5,
          "position": 1544
        },
        "endLoc": {
          "line": 189,
          "column": 7,
          "position": 1625
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/LocalStorageAdapter.ts",
        "start": 282,
        "end": 291,
        "startLoc": {
          "line": 282,
          "column": 5,
          "position": 2297
        },
        "endLoc": {
          "line": 291,
          "column": 11,
          "position": 2379
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "> {\n    this.ensureInitialized();\n\n    const normalizedKey = this.normalizeKey(key);\n    const fileId = await this.getFileIdByName(normalizedKey);\n\n    if (!fileId) {\n      throw new FileNotFoundError(normalizedKey);\n    }\n\n    const response = await axios.get(`${this.API_BASE}/files/${fileId}`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/BoxStorageAdapter.ts",
        "start": 219,
        "end": 229,
        "startLoc": {
          "line": 219,
          "column": 13,
          "position": 1876
        },
        "endLoc": {
          "line": 229,
          "column": 2,
          "position": 1970
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/BoxStorageAdapter.ts",
        "start": 116,
        "end": 126,
        "startLoc": {
          "line": 116,
          "column": 15,
          "position": 931
        },
        "endLoc": {
          "line": 126,
          "column": 10,
          "position": 1025
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ");\n\n    return {\n      totalFiles: result.files.length,\n      totalSize: result.files.reduce((sum, file) => sum + file.size, 0),\n      lastModified: result.files.reduce(\n        (latest, file) =>\n          !latest || file.lastModified > latest ? file.lastModified : latest,\n        undefined as Date | undefined\n      )\n    };\n  }\n\n  private async getFileIdByName",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/BoxStorageAdapter.ts",
        "start": 266,
        "end": 279,
        "startLoc": {
          "line": 266,
          "column": 2,
          "position": 2299
        },
        "endLoc": {
          "line": 279,
          "column": 16,
          "position": 2424
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 372,
        "end": 385,
        "startLoc": {
          "line": 372,
          "column": 2,
          "position": 2682
        },
        "endLoc": {
          "line": 385,
          "column": 15,
          "position": 2807
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ";\n  }\n\n  private async streamToBuffer(stream: Readable): Promise<Buffer> {\n    const chunks: Buffer[] = [];\n    for await (const chunk of stream) {\n      chunks.push(chunk as Buffer);\n    }\n    return Buffer.concat(chunks);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/BoxStorageAdapter.ts",
        "start": 282,
        "end": 292,
        "startLoc": {
          "line": 282,
          "column": 5,
          "position": 2507
        },
        "endLoc": {
          "line": 292,
          "column": 2,
          "position": 2597
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 382,
        "end": 392,
        "startLoc": {
          "line": 382,
          "column": 2,
          "position": 2796
        },
        "endLoc": {
          "line": 392,
          "column": 2,
          "position": 2886
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "}: ${\n          error instanceof Error ? error.message : 'Unknown error'\n        }`\n      );\n    }\n  }\n\n  async upload(key: string, data: Buffer | Readable, options?: UploadOptions): Promise<UploadResult> {\n    this.ensureInitialized();\n\n    const normalizedKey = this.normalizeKey(key);\n    const blobClient",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/AzureBlobStorageAdapter.ts",
        "start": 98,
        "end": 109,
        "startLoc": {
          "line": 98,
          "column": 14,
          "position": 622
        },
        "endLoc": {
          "line": 109,
          "column": 11,
          "position": 715
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/LocalStorageAdapter.ts",
        "start": 69,
        "end": 99,
        "startLoc": {
          "line": 69,
          "column": 12,
          "position": 472
        },
        "endLoc": {
          "line": 99,
          "column": 7,
          "position": 751
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ");\n    }\n  }\n\n  async copy(sourceKey: string, destinationKey: string, options?: CopyOptions): Promise<UploadResult> {\n    this.ensureInitialized();\n\n    const normalizedSource = this.normalizeKey(sourceKey);\n    const normalizedDest = this.normalizeKey(destinationKey);\n\n    const sourceBlobClient",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/AzureBlobStorageAdapter.ts",
        "start": 363,
        "end": 373,
        "startLoc": {
          "line": 363,
          "column": 7,
          "position": 2256
        },
        "endLoc": {
          "line": 373,
          "column": 17,
          "position": 2341
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/S3StorageAdapter.ts",
        "start": 492,
        "end": 291,
        "startLoc": {
          "line": 492,
          "column": 7,
          "position": 2272
        },
        "endLoc": {
          "line": 291,
          "column": 11,
          "position": 2379
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "|| 0,\n        metadata\n      };\n    } catch (error: any) {\n      if (error.statusCode === 404) {\n        throw new FileNotFoundError(normalizedSource);\n      }\n      throw error;\n    }\n  }\n\n  async getMetadata(key: string): Promise<FileMetadata> {\n    this.ensureInitialized();\n\n    const normalizedKey = this.normalizeKey(key);\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/AzureBlobStorageAdapter.ts",
        "start": 400,
        "end": 415,
        "startLoc": {
          "line": 400,
          "column": 2,
          "position": 2607
        },
        "endLoc": {
          "line": 415,
          "column": 6,
          "position": 2719
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 303,
        "end": 319,
        "startLoc": {
          "line": 303,
          "column": 2,
          "position": 2103
        },
        "endLoc": {
          "line": 319,
          "column": 4,
          "position": 2216
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "};\n    } catch (error: any) {\n      if (error.statusCode === 404) {\n        throw new FileNotFoundError(normalizedKey);\n      }\n      throw error;\n    }\n  }\n\n  async updateMetadata(key: string, metadata: Partial<FileMetadata>): Promise<void> {\n    this",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/storage/adapters/AzureBlobStorageAdapter.ts",
        "start": 427,
        "end": 437,
        "startLoc": {
          "line": 427,
          "column": 7,
          "position": 2838
        },
        "endLoc": {
          "line": 437,
          "column": 5,
          "position": 2926
        }
      },
      "secondFile": {
        "name": "api/src/storage/adapters/SharePointStorageAdapter.ts",
        "start": 330,
        "end": 340,
        "startLoc": {
          "line": 330,
          "column": 7,
          "position": 2321
        },
        "endLoc": {
          "line": 340,
          "column": 58,
          "position": 2409
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "(sourcePath: string, destPath: string): Promise<string> {\n    try {\n      const sourceFullPath = this.resolvePath(sourcePath)\n      const destFullPath = this.resolvePath(destPath)\n\n      if (!(await this.exists(sourcePath))) {\n        throw new Error(`Source file not found: ${sourcePath}`)\n      }\n\n      // Ensure destination directory exists\n      await fs.mkdir(path.dirname(destFullPath), { recursive: true })\n\n      // Move file",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/storage/local-storage-adapter.ts",
        "start": 199,
        "end": 211,
        "startLoc": {
          "line": 199,
          "column": 5,
          "position": 1567
        },
        "endLoc": {
          "line": 211,
          "column": 13,
          "position": 1689
        }
      },
      "secondFile": {
        "name": "api/src/services/storage/local-storage-adapter.ts",
        "start": 167,
        "end": 179,
        "startLoc": {
          "line": 167,
          "column": 5,
          "position": 1296
        },
        "endLoc": {
          "line": 179,
          "column": 13,
          "position": 1418
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "const columns = await getTableColumns(this.pool, this.tableName)\n    const columnList = columns.join(`, `)\n\n    const whereConditions: string[] = []\n    const values: any[] = []\n    let paramCount = 1\n\n    Object.entries(where).forEach(([key, value]) => {\n      if (value !== undefined && value !== null) {\n        whereConditions.push(`${key} = $${paramCount}`)\n        values.push(value)\n        paramCount++\n      }\n    })\n\n    if",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/dal/BaseRepository.ts",
        "start": 117,
        "end": 132,
        "startLoc": {
          "line": 117,
          "column": 5,
          "position": 1070
        },
        "endLoc": {
          "line": 132,
          "column": 3,
          "position": 1226
        }
      },
      "secondFile": {
        "name": "api/src/services/dal/BaseRepository.ts",
        "start": 55,
        "end": 70,
        "startLoc": {
          "line": 55,
          "column": 5,
          "position": 486
        },
        "endLoc": {
          "line": 70,
          "column": 6,
          "position": 642
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "const whereConditions: string[] = []\n    const values: any[] = []\n    let paramCount = 1\n\n    Object.entries(where).forEach(([key, value]) => {\n      if (value !== undefined && value !== null) {\n        whereConditions.push(`${key} = $${paramCount}`)\n        values.push(value)\n        paramCount++\n      }\n    })\n\n    const whereClause = whereConditions.length > 0 ? `WHERE ${whereConditions.join(` AND `)}` : ``\n\n    const query",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/dal/BaseRepository.ts",
        "start": 150,
        "end": 164,
        "startLoc": {
          "line": 150,
          "column": 5,
          "position": 1362
        },
        "endLoc": {
          "line": 164,
          "column": 6,
          "position": 1512
        }
      },
      "secondFile": {
        "name": "api/src/services/dal/BaseRepository.ts",
        "start": 58,
        "end": 71,
        "startLoc": {
          "line": 58,
          "column": 5,
          "position": 522
        },
        "endLoc": {
          "line": 71,
          "column": 12,
          "position": 671
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "(socket: any, data: { type: 'task' | 'asset', id: string }): void {\n    const user = this.activeUsers.get(socket.id)\n    if (!user) return\n\n    const entityKey = `${data.type}:${data.id}`\n\n    // Remove from entity viewers",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/collaboration/real-time.service.ts",
        "start": 174,
        "end": 180,
        "startLoc": {
          "line": 174,
          "column": 18,
          "position": 1444
        },
        "endLoc": {
          "line": 180,
          "column": 30,
          "position": 1531
        }
      },
      "secondFile": {
        "name": "api/src/services/collaboration/real-time.service.ts",
        "start": 137,
        "end": 141,
        "startLoc": {
          "line": 137,
          "column": 17,
          "position": 1066
        },
        "endLoc": {
          "line": 141,
          "column": 30,
          "position": 1151
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "const entityKey = user.currentView ? `${user.currentView.type}:${user.currentView.id}` : null\n    if (entityKey) {\n      socket.to(entityKey).emit(`typing:indicator`, {\n        userId: user.userId,\n        userName: user.userName,\n        isTyping: false",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/collaboration/real-time.service.ts",
        "start": 225,
        "end": 230,
        "startLoc": {
          "line": 225,
          "column": 5,
          "position": 1868
        },
        "endLoc": {
          "line": 230,
          "column": 6,
          "position": 1948
        }
      },
      "secondFile": {
        "name": "api/src/services/collaboration/real-time.service.ts",
        "start": 206,
        "end": 211,
        "startLoc": {
          "line": 206,
          "column": 5,
          "position": 1703
        },
        "endLoc": {
          "line": 211,
          "column": 5,
          "position": 1783
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const message = await anthropic.messages.create({\n      model: 'claude-sonnet-4-20250514',\n      max_tokens: 1024,\n      messages: [{\n        role: 'user',\n        content: prompt\n      }]\n    })\n\n    const responseText = message.content[0].type === 'text' ? message.content[0].text : '[]'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/ai/task-asset-ai.service.ts",
        "start": 184,
        "end": 193,
        "startLoc": {
          "line": 184,
          "column": 5,
          "position": 911
        },
        "endLoc": {
          "line": 193,
          "column": 5,
          "position": 1003
        }
      },
      "secondFile": {
        "name": "api/src/services/ai/task-asset-ai.service.ts",
        "start": 105,
        "end": 114,
        "startLoc": {
          "line": 105,
          "column": 5,
          "position": 466
        },
        "endLoc": {
          "line": 114,
          "column": 5,
          "position": 558
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const message = await anthropic.messages.create({\n      model: 'claude-sonnet-4-20250514',\n      max_tokens: 1024,\n      messages: [{\n        role: 'user',\n        content: prompt\n      }]\n    })\n\n    const responseText = message.content[0].type === 'text' ? message.content[0].text : '{}'\n    const prediction",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/ai/task-asset-ai.service.ts",
        "start": 273,
        "end": 283,
        "startLoc": {
          "line": 273,
          "column": 5,
          "position": 1378
        },
        "endLoc": {
          "line": 283,
          "column": 11,
          "position": 1475
        }
      },
      "secondFile": {
        "name": "api/src/services/ai/task-asset-ai.service.ts",
        "start": 105,
        "end": 115,
        "startLoc": {
          "line": 105,
          "column": 5,
          "position": 466
        },
        "endLoc": {
          "line": 115,
          "column": 12,
          "position": 563
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { subscriptionId } = req.params\n\n      // Validate subscription belongs to user's tenant\n      const checkResult = await pool.query(\n        `SELECT tenant_id FROM webhook_subscriptions WHERE subscription_id = $1`,\n        [subscriptionId]\n      )\n\n      if (checkResult.rows.length === 0) {\n        return res.status(404).json({ error: `Subscription not found` })\n      }\n\n      if (checkResult.rows[0].tenant_id !== req.user!.tenant_id) {\n        console.warn('Unauthorized subscription renewal attempt'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 398,
        "end": 414,
        "startLoc": {
          "line": 398,
          "column": 17,
          "position": 2150
        },
        "endLoc": {
          "line": 414,
          "column": 44,
          "position": 2297
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 347,
        "end": 363,
        "startLoc": {
          "line": 347,
          "column": 17,
          "position": 1819
        },
        "endLoc": {
          "line": 363,
          "column": 45,
          "position": 1966
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "router.post(\n  '/',\n  csrfProtection, validateWebhook,\n  async (req: WebhookRequest, res: Response) => {\n    try {\n      const notifications = req.body?.value\n\n      if (!notifications || !Array.isArray(notifications)) {\n        console.error(' Invalid webhook payload structure')\n        return res.status(400).json({ error: `Invalid payload structure` })\n      }\n\n      console.log(` Received ",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/outlook.webhook.ts",
        "start": 31,
        "end": 43,
        "startLoc": {
          "line": 31,
          "column": 1,
          "position": 95
        },
        "endLoc": {
          "line": 43,
          "column": 14,
          "position": 210
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 31,
        "end": 43,
        "startLoc": {
          "line": 31,
          "column": 1,
          "position": 95
        },
        "endLoc": {
          "line": 43,
          "column": 14,
          "position": 210
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ")\n\n      // Process notifications asynchronously\n      // Return 202 Accepted immediately to avoid timeout\n      res.status(202).json({\n        message: `Notifications received and queued for processing`,\n        count: notifications.length\n      })\n\n      // Process each notification in the background\n      for (const notification of notifications) {\n        processNotificationAsync(notification).catch(error => {\n          console.error('Failed to process notification:', error)\n        })\n      }\n\n    } catch (error: any) {\n      console.error('Outlook webhook error:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/outlook.webhook.ts",
        "start": 43,
        "end": 60,
        "startLoc": {
          "line": 43,
          "column": 26,
          "position": 217
        },
        "endLoc": {
          "line": 60,
          "column": 25,
          "position": 328
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 43,
        "end": 60,
        "startLoc": {
          "line": 43,
          "column": 24,
          "position": 217
        },
        "endLoc": {
          "line": 60,
          "column": 23,
          "position": 328
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ", error)\n      res.status(500).json({ error: 'Internal server error' })\n    }\n  }\n)\n\n/**\n * Process notification asynchronously\n */\nasync function processNotificationAsync(notification: any): Promise<void> {\n  try {\n    const { changeType, resource, resourceData, subscriptionId, clientState } = notification\n\n    console.log(' Processing Outlook notification:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/outlook.webhook.ts",
        "start": 60,
        "end": 73,
        "startLoc": {
          "line": 60,
          "column": 25,
          "position": 329
        },
        "endLoc": {
          "line": 73,
          "column": 38,
          "position": 421
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 60,
        "end": 73,
        "startLoc": {
          "line": 60,
          "column": 23,
          "position": 329
        },
        "endLoc": {
          "line": 73,
          "column": 36,
          "position": 421
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": "const { Client } = require('@microsoft/microsoft-graph-client')\n    const { TokenCredentialAuthenticationProvider } = require('@microsoft/microsoft-graph-client/authProviders/azureTokenCredentials')\n    const { ClientSecretCredential } = require('@azure/identity')\nimport { csrfProtection } from '../middleware/csrf'\n\n\n    const AZURE_AD_CONFIG = {\n      clientId: process.env.AZURE_AD_CLIENT_ID || process.env.MICROSOFT_CLIENT_ID || '',\n      clientSecret: process.env.AZURE_AD_CLIENT_SECRET || process.env.MICROSOFT_CLIENT_SECRET || '',\n      tenantId: process.env.AZURE_AD_TENANT_ID || process.env.MICROSOFT_TENANT_ID || ''\n    }\n\n    const credential = new ClientSecretCredential(\n      AZURE_AD_CONFIG.tenantId,\n      AZURE_AD_CONFIG.clientId,\n      AZURE_AD_CONFIG.clientSecret\n    )\n\n    const authProvider = new TokenCredentialAuthenticationProvider(credential, {\n      scopes: [`https://graph.microsoft.com/.default`]\n    })\n\n    const graphClient = Client.initWithMiddleware({ authProvider })\n\n    const email",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/outlook.webhook.ts",
        "start": 155,
        "end": 179,
        "startLoc": {
          "line": 155,
          "column": 5,
          "position": 840
        },
        "endLoc": {
          "line": 179,
          "column": 6,
          "position": 1066
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 155,
        "end": 179,
        "startLoc": {
          "line": 155,
          "column": 5,
          "position": 843
        },
        "endLoc": {
          "line": 179,
          "column": 8,
          "position": 1069
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "})\n      }\n\n      // Validate user can only create subscriptions for their own tenant\n      if (tenantId !== req.user!.tenant_id) {\n        console.warn('Unauthorized tenant access attempt', {\n          requestedTenant: tenantId,\n          userTenant: req.user!.tenant_id,\n          userId: req.user!.id\n        })\n        return res.status(403).json({\n          error: 'Access denied: Cannot create subscriptions for other tenants'\n        })\n      }\n\n      // Create subscription\n      const subscription = await webhookService.subscribeToOutlookEmails",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/outlook.webhook.ts",
        "start": 304,
        "end": 320,
        "startLoc": {
          "line": 304,
          "column": 9,
          "position": 1541
        },
        "endLoc": {
          "line": 320,
          "column": 25,
          "position": 1655
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 297,
        "end": 313,
        "startLoc": {
          "line": 297,
          "column": 9,
          "position": 1532
        },
        "endLoc": {
          "line": 313,
          "column": 25,
          "position": 1646
        }
      }
    },
    {
      "format": "typescript",
      "lines": 38,
      "fragment": "router.delete(\n  '/subscribe/:subscriptionId',\n  csrfProtection, authenticateJWT,\n  requirePermission('webhook:delete'),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { subscriptionId } = req.params\n\n      // Validate subscription belongs to user's tenant\n      const checkResult = await pool.query(\n        `SELECT tenant_id FROM webhook_subscriptions WHERE subscription_id = $1`,\n        [subscriptionId]\n      )\n\n      if (checkResult.rows.length === 0) {\n        return res.status(404).json({ error: `Subscription not found` })\n      }\n\n      if (checkResult.rows[0].tenant_id !== req.user!.tenant_id) {\n        console.warn('Unauthorized subscription deletion attempt', {\n          subscriptionId,\n          userId: req.user!.id,\n          userTenant: req.user!.tenant_id\n        })\n        return res.status(403).json({\n          error: 'Access denied: Cannot delete subscriptions from other tenants'\n        })\n      }\n\n      await webhookService.deleteSubscription(subscriptionId)\n\n      res.json({\n        message: 'Subscription deleted successfully',\n        subscriptionId\n      })\n\n    } catch (error: any) {\n      console.error('Failed to delete Outlook subscription:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/outlook.webhook.ts",
        "start": 351,
        "end": 388,
        "startLoc": {
          "line": 351,
          "column": 1,
          "position": 1815
        },
        "endLoc": {
          "line": 388,
          "column": 41,
          "position": 2098
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 344,
        "end": 381,
        "startLoc": {
          "line": 344,
          "column": 1,
          "position": 1799
        },
        "endLoc": {
          "line": 381,
          "column": 39,
          "position": 2082
        }
      }
    },
    {
      "format": "typescript",
      "lines": 38,
      "fragment": "router.post(\n  '/renew/:subscriptionId',\n  csrfProtection, authenticateJWT,\n  requirePermission('webhook:update'),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { subscriptionId } = req.params\n\n      // Validate subscription belongs to user's tenant\n      const checkResult = await pool.query(\n        `SELECT tenant_id FROM webhook_subscriptions WHERE subscription_id = $1`,\n        [subscriptionId]\n      )\n\n      if (checkResult.rows.length === 0) {\n        return res.status(404).json({ error: `Subscription not found` })\n      }\n\n      if (checkResult.rows[0].tenant_id !== req.user!.tenant_id) {\n        console.warn('Unauthorized subscription renewal attempt', {\n          subscriptionId,\n          userId: req.user!.id,\n          userTenant: req.user!.tenant_id\n        })\n        return res.status(403).json({\n          error: 'Access denied: Cannot renew subscriptions from other tenants'\n        })\n      }\n\n      await webhookService.renewSubscription(subscriptionId)\n\n      res.json({\n        message: 'Subscription renewed successfully',\n        subscriptionId\n      })\n\n    } catch (error: any) {\n      console.error('Failed to renew Outlook subscription:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/outlook.webhook.ts",
        "start": 402,
        "end": 439,
        "startLoc": {
          "line": 402,
          "column": 1,
          "position": 2146
        },
        "endLoc": {
          "line": 439,
          "column": 40,
          "position": 2429
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 395,
        "end": 432,
        "startLoc": {
          "line": 395,
          "column": 1,
          "position": 2130
        },
        "endLoc": {
          "line": 432,
          "column": 38,
          "position": 2413
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": "const params: any[] = [req.user!.tenant_id]\n\n      if (processed !== undefined) {\n        query += ` AND we.processed = $${params.length + 1}`\n        params.push(processed === `true`)\n      }\n\n      query += ` ORDER BY we.received_at DESC LIMIT $${params.length + 1}`\n      params.push(limit)\n\n      const result = await pool.query(query, params)\n\n      res.json({\n        events: result.rows,\n        count: result.rows.length\n      })\n\n    } catch (error: any) {\n      console.error(`Failed to fetch webhook events:`, error)\n      res.status(500).json({ error: 'Internal server error' })\n    }\n  }\n)\n\n/**\n * POST /api/webhooks/outlook/categorize/:communicationId\n * Manually trigger AI categorization for an email\n * Requires: Authentication, communication:update permission, tenant validation\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/webhooks/outlook.webhook.ts",
        "start": 469,
        "end": 497,
        "startLoc": {
          "line": 469,
          "column": 7,
          "position": 2556
        },
        "endLoc": {
          "line": 497,
          "column": 4,
          "position": 2752
        }
      },
      "secondFile": {
        "name": "api/src/routes/webhooks/teams.webhook.ts",
        "start": 462,
        "end": 489,
        "startLoc": {
          "line": 462,
          "column": 7,
          "position": 2540
        },
        "endLoc": {
          "line": 489,
          "column": 4,
          "position": 2736
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ", async (req: Request, res: Response) => {\n  try {\n    const validationResult = limitSchema.safeParse(req.query);\n    if (!validationResult.success) {\n      return res.status(400).json({ success: false, error: 'Invalid query parameters' });\n    }\n\n    const limit = parseInt(validationResult.data.limit || '10'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/monitoring/query-performance.enhanced.ts",
        "start": 68,
        "end": 75,
        "startLoc": {
          "line": 68,
          "column": 12,
          "position": 638
        },
        "endLoc": {
          "line": 75,
          "column": 5,
          "position": 743
        }
      },
      "secondFile": {
        "name": "api/src/routes/monitoring/query-performance.enhanced.ts",
        "start": 40,
        "end": 47,
        "startLoc": {
          "line": 40,
          "column": 16,
          "position": 360
        },
        "endLoc": {
          "line": 47,
          "column": 5,
          "position": 465
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", async (req: Request, res: Response) => {\n  try {\n    const validationResult = limitSchema.safeParse(req.query);\n    if (!validationResult.success) {\n      return res.status(400).json({ success: false, error: 'Invalid query parameters' });\n    }\n\n    const limit = parseInt(validationResult.data.limit || '10', 10);\n    const frequency",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/monitoring/query-performance.enhanced.ts",
        "start": 96,
        "end": 104,
        "startLoc": {
          "line": 96,
          "column": 13,
          "position": 916
        },
        "endLoc": {
          "line": 104,
          "column": 10,
          "position": 1031
        }
      },
      "secondFile": {
        "name": "api/src/routes/monitoring/query-performance.enhanced.ts",
        "start": 40,
        "end": 76,
        "startLoc": {
          "line": 40,
          "column": 16,
          "position": 360
        },
        "endLoc": {
          "line": 76,
          "column": 15,
          "position": 753
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ";\n\n    let parsedFilters: Record<string, any> = {};\n    try {\n      parsedFilters = JSON.parse(filters as string);\n    } catch (e) {\n      return res.status(400).json({ error: 'Invalid filters JSON' });\n    }\n\n    // Build query without pagination",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/drill-through/drill-through.routes.ts",
        "start": 79,
        "end": 88,
        "startLoc": {
          "line": 79,
          "column": 6,
          "position": 725
        },
        "endLoc": {
          "line": 88,
          "column": 34,
          "position": 809
        }
      },
      "secondFile": {
        "name": "api/src/routes/drill-through/drill-through.routes.ts",
        "start": 26,
        "end": 35,
        "startLoc": {
          "line": 26,
          "column": 12,
          "position": 258
        },
        "endLoc": {
          "line": 35,
          "column": 36,
          "position": 342
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "let summaryData = null;\n    if (summary) {\n      const summaryResult = await pool.query(summary.query, summary.params);\n      summaryData = summaryResult.rows[0];\n    }\n\n    res.json({\n      totalCount,\n      data: dataResult.rows,\n      page: pageNum,\n      pageSize: pageSizeNum,\n      totalPages,\n      summary: summaryData,\n    });\n  } catch (error) {\n    console.error('Drill-through error:', error);\n    res.status(500).json({ error: 'Failed to fetch drill-through data' });\n  }\n});\n\nrouter",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/drill-through/drill-through.routes.enhanced.ts",
        "start": 61,
        "end": 81,
        "startLoc": {
          "line": 61,
          "column": 5,
          "position": 611
        },
        "endLoc": {
          "line": 81,
          "column": 7,
          "position": 772
        }
      },
      "secondFile": {
        "name": "api/src/routes/drill-through/drill-through.routes.ts",
        "start": 52,
        "end": 75,
        "startLoc": {
          "line": 52,
          "column": 5,
          "position": 490
        },
        "endLoc": {
          "line": 75,
          "column": 4,
          "position": 651
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "}\n    ]);\n\n    middleware(req, res, next);\n\n    expect(res.status).toHaveBeenCalledWith(422);\n    expect(res.json).toHaveBeenCalledWith(expect.objectContaining({\n      details: expect.objectContaining({\n        errors: expect.arrayContaining([\n          expect.objectContaining({\n            field: 'password'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/__tests__/validation.test.ts",
        "start": 79,
        "end": 89,
        "startLoc": {
          "line": 79,
          "column": 2,
          "position": 720
        },
        "endLoc": {
          "line": 89,
          "column": 11,
          "position": 803
        }
      },
      "secondFile": {
        "name": "api/src/middleware/__tests__/validation.test.ts",
        "start": 53,
        "end": 63,
        "startLoc": {
          "line": 53,
          "column": 2,
          "position": 501
        },
        "endLoc": {
          "line": 63,
          "column": 8,
          "position": 584
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ");\n\n    middleware(req, res, next);\n\n    expect(res.status).toHaveBeenCalledWith(422);\n    expect(res.json).toHaveBeenCalledWith(expect.objectContaining({\n      details: expect.objectContaining({\n        errors: expect.arrayContaining([\n          expect.objectContaining({\n            field: 'id'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/__tests__/validation.test.ts",
        "start": 122,
        "end": 131,
        "startLoc": {
          "line": 122,
          "column": 9,
          "position": 1086
        },
        "endLoc": {
          "line": 131,
          "column": 5,
          "position": 1165
        }
      },
      "secondFile": {
        "name": "api/src/middleware/__tests__/validation.test.ts",
        "start": 54,
        "end": 63,
        "startLoc": {
          "line": 54,
          "column": 2,
          "position": 505
        },
        "endLoc": {
          "line": 63,
          "column": 8,
          "position": 584
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "}\n    ]);\n\n    middleware(req, res, next);\n\n    expect(res.status).toHaveBeenCalledWith(422);\n    expect(res.json).toHaveBeenCalledWith(expect.objectContaining({\n      details: expect.objectContaining({\n        errors: expect.arrayContaining([\n          expect.objectContaining({ field: 'email' }",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/__tests__/validation.test.ts",
        "start": 286,
        "end": 295,
        "startLoc": {
          "line": 286,
          "column": 2,
          "position": 2528
        },
        "endLoc": {
          "line": 295,
          "column": 2,
          "position": 2612
        }
      },
      "secondFile": {
        "name": "api/src/middleware/__tests__/validation.test.ts",
        "start": 53,
        "end": 63,
        "startLoc": {
          "line": 53,
          "column": 2,
          "position": 501
        },
        "endLoc": {
          "line": 63,
          "column": 2,
          "position": 585
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "},\n        user: undefined\n      });\n      const res = mockResponse();\n      const next = mockNext();\n\n      authenticateJWT(req, res, next);\n\n      expect(res.status).toHaveBeenCalledWith(403);\n      expect(res.json).toHaveBeenCalledWith({ error: `Invalid or expired token`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/__tests__/auth.test.ts",
        "start": 82,
        "end": 91,
        "startLoc": {
          "line": 82,
          "column": 2,
          "position": 818
        },
        "endLoc": {
          "line": 91,
          "column": 27,
          "position": 900
        }
      },
      "secondFile": {
        "name": "api/src/middleware/__tests__/auth.test.ts",
        "start": 63,
        "end": 72,
        "startLoc": {
          "line": 63,
          "column": 2,
          "position": 636
        },
        "endLoc": {
          "line": 72,
          "column": 27,
          "position": 718
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "}, user: undefined });\n      const res = mockResponse();\n      const next = mockNext();\n\n      authenticateJWT(req, res, next);\n\n      expect(next).toHaveBeenCalled();\n      expect(req.user).toBeDefined();\n      expect(req.user.email).toBe('demo@fleet.local'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/__tests__/auth.test.ts",
        "start": 96,
        "end": 104,
        "startLoc": {
          "line": 96,
          "column": 2,
          "position": 952
        },
        "endLoc": {
          "line": 104,
          "column": 19,
          "position": 1039
        }
      },
      "secondFile": {
        "name": "api/src/middleware/__tests__/auth.test.ts",
        "start": 23,
        "end": 33,
        "startLoc": {
          "line": 23,
          "column": 2,
          "position": 229
        },
        "endLoc": {
          "line": 33,
          "column": 19,
          "position": 318
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const token = createAuthToken();\n      const req = mockRequest({\n        headers: { authorization: `Bearer ${token}` },\n        user: undefined\n      });\n      const res = mockResponse();\n      const next = mockNext();\n\n      authenticateJWT(req, res, next);\n\n      expect(res",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/__tests__/auth.test.ts",
        "start": 110,
        "end": 120,
        "startLoc": {
          "line": 110,
          "column": 7,
          "position": 1089
        },
        "endLoc": {
          "line": 120,
          "column": 4,
          "position": 1182
        }
      },
      "secondFile": {
        "name": "api/src/middleware/__tests__/auth.test.ts",
        "start": 21,
        "end": 31,
        "startLoc": {
          "line": 21,
          "column": 7,
          "position": 192
        },
        "endLoc": {
          "line": 31,
          "column": 5,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "(req, res, next);\n\n      expect(res.status).toHaveBeenCalledWith(401);\n      expect(res.json).toHaveBeenCalledWith({ error: 'Authentication required' });\n      expect(next).not.toHaveBeenCalled();\n    });\n\n    it('should allow multiple roles'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/__tests__/auth.test.ts",
        "start": 182,
        "end": 189,
        "startLoc": {
          "line": 182,
          "column": 11,
          "position": 1762
        },
        "endLoc": {
          "line": 189,
          "column": 30,
          "position": 1831
        }
      },
      "secondFile": {
        "name": "api/src/middleware/__tests__/auth.test.ts",
        "start": 54,
        "end": 61,
        "startLoc": {
          "line": 54,
          "column": 16,
          "position": 535
        },
        "endLoc": {
          "line": 61,
          "column": 30,
          "position": 604
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "const outputDir = path.join(process.cwd(), 'reports')\n  if (!fs.existsSync(outputDir)) {\n    fs.mkdirSync(outputDir, { recursive: true })\n  }\n\n  const filepath = path.join(outputDir, filename)\n  XLSX.writeFile(wb, filepath,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/processors/report.processor.ts",
        "start": 326,
        "end": 332,
        "startLoc": {
          "line": 326,
          "column": 3,
          "position": 1967
        },
        "endLoc": {
          "line": 332,
          "column": 2,
          "position": 2050
        }
      },
      "secondFile": {
        "name": "api/src/jobs/processors/report.processor.ts",
        "start": 307,
        "end": 313,
        "startLoc": {
          "line": 307,
          "column": 3,
          "position": 1799
        },
        "endLoc": {
          "line": 313,
          "column": 2,
          "position": 1882
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "(userId: string, topic: string): Promise<any> {\n  const tokens = await getUserDeviceTokens(userId)\n\n  if (tokens.length === 0) {\n    return { success: false, reason: 'No device tokens found' }\n  }\n\n  if (!firebaseInitialized) {\n    throw new Error('Firebase not initialized')\n  }\n\n  const response = await admin.messaging().unsubscribeFromTopic",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/processors/notification.processor.ts",
        "start": 278,
        "end": 289,
        "startLoc": {
          "line": 278,
          "column": 21,
          "position": 1951
        },
        "endLoc": {
          "line": 289,
          "column": 21,
          "position": 2063
        }
      },
      "secondFile": {
        "name": "api/src/jobs/processors/notification.processor.ts",
        "start": 249,
        "end": 260,
        "startLoc": {
          "line": 249,
          "column": 17,
          "position": 1738
        },
        "endLoc": {
          "line": 260,
          "column": 17,
          "position": 1850
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "timestamp,\n      exif: {\n        make: device.make,\n        model: device.model,\n        orientation: 1,\n        iso: 200,\n        aperture: 1.8,\n        focal_length: 26\n      },\n      device_info: {\n        platform: device.platform,\n        os_version: device.os,\n        app_version: '2.5.1',\n        network_type: Math.random() > 0.4",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/mobile/PhotoGenerator.ts",
        "start": 259,
        "end": 272,
        "startLoc": {
          "line": 259,
          "column": 7,
          "position": 2442
        },
        "endLoc": {
          "line": 272,
          "column": 4,
          "position": 2543
        }
      },
      "secondFile": {
        "name": "api/src/emulators/mobile/PhotoGenerator.ts",
        "start": 95,
        "end": 108,
        "startLoc": {
          "line": 95,
          "column": 7,
          "position": 784
        },
        "endLoc": {
          "line": 108,
          "column": 4,
          "position": 885
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "constructor(vehicle: Vehicle, config: EmulatorConfig) {\n    super()\n    this.vehicle = vehicle\n    this.config = config\n  }\n\n  public async start(): Promise<void> {\n    if (this.isRunning) return\n    this.isRunning = true\n    this.isPaused = false\n\n    this.updateInterval = setInterval(() => {\n      if (!this.isPaused) {\n        this.update",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/iot/IoTEmulator.ts",
        "start": 15,
        "end": 28,
        "startLoc": {
          "line": 15,
          "column": 3,
          "position": 106
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 227
        }
      },
      "secondFile": {
        "name": "api/src/emulators/maintenance/MaintenanceEmulator.ts",
        "start": 21,
        "end": 33,
        "startLoc": {
          "line": 21,
          "column": 3,
          "position": 167
        },
        "endLoc": {
          "line": 33,
          "column": 17,
          "position": 287
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": number = 0\n\n  constructor(vehicle: Vehicle, config: EmulatorConfig) {\n    super()\n    this.vehicle = vehicle\n    this.config = config\n  }\n\n  public async start(): Promise<void> {\n    if (this.isRunning) return this.isRunning = true\n    this.isPaused = false\n\n    this.updateInterval = setInterval(() => {\n      if (!this.isPaused) {\n        this.checkFuelPurchase",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/fuel/FuelEmulator.ts",
        "start": 17,
        "end": 31,
        "startLoc": {
          "line": 17,
          "column": 9,
          "position": 136
        },
        "endLoc": {
          "line": 31,
          "column": 18,
          "position": 266
        }
      },
      "secondFile": {
        "name": "api/src/emulators/maintenance/MaintenanceEmulator.ts",
        "start": 19,
        "end": 33,
        "startLoc": {
          "line": 19,
          "column": 11,
          "position": 157
        },
        "endLoc": {
          "line": 33,
          "column": 17,
          "position": 287
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": "}\n\n  /**\n   * Start the emulator\n   */\n  start(): void {\n    if (this.isRunning) return;\n\n    this.isRunning = true;\n    this.emit('started', { timestamp: new Date() });\n\n    // Main update loop\n    this.intervalId = setInterval(() => {\n      this.update();\n    }, this.config.updateIntervalMs);\n  }\n\n  /**\n   * Stop the emulator\n   */\n  stop(): void {\n    if (!this.isRunning) return;\n\n    this.isRunning = false;\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n    }\n\n    // End all active sessions",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/evcharging/EVChargingEmulator.ts",
        "start": 55,
        "end": 83,
        "startLoc": {
          "line": 55,
          "column": 3,
          "position": 425
        },
        "endLoc": {
          "line": 83,
          "column": 27,
          "position": 593
        }
      },
      "secondFile": {
        "name": "api/src/emulators/video/VideoTelematicsEmulator.ts",
        "start": 117,
        "end": 145,
        "startLoc": {
          "line": 117,
          "column": 3,
          "position": 781
        },
        "endLoc": {
          "line": 145,
          "column": 5,
          "position": 949
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "constructor(vehicle: Vehicle, config: EmulatorConfig) {\n    super()\n    this.vehicle = vehicle\n    this.config = config\n  }\n\n  public async start(): Promise<void> {\n    if (this.isRunning) return\n    this.isRunning = true\n    this.isPaused = false\n\n    this.updateInterval = setInterval(() => {\n      if (!this.isPaused) {\n        this.checkBehavior",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/driver/DriverBehaviorEmulator.ts",
        "start": 19,
        "end": 32,
        "startLoc": {
          "line": 19,
          "column": 3,
          "position": 149
        },
        "endLoc": {
          "line": 32,
          "column": 14,
          "position": 270
        }
      },
      "secondFile": {
        "name": "api/src/emulators/maintenance/MaintenanceEmulator.ts",
        "start": 21,
        "end": 33,
        "startLoc": {
          "line": 21,
          "column": 3,
          "position": 167
        },
        "endLoc": {
          "line": 33,
          "column": 17,
          "position": 287
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "${this.vehicle.id}`)\n  }\n\n  public async stop(): Promise<void> {\n    if (this.updateInterval) {\n      clearInterval(this.updateInterval)\n      this.updateInterval = null\n    }\n    this.isRunning = false\n  }\n\n  public async pause(): Promise<void> { this.isPaused = true }\n  public async resume(): Promise<void> { this.isPaused = false }\n\n  public",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/driver/DriverBehaviorEmulator.ts",
        "start": 36,
        "end": 50,
        "startLoc": {
          "line": 36,
          "column": 47,
          "position": 293
        },
        "endLoc": {
          "line": 50,
          "column": 7,
          "position": 424
        }
      },
      "secondFile": {
        "name": "api/src/emulators/iot/IoTEmulator.ts",
        "start": 32,
        "end": 46,
        "startLoc": {
          "line": 32,
          "column": 35,
          "position": 250
        },
        "endLoc": {
          "line": 46,
          "column": 8,
          "position": 381
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "}\n\n  private getRandomLocation(): Location {\n    return {\n      lat: this.vehicle.homeBase.lat + (Math.random() - 0.5) * 0.1,\n      lng: this.vehicle.homeBase.lng + (Math.random() - 0.5) * 0.1\n    }\n  }\n\n  public getCurrentState(): any {\n    return {\n      driverScore",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/driver/DriverBehaviorEmulator.ts",
        "start": 126,
        "end": 137,
        "startLoc": {
          "line": 126,
          "column": 3,
          "position": 1251
        },
        "endLoc": {
          "line": 137,
          "column": 12,
          "position": 1357
        }
      },
      "secondFile": {
        "name": "api/src/emulators/fuel/FuelEmulator.ts",
        "start": 107,
        "end": 118,
        "startLoc": {
          "line": 107,
          "column": 3,
          "position": 1143
        },
        "endLoc": {
          "line": 118,
          "column": 10,
          "position": 1249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "},\n      persistence: {\n        enabled: false,\n        database: 'test',\n        redis: {\n          enabled: false,\n          ttl: 3600\n        }\n      },\n      realtime: {\n        websocket: {\n          enabled: false,\n          port: 8080,\n          path: '/ws'\n        },\n        broadcasting: {\n          interval: 1000,\n          batchSize: 10\n        }\n      },\n      performance: {\n        maxVehicles: 100,\n        maxConcurrentEmulators: 10",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/__tests__/InventoryEmulator.test.ts",
        "start": 25,
        "end": 47,
        "startLoc": {
          "line": 25,
          "column": 7,
          "position": 160
        },
        "endLoc": {
          "line": 47,
          "column": 3,
          "position": 288
        }
      },
      "secondFile": {
        "name": "api/src/emulators/radio/__tests__/RadioEmulator.test.ts",
        "start": 45,
        "end": 47,
        "startLoc": {
          "line": 45,
          "column": 7,
          "position": 318
        },
        "endLoc": {
          "line": 47,
          "column": 3,
          "position": 295
        }
      }
    },
    {
      "format": "sql",
      "lines": 7,
      "fragment": "VARCHAR(100) UNIQUE NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  latitude DECIMAL(10, 8) NOT NULL,\n  longitude DECIMAL(11, 8) NOT NULL,\n  road VARCHAR(100) NOT NULL,\n  direction VARCHAR(20),\n  mile_marker",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/database/migrations/20251126_traffic_cameras_public_data.sql",
        "start": 140,
        "end": 146,
        "startLoc": {
          "line": 140,
          "column": 2,
          "position": 1500
        },
        "endLoc": {
          "line": 146,
          "column": 12,
          "position": 1580
        }
      },
      "secondFile": {
        "name": "api/src/database/migrations/20251126_traffic_cameras_public_data.sql",
        "start": 90,
        "end": 96,
        "startLoc": {
          "line": 90,
          "column": 2,
          "position": 975
        },
        "endLoc": {
          "line": 96,
          "column": 9,
          "position": 1055
        }
      }
    },
    {
      "format": "sql",
      "lines": 7,
      "fragment": "VARCHAR(100) UNIQUE NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  latitude DECIMAL(10, 8) NOT NULL,\n  longitude DECIMAL(11, 8) NOT NULL,\n  road VARCHAR(100) NOT NULL,\n  direction VARCHAR(20),\n  status",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/database/migrations/20251126_traffic_cameras_public_data.sql",
        "start": 161,
        "end": 167,
        "startLoc": {
          "line": 161,
          "column": 2,
          "position": 1709
        },
        "endLoc": {
          "line": 167,
          "column": 7,
          "position": 1789
        }
      },
      "secondFile": {
        "name": "api/src/database/migrations/20251126_traffic_cameras_public_data.sql",
        "start": 90,
        "end": 96,
        "startLoc": {
          "line": 90,
          "column": 2,
          "position": 975
        },
        "endLoc": {
          "line": 96,
          "column": 9,
          "position": 1055
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "}];\n\n      exportCSV(mockResponse as Response, data, {\n        filename: 'test',\n        includeHeaders: false,\n      });\n\n      const csvContent = (mockResponse.send as jest.Mock).mock.calls[0][0];\n      expect(csvContent).toContain('\"\"'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/utils/export-helpers.test.ts",
        "start": 87,
        "end": 95,
        "startLoc": {
          "line": 87,
          "column": 2,
          "position": 686
        },
        "endLoc": {
          "line": 95,
          "column": 5,
          "position": 764
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/utils/export-helpers.test.ts",
        "start": 75,
        "end": 83,
        "startLoc": {
          "line": 75,
          "column": 2,
          "position": 570
        },
        "endLoc": {
          "line": 83,
          "column": 24,
          "position": 648
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 131,
        "end": 146,
        "startLoc": {
          "line": 131,
          "column": 4,
          "position": 832
        },
        "endLoc": {
          "line": 146,
          "column": 5,
          "position": 928
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 43,
      "fragment": "() => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('catch'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 140,
        "end": 182,
        "startLoc": {
          "line": 140,
          "column": 2,
          "position": 892
        },
        "endLoc": {
          "line": 182,
          "column": 8,
          "position": 1153
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 68,
        "end": 110,
        "startLoc": {
          "line": 68,
          "column": 2,
          "position": 442
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('generateIdleAlerts'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 203,
        "end": 218,
        "startLoc": {
          "line": 203,
          "column": 6,
          "position": 1282
        },
        "endLoc": {
          "line": 218,
          "column": 21,
          "position": 1378
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('MAX'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 239,
        "end": 254,
        "startLoc": {
          "line": 239,
          "column": 19,
          "position": 1519
        },
        "endLoc": {
          "line": 254,
          "column": 6,
          "position": 1621
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('MAX'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 275,
        "end": 290,
        "startLoc": {
          "line": 275,
          "column": 4,
          "position": 1750
        },
        "endLoc": {
          "line": 290,
          "column": 6,
          "position": 1846
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 79,
      "fragment": "() => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('MAX', () => {\n    it('should MAX successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.MAX(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.MAX(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('catch', () => {\n    it('should catch successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.catch(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.catch(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('calculateHeatmapData'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 284,
        "end": 362,
        "startLoc": {
          "line": 284,
          "column": 2,
          "position": 1810
        },
        "endLoc": {
          "line": 362,
          "column": 23,
          "position": 2296
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 248,
        "end": 110,
        "startLoc": {
          "line": 248,
          "column": 2,
          "position": 1585
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('EXTRACT'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 383,
        "end": 398,
        "startLoc": {
          "line": 383,
          "column": 21,
          "position": 2437
        },
        "endLoc": {
          "line": 398,
          "column": 10,
          "position": 2539
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('COUNT'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 419,
        "end": 434,
        "startLoc": {
          "line": 419,
          "column": 8,
          "position": 2668
        },
        "endLoc": {
          "line": 434,
          "column": 8,
          "position": 2764
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('EXTRACT'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 455,
        "end": 470,
        "startLoc": {
          "line": 455,
          "column": 6,
          "position": 2893
        },
        "endLoc": {
          "line": 470,
          "column": 10,
          "position": 2989
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 79,
      "fragment": "() => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('EXTRACT', () => {\n    it('should EXTRACT successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.EXTRACT(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.EXTRACT(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('catch', () => {\n    it('should catch successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.catch(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.catch(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 464,
        "end": 542,
        "startLoc": {
          "line": 464,
          "column": 2,
          "position": 2953
        },
        "endLoc": {
          "line": 542,
          "column": 26,
          "position": 3437
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 392,
        "end": 110,
        "startLoc": {
          "line": 392,
          "column": 2,
          "position": 2503
        },
        "endLoc": {
          "line": 110,
          "column": 9,
          "position": 701
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new ROICalculatorService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/roi-calculator.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 21,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 21,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('calculateCostPerMile'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/roi-calculator.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 13,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 23,
          "position": 478
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('calculatePaybackPeriod'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/roi-calculator.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 21,
          "position": 619
        },
        "endLoc": {
          "line": 110,
          "column": 25,
          "position": 721
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('calculateDepreciation'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/roi-calculator.service.test.ts",
        "start": 131,
        "end": 146,
        "startLoc": {
          "line": 131,
          "column": 23,
          "position": 862
        },
        "endLoc": {
          "line": 146,
          "column": 24,
          "position": 964
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/roi-calculator.service.test.ts",
        "start": 167,
        "end": 182,
        "startLoc": {
          "line": 167,
          "column": 22,
          "position": 1105
        },
        "endLoc": {
          "line": 182,
          "column": 26,
          "position": 1205
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 9,
          "position": 476
        }
      }
    },
    {
      "format": "typescript",
      "lines": 30,
      "fragment": "() => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/roi-calculator.service.test.ts",
        "start": 176,
        "end": 205,
        "startLoc": {
          "line": 176,
          "column": 2,
          "position": 1171
        },
        "endLoc": {
          "line": 205,
          "column": 2,
          "position": 1381
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 536,
        "end": 565,
        "startLoc": {
          "line": 536,
          "column": 2,
          "position": 3403
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new QRGeneratorService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/qr-generator.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 19,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 19,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 111,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('catch', () => {\n    it('should catch successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.catch(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.catch(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/qr-generator.service.test.ts",
        "start": 59,
        "end": 169,
        "startLoc": {
          "line": 59,
          "column": 15,
          "position": 376
        },
        "endLoc": {
          "line": 169,
          "column": 2,
          "position": 1102
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 565,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new ExampleDIService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 17,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 17,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('performAction'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 8,
          "position": 364
        },
        "endLoc": {
          "line": 74,
          "column": 16,
          "position": 460
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('info'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 14,
          "position": 589
        },
        "endLoc": {
          "line": 110,
          "column": 7,
          "position": 685
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getVehicleCount'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 131,
        "end": 146,
        "startLoc": {
          "line": 131,
          "column": 5,
          "position": 814
        },
        "endLoc": {
          "line": 146,
          "column": 18,
          "position": 910
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('query'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 167,
        "end": 182,
        "startLoc": {
          "line": 167,
          "column": 16,
          "position": 1051
        },
        "endLoc": {
          "line": 182,
          "column": 8,
          "position": 1153
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('parseInt'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 203,
        "end": 218,
        "startLoc": {
          "line": 203,
          "column": 6,
          "position": 1282
        },
        "endLoc": {
          "line": 218,
          "column": 11,
          "position": 1378
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 88,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('info', () => {\n    it('should info successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.info(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.info(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('catch', () => {\n    it('should catch successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.catch(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.catch(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('error'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 239,
        "end": 326,
        "startLoc": {
          "line": 239,
          "column": 9,
          "position": 1507
        },
        "endLoc": {
          "line": 326,
          "column": 8,
          "position": 2053
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('performAction', () => {\n    it('should performAction successfully - happy path', async",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 347,
        "end": 363,
        "startLoc": {
          "line": 347,
          "column": 6,
          "position": 2182
        },
        "endLoc": {
          "line": 363,
          "column": 6,
          "position": 2294
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 75,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 75,
          "column": 2,
          "position": 476
        }
      }
    },
    {
      "format": "typescript",
      "lines": 196,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('query', () => {\n    it('should query successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.query(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.query(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('info', () => {\n    it('should info successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.info(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.info(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('catch', () => {\n    it('should catch successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.catch(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.catch(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('error', () => {\n    it('should error successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.error(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.error(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('performComplexAction'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 383,
        "end": 578,
        "startLoc": {
          "line": 383,
          "column": 14,
          "position": 2419
        },
        "endLoc": {
          "line": 578,
          "column": 23,
          "position": 3646
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 110,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('info'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 599,
        "end": 614,
        "startLoc": {
          "line": 599,
          "column": 21,
          "position": 3787
        },
        "endLoc": {
          "line": 614,
          "column": 7,
          "position": 3889
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 43,
      "fragment": "() => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('info', () => {\n    it('should info successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.info(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.info(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('createExampleDIService'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 608,
        "end": 650,
        "startLoc": {
          "line": 608,
          "column": 2,
          "position": 3853
        },
        "endLoc": {
          "line": 650,
          "column": 25,
          "position": 4114
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 104,
        "end": 110,
        "startLoc": {
          "line": 104,
          "column": 2,
          "position": 649
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('ExampleDIService'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 671,
        "end": 686,
        "startLoc": {
          "line": 671,
          "column": 23,
          "position": 4243
        },
        "endLoc": {
          "line": 686,
          "column": 19,
          "position": 4339
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('class'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 707,
        "end": 722,
        "startLoc": {
          "line": 707,
          "column": 17,
          "position": 4468
        },
        "endLoc": {
          "line": 722,
          "column": 8,
          "position": 4564
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/example-di.service.test.ts",
        "start": 743,
        "end": 760,
        "startLoc": {
          "line": 743,
          "column": 6,
          "position": 4693
        },
        "endLoc": {
          "line": 760,
          "column": 2,
          "position": 4808
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 544,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 544,
          "column": 6,
          "position": 3458
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new WorkorderService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 17,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 17,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getById'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 7,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 10,
          "position": 478
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('create'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 8,
          "position": 619
        },
        "endLoc": {
          "line": 110,
          "column": 9,
          "position": 721
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('workorders'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 131,
        "end": 146,
        "startLoc": {
          "line": 131,
          "column": 7,
          "position": 862
        },
        "endLoc": {
          "line": 146,
          "column": 13,
          "position": 964
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('update'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 167,
        "end": 182,
        "startLoc": {
          "line": 167,
          "column": 11,
          "position": 1093
        },
        "endLoc": {
          "line": 182,
          "column": 9,
          "position": 1189
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 52,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 203,
        "end": 254,
        "startLoc": {
          "line": 203,
          "column": 7,
          "position": 1330
        },
        "endLoc": {
          "line": 254,
          "column": 6,
          "position": 1657
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 110,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('delete'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 275,
        "end": 290,
        "startLoc": {
          "line": 275,
          "column": 4,
          "position": 1786
        },
        "endLoc": {
          "line": 290,
          "column": 9,
          "position": 1882
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 311,
        "end": 326,
        "startLoc": {
          "line": 311,
          "column": 7,
          "position": 2023
        },
        "endLoc": {
          "line": 326,
          "column": 6,
          "position": 2125
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 66,
      "fragment": "() => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 320,
        "end": 385,
        "startLoc": {
          "line": 320,
          "column": 2,
          "position": 2089
        },
        "endLoc": {
          "line": 385,
          "column": 2,
          "position": 2524
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 248,
        "end": 565,
        "startLoc": {
          "line": 248,
          "column": 2,
          "position": 1621
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new VehicleService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/VehicleService.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 15,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 15,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getVehicleById'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/VehicleService.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 15,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 17,
          "position": 478
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('createVehicle'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/VehicleService.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 15,
          "position": 619
        },
        "endLoc": {
          "line": 110,
          "column": 16,
          "position": 721
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 52,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('vehicles'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/VehicleService.test.ts",
        "start": 131,
        "end": 182,
        "startLoc": {
          "line": 131,
          "column": 14,
          "position": 862
        },
        "endLoc": {
          "line": 182,
          "column": 11,
          "position": 1189
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 110,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('updateVehicle'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/VehicleService.test.ts",
        "start": 203,
        "end": 218,
        "startLoc": {
          "line": 203,
          "column": 9,
          "position": 1318
        },
        "endLoc": {
          "line": 218,
          "column": 16,
          "position": 1414
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 88,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('deleteVehicle'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/VehicleService.test.ts",
        "start": 239,
        "end": 326,
        "startLoc": {
          "line": 239,
          "column": 14,
          "position": 1555
        },
        "endLoc": {
          "line": 326,
          "column": 16,
          "position": 2107
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 110,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 75,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/VehicleService.test.ts",
        "start": 347,
        "end": 421,
        "startLoc": {
          "line": 347,
          "column": 14,
          "position": 2248
        },
        "endLoc": {
          "line": 421,
          "column": 2,
          "position": 2749
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 565,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new RouteService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/RouteService.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 13,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 13,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 116,
      "fragment": "(mockDb, mockLogger);\n  });\n\n  afterEach(() => {\n    vi.clearAllMocks();\n  });\n\n  describe('getAll', () => {\n    it('should getAll successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.getAll(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.getAll(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getById', () => {\n    it('should getById successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.getById(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.getById(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('create', () => {\n    it('should create successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.create(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.create(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('routes'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/RouteService.test.ts",
        "start": 31,
        "end": 146,
        "startLoc": {
          "line": 31,
          "column": 13,
          "position": 194
        },
        "endLoc": {
          "line": 146,
          "column": 9,
          "position": 964
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 31,
        "end": 74,
        "startLoc": {
          "line": 31,
          "column": 17,
          "position": 194
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 219,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('update', () => {\n    it('should update successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.update(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.update(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('delete', () => {\n    it('should delete successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.delete(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.delete(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/RouteService.test.ts",
        "start": 167,
        "end": 385,
        "startLoc": {
          "line": 167,
          "column": 7,
          "position": 1093
        },
        "endLoc": {
          "line": 385,
          "column": 2,
          "position": 2524
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 565,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new MaintenanceService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/MaintenanceService.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 19,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 19,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 116,
      "fragment": "(mockDb, mockLogger);\n  });\n\n  afterEach(() => {\n    vi.clearAllMocks();\n  });\n\n  describe('getAll', () => {\n    it('should getAll successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.getAll(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.getAll(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getById', () => {\n    it('should getById successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.getById(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.getById(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('create', () => {\n    it('should create successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.create(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.create(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('maintenances'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/MaintenanceService.test.ts",
        "start": 31,
        "end": 146,
        "startLoc": {
          "line": 31,
          "column": 19,
          "position": 194
        },
        "endLoc": {
          "line": 146,
          "column": 15,
          "position": 964
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 31,
        "end": 74,
        "startLoc": {
          "line": 31,
          "column": 17,
          "position": 194
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('validateMaintenanceData'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/MaintenanceService.test.ts",
        "start": 167,
        "end": 182,
        "startLoc": {
          "line": 167,
          "column": 13,
          "position": 1093
        },
        "endLoc": {
          "line": 182,
          "column": 26,
          "position": 1189
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 592,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('update', () => {\n    it('should update successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.update(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.update(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('validateStatusTransition'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/MaintenanceService.test.ts",
        "start": 203,
        "end": 794,
        "startLoc": {
          "line": 203,
          "column": 24,
          "position": 1318
        },
        "endLoc": {
          "line": 794,
          "column": 27,
          "position": 5032
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 147,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('delete', () => {\n    it('should delete successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.delete(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.delete(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/MaintenanceService.test.ts",
        "start": 815,
        "end": 961,
        "startLoc": {
          "line": 815,
          "column": 25,
          "position": 5161
        },
        "endLoc": {
          "line": 961,
          "column": 2,
          "position": 6124
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 565,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new InspectionService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/InspectionService.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 18,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 18,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 116,
      "fragment": "(mockDb, mockLogger);\n  });\n\n  afterEach(() => {\n    vi.clearAllMocks();\n  });\n\n  describe('getAll', () => {\n    it('should getAll successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.getAll(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.getAll(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getById', () => {\n    it('should getById successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.getById(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.getById(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('create', () => {\n    it('should create successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.create(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.create(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('inspections'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/InspectionService.test.ts",
        "start": 31,
        "end": 146,
        "startLoc": {
          "line": 31,
          "column": 18,
          "position": 194
        },
        "endLoc": {
          "line": 146,
          "column": 14,
          "position": 964
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 31,
        "end": 74,
        "startLoc": {
          "line": 31,
          "column": 17,
          "position": 194
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 219,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('update', () => {\n    it('should update successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.update(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.update(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('delete', () => {\n    it('should delete successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.delete(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.delete(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/InspectionService.test.ts",
        "start": 167,
        "end": 385,
        "startLoc": {
          "line": 167,
          "column": 12,
          "position": 1093
        },
        "endLoc": {
          "line": 385,
          "column": 2,
          "position": 2524
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 565,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new FueltransactionService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/FuelTransactionService.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 116,
      "fragment": "(mockDb, mockLogger);\n  });\n\n  afterEach(() => {\n    vi.clearAllMocks();\n  });\n\n  describe('getAll', () => {\n    it('should getAll successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.getAll(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.getAll(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getById', () => {\n    it('should getById successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.getById(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.getById(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('create', () => {\n    it('should create successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.create(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.create(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('fueltransactions'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/FuelTransactionService.test.ts",
        "start": 31,
        "end": 146,
        "startLoc": {
          "line": 31,
          "column": 23,
          "position": 194
        },
        "endLoc": {
          "line": 146,
          "column": 19,
          "position": 964
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/WorkOrderService.test.ts",
        "start": 31,
        "end": 74,
        "startLoc": {
          "line": 31,
          "column": 17,
          "position": 194
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 219,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('update', () => {\n    it('should update successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.update(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.update(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('delete', () => {\n    it('should delete successfully - happy path', async () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = await service.delete(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', async () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      await expect(async () => {\n        await service.delete(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/FuelTransactionService.test.ts",
        "start": 167,
        "end": 385,
        "startLoc": {
          "line": 167,
          "column": 17,
          "position": 1093
        },
        "endLoc": {
          "line": 385,
          "column": 2,
          "position": 2524
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 565,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n  let mockDb: any;\n  let mockLogger: any;\n\n  beforeEach(() => {\n    // Mock database\n    mockDb = {\n      query: vi.fn(),\n      transaction: vi.fn(),\n    };\n\n    // Mock logger\n    mockLogger = {\n      info: vi.fn(),\n      error: vi.fn(),\n      warn: vi.fn(),\n    };\n\n    // Initialize service with mocks\n    // Dependencies: db, logger, cache, emailService\n    service = new DriverService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/DriverService.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 14,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 14,
          "position": 193
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 23,
          "position": 64
        },
        "endLoc": {
          "line": 31,
          "column": 23,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getDriverById'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/DriverService.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 14,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 16,
          "position": 478
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('createDriver'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/DriverService.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 14,
          "position": 619
        },
        "endLoc": {
          "line": 110,
          "column": 15,
          "position": 721
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 52,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('drivers'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/DriverService.test.ts",
        "start": 131,
        "end": 182,
        "startLoc": {
          "line": 131,
          "column": 13,
          "position": 862
        },
        "endLoc": {
          "line": 182,
          "column": 10,
          "position": 1189
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 110,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('updateDriver'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/DriverService.test.ts",
        "start": 203,
        "end": 218,
        "startLoc": {
          "line": 203,
          "column": 8,
          "position": 1318
        },
        "endLoc": {
          "line": 218,
          "column": 15,
          "position": 1414
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 95,
        "end": 110,
        "startLoc": {
          "line": 95,
          "column": 3,
          "position": 607
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 124,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('if', () => {\n    it('should if successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.if(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.if(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('deleteDriver'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/DriverService.test.ts",
        "start": 239,
        "end": 362,
        "startLoc": {
          "line": 239,
          "column": 13,
          "position": 1555
        },
        "endLoc": {
          "line": 362,
          "column": 15,
          "position": 2332
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 110,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 52,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('NOW', () => {\n    it('should NOW successfully - happy path', () => {\n      // Arrange\n      const testData = {\n        // TODO: Add appropriate test data\n      };\n\n      // Act\n      const result = service.NOW(testData);\n\n      // Assert\n      expect(result).toBeDefined();\n      // TODO: Add specific assertions\n    });\n\n    it('should handle invalid input', () => {\n      // Arrange\n      const invalidData = null;\n\n      // Act & Assert\n      expect(() => {\n        service.NOW(invalidData);\n      }).toThrow();\n    });\n\n    it('should validate required fields', () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('getDriverAssignments'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/DriverService.test.ts",
        "start": 383,
        "end": 434,
        "startLoc": {
          "line": 383,
          "column": 13,
          "position": 2473
        },
        "endLoc": {
          "line": 434,
          "column": 23,
          "position": 2800
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 110,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 110,
          "column": 6,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 39,
      "fragment": "(invalidData);\n      }).rejects.toThrow();\n    });\n\n    it('should validate required fields', async () => {\n      // TODO: Test field validation\n      expect(true).toBe(true);\n    });\n\n    it('should enforce business rules', async () => {\n      // TODO: Test business logic\n      expect(true).toBe(true);\n    });\n  });\n\n  // Tenant isolation tests\n  describe('tenant isolation', () => {\n    it('should enforce tenant boundaries', async () => {\n      // TODO: Test that tenant A cannot access tenant B's data\n      // This is critical for multi-tenant security\n      await expect(true).toBe(true);\n    });\n  });\n\n  // Error handling tests\n  describe('error handling', () => {\n    it('should handle database errors gracefully', async () => {\n      mockDb.query.mockRejectedValue(new Error('Database error'));\n\n      // TODO: Test error handling for each method\n      await expect(true).toBe(true);\n    });\n\n    it('should log errors appropriately', async () => {\n      // TODO: Verify error logging\n      await expect(true).toBe(true);\n    });\n  });\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/services/DriverService.test.ts",
        "start": 455,
        "end": 493,
        "startLoc": {
          "line": 455,
          "column": 21,
          "position": 2941
        },
        "endLoc": {
          "line": 493,
          "column": 2,
          "position": 3217
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/services/utilization-calc.service.test.ts",
        "start": 59,
        "end": 565,
        "startLoc": {
          "line": 59,
          "column": 26,
          "position": 376
        },
        "endLoc": {
          "line": 565,
          "column": 2,
          "position": 3613
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "),\n  phone: z.string().max(20).optional(),\n  department: z.string().max(100).optional(),\n  job_title: z.string().max(100).optional(),\n  employee_id: z.string().max(50).optional(),\n  license_number: z.string().max(50).optional(),\n  license_state: z.string().length(2).optional(),\n  license_expiry: z.string().datetime().optional(),\n  emergency_contact",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 36,
        "end": 44,
        "startLoc": {
          "line": 36,
          "column": 2,
          "position": 443
        },
        "endLoc": {
          "line": 44,
          "column": 18,
          "position": 586
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 17,
        "end": 25,
        "startLoc": {
          "line": 17,
          "column": 4,
          "position": 98
        },
        "endLoc": {
          "line": 25,
          "column": 10,
          "position": 241
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ": z.string().datetime().optional(),\n  emergency_contact: z.string().max(255).optional(),\n  emergency_phone: z.string().max(20).optional(),\n  address: z.string().max(255).optional(),\n  city: z.string().max(100).optional(),\n  state: z.string().max(50).optional(),\n  zip_code: z.string().max(20).optional()\n})\n\n// ============================================================================",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 43,
        "end": 52,
        "startLoc": {
          "line": 43,
          "column": 15,
          "position": 568
        },
        "endLoc": {
          "line": 52,
          "column": 80,
          "position": 708
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 25,
        "end": 34,
        "startLoc": {
          "line": 25,
          "column": 10,
          "position": 242
        },
        "endLoc": {
          "line": 34,
          "column": 7,
          "position": 382
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "),\n  license_plate: z.string().max(20).optional(),\n  license_state: z.string().length(2).optional(),\n  vehicle_type: z.string().max(50).optional(),\n  fuel_type: z.string().max(50).optional(),\n  color: z.string().max(50).optional(),\n  current_mileage: z.number().int().min(0).optional(),\n  department",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 110,
        "end": 117,
        "startLoc": {
          "line": 110,
          "column": 2,
          "position": 1577
        },
        "endLoc": {
          "line": 117,
          "column": 11,
          "position": 1705
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 80,
        "end": 87,
        "startLoc": {
          "line": 80,
          "column": 2,
          "position": 1008
        },
        "endLoc": {
          "line": 87,
          "column": 14,
          "position": 1136
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ").optional(),\n  department: z.string().max(100).optional(),\n  location: z.string().max(255).optional(),\n  notes: z.string().optional(),\n  engine_type: z.string().max(100).optional(),\n  transmission: z.string().max(50).optional(),\n  seating_capacity: z.number().int().min(1).max(100).optional(),\n  // Multi-asset fields\n  asset_category: z.string().max(50).optional(),\n  asset_type: z.string().max(50).optional(),\n  power_type: z.string().max(50).optional(),\n  operational_status: z.string().max(50).optional(),\n  primary_metric: z.string().max(50).optional(),\n  is_road_legal: z.boolean().optional(),\n  location_id: z.string().uuid().optional(),\n  group_id: z.string().uuid().optional(),\n  fleet_id: z.string().uuid().optional()\n})\n\n// ============================================================================",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 116,
        "end": 135,
        "startLoc": {
          "line": 116,
          "column": 2,
          "position": 1697
        },
        "endLoc": {
          "line": 135,
          "column": 80,
          "position": 2006
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 88,
        "end": 107,
        "startLoc": {
          "line": 88,
          "column": 2,
          "position": 1166
        },
        "endLoc": {
          "line": 107,
          "column": 7,
          "position": 1475
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "),\n  contact_name: z.string().max(255).optional(),\n  email: z.string().email().optional(),\n  phone: z.string().max(20).optional(),\n  address: z.string().max(255).optional(),\n  city: z.string().max(100).optional(),\n  state: z.string().max(50).optional(),\n  zip_code: z.string().max(20).optional(),\n  website: z.string().url().optional().or(z.literal('')),\n  vendor_type: z.string().max(50).optional(),\n  payment_terms: z.string().max(100).optional(),\n  tax_id: z.string().max(50).optional(),\n  notes: z.string().optional(),\n  primary_contact: z.string().max(255).optional(),\n  secondary_contact: z.string().max(255).optional(),\n  preferred_payment_method: z.string().max(50).optional()\n})\n\n// ============================================================================",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 159,
        "end": 177,
        "startLoc": {
          "line": 159,
          "column": 2,
          "position": 2393
        },
        "endLoc": {
          "line": 177,
          "column": 80,
          "position": 2702
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 140,
        "end": 158,
        "startLoc": {
          "line": 140,
          "column": 4,
          "position": 2048
        },
        "endLoc": {
          "line": 158,
          "column": 7,
          "position": 2357
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "),\n  due_date: z.string().datetime().optional(),\n  shipping_address: z.string().max(500).optional(),\n  billing_address: z.string().max(500).optional(),\n  notes: z.string().optional(),\n  line_items: z.array(z.any()).optional(),\n  tax_amount: z.number().min(0).optional(),\n  shipping_amount: z.number().min(0).optional(),\n  priority: z.enum(['low', 'medium', 'high', 'urgent']).optional",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 202,
        "end": 210,
        "startLoc": {
          "line": 202,
          "column": 2,
          "position": 3099
        },
        "endLoc": {
          "line": 210,
          "column": 9,
          "position": 3258
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 186,
        "end": 194,
        "startLoc": {
          "line": 186,
          "column": 6,
          "position": 2817
        },
        "endLoc": {
          "line": 194,
          "column": 8,
          "position": 2976
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(),\n  mileage: z.number().int().min(0).optional(),\n  location: z.string().max(255).optional(),\n  notes: z.string().optional(),\n  inspection_items: z.array(z.any()).optional(),\n  defects_found: z.array(z.any()).optional(),\n  maintenance_required: z.boolean().optional()\n})\n\n// ============================================================================",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 232,
        "end": 241,
        "startLoc": {
          "line": 232,
          "column": 9,
          "position": 3533
        },
        "endLoc": {
          "line": 241,
          "column": 80,
          "position": 3654
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 221,
        "end": 230,
        "startLoc": {
          "line": 221,
          "column": 9,
          "position": 3358
        },
        "endLoc": {
          "line": 230,
          "column": 7,
          "position": 3479
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "(),\n  last_service_date: z.string().datetime().optional(),\n  last_service_mileage: z.number().int().min(0).optional(),\n  next_service_date: z.string().datetime().optional(),\n  next_service_mileage: z.number().int().min(0).optional(),\n  estimated_cost: z.number().positive().optional(),\n  priority: z.enum(['low', 'medium', 'high', 'critical']).optional",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 264,
        "end": 270,
        "startLoc": {
          "line": 264,
          "column": 9,
          "position": 4017
        },
        "endLoc": {
          "line": 270,
          "column": 9,
          "position": 4148
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 250,
        "end": 256,
        "startLoc": {
          "line": 250,
          "column": 9,
          "position": 3765
        },
        "endLoc": {
          "line": 256,
          "column": 8,
          "position": 3896
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "),\n  due_date: z.string().datetime().optional(),\n  estimated_cost: z.number().positive().optional(),\n  estimated_hours: z.number().positive().optional(),\n  assigned_to: z.string().uuid().optional(),\n  parts_required: z.array(z.any()).optional(),\n  notes: z.string().optional()\n})\n\n// ============================================================================",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 294,
        "end": 303,
        "startLoc": {
          "line": 294,
          "column": 2,
          "position": 4467
        },
        "endLoc": {
          "line": 303,
          "column": 80,
          "position": 4584
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 282,
        "end": 291,
        "startLoc": {
          "line": 282,
          "column": 9,
          "position": 4272
        },
        "endLoc": {
          "line": 291,
          "column": 7,
          "position": 4389
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "),\n  mileage: z.number().int().min(0).optional(),\n  location: z.string().max(255).optional(),\n  fuel_type: z.string().max(50).optional(),\n  receipt_number: z.string().max(100).optional(),\n  notes: z.string().optional()\n})\n\n// ============================================================================",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 325,
        "end": 333,
        "startLoc": {
          "line": 325,
          "column": 2,
          "position": 4893
        },
        "endLoc": {
          "line": 333,
          "column": 80,
          "position": 4998
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 313,
        "end": 321,
        "startLoc": {
          "line": 313,
          "column": 36,
          "position": 4701
        },
        "endLoc": {
          "line": 321,
          "column": 7,
          "position": 4806
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "),\n  injuries: z.boolean().optional(),\n  property_damage: z.boolean().optional(),\n  police_report_number: z.string().max(100).optional(),\n  witness_names: z.array(z.string()).optional(),\n  witness_contacts: z.array(z.string()).optional(),\n  notes: z.string().optional()\n})\n\n// ============================================================================",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 358,
        "end": 367,
        "startLoc": {
          "line": 358,
          "column": 2,
          "position": 5386
        },
        "endLoc": {
          "line": 367,
          "column": 80,
          "position": 5497
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 344,
        "end": 353,
        "startLoc": {
          "line": 344,
          "column": 26,
          "position": 5153
        },
        "endLoc": {
          "line": 353,
          "column": 7,
          "position": 5264
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ").optional(),\n  address: z.string().max(255).optional(),\n  city: z.string().max(100).optional(),\n  state: z.string().max(50).optional(),\n  zip_code: z.string().max(20).optional(),\n  is_active",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 376,
        "end": 381,
        "startLoc": {
          "line": 376,
          "column": 2,
          "position": 5610
        },
        "endLoc": {
          "line": 381,
          "column": 10,
          "position": 5698
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 27,
        "end": 148,
        "startLoc": {
          "line": 27,
          "column": 3,
          "position": 292
        },
        "endLoc": {
          "line": 148,
          "column": 8,
          "position": 2191
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "),\n  radius: z.number().positive().optional(),\n  address: z.string().max(255).optional(),\n  city: z.string().max(100).optional(),\n  state: z.string().max(50).optional(),\n  zip_code: z.string().max(20).optional(),\n  is_active: z.boolean().optional",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 391,
        "end": 397,
        "startLoc": {
          "line": 391,
          "column": 2,
          "position": 5865
        },
        "endLoc": {
          "line": 397,
          "column": 9,
          "position": 5977
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 375,
        "end": 381,
        "startLoc": {
          "line": 375,
          "column": 23,
          "position": 5595
        },
        "endLoc": {
          "line": 381,
          "column": 8,
          "position": 5707
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ").optional(),\n  address: z.string().max(255).optional(),\n  city: z.string().max(100).optional(),\n  state: z.string().max(50).optional(),\n  zip_code: z.string().max(20).optional(),\n  country",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 409,
        "end": 414,
        "startLoc": {
          "line": 409,
          "column": 4,
          "position": 6093
        },
        "endLoc": {
          "line": 414,
          "column": 8,
          "position": 6181
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 27,
        "end": 148,
        "startLoc": {
          "line": 27,
          "column": 3,
          "position": 292
        },
        "endLoc": {
          "line": 148,
          "column": 8,
          "position": 2191
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "),\n  facility_type: z.string().max(100).optional(),\n  address: z.string().max(255).optional(),\n  city: z.string().max(100).optional(),\n  state: z.string().max(50).optional(),\n  zip_code: z.string().max(20).optional(),\n  country: z.string().max(100).optional",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 426,
        "end": 432,
        "startLoc": {
          "line": 426,
          "column": 2,
          "position": 6410
        },
        "endLoc": {
          "line": 432,
          "column": 9,
          "position": 6528
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 408,
        "end": 414,
        "startLoc": {
          "line": 408,
          "column": 4,
          "position": 6077
        },
        "endLoc": {
          "line": 414,
          "column": 8,
          "position": 6195
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "),\n  latitude: z.number().min(-90).max(90).optional(),\n  longitude: z.number().min(-180).max(180).optional(),\n  capacity: z.number().int().min(0).optional(),\n  operating_hours: z.string().max(255).optional(),\n  contact_name: z.string().max(255).optional(),\n  contact_phone: z.string().max(20).optional(),\n  contact_email: z.string().email().optional(),\n  notes: z.string().optional()\n})",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 432,
        "end": 441,
        "startLoc": {
          "line": 432,
          "column": 2,
          "position": 6530
        },
        "endLoc": {
          "line": 441,
          "column": 2,
          "position": 6703
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 414,
        "end": 423,
        "startLoc": {
          "line": 414,
          "column": 6,
          "position": 6198
        },
        "endLoc": {
          "line": 423,
          "column": 2,
          "position": 6371
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "<T = any>(\n  url: string,\n  data?: any,\n  options: SafeRequestOptions = {}\n): Promise<AxiosResponse<T>> {\n  const {\n    allowedDomains,\n    allowPrivateIPs,\n    skipDnsCheck,\n    timeout = 30000,\n    maxRedirects = 5,\n    ...axiosConfig\n  } = options;\n\n  await validateOutboundUrl(url, { allowedDomains, allowPrivateIPs, skipDnsCheck });\n\n  return axios.put",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/ssrf-protection.ts",
        "start": 489,
        "end": 505,
        "startLoc": {
          "line": 489,
          "column": 8,
          "position": 2752
        },
        "endLoc": {
          "line": 505,
          "column": 4,
          "position": 2873
        }
      },
      "secondFile": {
        "name": "api/src/utils/ssrf-protection.ts",
        "start": 463,
        "end": 479,
        "startLoc": {
          "line": 463,
          "column": 9,
          "position": 2588
        },
        "endLoc": {
          "line": 479,
          "column": 5,
          "position": 2709
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "<T = any>(\n  url: string,\n  data?: any,\n  options: SafeRequestOptions = {}\n): Promise<AxiosResponse<T>> {\n  const {\n    allowedDomains,\n    allowPrivateIPs,\n    skipDnsCheck,\n    timeout = 30000,\n    maxRedirects = 5,\n    ...axiosConfig\n  } = options;\n\n  await validateOutboundUrl(url, { allowedDomains, allowPrivateIPs, skipDnsCheck });\n\n  return axios.patch",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/ssrf-protection.ts",
        "start": 515,
        "end": 531,
        "startLoc": {
          "line": 515,
          "column": 10,
          "position": 2916
        },
        "endLoc": {
          "line": 531,
          "column": 6,
          "position": 3037
        }
      },
      "secondFile": {
        "name": "api/src/utils/ssrf-protection.ts",
        "start": 463,
        "end": 479,
        "startLoc": {
          "line": 463,
          "column": 9,
          "position": 2588
        },
        "endLoc": {
          "line": 479,
          "column": 5,
          "position": 2709
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n  options: SafeRequestOptions = {}\n): Promise<AxiosResponse<T>> {\n  const {\n    allowedDomains,\n    allowPrivateIPs,\n    skipDnsCheck,\n    timeout = 30000,\n    maxRedirects = 5,\n    ...axiosConfig\n  } = options;\n\n  await validateOutboundUrl(url, { allowedDomains, allowPrivateIPs, skipDnsCheck });\n\n  return axios.delete",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/ssrf-protection.ts",
        "start": 542,
        "end": 556,
        "startLoc": {
          "line": 542,
          "column": 7,
          "position": 3094
        },
        "endLoc": {
          "line": 556,
          "column": 7,
          "position": 3193
        }
      },
      "secondFile": {
        "name": "api/src/utils/ssrf-protection.ts",
        "start": 465,
        "end": 479,
        "startLoc": {
          "line": 465,
          "column": 4,
          "position": 2610
        },
        "endLoc": {
          "line": 479,
          "column": 5,
          "position": 2709
        }
      }
    },
    {
      "format": "python",
      "lines": 13,
      "fragment": "import shutil\n\n    validated_source = validate_path_within_directory(source_path, allowed_directory)\n    validated_dest = validate_path_within_directory(dest_path, allowed_directory)\n\n    if not os.path.exists(validated_source):\n        raise FileNotFoundError(f\"Source file not found: {source_path}\")\n\n    # Ensure destination directory exists\n    parent_dir = os.path.dirname(validated_dest)\n    os.makedirs(parent_dir, exist_ok=True)\n\n    shutil.move",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/safe_file_operations.py",
        "start": 354,
        "end": 366,
        "startLoc": {
          "line": 354,
          "column": 5,
          "position": 1520
        },
        "endLoc": {
          "line": 366,
          "column": 5,
          "position": 1611
        }
      },
      "secondFile": {
        "name": "api/src/utils/safe_file_operations.py",
        "start": 322,
        "end": 334,
        "startLoc": {
          "line": 322,
          "column": 5,
          "position": 1382
        },
        "endLoc": {
          "line": 334,
          "column": 6,
          "position": 1473
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n  options: SafeRequestOptions = {}\n): Promise<AxiosResponse<T>> {\n  const {\n    allowedDomains,\n    allowPrivateIPs = false,\n    maxRedirects = 5,\n    timeout = 30000,\n    ...axiosConfig\n  } = options\n\n  // Validate URL\n  validateURL(url, { allowedDomains, allowPrivateIPs })\n\n  // Make request with safety options\n  return axios.post",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/safe-http-request.ts",
        "start": 218,
        "end": 233,
        "startLoc": {
          "line": 218,
          "column": 4,
          "position": 1374
        },
        "endLoc": {
          "line": 233,
          "column": 5,
          "position": 1472
        }
      },
      "secondFile": {
        "name": "api/src/utils/safe-http-request.ts",
        "start": 190,
        "end": 205,
        "startLoc": {
          "line": 190,
          "column": 7,
          "position": 1196
        },
        "endLoc": {
          "line": 205,
          "column": 4,
          "position": 1294
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "<T = any>(\n  url: string,\n  data?: any,\n  options: SafeRequestOptions = {}\n): Promise<AxiosResponse<T>> {\n  const {\n    allowedDomains,\n    allowPrivateIPs = false,\n    maxRedirects = 5,\n    timeout = 30000,\n    ...axiosConfig\n  } = options\n\n  // Validate URL\n  validateURL(url, { allowedDomains, allowPrivateIPs })\n\n  // Make request with safety options\n  return axios.put",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/safe-http-request.ts",
        "start": 243,
        "end": 260,
        "startLoc": {
          "line": 243,
          "column": 8,
          "position": 1514
        },
        "endLoc": {
          "line": 260,
          "column": 4,
          "position": 1634
        }
      },
      "secondFile": {
        "name": "api/src/utils/safe-http-request.ts",
        "start": 216,
        "end": 205,
        "startLoc": {
          "line": 216,
          "column": 9,
          "position": 1352
        },
        "endLoc": {
          "line": 205,
          "column": 4,
          "position": 1294
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "<T = any>(\n  url: string,\n  options: SafeRequestOptions = {}\n): Promise<AxiosResponse<T>> {\n  const {\n    allowedDomains,\n    allowPrivateIPs = false,\n    maxRedirects = 5,\n    timeout = 30000,\n    ...axiosConfig\n  } = options\n\n  // Validate URL\n  validateURL(url, { allowedDomains, allowPrivateIPs })\n\n  // Make request with safety options\n  return axios.delete",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/safe-http-request.ts",
        "start": 270,
        "end": 286,
        "startLoc": {
          "line": 270,
          "column": 11,
          "position": 1676
        },
        "endLoc": {
          "line": 286,
          "column": 7,
          "position": 1788
        }
      },
      "secondFile": {
        "name": "api/src/utils/safe-http-request.ts",
        "start": 189,
        "end": 205,
        "startLoc": {
          "line": 189,
          "column": 8,
          "position": 1182
        },
        "endLoc": {
          "line": 205,
          "column": 4,
          "position": 1294
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "(\n  sourcePath: string,\n  destPath: string,\n  allowedDirectory: string\n): Promise<void> {\n  const validatedSourcePath = validatePathWithinDirectory(sourcePath, allowedDirectory);\n  const validatedDestPath = validatePathWithinDirectory(destPath, allowedDirectory);\n\n  // Ensure destination directory exists\n  await fs.mkdir(path.dirname(validatedDestPath), { recursive: true });\n\n  await fs.rename",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/safe-file-operations.ts",
        "start": 269,
        "end": 280,
        "startLoc": {
          "line": 269,
          "column": 13,
          "position": 1436
        },
        "endLoc": {
          "line": 280,
          "column": 7,
          "position": 1536
        }
      },
      "secondFile": {
        "name": "api/src/utils/safe-file-operations.ts",
        "start": 252,
        "end": 263,
        "startLoc": {
          "line": 252,
          "column": 13,
          "position": 1315
        },
        "endLoc": {
          "line": 263,
          "column": 9,
          "position": 1415
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "const hasAccess = userRoles.some(role => rule.allowedRoles.includes(role))\n\n        if (!hasAccess) {\n          const maskedValue = maskValue(maskedRecord[rule.field], rule.maskingStrategy)\n          if (maskedValue === undefined) {\n            delete maskedRecord[rule.field]\n          } else {\n            maskedRecord[rule.field] = maskedValue\n          }\n        }\n      }\n    }\n\n    return maskedRecord\n  })",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/fieldMasking.ts",
        "start": 294,
        "end": 308,
        "startLoc": {
          "line": 294,
          "column": 9,
          "position": 1957
        },
        "endLoc": {
          "line": 308,
          "column": 2,
          "position": 2076
        }
      },
      "secondFile": {
        "name": "api/src/utils/fieldMasking.ts",
        "start": 258,
        "end": 276,
        "startLoc": {
          "line": 258,
          "column": 7,
          "position": 1669
        },
        "endLoc": {
          "line": 276,
          "column": 4,
          "position": 1789
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "|| [],\n        enforceTenantIsolation: true,\n        resourceType: config.resourceType,\n      }),\n      config.schemas.params ? validateParams(config.schemas.params) : (req, res, next) => next(),\n      asyncHandler(async (req, res) => {\n        await",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/crud-route-factory.ts",
        "start": 244,
        "end": 250,
        "startLoc": {
          "line": 244,
          "column": 2,
          "position": 1828
        },
        "endLoc": {
          "line": 250,
          "column": 6,
          "position": 1909
        }
      },
      "secondFile": {
        "name": "api/src/utils/crud-route-factory.ts",
        "start": 160,
        "end": 166,
        "startLoc": {
          "line": 160,
          "column": 2,
          "position": 1140
        },
        "endLoc": {
          "line": 166,
          "column": 6,
          "position": 1221
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "<T>(\n  res: Response,\n  data: T,\n  meta?: Partial<ApiResponse['meta']>\n): Response {\n  const response: ApiResponse<T> = {\n    success: true,\n    data,\n    meta: {\n      timestamp: new Date().toISOString(),\n      ...meta\n    }\n  };\n\n  return res.status(201",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/utils/api-response.ts",
        "start": 55,
        "end": 69,
        "startLoc": {
          "line": 55,
          "column": 16,
          "position": 282
        },
        "endLoc": {
          "line": 69,
          "column": 4,
          "position": 387
        }
      },
      "secondFile": {
        "name": "api/src/utils/api-response.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 16,
          "position": 158
        },
        "endLoc": {
          "line": 49,
          "column": 4,
          "position": 263
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ", tenantId]\n      )\n\n      if (result.rows.length === 0) {\n        return null\n      }\n\n      const vehicle = result.rows[0]\n      return {\n        vehicleId: vehicle.id,\n        vehicleNumber: vehicle.vehicle_number,\n        vin: vehicle.vin,\n        licensePlate: vehicle.license_plate,\n        make: vehicle.make,\n        model: vehicle.model,\n        year: vehicle.year,\n        qrCode: vehicle.qr_code\n      }\n    } catch (error) {\n      console.error('Error identifying vehicle by license plate:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/vehicle-identification.service.ts",
        "start": 176,
        "end": 195,
        "startLoc": {
          "line": 176,
          "column": 11,
          "position": 770
        },
        "endLoc": {
          "line": 195,
          "column": 46,
          "position": 914
        }
      },
      "secondFile": {
        "name": "api/src/services/vehicle-identification.service.ts",
        "start": 103,
        "end": 122,
        "startLoc": {
          "line": 103,
          "column": 10,
          "position": 477
        },
        "endLoc": {
          "line": 122,
          "column": 40,
          "position": 621
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ".mentions = mentions.map((mention, index) => ({\n          id: index,\n          mentionText: mention.mentionText || `@${mention.displayName}`,\n          mentioned: {\n            user: {\n              id: mention.userId,\n              displayName: mention.displayName,\n              userIdentityType: 'aadUser'\n            }\n          }\n        }))\n      }\n\n      // Add attachments if provided\n      if (attachments && attachments.length > 0) {\n        replyBody",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/teams.service.ts",
        "start": 235,
        "end": 250,
        "startLoc": {
          "line": 235,
          "column": 10,
          "position": 1538
        },
        "endLoc": {
          "line": 250,
          "column": 10,
          "position": 1659
        }
      },
      "secondFile": {
        "name": "api/src/services/teams.service.ts",
        "start": 152,
        "end": 167,
        "startLoc": {
          "line": 152,
          "column": 12,
          "position": 927
        },
        "endLoc": {
          "line": 167,
          "column": 12,
          "position": 1048
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ",\n    tenantId: string,\n    createdBy?: string\n  ): Promise<string> {\n    try {\n      const from = message.from || this.fromNumber;\n\n      if (!from) {\n        throw new Error('No from number configured');\n      }\n\n      // Log message to database\n      const logId = await this.logMessage({\n        tenantId,\n        to: message.to,\n        from,\n        body: message.body,\n        status: 'sending',\n        createdBy,\n      });\n\n      // Send via Twilio",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/sms.service.ts",
        "start": 154,
        "end": 175,
        "startLoc": {
          "line": 154,
          "column": 2,
          "position": 1030
        },
        "endLoc": {
          "line": 175,
          "column": 19,
          "position": 1168
        }
      },
      "secondFile": {
        "name": "api/src/services/sms.service.ts",
        "start": 103,
        "end": 121,
        "startLoc": {
          "line": 103,
          "column": 11,
          "position": 668
        },
        "endLoc": {
          "line": 121,
          "column": 40,
          "position": 802
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "const result = await this.limiter.schedule(() =>\n        this.sendViaTwilio(message, from)\n      );\n\n      // Update log with success\n      await this.updateMessageLog(logId, {\n        status: 'sent',\n        messageSid: result.sid,\n        sentAt: new Date(),\n      });\n\n      return result.sid;\n    } catch (error: any) {\n      console.error(`Error sending MMS:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/sms.service.ts",
        "start": 176,
        "end": 189,
        "startLoc": {
          "line": 176,
          "column": 7,
          "position": 1171
        },
        "endLoc": {
          "line": 189,
          "column": 21,
          "position": 1281
        }
      },
      "secondFile": {
        "name": "api/src/services/sms.service.ts",
        "start": 122,
        "end": 135,
        "startLoc": {
          "line": 122,
          "column": 7,
          "position": 805
        },
        "endLoc": {
          "line": 135,
          "column": 21,
          "position": 915
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ")\n      const prefs = await this.getNotificationPreferences(reservation.reserved_by)\n\n      if (prefs.emailEnabled) {\n        await this.sendEmail(\n          reservation.reserved_by,\n          template.emailSubject,\n          template.emailBody,\n          tenantId,\n          'reservation',\n          reservation.id\n        )\n      }\n\n      if (prefs.teamsEnabled) {\n        await this.sendTeamsNotification(\n          reservation.reserved_by,\n          template.teamsMessage,\n          'reservation_rejected'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/scheduling-notification.service.ts",
        "start": 167,
        "end": 185,
        "startLoc": {
          "line": 167,
          "column": 2,
          "position": 952
        },
        "endLoc": {
          "line": 185,
          "column": 23,
          "position": 1062
        }
      },
      "secondFile": {
        "name": "api/src/services/scheduling-notification.service.ts",
        "start": 116,
        "end": 134,
        "startLoc": {
          "line": 116,
          "column": 12,
          "position": 645
        },
        "endLoc": {
          "line": 134,
          "column": 23,
          "position": 755
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "})\n      const prefs = await this.getNotificationPreferences(reservation.reserved_by)\n\n      if (prefs.emailEnabled) {\n        await this.sendEmail(\n          reservation.reserved_by,\n          template.emailSubject,\n          template.emailBody,\n          tenantId,\n          'reservation',\n          reservation.id\n        )\n      }\n\n      if (prefs.smsEnabled",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/scheduling-notification.service.ts",
        "start": 218,
        "end": 232,
        "startLoc": {
          "line": 218,
          "column": 7,
          "position": 1253
        },
        "endLoc": {
          "line": 232,
          "column": 11,
          "position": 1338
        }
      },
      "secondFile": {
        "name": "api/src/services/scheduling-notification.service.ts",
        "start": 167,
        "end": 130,
        "startLoc": {
          "line": 167,
          "column": 7,
          "position": 951
        },
        "endLoc": {
          "line": 130,
          "column": 13,
          "position": 729
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n      attachments: request.attachments?.map(att => ({\n        '@odata.type': '#microsoft.graph.fileAttachment',\n        name: att.name,\n        contentType: att.contentType,\n        contentBytes: att.contentBytes,\n        isInline: att.isInline || false,\n        contentId: att.contentId\n      }))\n    }\n  }\n\n  /**\n   * Log email to communications table for tracking\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/outlook.service.ts",
        "start": 775,
        "end": 789,
        "startLoc": {
          "line": 775,
          "column": 6,
          "position": 5736
        },
        "endLoc": {
          "line": 789,
          "column": 6,
          "position": 5824
        }
      },
      "secondFile": {
        "name": "api/src/services/outlook.service.ts",
        "start": 235,
        "end": 247,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 1627
        },
        "endLoc": {
          "line": 247,
          "column": 6,
          "position": 1715
        }
      }
    },
    {
      "format": "typescript",
      "lines": 30,
      "fragment": "SELECT \n      id,\n      tenant_id,\n      vin,\n      make,\n      model,\n      year,\n      license_plate,\n      vehicle_type,\n      fuel_type,\n      status,\n      odometer,\n      engine_hours,\n      purchase_date,\n      purchase_price,\n      current_value,\n      gps_device_id,\n      last_gps_update,\n      latitude,\n      longitude,\n      location,\n      speed,\n      heading,\n      assigned_driver_id,\n      assigned_facility_id,\n      telematics_data,\n      photos,\n      notes,\n      created_at,\n      updated_at FROM vehicles WHERE tenant_id",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/mobile-integration.service.ts",
        "start": 271,
        "end": 300,
        "startLoc": {
          "line": 271,
          "column": 8,
          "position": 1314
        },
        "endLoc": {
          "line": 300,
          "column": 10,
          "position": 1438
        }
      },
      "secondFile": {
        "name": "api/src/services/scheduling.service.ts",
        "start": 573,
        "end": 602,
        "startLoc": {
          "line": 573,
          "column": 8,
          "position": 2172
        },
        "endLoc": {
          "line": 602,
          "column": 3,
          "position": 2295
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ")\n    const retryPolicy = options?.retries !== undefined\n      ? { ...DEFAULT_RETRY_POLICY, maxRetries: options.retries }\n      : this.config.retryPolicy || DEFAULT_RETRY_POLICY\n\n    return this.executeWithRetry(\n      async () => this.executeGraphRequest<T>(endpoint, method, accessToken, body, options),\n      retryPolicy\n    )\n  }\n\n  /**\n   * Handle paginated Graph API requests\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/microsoft-graph.service.ts",
        "start": 396,
        "end": 409,
        "startLoc": {
          "line": 396,
          "column": 9,
          "position": 2600
        },
        "endLoc": {
          "line": 409,
          "column": 6,
          "position": 2700
        }
      },
      "secondFile": {
        "name": "api/src/services/microsoft-graph.service.ts",
        "start": 374,
        "end": 387,
        "startLoc": {
          "line": 374,
          "column": 2,
          "position": 2392
        },
        "endLoc": {
          "line": 387,
          "column": 6,
          "position": 2492
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "let connection = this.connections.get(serverId)\n      if (!connection) {\n        const connected = await this.connectServer(serverId, tenantId)\n        if (!connected) {\n          throw new Error('Failed to connect to MCP server')\n        }\n        connection = this.connections.get(serverId)!\n      }\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/mcp-server.service.ts",
        "start": 205,
        "end": 214,
        "startLoc": {
          "line": 205,
          "column": 7,
          "position": 1392
        },
        "endLoc": {
          "line": 214,
          "column": 6,
          "position": 1479
        }
      },
      "secondFile": {
        "name": "api/src/services/mcp-server.service.ts",
        "start": 133,
        "end": 142,
        "startLoc": {
          "line": 133,
          "column": 7,
          "position": 939
        },
        "endLoc": {
          "line": 142,
          "column": 16,
          "position": 1026
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "'SELECT \n      id,\n      tenant_id,\n      user_id,\n      provider,\n      is_primary,\n      is_enabled,\n      access_token,\n      refresh_token,\n      token_expiry,\n      calendar_id,\n      calendar_name,\n      sync_direction,\n      sync_vehicle_reservations,\n      sync_maintenance_appointments,\n      sync_work_orders,\n      last_sync_at,\n      sync_status,\n      sync_errors,\n      settings,\n      created_at,\n      updated_at FROM calendar_integrations WHERE id = $1 AND user_id",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/google-calendar.service.ts",
        "start": 691,
        "end": 712,
        "startLoc": {
          "line": 691,
          "column": 7,
          "position": 4710
        },
        "endLoc": {
          "line": 712,
          "column": 8,
          "position": 4812
        }
      },
      "secondFile": {
        "name": "api/src/services/google-calendar.service.ts",
        "start": 100,
        "end": 121,
        "startLoc": {
          "line": 100,
          "column": 2,
          "position": 583
        },
        "endLoc": {
          "line": 121,
          "column": 9,
          "position": 685
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "SELECT \n      id,\n      vehicle_id,\n      battery_capacity_kwh,\n      usable_capacity_kwh,\n      battery_chemistry,\n      battery_warranty_years,\n      battery_warranty_miles,\n      max_ac_charge_rate_kw,\n      max_dc_charge_rate_kw,\n      charge_port_type,\n      supports_v2g,\n      supports_bidirectional_charging,\n      epa_range_miles,\n      real_world_range_miles,\n      efficiency_mpge,\n      efficiency_kwh_per_100mi,\n      has_active_thermal_management,\n      preconditioning_supported,\n      current_battery_health_percent,\n      degradation_rate_percent_per_year,\n      estimated_cycles_remaining,\n      created_at,\n      updated_at FROM ev_specifications WHERE vehicle_id = $1',\n      [vehicleId]\n    );\n\n    if (specResult",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/ev-charging.service.ts",
        "start": 627,
        "end": 654,
        "startLoc": {
          "line": 627,
          "column": 2,
          "position": 2838
        },
        "endLoc": {
          "line": 654,
          "column": 11,
          "position": 2961
        }
      },
      "secondFile": {
        "name": "api/src/services/ev-charging.service.ts",
        "start": 283,
        "end": 310,
        "startLoc": {
          "line": 283,
          "column": 8,
          "position": 762
        },
        "endLoc": {
          "line": 310,
          "column": 7,
          "position": 885
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "{\n        id: doc.id,\n        vehicleId: doc.vehicle_id,\n        driverId: doc.driver_id,\n        workOrderId: doc.work_order_id,\n        documentType: doc.document_type,\n        title: doc.title,\n        description: doc.description,\n        fileName: doc.file_name,\n        fileSize: doc.file_size,\n        mimeType: doc.mime_type,\n        storagePath: doc.storage_path,\n        ocrText: doc.ocr_text,\n        metadata: doc.metadata,\n        uploadedBy: doc.uploaded_by,\n        uploadedAt: doc.uploaded_at,\n        expiresAt: doc.expires_at,\n        isArchived: doc.is_archived,\n        tenantId: doc.tenant_id\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/document.service.ts",
        "start": 420,
        "end": 439,
        "startLoc": {
          "line": 420,
          "column": 2,
          "position": 2584
        },
        "endLoc": {
          "line": 439,
          "column": 2,
          "position": 2748
        }
      },
      "secondFile": {
        "name": "api/src/services/document.service.ts",
        "start": 322,
        "end": 340,
        "startLoc": {
          "line": 322,
          "column": 2,
          "position": 2019
        },
        "endLoc": {
          "line": 340,
          "column": 2,
          "position": 2181
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "const result = await this.db.query(query, params)\n\n      return result.rows.map(doc => ({\n        id: doc.id,\n        vehicleId: doc.vehicle_id,\n        driverId: doc.driver_id,\n        workOrderId: doc.work_order_id,\n        documentType: doc.document_type,\n        title: doc.title,\n        description: doc.description,\n        fileName: doc.file_name,\n        fileSize: doc.file_size,\n        mimeType: doc.mime_type,\n        storagePath: doc.storage_path,\n        ocrText: doc.ocr_text,\n        metadata: doc.metadata,\n        uploadedBy: doc.uploaded_by,\n        uploadedAt: doc.uploaded_at,\n        expiresAt: doc.expires_at,\n        isArchived: doc.is_archived,\n        tenantId: doc.tenant_id\n      }))\n    } catch (error) {\n      this.logger.error('Error getting expiring documents:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/document.service.ts",
        "start": 511,
        "end": 534,
        "startLoc": {
          "line": 511,
          "column": 7,
          "position": 3250
        },
        "endLoc": {
          "line": 534,
          "column": 36,
          "position": 3471
        }
      },
      "secondFile": {
        "name": "api/src/services/document.service.ts",
        "start": 418,
        "end": 441,
        "startLoc": {
          "line": 418,
          "column": 7,
          "position": 2549
        },
        "endLoc": {
          "line": 441,
          "column": 27,
          "position": 2770
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ": string,\n    userId: string,\n    action: string,\n    details?: {\n      oldValues?: Record<string, any>\n      newValues?: Record<string, any>\n      ipAddress?: string\n      userAgent?: string\n      metadata?: Record<string, any>\n    }\n  ): Promise<void> {\n    await this.logEvent({\n      tenantId,\n      folderId",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/document-audit.service.ts",
        "start": 90,
        "end": 103,
        "startLoc": {
          "line": 90,
          "column": 9,
          "position": 559
        },
        "endLoc": {
          "line": 103,
          "column": 9,
          "position": 666
        }
      },
      "secondFile": {
        "name": "api/src/services/document-audit.service.ts",
        "start": 60,
        "end": 73,
        "startLoc": {
          "line": 60,
          "column": 11,
          "position": 357
        },
        "endLoc": {
          "line": 73,
          "column": 11,
          "position": 464
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ": string,\n    tenantId: string,\n    options?: {\n      limit?: number\n      offset?: number\n      action?: string\n      userId?: string\n    }\n  ): Promise<{ logs: DocumentAuditLog[]; total: number }> {\n    try {\n      let query = `\n        SELECT\n          dal.*,\n          u.first_name || ' ' || u.last_name as user_name,\n          u.email as user_email\n        FROM document_audit_log dal\n        LEFT JOIN users u ON dal.user_id = u.id\n        WHERE dal.folder_id = $1 AND dal.tenant_id = $2\n      `",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/document-audit.service.ts",
        "start": 192,
        "end": 210,
        "startLoc": {
          "line": 192,
          "column": 9,
          "position": 1195
        },
        "endLoc": {
          "line": 210,
          "column": 8,
          "position": 1283
        }
      },
      "secondFile": {
        "name": "api/src/services/document-audit.service.ts",
        "start": 119,
        "end": 137,
        "startLoc": {
          "line": 119,
          "column": 11,
          "position": 754
        },
        "endLoc": {
          "line": 137,
          "column": 8,
          "position": 842
        }
      }
    },
    {
      "format": "typescript",
      "lines": 45,
      "fragment": ", tenantId]\n      let paramCount = 2\n\n      if (options?.action) {\n        paramCount++\n        query += ` AND dal.action = $${paramCount}`\n        params.push(options.action)\n      }\n\n      if (options?.userId) {\n        paramCount++\n        query += ` AND dal.user_id = $${paramCount}`\n        params.push(options.userId)\n      }\n\n      // Get total count\n      const countResult = await this.db.query(\n        query.replace(`SELECT dal.*`, `SELECT COUNT(*) as count`),\n        params\n      )\n      const total = parseInt(countResult.rows[0].count)\n\n      // Add ordering and pagination\n      query += ` ORDER BY dal.created_at DESC`\n\n      if (options?.limit) {\n        paramCount++\n        query += ` LIMIT $${paramCount}`\n        params.push(options.limit)\n      }\n\n      if (options?.offset) {\n        paramCount++\n        query += ` OFFSET $${paramCount}`\n        params.push(options.offset)\n      }\n\n      const result = await this.db.query(query, params)\n\n      return {\n        logs: result.rows,\n        total\n      }\n    } catch (error) {\n      this.logger.error(` Failed to get folder audit log:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/document-audit.service.ts",
        "start": 212,
        "end": 256,
        "startLoc": {
          "line": 212,
          "column": 9,
          "position": 1300
        },
        "endLoc": {
          "line": 256,
          "column": 36,
          "position": 1607
        }
      },
      "secondFile": {
        "name": "api/src/services/document-audit.service.ts",
        "start": 139,
        "end": 183,
        "startLoc": {
          "line": 139,
          "column": 11,
          "position": 859
        },
        "endLoc": {
          "line": 183,
          "column": 38,
          "position": 1166
        }
      }
    },
    {
      "format": "typescript",
      "lines": 33,
      "fragment": ")\n      }\n\n      // Get total count\n      const countResult = await this.db.query(\n        query.replace(`SELECT dal.*`, `SELECT COUNT(*) as count`),\n        params\n      )\n      const total = parseInt(countResult.rows[0].count)\n\n      // Add ordering and pagination\n      query += ` ORDER BY dal.created_at DESC`\n\n      if (options?.limit) {\n        paramCount++\n        query += ` LIMIT $${paramCount}`\n        params.push(options.limit)\n      }\n\n      if (options?.offset) {\n        paramCount++\n        query += ` OFFSET $${paramCount}`\n        params.push(options.offset)\n      }\n\n      const result = await this.db.query(query, params)\n\n      return {\n        logs: result.rows,\n        total\n      }\n    } catch (error) {\n      this.logger.error(` Failed to get tenant audit log:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/document-audit.service.ts",
        "start": 321,
        "end": 353,
        "startLoc": {
          "line": 321,
          "column": 7,
          "position": 1966
        },
        "endLoc": {
          "line": 353,
          "column": 36,
          "position": 2182
        }
      },
      "secondFile": {
        "name": "api/src/services/document-audit.service.ts",
        "start": 151,
        "end": 183,
        "startLoc": {
          "line": 151,
          "column": 7,
          "position": 950
        },
        "endLoc": {
          "line": 183,
          "column": 38,
          "position": 1166
        }
      }
    },
    {
      "format": "typescript",
      "lines": 104,
      "fragment": "{\n  constructor(private db: Pool) {}\n\n// Azure AD Configuration\nconst AZURE_AD_CONFIG = {\n  clientId: process.env.AZURE_AD_CLIENT_ID || process.env.MICROSOFT_CLIENT_ID || '',\n  clientSecret: process.env.AZURE_AD_CLIENT_SECRET || process.env.MICROSOFT_CLIENT_SECRET || '`,\n  tenantId: process.env.AZURE_AD_TENANT_ID || process.env.MICROSOFT_TENANT_ID || ``\n}\n\n/**\n * Get Microsoft Graph client with app-only authentication\n */\nasync function getGraphClient(): Promise<Client> {\n  // Get access token using client credentials flow\n  const tokenResponse = await axios.post(\n    `https://login.microsoftonline.com/${AZURE_AD_CONFIG.tenantId}/oauth2/v2.0/token`,\n    new URLSearchParams({\n      client_id: AZURE_AD_CONFIG.clientId,\n      client_secret: AZURE_AD_CONFIG.clientSecret,\n      scope: `https://graph.microsoft.com/.default`,\n      grant_type: 'client_credentials'\n    }).toString(),\n    {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }\n  )\n\n  const accessToken = tokenResponse.data.access_token\n\n  return Client.init({\n    authProvider: (done) => {\n      done(null, accessToken)\n    }\n  })\n}\n\n/**\n * Get Graph client for a specific user (delegated permissions)\n */\nasync function getGraphClientForUser(userId: string): Promise<Client> {\n  // In a real implementation, you would get the user's access token from the database\n  // For now, we'll use app-only permissions\n  return getGraphClient()\n}\n\ninterface CalendarEvent {\n  subject: string\n  start: Date\n  end: Date\n  attendees?: string[]\n  location?: string\n  body?: string\n  isOnlineMeeting?: boolean\n  recurrence?: any\n}\n\n/**\n * Create a calendar event\n */\n  async createEvent(\n  userId: string,\n  subject: string,\n  start: Date,\n  end: Date,\n  attendees?: string[],\n  location?: string,\n  body?: string,\n  isOnlineMeeting: boolean = false\n): Promise<any> {\n  try {\n    const client = await getGraphClient()\n\n    const event: any = {\n      subject,\n      body: {\n        contentType: 'HTML',\n        content: body || ''\n      },\n      start: {\n        dateTime: start.toISOString(),\n        timeZone: 'UTC'\n      },\n      end: {\n        dateTime: end.toISOString(),\n        timeZone: 'UTC'\n      },\n      location: location ? {\n        displayName: location\n      } : undefined,\n      attendees: attendees?.map(email => ({\n        emailAddress: {\n          address: email\n        },\n        type: 'required'\n      })) || [],\n      isOnlineMeeting,\n      onlineMeetingProvider: isOnlineMeeting ? 'teamsForBusiness' : undefined\n    }\n\n    const response = await client\n      .api(`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/calendar.service.ts",
        "start": 8,
        "end": 111,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 64
        },
        "endLoc": {
          "line": 111,
          "column": 13,
          "position": 168
        }
      },
      "secondFile": {
        "name": "api/src/services/presence.service.ts",
        "start": 7,
        "end": 48,
        "startLoc": {
          "line": 7,
          "column": 2,
          "position": 55
        },
        "endLoc": {
          "line": 48,
          "column": 122,
          "position": 159
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ")\n    }\n\n    return true\n  }\n\n  /**\n   * Generate date-based path for file organization\n   */\n  private generateDatePath(): string {\n    const now = new Date()\n    const year = now.getFullYear()\n    const month = String(now.getMonth() + 1).padStart(2, `0`)\n    const day = String(now.getDate()).padStart(2, `0`)\n    return `${year}/${month}/${day}`\n  }\n\n  /**\n   * Generate unique filename\n   */\n  private generateUniqueFilename(originalFilename: string): string {\n    const extension = originalFilename.substring(originalFilename.lastIndexOf(`.`))\n    const hash = crypto.randomBytes(16).toString(`hex`)\n    return `${hash}${extension}`\n  }\n\n  /**\n   * Upload file to Azure Blob Storage\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/attachment.service.ts",
        "start": 185,
        "end": 213,
        "startLoc": {
          "line": 185,
          "column": 34,
          "position": 1326
        },
        "endLoc": {
          "line": 213,
          "column": 6,
          "position": 1529
        }
      },
      "secondFile": {
        "name": "api/src/services/document.service.ts",
        "start": 154,
        "end": 181,
        "startLoc": {
          "line": 154,
          "column": 17,
          "position": 1017
        },
        "endLoc": {
          "line": 181,
          "column": 6,
          "position": 1219
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": " / 1024 / 1024}MB`)\n      }\n\n      // Generate unique filename and path\n      const datePath = this.generateDatePath()\n      const uniqueFilename = this.generateUniqueFilename(file.originalname)\n      const blobName = `${datePath}/${uniqueFilename}`\n\n      // Get container client\n      const containerClient = this.blobServiceClient.",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/attachment.service.ts",
        "start": 225,
        "end": 234,
        "startLoc": {
          "line": 225,
          "column": 22,
          "position": 1640
        },
        "endLoc": {
          "line": 234,
          "column": 2,
          "position": 1719
        }
      },
      "secondFile": {
        "name": "api/src/services/document.service.ts",
        "start": 193,
        "end": 202,
        "startLoc": {
          "line": 193,
          "column": 14,
          "position": 1309
        },
        "endLoc": {
          "line": 202,
          "column": 2,
          "position": 1388
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "?: string\n  ): Promise<void> {\n    try {\n      const assignmentData = await this.getAssignmentDetails(assignmentId, tenantId);\n      const recipients = await this.getNotificationRecipients(\n        assignmentId,\n        tenantId,\n        ['driver', 'department_director', 'fleet_manager']\n      );\n\n      const notification = {\n        type: 'assignment_terminated'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/assignment-notification.service.ts",
        "start": 238,
        "end": 249,
        "startLoc": {
          "line": 238,
          "column": 7,
          "position": 1532
        },
        "endLoc": {
          "line": 249,
          "column": 24,
          "position": 1624
        }
      },
      "secondFile": {
        "name": "api/src/services/assignment-notification.service.ts",
        "start": 114,
        "end": 125,
        "startLoc": {
          "line": 114,
          "column": 6,
          "position": 676
        },
        "endLoc": {
          "line": 125,
          "column": 22,
          "position": 768
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ",\n        data: {\n          ...assignmentData,\n          reason,\n          action_url: `/vehicle-assignments/${assignmentId}`,\n        },\n        priority: 'high' as const,\n      };\n\n      await this.sendToRecipients(recipients, notification, tenantId, {\n        includePush: true,\n        includeEmail: true,\n        includeInApp: true,\n      });\n\n      await this.logNotificationSent(assignmentId, tenantId, 'terminated'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/assignment-notification.service.ts",
        "start": 251,
        "end": 266,
        "startLoc": {
          "line": 251,
          "column": 22,
          "position": 1645
        },
        "endLoc": {
          "line": 266,
          "column": 13,
          "position": 1751
        }
      },
      "secondFile": {
        "name": "api/src/services/assignment-notification.service.ts",
        "start": 169,
        "end": 184,
        "startLoc": {
          "line": 169,
          "column": 2,
          "position": 1090
        },
        "endLoc": {
          "line": 184,
          "column": 9,
          "position": 1196
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "]\n    )\n\n    if (result.rows[0].sample_size > 10) {\n      const stats = {\n        mean: parseFloat(result.rows[0].mean),\n        median: parseFloat(result.rows[0].median),\n        stdDev: parseFloat(result.rows[0].std_dev),\n        min: parseFloat(result.rows[0].min),\n        max: parseFloat(result.rows[0].max),\n        p25: parseFloat(result.rows[0].p25),\n        p75: parseFloat(result.rows[0].p75),\n        p95: parseFloat(result.rows[0].p95),\n        sampleSize: parseInt(result.rows[0].sample_size)\n      }\n\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/ai-validation.ts",
        "start": 155,
        "end": 171,
        "startLoc": {
          "line": 155,
          "column": 9,
          "position": 784
        },
        "endLoc": {
          "line": 171,
          "column": 6,
          "position": 976
        }
      },
      "secondFile": {
        "name": "api/src/services/ai-validation.ts",
        "start": 105,
        "end": 121,
        "startLoc": {
          "line": 105,
          "column": 9,
          "position": 494
        },
        "endLoc": {
          "line": 121,
          "column": 22,
          "position": 686
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ")) *\n        Math.sin(dLng / 2) *\n        Math.sin(dLng / 2)\n\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n    return R * c\n  }\n\n  private toRad",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/ai-dispatch.ts",
        "start": 365,
        "end": 373,
        "startLoc": {
          "line": 365,
          "column": 4,
          "position": 2236
        },
        "endLoc": {
          "line": 373,
          "column": 6,
          "position": 2319
        }
      },
      "secondFile": {
        "name": "api/src/emulators/mobile/FuelReceiptGenerator.ts",
        "start": 331,
        "end": 338,
        "startLoc": {
          "line": 331,
          "column": 5,
          "position": 2504
        },
        "endLoc": {
          "line": 338,
          "column": 10,
          "position": 2586
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "AND d.category_id = $${++paramCount}`\n        params.push(searchQuery.filters.categoryId)\n      }\n\n      if (searchQuery.filters.documentType) {\n        query += ` AND d.file_type = $${++paramCount}`\n        params.push(searchQuery.filters.documentType)\n      }\n\n      if (searchQuery.filters.tags && searchQuery.filters.tags.length > 0) {\n        query += ` AND d.tags && $${++paramCount}`\n        params.push(searchQuery.filters.tags)\n      }\n\n      if (searchQuery.filters.dateFrom) {\n        query += ` AND d.created_at >= $${++paramCount}`\n        params.push(searchQuery.filters.dateFrom)\n      }\n\n      if (searchQuery.filters.dateTo) {\n        query += ` AND d.created_at <= $${++paramCount}`\n        params.push(searchQuery.filters.dateTo)\n      }\n\n      if (searchQuery.filters.uploadedBy) {\n        query += ` AND d.uploaded_by = $${++paramCount}`\n        params.push(searchQuery.filters.uploadedBy)\n      }\n\n      if (searchQuery.filters.status) {\n        query += ` AND d.status = $${++paramCount}`\n        params.push(searchQuery.filters.status)\n      } else {\n        query += ` AND d.status = `active`'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/SearchIndexService.ts",
        "start": 480,
        "end": 513,
        "startLoc": {
          "line": 480,
          "column": 2,
          "position": 2274
        },
        "endLoc": {
          "line": 513,
          "column": 2,
          "position": 2388
        }
      },
      "secondFile": {
        "name": "api/src/services/SearchIndexService.ts",
        "start": 359,
        "end": 396,
        "startLoc": {
          "line": 359,
          "column": 2,
          "position": 1926
        },
        "endLoc": {
          "line": 396,
          "column": 19,
          "position": 2040
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ";\n    const result = await this.db.query(query, [JSON.stringify(data), tenantId]);\n    return result.rows[0];\n  }\n\n  async update(id: number, data: any, tenantId: number) {\n    // Verify ownership\n    const existing = await this.getById(id, tenantId);\n    if (!existing) {\n      throw new Error('Route not found or access denied'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/RouteService.ts",
        "start": 38,
        "end": 47,
        "startLoc": {
          "line": 38,
          "column": 6,
          "position": 212
        },
        "endLoc": {
          "line": 47,
          "column": 35,
          "position": 326
        }
      },
      "secondFile": {
        "name": "api/src/services/WorkOrderService.ts",
        "start": 38,
        "end": 47,
        "startLoc": {
          "line": 38,
          "column": 6,
          "position": 212
        },
        "endLoc": {
          "line": 47,
          "column": 39,
          "position": 326
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ";\n    const result = await this.db.query(query, [JSON.stringify(data), id, tenantId]);\n    return result.rows[0];\n  }\n\n  async delete(id: number, tenantId: number) {\n    // Soft delete\n    const query = `\n      UPDATE routes\n      SET deleted_at = NOW()\n      WHERE id = $1 AND tenant_id = $2 AND deleted_at IS NULL\n      RETURNING id\n    `",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/RouteService.ts",
        "start": 55,
        "end": 67,
        "startLoc": {
          "line": 55,
          "column": 6,
          "position": 342
        },
        "endLoc": {
          "line": 67,
          "column": 6,
          "position": 423
        }
      },
      "secondFile": {
        "name": "api/src/services/WorkOrderService.ts",
        "start": 55,
        "end": 67,
        "startLoc": {
          "line": 55,
          "column": 6,
          "position": 342
        },
        "endLoc": {
          "line": 67,
          "column": 6,
          "position": 423
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ";\n    const result = await this.db.query(query, [JSON.stringify(data), tenantId]);\n    return result.rows[0];\n  }\n\n  async update(id: number, data: any, tenantId: number) {\n    // Verify ownership\n    const existing = await this.getById(id, tenantId);\n    if (!existing) {\n      throw new Error('Inspection not found or access denied'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/InspectionService.ts",
        "start": 38,
        "end": 47,
        "startLoc": {
          "line": 38,
          "column": 6,
          "position": 212
        },
        "endLoc": {
          "line": 47,
          "column": 40,
          "position": 326
        }
      },
      "secondFile": {
        "name": "api/src/services/WorkOrderService.ts",
        "start": 38,
        "end": 47,
        "startLoc": {
          "line": 38,
          "column": 6,
          "position": 212
        },
        "endLoc": {
          "line": 47,
          "column": 39,
          "position": 326
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ";\n    const result = await this.db.query(query, [JSON.stringify(data), id, tenantId]);\n    return result.rows[0];\n  }\n\n  async delete(id: number, tenantId: number) {\n    // Soft delete\n    const query = `\n      UPDATE inspections\n      SET deleted_at = NOW()\n      WHERE id = $1 AND tenant_id = $2 AND deleted_at IS NULL\n      RETURNING id\n    `",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/InspectionService.ts",
        "start": 55,
        "end": 67,
        "startLoc": {
          "line": 55,
          "column": 6,
          "position": 342
        },
        "endLoc": {
          "line": 67,
          "column": 6,
          "position": 423
        }
      },
      "secondFile": {
        "name": "api/src/services/WorkOrderService.ts",
        "start": 55,
        "end": 67,
        "startLoc": {
          "line": 55,
          "column": 6,
          "position": 342
        },
        "endLoc": {
          "line": 67,
          "column": 6,
          "position": 423
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ";\n    const result = await this.db.query(query, [JSON.stringify(data), tenantId]);\n    return result.rows[0];\n  }\n\n  async update(id: number, data: any, tenantId: number) {\n    // Verify ownership\n    const existing = await this.getById(id, tenantId);\n    if (!existing) {\n      throw new Error('Fueltransaction not found or access denied'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/FuelTransactionService.ts",
        "start": 38,
        "end": 47,
        "startLoc": {
          "line": 38,
          "column": 6,
          "position": 212
        },
        "endLoc": {
          "line": 47,
          "column": 45,
          "position": 326
        }
      },
      "secondFile": {
        "name": "api/src/services/WorkOrderService.ts",
        "start": 38,
        "end": 47,
        "startLoc": {
          "line": 38,
          "column": 6,
          "position": 212
        },
        "endLoc": {
          "line": 47,
          "column": 39,
          "position": 326
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ";\n    const result = await this.db.query(query, [JSON.stringify(data), id, tenantId]);\n    return result.rows[0];\n  }\n\n  async delete(id: number, tenantId: number) {\n    // Soft delete\n    const query = `\n      UPDATE fueltransactions\n      SET deleted_at = NOW()\n      WHERE id = $1 AND tenant_id = $2 AND deleted_at IS NULL\n      RETURNING id\n    `",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/FuelTransactionService.ts",
        "start": 55,
        "end": 67,
        "startLoc": {
          "line": 55,
          "column": 6,
          "position": 342
        },
        "endLoc": {
          "line": 67,
          "column": 6,
          "position": 423
        }
      },
      "secondFile": {
        "name": "api/src/services/WorkOrderService.ts",
        "start": 55,
        "end": 67,
        "startLoc": {
          "line": 55,
          "column": 6,
          "position": 342
        },
        "endLoc": {
          "line": 67,
          "column": 6,
          "position": 423
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "[i + 1]\n        tokens = this.estimateTokenCount(chunkText)\n        if (tokens <= chunkSize) i++\n      }\n\n      chunks.push({\n        text: chunkText.trim(),\n        tokens,\n        index: chunkIndex++,\n        startChar,\n        endChar: startChar + chunkText.length,\n      })\n\n      startChar += chunkText.length +",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/EmbeddingService.ts",
        "start": 433,
        "end": 446,
        "startLoc": {
          "line": 433,
          "column": 11,
          "position": 3307
        },
        "endLoc": {
          "line": 446,
          "column": 2,
          "position": 3406
        }
      },
      "secondFile": {
        "name": "api/src/services/EmbeddingService.ts",
        "start": 399,
        "end": 413,
        "startLoc": {
          "line": 399,
          "column": 10,
          "position": 3019
        },
        "endLoc": {
          "line": 413,
          "column": 2,
          "position": 3119
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n          },\n          {\n            role: 'user',\n            content: prompt,\n          },\n        ],\n        response_format: { type: 'json_object' },\n        temperature: 0.3,\n      })\n\n      const result = JSON.parse(response.choices[0].message.content || '{}')\n\n      return",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/services/DocumentAiService.ts",
        "start": 465,
        "end": 478,
        "startLoc": {
          "line": 465,
          "column": 78,
          "position": 2707
        },
        "endLoc": {
          "line": 478,
          "column": 7,
          "position": 2793
        }
      },
      "secondFile": {
        "name": "api/src/services/DocumentAiService.ts",
        "start": 116,
        "end": 129,
        "startLoc": {
          "line": 116,
          "column": 129,
          "position": 645
        },
        "endLoc": {
          "line": 129,
          "column": 24,
          "position": 731
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "({\n  host: process.env.DB_HOST || 'fleet-postgres-service',\n  port: parseInt(process.env.DB_PORT || '5432'),\n  database: process.env.DB_NAME || 'fleetdb',\n  user: process.env.DB_USER || 'fleetadmin',\n  password: process.env.DB_PASSWORD,\n  ssl",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/verify-seed-data.ts",
        "start": 13,
        "end": 19,
        "startLoc": {
          "line": 13,
          "column": 5,
          "position": 62
        },
        "endLoc": {
          "line": 19,
          "column": 4,
          "position": 140
        }
      },
      "secondFile": {
        "name": "api/src/services/queue.service.ts",
        "start": 47,
        "end": 53,
        "startLoc": {
          "line": 47,
          "column": 7,
          "position": 242
        },
        "endLoc": {
          "line": 53,
          "column": 4,
          "position": 320
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n\ndotenv.config({ path: '../.env' });\n\nconst pool = new Pool({\n  host: process.env.DB_HOST || 'localhost',\n  port: parseInt(process.env.DB_PORT || '15432'),\n  database: process.env.DB_NAME || 'fleetdb',\n  user: process.env.DB_USER || 'fleetadmin',\n  password: process.env.DB_PASSWORD,\n  ssl: process.env.DB_SSL === `true` ? { rejectUnauthorized: false } : false\n});\n\nconst",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-supplemental.ts",
        "start": 8,
        "end": 21,
        "startLoc": {
          "line": 8,
          "column": 9,
          "position": 34
        },
        "endLoc": {
          "line": 21,
          "column": 6,
          "position": 173
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-ultra-fast.ts",
        "start": 9,
        "end": 22,
        "startLoc": {
          "line": 9,
          "column": 9,
          "position": 43
        },
        "endLoc": {
          "line": 22,
          "column": 21,
          "position": 182
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "const randomItem = <T,>(arr: T[]): T => arr[Math.floor(Math.random() * arr.length)];\nconst randomInt = (min: number, max: number): number => Math.floor(Math.random() * (max - min + 1)) + min;\nconst randomFloat = (min: number, max: number, decimals = 2): number => parseFloat((Math.random() * (max - min) + min).toFixed(decimals));\nconst daysAgo = (days: number): Date => new Date(Date.now() - days * 86400000);\nconst daysFromNow = (days: number): Date => new Date(Date.now() + days * 86400000);\nconst generatePhoneNumber",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-supplemental.ts",
        "start": 21,
        "end": 26,
        "startLoc": {
          "line": 21,
          "column": 1,
          "position": 173
        },
        "endLoc": {
          "line": 26,
          "column": 20,
          "position": 412
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-ultra-fast.ts",
        "start": 23,
        "end": 28,
        "startLoc": {
          "line": 23,
          "column": 1,
          "position": 184
        },
        "endLoc": {
          "line": 28,
          "column": 9,
          "position": 423
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ")}`;\n\nconst floridaCities = [\n  { name: 'Miami', lat: 25.7617, lng: -80.1918 },\n  { name: 'Tampa', lat: 27.9506, lng: -82.4572 },\n  { name: 'Jacksonville', lat: 30.3322, lng: -81.6557 },\n  { name: 'Orlando', lat: 28.5383, lng: -81.3792 },\n  { name: 'Tallahassee', lat: 30.4383, lng: -84.2807 }\n]",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-supplemental.ts",
        "start": 26,
        "end": 34,
        "startLoc": {
          "line": 26,
          "column": 5,
          "position": 452
        },
        "endLoc": {
          "line": 34,
          "column": 2,
          "position": 585
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-ultra-fast.ts",
        "start": 35,
        "end": 42,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 716
        },
        "endLoc": {
          "line": 42,
          "column": 2,
          "position": 848
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ": string[] = [];\n\n    for (const tenant of tenants) {\n      const count = randomInt(8, 15);\n\n      for (let i = 0; i < count; i++) {\n        const city = randomItem(floridaCities);\n        const type = randomItem(['parts_supplier'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-supplemental.ts",
        "start": 341,
        "end": 348,
        "startLoc": {
          "line": 341,
          "column": 13,
          "position": 2477
        },
        "endLoc": {
          "line": 348,
          "column": 17,
          "position": 2571
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-supplemental.ts",
        "start": 242,
        "end": 249,
        "startLoc": {
          "line": 242,
          "column": 15,
          "position": 1460
        },
        "endLoc": {
          "line": 249,
          "column": 16,
          "position": 1554
        }
      }
    },
    {
      "format": "sql",
      "lines": 20,
      "fragment": "DO $$\nDECLARE\n  v_tenant_id UUID;\n  v_user_id UUID;\n  v_vehicle_id UUID;\n  v_driver_id UUID;\n  v_station_id UUID;\nBEGIN\n  -- Get or create tenant\n  SELECT id INTO v_tenant_id FROM tenants LIMIT 1;\n  IF v_tenant_id IS NULL THEN\n    v_tenant_id := gen_random_uuid();\n    INSERT INTO tenants (id, name, created_at) VALUES (v_tenant_id, 'Test Tenant', NOW());\n  END IF;\n\n  -- Get a user for assignments\n  SELECT id INTO v_user_id FROM users WHERE role = 'admin' LIMIT 1;\n\n  -- ============================================================================\n  -- VEHICLES - Missing statuses: sold, retired",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-missing-data-fixed.sql",
        "start": 7,
        "end": 26,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 11
        },
        "endLoc": {
          "line": 26,
          "column": 46,
          "position": 165
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-missing-data.sql",
        "start": 7,
        "end": 26,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 11
        },
        "endLoc": {
          "line": 26,
          "column": 41,
          "position": 165
        }
      }
    },
    {
      "format": "sql",
      "lines": 14,
      "fragment": "INSERT INTO vehicles (id, tenant_id, vin, make, model, year, vehicle_type, fuel_type, status, notes, created_at)\n  VALUES\n    (gen_random_uuid(), v_tenant_id, 'TEST_VAN001', 'Ford', 'Transit', 2021, 'Van', 'Gasoline', 'active', 'Standard van', NOW()),\n    (gen_random_uuid(), v_tenant_id, 'TEST_FLATBED001', 'Ford', 'F450', 2020, 'Flatbed', 'Diesel', 'active', 'Flatbed truck', NOW()),\n    (gen_random_uuid(), v_tenant_id, 'TEST_REEFER001', 'Freightliner', 'M2', 2019, 'Refrigerated Truck', 'Diesel', 'active', 'Refrigerated truck', NOW()),\n    (gen_random_uuid(), v_tenant_id, 'TEST_DUMP001', 'Mack', 'GU813', 2020, 'Dump Truck', 'Diesel', 'active', 'Dump truck', NOW()),\n    (gen_random_uuid(), v_tenant_id, 'TEST_TOW001', 'Ford', 'F550', 2021, 'Tow Truck', 'Diesel', 'active', 'Tow truck', NOW())\n  ON CONFLICT (vin) DO NOTHING;\n\n  -- Missing fuel types\n  INSERT INTO vehicles (id, tenant_id, vin, make, model, year, vehicle_type, fuel_type, status, notes, created_at)\n  VALUES\n    (gen_random_uuid(), v_tenant_id, 'TEST_HYBRID001', 'Toyota', 'Prius', 2022, 'Sedan', 'Hybrid', 'active', 'Hybrid vehicle', NOW()),\n    (gen_random_uuid(), v_tenant_id, 'TEST_PROPANE001', 'Ford', 'E350', 2020, 'Cargo Van'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-missing-data-fixed.sql",
        "start": 40,
        "end": 53,
        "startLoc": {
          "line": 40,
          "column": 3,
          "position": 387
        },
        "endLoc": {
          "line": 53,
          "column": 12,
          "position": 753
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-missing-data.sql",
        "start": 40,
        "end": 53,
        "startLoc": {
          "line": 40,
          "column": 3,
          "position": 387
        },
        "endLoc": {
          "line": 53,
          "column": 6,
          "position": 753
        }
      }
    },
    {
      "format": "sql",
      "lines": 15,
      "fragment": ", 'CNG', 'active', 'CNG vehicle', NOW())\n  ON CONFLICT (vin) DO NOTHING;\n\n  -- Zero odometer vehicle\n  INSERT INTO vehicles (id, tenant_id, vin, make, model, year, vehicle_type, fuel_type, status, odometer, notes, created_at)\n  VALUES (gen_random_uuid(), v_tenant_id, 'TEST_ZERO_ODO', 'Tesla', 'Model 3', 2024, 'Sedan', 'Electric', 'active', 0, 'Brand new vehicle with 0 miles', NOW())\n  ON CONFLICT (vin) DO NOTHING;\n\n  -- High mileage vehicle\n  INSERT INTO vehicles (id, tenant_id, vin, make, model, year, vehicle_type, fuel_type, status, odometer, notes, created_at)\n  VALUES (gen_random_uuid(), v_tenant_id, 'TEST_HIGH_MILE', 'Freightliner', 'Cascadia', 2015, 'Semi-Truck', 'Diesel', 'active', 1250000, 'Very high mileage vehicle', NOW())\n  ON CONFLICT (vin) DO NOTHING;\n\n  -- ============================================================================\n  -- USERS - Missing roles (these aren't in check constraints, so they're flexible)",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-missing-data-fixed.sql",
        "start": 54,
        "end": 68,
        "startLoc": {
          "line": 54,
          "column": 12,
          "position": 794
        },
        "endLoc": {
          "line": 68,
          "column": 82,
          "position": 1041
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-missing-data.sql",
        "start": 54,
        "end": 68,
        "startLoc": {
          "line": 54,
          "column": 6,
          "position": 794
        },
        "endLoc": {
          "line": 68,
          "column": 38,
          "position": 1041
        }
      }
    },
    {
      "format": "sql",
      "lines": 17,
      "fragment": "-- ============================================================================\n\n  INSERT INTO users (id, tenant_id, email, password_hash, name, role, created_at)\n  VALUES\n    (gen_random_uuid(), v_tenant_id, 'dispatcher@test.com', '$2b$10$dummy.hash', 'Test Dispatcher', 'dispatcher', NOW()),\n    (gen_random_uuid(), v_tenant_id, 'viewer@test.com', '$2b$10$dummy.hash', 'Test Viewer', 'viewer', NOW()),\n    (gen_random_uuid(), v_tenant_id, 'accountant@test.com', '$2b$10$dummy.hash', 'Test Accountant', 'accountant', NOW()),\n    (gen_random_uuid(), v_tenant_id, 'safety@test.com', '$2b$10$dummy.hash', 'Test Safety Manager', 'safety_manager', NOW())\n  ON CONFLICT (email) DO NOTHING;\n\n  -- ============================================================================\n  -- DRIVERS - Missing statuses: terminated\n  -- ============================================================================\n\n  INSERT INTO drivers (id, tenant_id, first_name, last_name, license_number, license_expiry, email, phone, status, notes, created_at)\n  VALUES\n    (gen_random_uuid(), v_tenant_id, '",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-missing-data-fixed.sql",
        "start": 69,
        "end": 85,
        "startLoc": {
          "line": 69,
          "column": 3,
          "position": 1044
        },
        "endLoc": {
          "line": 85,
          "column": 39,
          "position": 1162
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-missing-data.sql",
        "start": 69,
        "end": 88,
        "startLoc": {
          "line": 69,
          "column": 3,
          "position": 1044
        },
        "endLoc": {
          "line": 88,
          "column": 46,
          "position": 1162
        }
      }
    },
    {
      "format": "sql",
      "lines": 7,
      "fragment": "-- ============================================================================\n\n  IF v_vehicle_id IS NOT NULL AND v_user_id IS NOT NULL THEN\n    INSERT INTO inspections (id, tenant_id, vehicle_id, inspector_id, inspection_type, inspection_date, status, notes, created_at)\n    VALUES\n      (gen_random_uuid(), v_tenant_id, v_vehicle_id, v_user_id, 'annual', NOW() - INTERVAL '30 days', 'pass', 'Annual inspection passed', NOW())\n    ON",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-missing-data-fixed.sql",
        "start": 127,
        "end": 133,
        "startLoc": {
          "line": 127,
          "column": 3,
          "position": 1690
        },
        "endLoc": {
          "line": 133,
          "column": 3,
          "position": 1796
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-missing-data.sql",
        "start": 132,
        "end": 137,
        "startLoc": {
          "line": 132,
          "column": 3,
          "position": 1670
        },
        "endLoc": {
          "line": 137,
          "column": 2,
          "position": 1774
        }
      }
    },
    {
      "format": "sql",
      "lines": 14,
      "fragment": "INSERT INTO safety_incidents (id, tenant_id, vehicle_id, driver_id, incident_type, severity, incident_date, description, status, created_at)\n    VALUES\n      (gen_random_uuid(), v_tenant_id, v_vehicle_id, v_driver_id, 'violation', 'moderate', NOW() - INTERVAL '45 days', 'Traffic violation', 'resolved', NOW()),\n      (gen_random_uuid(), v_tenant_id, v_vehicle_id, v_driver_id, 'equipment_failure', 'critical', NOW() - INTERVAL '20 days', 'Critical equipment failure', 'investigating', NOW()),\n      (gen_random_uuid(), v_tenant_id, v_vehicle_id, v_driver_id, 'environmental', 'severe', NOW() - INTERVAL '60 days', 'Environmental incident', 'resolved', NOW()),\n      (gen_random_uuid(), v_tenant_id, v_vehicle_id, v_driver_id, 'theft', 'major', NOW() - INTERVAL '90 days', 'Vehicle theft', 'closed', NOW()),\n      (gen_random_uuid(), v_tenant_id, v_vehicle_id, v_driver_id, 'vandalism', 'moderate', NOW() - INTERVAL '30 days', 'Vandalism incident', 'resolved', NOW()),\n      (gen_random_uuid(), v_tenant_id, v_vehicle_id, v_driver_id, 'accident', 'fatal', NOW() - INTERVAL '120 days', 'Fatal accident', 'investigating', NOW())\n    ON CONFLICT DO NOTHING;\n  END IF;\n\n  -- ============================================================================\n  -- NOTIFICATIONS - Missing types and priorities\n  -- Priorities allowed: low, normal, high, urgent (no 'critical', 'medium')",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-missing-data-fixed.sql",
        "start": 148,
        "end": 161,
        "startLoc": {
          "line": 148,
          "column": 5,
          "position": 1878
        },
        "endLoc": {
          "line": 161,
          "column": 75,
          "position": 2211
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-missing-data.sql",
        "start": 149,
        "end": 162,
        "startLoc": {
          "line": 149,
          "column": 5,
          "position": 1952
        },
        "endLoc": {
          "line": 162,
          "column": 80,
          "position": 2285
        }
      }
    },
    {
      "format": "sql",
      "lines": 11,
      "fragment": ", 'Safety Alert', 'Safety incident requires attention', false, NOW()),\n      (gen_random_uuid(), v_tenant_id, v_user_id, 'compliance', 'high', 'Compliance Notice', 'Compliance deadline approaching', false, NOW())\n    ON CONFLICT DO NOTHING;\n  END IF;\n\n  -- ============================================================================\n  -- FUEL TRANSACTIONS - Edge cases\n  -- ============================================================================\n\n  IF v_vehicle_id IS NOT NULL THEN\n    -- Note: fuel_type doesn't have a check constraint",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-missing-data-fixed.sql",
        "start": 173,
        "end": 183,
        "startLoc": {
          "line": 173,
          "column": 9,
          "position": 2427
        },
        "endLoc": {
          "line": 183,
          "column": 51,
          "position": 2518
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-missing-data.sql",
        "start": 171,
        "end": 181,
        "startLoc": {
          "line": 171,
          "column": 11,
          "position": 2492
        },
        "endLoc": {
          "line": 181,
          "column": 23,
          "position": 2583
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ");\n\n  const vehicleResult = await pool.query('SELECT id FROM vehicles LIMIT 1');\n  const driverResult = await pool.query('SELECT id FROM drivers LIMIT 1');\n  const vehicleId = vehicleResult.rows[0]?.id;\n  const driverId = driverResult.rows[0]?.id;\n  if (!vehicleId || !driverId) return;\n\n  const incidents",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-edge-cases.ts",
        "start": 308,
        "end": 316,
        "startLoc": {
          "line": 308,
          "column": 40,
          "position": 3950
        },
        "endLoc": {
          "line": 316,
          "column": 10,
          "position": 4044
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-edge-cases.ts",
        "start": 214,
        "end": 222,
        "startLoc": {
          "line": 214,
          "column": 30,
          "position": 2856
        },
        "endLoc": {
          "line": 222,
          "column": 7,
          "position": 2950
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "import { Pool } from 'pg';\nimport dotenv from 'dotenv';\nimport bcrypt from 'bcrypt';\n\ndotenv.config({ path: '../.env' });\n\nconst pool = new Pool({\n  host: process.env.DB_HOST || 'localhost',\n  port: parseInt(process.env.DB_PORT || '15432'),\n  database: process.env.DB_NAME || 'fleetdb',\n  user: process.env.DB_USER || 'fleetadmin',\n  password: process.env.DB_PASSWORD,\n  ssl: process.env.DB_SSL === 'true'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-core-entities.ts",
        "start": 8,
        "end": 20,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 14
        },
        "endLoc": {
          "line": 20,
          "column": 7,
          "position": 160
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-ultra-fast.ts",
        "start": 7,
        "end": 19,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 14
        },
        "endLoc": {
          "line": 19,
          "column": 7,
          "position": 160
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "),\n  database: process.env.DB_NAME || 'fleetdb',\n  user: process.env.DB_USER || 'fleetadmin',\n  password: process.env.DB_PASSWORD,\n  ssl: process.env.DB_SSL === 'true' ? { rejectUnauthorized: false } : false\n});\n\nconst",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-core-entities.ts",
        "start": 16,
        "end": 23,
        "startLoc": {
          "line": 16,
          "column": 8,
          "position": 104
        },
        "endLoc": {
          "line": 23,
          "column": 6,
          "position": 182
        }
      },
      "secondFile": {
        "name": "api/src/scripts/verify-seed-data.ts",
        "start": 15,
        "end": 22,
        "startLoc": {
          "line": 15,
          "column": 7,
          "position": 95
        },
        "endLoc": {
          "line": 22,
          "column": 10,
          "position": 173
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ";\n\nconst floridaCities = [\n  { name: 'Miami', lat: 25.7617, lng: -80.1918 },\n  { name: 'Tampa', lat: 27.9506, lng: -82.4572 },\n  { name: 'Jacksonville', lat: 30.3322, lng: -81.6557 },\n  { name: 'Orlando', lat: 28.5383, lng: -81.3792 },\n  { name: 'Tallahassee', lat: 30.4383, lng: -84.2807 }\n];\n\nfunction",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/seed-core-entities.ts",
        "start": 21,
        "end": 31,
        "startLoc": {
          "line": 21,
          "column": 2,
          "position": 179
        },
        "endLoc": {
          "line": 31,
          "column": 9,
          "position": 313
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-ultra-fast.ts",
        "start": 35,
        "end": 36,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 719
        },
        "endLoc": {
          "line": 36,
          "column": 6,
          "position": 589
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "import { Pool } from 'pg';\nimport dotenv from 'dotenv';\n\ndotenv.config({ path: '../.env' });\n\nconst pool = new Pool({\n  host: process.env.DB_HOST || 'localhost',\n  port: parseInt(process.env.DB_PORT || '15432'),\n  database: process.env.DB_NAME || 'fleetdb',\n  user: process.env.DB_USER || 'fleetadmin',\n  password: process.env.DB_PASSWORD,\n  ssl: process.env.DB_SSL === 'true' ? { rejectUnauthorized: false } : false\n});\n\nasync",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/generate-coverage-report.ts",
        "start": 7,
        "end": 21,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 14
        },
        "endLoc": {
          "line": 21,
          "column": 6,
          "position": 173
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-supplemental.ts",
        "start": 7,
        "end": 22,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 14
        },
        "endLoc": {
          "line": 22,
          "column": 10,
          "position": 173
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ";\n\nconst pool = new Pool({\n  host: process.env.DB_HOST || 'localhost',\n  port: parseInt(process.env.DB_PORT || '15432'),\n  user: process.env.DB_USER || 'fleetadmin',\n  password: process.env.DB_PASSWORD || '',\n  database: process.env.DB_NAME || 'fleetdb',\n});\n\n// Define all expected enum values based on application code",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/scripts/analyze-coverage-gaps.ts",
        "start": 11,
        "end": 21,
        "startLoc": {
          "line": 11,
          "column": 5,
          "position": 14
        },
        "endLoc": {
          "line": 21,
          "column": 61,
          "position": 112
        }
      },
      "secondFile": {
        "name": "api/src/scripts/seed-edge-cases.ts",
        "start": 14,
        "end": 24,
        "startLoc": {
          "line": 14,
          "column": 7,
          "position": 31
        },
        "endLoc": {
          "line": 24,
          "column": 17,
          "position": 129
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ")\n    .optional(),\n\n  // Metadata\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict();",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/vendors.schema.ts",
        "start": 163,
        "end": 171,
        "startLoc": {
          "line": 163,
          "column": 40,
          "position": 1044
        },
        "endLoc": {
          "line": 171,
          "column": 2,
          "position": 1125
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 185,
        "end": 193,
        "startLoc": {
          "line": 185,
          "column": 49,
          "position": 1347
        },
        "endLoc": {
          "line": 193,
          "column": 2,
          "position": 1428
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ": z.string()\n    .max(5000)\n    .nullable()\n    .optional(),\n\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).nullable().optional()\n}).strict();\n\n/**\n * Vendor query parameters schema\n * GET /vendors\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/vendors.schema.ts",
        "start": 291,
        "end": 305,
        "startLoc": {
          "line": 291,
          "column": 6,
          "position": 1930
        },
        "endLoc": {
          "line": 305,
          "column": 4,
          "position": 2034
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 293,
        "end": 307,
        "startLoc": {
          "line": 293,
          "column": 15,
          "position": 2298
        },
        "endLoc": {
          "line": 307,
          "column": 4,
          "position": 2402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  vendor_type",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/vendors.schema.ts",
        "start": 306,
        "end": 312,
        "startLoc": {
          "line": 306,
          "column": 2,
          "position": 2042
        },
        "endLoc": {
          "line": 312,
          "column": 12,
          "position": 2115
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 314,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 314,
          "column": 11,
          "position": 2483
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional(),\n\n  /** Associated driver ID (if user is a driver) */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 159,
        "end": 164,
        "startLoc": {
          "line": 159,
          "column": 3,
          "position": 945
        },
        "endLoc": {
          "line": 164,
          "column": 50,
          "position": 1009
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 158,
        "startLoc": {
          "line": 189,
          "column": 3,
          "position": 1361
        },
        "endLoc": {
          "line": 158,
          "column": 32,
          "position": 942
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional(),\n\n  /** Record creation timestamp */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/settings.schema.ts",
        "start": 153,
        "end": 158,
        "startLoc": {
          "line": 153,
          "column": 3,
          "position": 827
        },
        "endLoc": {
          "line": 158,
          "column": 33,
          "position": 891
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 158,
        "startLoc": {
          "line": 189,
          "column": 3,
          "position": 1361
        },
        "endLoc": {
          "line": 158,
          "column": 32,
          "position": 942
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "= z.object({\n  /** Pagination: page number */\n  page: z.coerce.number().int().positive().default(1),\n\n  /** Pagination: items per page */\n  limit: z.coerce.number().int().positive().max(500).default(100",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/settings.schema.ts",
        "start": 204,
        "end": 209,
        "startLoc": {
          "line": 204,
          "column": 2,
          "position": 1119
        },
        "endLoc": {
          "line": 209,
          "column": 4,
          "position": 1187
        }
      },
      "secondFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 235,
        "end": 240,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 1439
        },
        "endLoc": {
          "line": 240,
          "column": 3,
          "position": 1507
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "notes: z.string()\n    .max(5000, 'Notes must be 5000 characters or less')\n    .optional(),\n\n  // Metadata\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict().refine(data => {\n  // Validate that planned_end_time is after planned_start_time",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/routes.schema.ts",
        "start": 155,
        "end": 165,
        "startLoc": {
          "line": 155,
          "column": 3,
          "position": 1228
        },
        "endLoc": {
          "line": 165,
          "column": 62,
          "position": 1336
        }
      },
      "secondFile": {
        "name": "api/src/schemas/vendors.schema.ts",
        "start": 162,
        "end": 194,
        "startLoc": {
          "line": 162,
          "column": 3,
          "position": 1027
        },
        "endLoc": {
          "line": 194,
          "column": 73,
          "position": 1438
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ".optional(),\n\n  notes: z.string()\n    .max(5000)\n    .nullable()\n    .optional(),\n\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).nullable().optional()\n}).strict();\n\n/**\n * Route query parameters schema\n * GET /routes\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/routes.schema.ts",
        "start": 225,
        "end": 241,
        "startLoc": {
          "line": 225,
          "column": 2,
          "position": 1835
        },
        "endLoc": {
          "line": 241,
          "column": 4,
          "position": 1948
        }
      },
      "secondFile": {
        "name": "api/src/schemas/vendors.schema.ts",
        "start": 289,
        "end": 307,
        "startLoc": {
          "line": 289,
          "column": 17,
          "position": 1921
        },
        "endLoc": {
          "line": 307,
          "column": 4,
          "position": 2402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  vehicle_id: z.string().uuid().optional(),\n  driver_id",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/routes.schema.ts",
        "start": 242,
        "end": 249,
        "startLoc": {
          "line": 242,
          "column": 2,
          "position": 1956
        },
        "endLoc": {
          "line": 249,
          "column": 10,
          "position": 2048
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 315,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 315,
          "column": 12,
          "position": 2502
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "),\n  order: z.enum(['asc', 'desc']).default('desc')\n}).refine(data => {\n  // Validate date range\n  if (data.start_date && data.end_date) {\n    return data.start_date <= data.end_date;\n  }\n  return true;\n}, {\n  message: 'start_date must be before or equal to end_date'\n}).refine(data => {\n  // Validate distance range",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/routes.schema.ts",
        "start": 292,
        "end": 303,
        "startLoc": {
          "line": 292,
          "column": 21,
          "position": 2392
        },
        "endLoc": {
          "line": 303,
          "column": 27,
          "position": 2493
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 350,
        "end": 361,
        "startLoc": {
          "line": 350,
          "column": 13,
          "position": 2780
        },
        "endLoc": {
          "line": 361,
          "column": 23,
          "position": 2881
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional(),\n\n  /** Record creation timestamp */\n  created_at: z.coerce.date(),\n\n  /** Record last update timestamp */\n  updated_at: z.coerce.date(),\n\n  /** Record soft deletion timestamp */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/roles-permissions.schema.ts",
        "start": 172,
        "end": 183,
        "startLoc": {
          "line": 172,
          "column": 3,
          "position": 941
        },
        "endLoc": {
          "line": 183,
          "column": 38,
          "position": 1039
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 164,
        "startLoc": {
          "line": 189,
          "column": 3,
          "position": 1361
        },
        "endLoc": {
          "line": 164,
          "column": 42,
          "position": 925
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ").optional(),\n\n  /** Record creation timestamp */\n  created_at: z.coerce.date(),\n\n  /** Record last update timestamp */\n  updated_at: z.coerce.date(),\n\n  /** Record soft deletion timestamp */\n  deleted_at: z.coerce.date().nullable().optional(),\n}).strict();\n\n/**\n * Permission creation schema\n * POST /permissions\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/roles-permissions.schema.ts",
        "start": 175,
        "end": 190,
        "startLoc": {
          "line": 175,
          "column": 3,
          "position": 996
        },
        "endLoc": {
          "line": 190,
          "column": 4,
          "position": 1071
        }
      },
      "secondFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 168,
        "end": 184,
        "startLoc": {
          "line": 168,
          "column": 2,
          "position": 1038
        },
        "endLoc": {
          "line": 184,
          "column": 4,
          "position": 1113
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "= z.object({\n  /** Pagination: page number */\n  page: z.coerce.number().int().positive().default(1),\n\n  /** Pagination: items per page */\n  limit: z.coerce.number().int().positive().max(500).default(100),\n\n  /** Filter by resource type */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/roles-permissions.schema.ts",
        "start": 213,
        "end": 220,
        "startLoc": {
          "line": 213,
          "column": 2,
          "position": 1193
        },
        "endLoc": {
          "line": 220,
          "column": 31,
          "position": 1267
        }
      },
      "secondFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 235,
        "end": 211,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 1439
        },
        "endLoc": {
          "line": 211,
          "column": 23,
          "position": 1193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "= z.object({\n  /** Pagination: page number */\n  page: z.coerce.number().int().positive().default(1),\n\n  /** Pagination: items per page */\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  /** Filter by role type */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/roles-permissions.schema.ts",
        "start": 281,
        "end": 288,
        "startLoc": {
          "line": 281,
          "column": 2,
          "position": 1642
        },
        "endLoc": {
          "line": 288,
          "column": 27,
          "position": 1716
        }
      },
      "secondFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 235,
        "end": 242,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 1439
        },
        "endLoc": {
          "line": 242,
          "column": 22,
          "position": 1513
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ": z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional(),\n\n  /** Template ID used (if any) */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/notifications.schema.ts",
        "start": 150,
        "end": 155,
        "startLoc": {
          "line": 150,
          "column": 5,
          "position": 721
        },
        "endLoc": {
          "line": 155,
          "column": 33,
          "position": 784
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 158,
        "startLoc": {
          "line": 189,
          "column": 9,
          "position": 1362
        },
        "endLoc": {
          "line": 158,
          "column": 32,
          "position": 942
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional(),\n\n  /** Record creation timestamp */\n  created_at: z.coerce.date(),\n\n  /** Record last update timestamp */\n  updated_at: z.coerce.date(),\n\n  /** Record soft deletion timestamp */\n  deleted_at: z.coerce.date().nullable().optional(),\n}).strict();\n\n/**\n * Notification creation schema\n * POST /notifications\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/notifications.schema.ts",
        "start": 202,
        "end": 220,
        "startLoc": {
          "line": 202,
          "column": 3,
          "position": 1099
        },
        "endLoc": {
          "line": 220,
          "column": 4,
          "position": 1229
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 184,
        "startLoc": {
          "line": 189,
          "column": 3,
          "position": 1361
        },
        "endLoc": {
          "line": 184,
          "column": 4,
          "position": 1113
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "= z.object({\n  /** Pagination: page number */\n  page: z.coerce.number().int().positive().default(1),\n\n  /** Pagination: items per page */\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  /** Filter by user ID */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/notifications.schema.ts",
        "start": 267,
        "end": 274,
        "startLoc": {
          "line": 267,
          "column": 2,
          "position": 1520
        },
        "endLoc": {
          "line": 274,
          "column": 25,
          "position": 1594
        }
      },
      "secondFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 235,
        "end": 242,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 1439
        },
        "endLoc": {
          "line": 242,
          "column": 22,
          "position": 1513
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "]).default('created_at'),\n\n  /** Sort order */\n  order: z.enum(['asc', 'desc']).default('desc'),\n}).refine(data => {\n  if (data.created_after && data.created_before) {\n    return data.created_after <= data.created_before;\n  }\n  return true;\n}, {\n  message: 'created_after must be before or equal to created_before'\n}).refine(data => {\n  if (data.scheduled_after",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/notifications.schema.ts",
        "start": 327,
        "end": 339,
        "startLoc": {
          "line": 327,
          "column": 3,
          "position": 1920
        },
        "endLoc": {
          "line": 339,
          "column": 16,
          "position": 2034
        }
      },
      "secondFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 284,
        "end": 296,
        "startLoc": {
          "line": 284,
          "column": 3,
          "position": 1770
        },
        "endLoc": {
          "line": 296,
          "column": 17,
          "position": 1884
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ": z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional(),\n\n  /** Schedule send time */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/notifications.schema.ts",
        "start": 377,
        "end": 382,
        "startLoc": {
          "line": 377,
          "column": 10,
          "position": 2303
        },
        "endLoc": {
          "line": 382,
          "column": 26,
          "position": 2366
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 158,
        "startLoc": {
          "line": 189,
          "column": 9,
          "position": 1362
        },
        "endLoc": {
          "line": 158,
          "column": 32,
          "position": 942
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional(),\n\n  /** Record creation timestamp */\n  created_at: z.coerce.date(),\n\n  /** Record last update timestamp */\n  updated_at: z.coerce.date(),\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/notifications.schema.ts",
        "start": 459,
        "end": 469,
        "startLoc": {
          "line": 459,
          "column": 3,
          "position": 2854
        },
        "endLoc": {
          "line": 469,
          "column": 2,
          "position": 2950
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 164,
        "startLoc": {
          "line": 189,
          "column": 3,
          "position": 1361
        },
        "endLoc": {
          "line": 164,
          "column": 42,
          "position": 925
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ")\n    .optional(),\n\n  partsReplaced: z.array(z.object({\n    partNumber: z.string(),\n    partName: z.string(),\n    quantity: z.number().int().positive(),\n    unitCost: z.number().nonnegative().multipleOf(0.01),\n  })).nullable",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/maintenance.schema.ts",
        "start": 185,
        "end": 193,
        "startLoc": {
          "line": 185,
          "column": 2,
          "position": 1180
        },
        "endLoc": {
          "line": 193,
          "column": 9,
          "position": 1270
        }
      },
      "secondFile": {
        "name": "api/src/schemas/maintenance.schema.ts",
        "start": 93,
        "end": 101,
        "startLoc": {
          "line": 93,
          "column": 49,
          "position": 495
        },
        "endLoc": {
          "line": 101,
          "column": 9,
          "position": 585
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ")\n    .optional(),\n\n  // Metadata\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict();\n\n/**\n * Inspection update schema\n * PUT /inspections/:id\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/inspections.schema.ts",
        "start": 210,
        "end": 223,
        "startLoc": {
          "line": 210,
          "column": 30,
          "position": 1488
        },
        "endLoc": {
          "line": 223,
          "column": 4,
          "position": 1572
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 185,
        "end": 176,
        "startLoc": {
          "line": 185,
          "column": 49,
          "position": 1347
        },
        "endLoc": {
          "line": 176,
          "column": 4,
          "position": 1128
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ")\n    .nullable()\n    .optional(),\n\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).nullable().optional()\n}).strict();\n\n/**\n * Inspection query parameters schema\n * GET /inspections\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/inspections.schema.ts",
        "start": 264,
        "end": 277,
        "startLoc": {
          "line": 264,
          "column": 3,
          "position": 1867
        },
        "endLoc": {
          "line": 277,
          "column": 4,
          "position": 1958
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 294,
        "end": 307,
        "startLoc": {
          "line": 294,
          "column": 5,
          "position": 2311
        },
        "endLoc": {
          "line": 307,
          "column": 4,
          "position": 2402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  vehicle_id: z.string().uuid().optional(),\n  driver_id: z.string().uuid().optional(),\n  inspection_form_id",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/inspections.schema.ts",
        "start": 278,
        "end": 286,
        "startLoc": {
          "line": 278,
          "column": 2,
          "position": 1966
        },
        "endLoc": {
          "line": 286,
          "column": 19,
          "position": 2077
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 250,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 250,
          "column": 12,
          "position": 2067
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "),\n  order: z.enum(['asc', 'desc']).default('desc')\n}).refine(data => {\n  // Validate date range\n  if (data.start_date && data.end_date) {\n    return data.start_date <= data.end_date;\n  }\n  return true;\n}, {\n  message: 'start_date must be before or equal to end_date'\n}).refine(data => {\n  // Validate score range",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/inspections.schema.ts",
        "start": 316,
        "end": 327,
        "startLoc": {
          "line": 316,
          "column": 18,
          "position": 2327
        },
        "endLoc": {
          "line": 327,
          "column": 24,
          "position": 2428
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 350,
        "end": 361,
        "startLoc": {
          "line": 350,
          "column": 13,
          "position": 2780
        },
        "endLoc": {
          "line": 361,
          "column": 23,
          "position": 2881
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ")\n    .optional(),\n\n  // Metadata\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict().refine(data => {\n  // If OSHA case number provided, must be reported to OSHA",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/incidents.schema.ts",
        "start": 251,
        "end": 260,
        "startLoc": {
          "line": 251,
          "column": 50,
          "position": 1978
        },
        "endLoc": {
          "line": 260,
          "column": 58,
          "position": 2069
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 185,
        "end": 194,
        "startLoc": {
          "line": 185,
          "column": 49,
          "position": 1347
        },
        "endLoc": {
          "line": 194,
          "column": 73,
          "position": 1438
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ").nullable().optional(),\n\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).nullable().optional()\n}).strict();\n\n/**\n * Incident query parameters schema\n * GET /incidents\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/incidents.schema.ts",
        "start": 369,
        "end": 380,
        "startLoc": {
          "line": 369,
          "column": 6,
          "position": 3196
        },
        "endLoc": {
          "line": 380,
          "column": 4,
          "position": 3283
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 294,
        "end": 307,
        "startLoc": {
          "line": 294,
          "column": 5,
          "position": 2311
        },
        "endLoc": {
          "line": 307,
          "column": 4,
          "position": 2402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  vehicle_id: z.string().uuid().optional(),\n  driver_id: z.string().uuid().optional(),\n\n  incident_type",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/incidents.schema.ts",
        "start": 381,
        "end": 390,
        "startLoc": {
          "line": 381,
          "column": 2,
          "position": 3291
        },
        "endLoc": {
          "line": 390,
          "column": 14,
          "position": 3403
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 250,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 250,
          "column": 12,
          "position": 2067
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ": z.coerce.boolean().optional(),\n\n  // Date range\n  start_date: z.coerce.date().optional(),\n  end_date: z.coerce.date().optional(),\n\n  // Cost range\n  min_cost: commonSchemas.currency.optional(),\n  max_cost: commonSchemas.currency.optional(),\n\n  // Casualty filtering",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/incidents.schema.ts",
        "start": 398,
        "end": 408,
        "startLoc": {
          "line": 398,
          "column": 16,
          "position": 3506
        },
        "endLoc": {
          "line": 408,
          "column": 22,
          "position": 3591
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 322,
        "end": 332,
        "startLoc": {
          "line": 322,
          "column": 15,
          "position": 2576
        },
        "endLoc": {
          "line": 332,
          "column": 20,
          "position": 2661
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "),\n  order: z.enum(['asc', 'desc']).default('desc')\n}).refine(data => {\n  // Validate date range\n  if (data.start_date && data.end_date) {\n    return data.start_date <= data.end_date;\n  }\n  return true;\n}, {\n  message: 'start_date must be before or equal to end_date'\n}).refine(data => {\n  // Validate cost range\n  if (data.min_cost !== undefined && data.max_cost !== undefined) {\n    return data.min_cost <= data.max_cost;\n  }\n  return true;\n}, {\n  message: 'min_cost must be less than or equal to max_cost'\n});\n\n/**\n * Incident ID parameter schema\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/incidents.schema.ts",
        "start": 425,
        "end": 447,
        "startLoc": {
          "line": 425,
          "column": 16,
          "position": 3702
        },
        "endLoc": {
          "line": 447,
          "column": 4,
          "position": 3869
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 350,
        "end": 372,
        "startLoc": {
          "line": 350,
          "column": 13,
          "position": 2780
        },
        "endLoc": {
          "line": 372,
          "column": 4,
          "position": 2947
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ")\n    .optional(),\n\n  notes: z.string()\n    .max(5000, 'Notes must be 5000 characters or less')\n    .optional(),\n\n  // Metadata\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict().refine(data => {\n  // Circular geofences must have center and radius",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/geofences.schema.ts",
        "start": 102,
        "end": 115,
        "startLoc": {
          "line": 102,
          "column": 46,
          "position": 658
        },
        "endLoc": {
          "line": 115,
          "column": 50,
          "position": 777
        }
      },
      "secondFile": {
        "name": "api/src/schemas/routes.schema.ts",
        "start": 153,
        "end": 194,
        "startLoc": {
          "line": 153,
          "column": 5,
          "position": 1219
        },
        "endLoc": {
          "line": 194,
          "column": 73,
          "position": 1438
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ")\n    .optional(),\n\n  notes: z.string()\n    .max(5000)\n    .nullable()\n    .optional(),\n\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).nullable().optional()\n}).strict();\n\n/**\n * Geofence query parameters schema\n * GET /geofences\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/geofences.schema.ts",
        "start": 226,
        "end": 243,
        "startLoc": {
          "line": 226,
          "column": 2,
          "position": 1622
        },
        "endLoc": {
          "line": 243,
          "column": 4,
          "position": 1738
        }
      },
      "secondFile": {
        "name": "api/src/schemas/routes.schema.ts",
        "start": 225,
        "end": 307,
        "startLoc": {
          "line": 225,
          "column": 2,
          "position": 1834
        },
        "endLoc": {
          "line": 307,
          "column": 4,
          "position": 2402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  geofence_type",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/geofences.schema.ts",
        "start": 244,
        "end": 250,
        "startLoc": {
          "line": 244,
          "column": 2,
          "position": 1746
        },
        "endLoc": {
          "line": 250,
          "column": 14,
          "position": 1819
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 314,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 314,
          "column": 11,
          "position": 2483
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "),\n  order: z.enum(['asc', 'desc']).default('desc')\n}).refine(data => {\n  // Validate date range\n  if (data.start_date && data.end_date) {\n    return data.start_date <= data.end_date;\n  }\n  return true;\n}, {\n  message: 'start_date must be before or equal to end_date'\n});",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/geofences.schema.ts",
        "start": 313,
        "end": 323,
        "startLoc": {
          "line": 313,
          "column": 13,
          "position": 2428
        },
        "endLoc": {
          "line": 323,
          "column": 2,
          "position": 2519
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 350,
        "end": 360,
        "startLoc": {
          "line": 350,
          "column": 13,
          "position": 2780
        },
        "endLoc": {
          "line": 360,
          "column": 2,
          "position": 2871
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ")\n    .optional(),\n\n  // Metadata\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict().refine(data => {\n  // Validate that total_cost matches quantity * price_per_unit (within 1 cent tolerance)",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/fuel-transactions.schema.ts",
        "start": 173,
        "end": 182,
        "startLoc": {
          "line": 173,
          "column": 40,
          "position": 912
        },
        "endLoc": {
          "line": 182,
          "column": 88,
          "position": 1003
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 185,
        "end": 194,
        "startLoc": {
          "line": 185,
          "column": 49,
          "position": 1347
        },
        "endLoc": {
          "line": 194,
          "column": 73,
          "position": 1438
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ").optional(),\n\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/fuel-transactions.schema.ts",
        "start": 232,
        "end": 237,
        "startLoc": {
          "line": 232,
          "column": 5,
          "position": 1393
        },
        "endLoc": {
          "line": 237,
          "column": 9,
          "position": 1459
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 295,
        "end": 301,
        "startLoc": {
          "line": 295,
          "column": 2,
          "position": 2317
        },
        "endLoc": {
          "line": 301,
          "column": 9,
          "position": 2385
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict()\n\n/**\n * Query parameters for GET /fuel-transactions\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/fuel-transactions.schema.ts",
        "start": 234,
        "end": 242,
        "startLoc": {
          "line": 234,
          "column": 3,
          "position": 1402
        },
        "endLoc": {
          "line": 242,
          "column": 4,
          "position": 1471
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 193,
        "startLoc": {
          "line": 189,
          "column": 3,
          "position": 1361
        },
        "endLoc": {
          "line": 193,
          "column": 2,
          "position": 1428
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  vehicle_id: z.string().uuid().optional(),\n  driver_id: z.string().uuid().optional(),\n  vendor_id",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/fuel-transactions.schema.ts",
        "start": 243,
        "end": 251,
        "startLoc": {
          "line": 243,
          "column": 2,
          "position": 1479
        },
        "endLoc": {
          "line": 251,
          "column": 10,
          "position": 1590
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 250,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 250,
          "column": 12,
          "position": 2067
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ")\n    .optional(),\n\n  // Date range\n  start_date: z.coerce.date().optional(),\n  end_date: z.coerce.date().optional(),\n\n  // Cost range\n  min_cost: commonSchemas.currency.optional(),\n  max_cost: commonSchemas.currency.optional(),\n\n  // Quantity range",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/fuel-transactions.schema.ts",
        "start": 259,
        "end": 270,
        "startLoc": {
          "line": 259,
          "column": 24,
          "position": 1664
        },
        "endLoc": {
          "line": 270,
          "column": 18,
          "position": 1743
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 322,
        "end": 332,
        "startLoc": {
          "line": 322,
          "column": 2,
          "position": 2584
        },
        "endLoc": {
          "line": 332,
          "column": 20,
          "position": 2661
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "),\n  order: z.enum(['asc', 'desc']).default('desc')\n}).refine(data => {\n  // Validate date range\n  if (data.start_date && data.end_date) {\n    return data.start_date <= data.end_date\n  }\n  return true\n}, {\n  message: 'start_date must be before or equal to end_date'\n}).refine(data => {\n  // Validate cost range",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/fuel-transactions.schema.ts",
        "start": 281,
        "end": 292,
        "startLoc": {
          "line": 281,
          "column": 19,
          "position": 1827
        },
        "endLoc": {
          "line": 292,
          "column": 23,
          "position": 1926
        }
      },
      "secondFile": {
        "name": "api/src/schemas/telemetry.schema.ts",
        "start": 155,
        "end": 166,
        "startLoc": {
          "line": 155,
          "column": 12,
          "position": 1051
        },
        "endLoc": {
          "line": 166,
          "column": 27,
          "position": 1150
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "),\n\n  // Additional information\n  notes: z.string()\n    .max(5000, 'Notes must be 5000 characters or less')\n    .optional(),\n\n  // Metadata\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict();\n\n/**\n * Facility update schema\n * PUT /facilities/:id\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/facilities.schema.ts",
        "start": 119,
        "end": 136,
        "startLoc": {
          "line": 119,
          "column": 5,
          "position": 917
        },
        "endLoc": {
          "line": 136,
          "column": 4,
          "position": 1026
        }
      },
      "secondFile": {
        "name": "api/src/schemas/vendors.schema.ts",
        "start": 159,
        "end": 176,
        "startLoc": {
          "line": 159,
          "column": 9,
          "position": 1019
        },
        "endLoc": {
          "line": 176,
          "column": 4,
          "position": 1128
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "operating_hours: z.object({\n    monday: z.object({ open: z.string(), close: z.string() }).optional(),\n    tuesday: z.object({ open: z.string(), close: z.string() }).optional(),\n    wednesday: z.object({ open: z.string(), close: z.string() }).optional(),\n    thursday: z.object({ open: z.string(), close: z.string() }).optional(),\n    friday: z.object({ open: z.string(), close: z.string() }).optional(),\n    saturday: z.object({ open: z.string(), close: z.string() }).optional(),\n    sunday: z.object({ open: z.string(), close: z.string() }).optional(),\n  }).nullable",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/facilities.schema.ts",
        "start": 211,
        "end": 219,
        "startLoc": {
          "line": 211,
          "column": 3,
          "position": 1589
        },
        "endLoc": {
          "line": 219,
          "column": 9,
          "position": 1861
        }
      },
      "secondFile": {
        "name": "api/src/schemas/facilities.schema.ts",
        "start": 108,
        "end": 116,
        "startLoc": {
          "line": 108,
          "column": 3,
          "position": 623
        },
        "endLoc": {
          "line": 116,
          "column": 9,
          "position": 895
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ")\n    .nullable()\n    .optional(),\n\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).nullable().optional()\n}).strict();\n\n/**\n * Facility query parameters schema\n * GET /facilities\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/facilities.schema.ts",
        "start": 224,
        "end": 237,
        "startLoc": {
          "line": 224,
          "column": 40,
          "position": 1905
        },
        "endLoc": {
          "line": 237,
          "column": 4,
          "position": 1996
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 294,
        "end": 307,
        "startLoc": {
          "line": 294,
          "column": 5,
          "position": 2311
        },
        "endLoc": {
          "line": 307,
          "column": 4,
          "position": 2402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  facility_type",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/facilities.schema.ts",
        "start": 238,
        "end": 244,
        "startLoc": {
          "line": 238,
          "column": 2,
          "position": 2004
        },
        "endLoc": {
          "line": 244,
          "column": 14,
          "position": 2077
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 314,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 314,
          "column": 11,
          "position": 2483
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "().optional(),\n\n  certifications: z.array(z.object({\n    name: z.string(),\n    issueDate: z.coerce.date(),\n    expiryDate: z.coerce.date().optional(),\n    issuingAuthority: z.string().optional(),\n  })).nullable",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/drivers.schema.ts",
        "start": 204,
        "end": 211,
        "startLoc": {
          "line": 204,
          "column": 9,
          "position": 1401
        },
        "endLoc": {
          "line": 211,
          "column": 9,
          "position": 1485
        }
      },
      "secondFile": {
        "name": "api/src/schemas/drivers.schema.ts",
        "start": 109,
        "end": 116,
        "startLoc": {
          "line": 109,
          "column": 5,
          "position": 671
        },
        "endLoc": {
          "line": 116,
          "column": 9,
          "position": 755
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ").optional(),\n\n  emergencyContact: z.object({\n    name: z.string(),\n    relationship: z.string().optional(),\n    phone: z.string().regex(phoneRegex, 'Invalid emergency contact phone'),\n    email: emailSchema.optional(),\n  }).nullable",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/drivers.schema.ts",
        "start": 211,
        "end": 218,
        "startLoc": {
          "line": 211,
          "column": 2,
          "position": 1487
        },
        "endLoc": {
          "line": 218,
          "column": 9,
          "position": 1565
        }
      },
      "secondFile": {
        "name": "api/src/schemas/drivers.schema.ts",
        "start": 116,
        "end": 123,
        "startLoc": {
          "line": 116,
          "column": 2,
          "position": 753
        },
        "endLoc": {
          "line": 123,
          "column": 9,
          "position": 831
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(1000), z.number(), z.boolean()])\n  ).optional()\n}).strict()\n\n/**\n * Link entity to communication\n * POST /communications/:id/link\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/communications.schema.ts",
        "start": 263,
        "end": 272,
        "startLoc": {
          "line": 263,
          "column": 3,
          "position": 1480
        },
        "endLoc": {
          "line": 272,
          "column": 4,
          "position": 1549
        }
      },
      "secondFile": {
        "name": "api/src/schemas/communications.schema.ts",
        "start": 214,
        "end": 218,
        "startLoc": {
          "line": 214,
          "column": 3,
          "position": 1078
        },
        "endLoc": {
          "line": 218,
          "column": 2,
          "position": 1145
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  communication_type",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/communications.schema.ts",
        "start": 282,
        "end": 288,
        "startLoc": {
          "line": 282,
          "column": 2,
          "position": 1615
        },
        "endLoc": {
          "line": 288,
          "column": 19,
          "position": 1688
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 314,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 314,
          "column": 11,
          "position": 2483
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ".optional(),\n\n  // Search\n  search: z.string()\n    .max(500, 'Search query too long')\n    .optional(),\n\n  // Date range\n  start_date: z.coerce.date().optional(),\n  end_date: z.coerce.date().optional(),\n\n  // Follow-up filtering",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/communications.schema.ts",
        "start": 292,
        "end": 303,
        "startLoc": {
          "line": 292,
          "column": 2,
          "position": 1749
        },
        "endLoc": {
          "line": 303,
          "column": 23,
          "position": 1826
        }
      },
      "secondFile": {
        "name": "api/src/schemas/fuel-transactions.schema.ts",
        "start": 255,
        "end": 266,
        "startLoc": {
          "line": 255,
          "column": 22,
          "position": 1636
        },
        "endLoc": {
          "line": 266,
          "column": 14,
          "position": 1713
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "),\n  order: z.enum(['asc', 'desc']).default('desc')\n}).refine(data => {\n  // Validate date range\n  if (data.start_date && data.end_date) {\n    return data.start_date <= data.end_date\n  }\n  return true\n}, {\n  message: 'start_date must be before or equal to end_date'\n})\n\n/**\n * Communication template schema\n * POST /communications/templates\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/communications.schema.ts",
        "start": 318,
        "end": 333,
        "startLoc": {
          "line": 318,
          "column": 25,
          "position": 1936
        },
        "endLoc": {
          "line": 333,
          "column": 4,
          "position": 2027
        }
      },
      "secondFile": {
        "name": "api/src/schemas/telemetry.schema.ts",
        "start": 155,
        "end": 165,
        "startLoc": {
          "line": 155,
          "column": 12,
          "position": 1051
        },
        "endLoc": {
          "line": 165,
          "column": 2,
          "position": 1140
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "= z.object({\n  /** Pagination: page number */\n  page: z.coerce.number().int().positive().default(1),\n\n  /** Pagination: items per page */\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  /** Filter by user ID */\n  user_id: uuidSchema.optional(),\n\n  /** Filter by user email */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/audit-logs.schema.ts",
        "start": 295,
        "end": 305,
        "startLoc": {
          "line": 295,
          "column": 2,
          "position": 1631
        },
        "endLoc": {
          "line": 305,
          "column": 28,
          "position": 1720
        }
      },
      "secondFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 235,
        "end": 277,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 1439
        },
        "endLoc": {
          "line": 277,
          "column": 22,
          "position": 1609
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "]).default('created_at'),\n\n  /** Sort order */\n  order: z.enum(['asc', 'desc']).default('desc'),\n}).refine(data => {\n  if (data.created_after && data.created_before) {\n    return data.created_after <= data.created_before;\n  }\n  return true;\n}, {\n  message: 'created_after must be before or equal to created_before'\n}).refine(data => {\n  if (data.min_duration_ms",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/audit-logs.schema.ts",
        "start": 381,
        "end": 393,
        "startLoc": {
          "line": 381,
          "column": 3,
          "position": 2264
        },
        "endLoc": {
          "line": 393,
          "column": 16,
          "position": 2378
        }
      },
      "secondFile": {
        "name": "api/src/schemas/users.schema.ts",
        "start": 284,
        "end": 296,
        "startLoc": {
          "line": 284,
          "column": 3,
          "position": 1770
        },
        "endLoc": {
          "line": 296,
          "column": 17,
          "position": 1884
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ": z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional(),\n\n  weight",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/assets.schema.ts",
        "start": 143,
        "end": 148,
        "startLoc": {
          "line": 143,
          "column": 15,
          "position": 842
        },
        "endLoc": {
          "line": 148,
          "column": 7,
          "position": 905
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 189,
        "end": 158,
        "startLoc": {
          "line": 189,
          "column": 9,
          "position": 1362
        },
        "endLoc": {
          "line": 158,
          "column": 32,
          "position": 942
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ").optional(),\n\n  notes: z.string()\n    .max(5000, 'Notes must be 5000 characters or less')\n    .optional(),\n\n  // Metadata\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).optional()\n}).strict().refine(data => {\n  // Validate that warranty_expiration is in the future if provided",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/assets.schema.ts",
        "start": 201,
        "end": 213,
        "startLoc": {
          "line": 201,
          "column": 4,
          "position": 1420
        },
        "endLoc": {
          "line": 213,
          "column": 66,
          "position": 1537
        }
      },
      "secondFile": {
        "name": "api/src/schemas/routes.schema.ts",
        "start": 153,
        "end": 194,
        "startLoc": {
          "line": 153,
          "column": 5,
          "position": 1219
        },
        "endLoc": {
          "line": 194,
          "column": 73,
          "position": 1438
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ")\n    .optional(),\n\n  dimensions: z.object({\n    length: z.number().nonnegative().optional(),\n    width: z.number().nonnegative().optional(),\n    height: z.number().nonnegative().optional(),\n    unit: z.enum(['inches', 'feet', 'meters', 'centimeters']).default('inches')\n  }).nullable",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/assets.schema.ts",
        "start": 315,
        "end": 323,
        "startLoc": {
          "line": 315,
          "column": 2,
          "position": 2381
        },
        "endLoc": {
          "line": 323,
          "column": 9,
          "position": 2489
        }
      },
      "secondFile": {
        "name": "api/src/schemas/assets.schema.ts",
        "start": 150,
        "end": 158,
        "startLoc": {
          "line": 150,
          "column": 34,
          "position": 929
        },
        "endLoc": {
          "line": 158,
          "column": 9,
          "position": 1037
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "certifications: z.array(\n    z.object({\n      name: z.string().max(255),\n      issued_date: z.coerce.date(),\n      expiry_date: z.coerce.date().optional(),\n      issuing_authority: z.string().max(255).optional(),\n      certificate_number: z.string().max(100).optional()\n    })\n  ).max(50)",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/assets.schema.ts",
        "start": 347,
        "end": 355,
        "startLoc": {
          "line": 347,
          "column": 3,
          "position": 2654
        },
        "endLoc": {
          "line": 355,
          "column": 2,
          "position": 2764
        }
      },
      "secondFile": {
        "name": "api/src/schemas/assets.schema.ts",
        "start": 180,
        "end": 188,
        "startLoc": {
          "line": 180,
          "column": 3,
          "position": 1194
        },
        "endLoc": {
          "line": 188,
          "column": 2,
          "position": 1304
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ")\n    .nullable()\n    .optional(),\n\n  notes: z.string()\n    .max(5000)\n    .nullable()\n    .optional(),\n\n  metadata: z.record(\n    z.string().max(100),\n    z.union([z.string().max(500), z.number(), z.boolean()])\n  ).nullable().optional()\n}).strict();\n\n/**\n * Asset query parameters schema\n * GET /assets\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/assets.schema.ts",
        "start": 367,
        "end": 385,
        "startLoc": {
          "line": 367,
          "column": 4,
          "position": 2878
        },
        "endLoc": {
          "line": 385,
          "column": 4,
          "position": 3000
        }
      },
      "secondFile": {
        "name": "api/src/schemas/geofences.schema.ts",
        "start": 225,
        "end": 307,
        "startLoc": {
          "line": 225,
          "column": 5,
          "position": 1616
        },
        "endLoc": {
          "line": 307,
          "column": 4,
          "position": 2402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "= z.object({\n  // Pagination\n  page: z.coerce.number().int().positive().default(1),\n  limit: z.coerce.number().int().positive().max(500).default(50),\n\n  // Filtering\n  asset_type",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/schemas/assets.schema.ts",
        "start": 386,
        "end": 392,
        "startLoc": {
          "line": 386,
          "column": 2,
          "position": 3008
        },
        "endLoc": {
          "line": 392,
          "column": 11,
          "position": 3081
        }
      },
      "secondFile": {
        "name": "api/src/schemas/work-orders.schema.ts",
        "start": 308,
        "end": 314,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2410
        },
        "endLoc": {
          "line": 314,
          "column": 11,
          "position": 2483
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "const createWorkOrderSchema = z.object({\n  work_order_number: z.string(),\n  vehicle_id: z.string().uuid(),\n  facility_id: z.string().uuid().optional(),\n  assigned_technician_id: z.string().uuid().optional(),\n  type: z.enum(['preventive', 'corrective', 'inspection']),\n  priority: z.enum(['low', 'medium', 'high', 'critical']).default('medium'),\n  status: z.enum(['open', 'in_progress', 'on_hold', 'completed', 'cancelled']).default('open'),\n  description: z.string().min(1),\n  odometer_reading: z.number().optional(),\n  engine_hours_reading: z.number().optional(),\n  scheduled_start: z.string().optional(),\n  scheduled_end: z.string().optional(),\n  notes: z.string().optional()\n})\n\n/**\n * GET /work-orders\n *\n * Lists work orders for the authenticated user's tenant\n * RLS automatically filters results to current tenant\n *\n * SECURITY: No WHERE tenant_id clause needed - RLS handles it\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 45,
        "end": 68,
        "startLoc": {
          "line": 45,
          "column": 1,
          "position": 306
        },
        "endLoc": {
          "line": 68,
          "column": 4,
          "position": 555
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.ts",
        "start": 20,
        "end": 34,
        "startLoc": {
          "line": 20,
          "column": 1,
          "position": 209
        },
        "endLoc": {
          "line": 34,
          "column": 2,
          "position": 456
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", resourceType: 'work_orders' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const client = (req as any).dbClient\n      if (!client) {\n        return res.status(500).json({ error: 'Internal server error', code: 'MISSING_DB_CLIENT' })\n      }\n\n      // Build dynamic UPDATE clause",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 305,
        "end": 313,
        "startLoc": {
          "line": 305,
          "column": 9,
          "position": 2389
        },
        "endLoc": {
          "line": 313,
          "column": 31,
          "position": 2485
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 173,
        "end": 181,
        "startLoc": {
          "line": 173,
          "column": 7,
          "position": 1412
        },
        "endLoc": {
          "line": 181,
          "column": 102,
          "position": 1508
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", resourceType: 'work_orders' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const client = (req as any).dbClient\n      if (!client) {\n        return res.status(500).json({ error: 'Internal server error', code: 'MISSING_DB_CLIENT' })\n      }\n\n      // RLS ensures DELETE only affects rows in current tenant",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 371,
        "end": 379,
        "startLoc": {
          "line": 371,
          "column": 9,
          "position": 2894
        },
        "endLoc": {
          "line": 379,
          "column": 58,
          "position": 2990
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 173,
        "end": 181,
        "startLoc": {
          "line": 173,
          "column": 7,
          "position": 1412
        },
        "endLoc": {
          "line": 181,
          "column": 102,
          "position": 1508
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      logger.error(`Get video-events error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 51,
        "end": 63,
        "startLoc": {
          "line": 51,
          "column": 7,
          "position": 373
        },
        "endLoc": {
          "line": 63,
          "column": 26,
          "position": 482
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 141,
        "end": 153,
        "startLoc": {
          "line": 141,
          "column": 7,
          "position": 1187
        },
        "endLoc": {
          "line": 153,
          "column": 30,
          "position": 1296
        }
      }
    },
    {
      "format": "typescript",
      "lines": 31,
      "fragment": ")\n\n// GET /video-events\nrouter.get(\n  '/',\n  requirePermission('video_event:view:global'),\n  auditLog({ action: 'READ', resourceType: 'video_events' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT \n          id,\n          tenant_id,\n          vehicle_id,\n          driver_id,\n          event_type,\n          event_date,\n          video_url,\n          thumbnail_url,\n          duration,\n          severity,\n          notes,\n          created_at,\n          updated_at \n        FROM video_events \n        WHERE tenant_id = $1 \n        ORDER BY created_at DESC \n        LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 32,
        "end": 62,
        "startLoc": {
          "line": 32,
          "column": 2,
          "position": 344
        },
        "endLoc": {
          "line": 62,
          "column": 28,
          "position": 477
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 18,
        "end": 44,
        "startLoc": {
          "line": 18,
          "column": 6,
          "position": 188
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id, limit, offset]\n      )\n\n      const countResult = await pool.query(\n        `SELECT COUNT(*) FROM video_events WHERE tenant_id = $1`,\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 62,
        "end": 76,
        "startLoc": {
          "line": 62,
          "column": 28,
          "position": 478
        },
        "endLoc": {
          "line": 76,
          "column": 2,
          "position": 588
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 44,
        "end": 58,
        "startLoc": {
          "line": 44,
          "column": 101,
          "position": 322
        },
        "endLoc": {
          "line": 58,
          "column": 2,
          "position": 432
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ")\n    }\n  }\n)\n\n// GET /video-events/:id\nrouter.get(\n  '/:id',\n  requirePermission('video_event:view:global'),\n  auditLog({ action: 'READ', resourceType: 'video_events' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const result = await pool.query(\n        `SELECT\n          id,\n          tenant_id,\n          vehicle_id,\n          driver_id,\n          event_type,\n          event_date,\n          video_url,\n          thumbnail_url,\n          duration,\n          severity,\n          notes,\n          created_at,\n          updated_at \n        FROM video_events \n        WHERE id = $1 AND tenant_id = $2`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 81,
        "end": 109,
        "startLoc": {
          "line": 81,
          "column": 4,
          "position": 645
        },
        "endLoc": {
          "line": 109,
          "column": 42,
          "position": 734
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 64,
        "end": 90,
        "startLoc": {
          "line": 64,
          "column": 2,
          "position": 508
        },
        "endLoc": {
          "line": 90,
          "column": 69,
          "position": 597
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n        [req.params.id, req.user!.tenant_id]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `VideoEvents not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      errorHandler",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 109,
        "end": 119,
        "startLoc": {
          "line": 109,
          "column": 42,
          "position": 735
        },
        "endLoc": {
          "line": 119,
          "column": 13,
          "position": 826
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 90,
        "end": 100,
        "startLoc": {
          "line": 90,
          "column": 69,
          "position": 598
        },
        "endLoc": {
          "line": 100,
          "column": 7,
          "position": 689
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ")\n      res.json({ data: vendors })\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /vendors/:id\n * Get a single vendor by ID\n *\n * BEFORE (direct pool.query):\n * - Manual query with WHERE clause\n * - Manual 404 check\n *\n * AFTER (DAL):\n * - Single repository call\n * - Type-safe return value\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vendors.dal-example.ts",
        "start": 156,
        "end": 176,
        "startLoc": {
          "line": 156,
          "column": 2,
          "position": 1092
        },
        "endLoc": {
          "line": 176,
          "column": 4,
          "position": 1177
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.dal-example.ts",
        "start": 110,
        "end": 124,
        "startLoc": {
          "line": 110,
          "column": 10,
          "position": 712
        },
        "endLoc": {
          "line": 124,
          "column": 4,
          "position": 797
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": ".json(vendor)\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ error: 'Validation failed', details: error.errors })\n      }\n\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * DELETE /vendors/:id\n * Delete a vendor\n *\n * BEFORE (direct pool.query):\n * - Manual DELETE query\n * - Manual 404 check\n *\n * AFTER (DAL):\n * - Single repository call\n * - Returns boolean success\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vendors.dal-example.ts",
        "start": 283,
        "end": 306,
        "startLoc": {
          "line": 283,
          "column": 4,
          "position": 1930
        },
        "endLoc": {
          "line": 306,
          "column": 4,
          "position": 2053
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.dal-example.ts",
        "start": 230,
        "end": 255,
        "startLoc": {
          "line": 230,
          "column": 2,
          "position": 1556
        },
        "endLoc": {
          "line": 255,
          "column": 4,
          "position": 1679
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "],\n    enforceTenantIsolation: true,\n    resourceType: 'vehicle'\n  }),\n  validateParams(vehicleIdSchema),\n  asyncHandler(async (req, res) => {\n    const tenantId = (req as any).user?.tenant_id\n    const vehicleId = Number(req.params.id)\n\n    if (!tenantId) {\n      throw new ValidationError('Tenant ID is required')\n    }\n\n    // Use DI-resolved VehicleService\n    const vehicleService = container.resolve('vehicleService')\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicles.ts",
        "start": 208,
        "end": 223,
        "startLoc": {
          "line": 208,
          "column": 15,
          "position": 1812
        },
        "endLoc": {
          "line": 223,
          "column": 6,
          "position": 1935
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicles.ts",
        "start": 90,
        "end": 187,
        "startLoc": {
          "line": 90,
          "column": 13,
          "position": 862
        },
        "endLoc": {
          "line": 187,
          "column": 87,
          "position": 1643
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { applyFieldMasking",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicles.enhanced.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 18,
          "position": 97
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 10,
          "position": 97
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ").isInt().toInt(),\n  query('days').optional().isInt({ min: 1, max: 365 }).toInt(),\n  validateRequest,\n  async (req: Request, res: Response) => {\n    try {\n      const { driverId",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-idling.routes.ts",
        "start": 270,
        "end": 275,
        "startLoc": {
          "line": 270,
          "column": 11,
          "position": 1705
        },
        "endLoc": {
          "line": 275,
          "column": 9,
          "position": 1783
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-idling.routes.ts",
        "start": 155,
        "end": 160,
        "startLoc": {
          "line": 155,
          "column": 12,
          "position": 948
        },
        "endLoc": {
          "line": 160,
          "column": 10,
          "position": 1026
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ").isInt().toInt(),\n  query('days').optional().isInt({ min: 1, max: 365 }).toInt(),\n  query('limit').optional().isInt({ min: 1, max: 1000 }).toInt(),\n  query('offset').optional().isInt({ min: 0 }).toInt(),\n  validateRequest,\n  async (req: Request, res: Response) => {\n    try {\n      const { driverId",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-idling.routes.ts",
        "start": 303,
        "end": 310,
        "startLoc": {
          "line": 303,
          "column": 11,
          "position": 1959
        },
        "endLoc": {
          "line": 310,
          "column": 9,
          "position": 2097
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-idling.routes.ts",
        "start": 109,
        "end": 116,
        "startLoc": {
          "line": 109,
          "column": 12,
          "position": 564
        },
        "endLoc": {
          "line": 116,
          "column": 10,
          "position": 702
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "} = req.params\n      const days = parseInt(req.query.days as string) || 30\n      const limit = parseInt(req.query.limit as string) || 100\n      const offset = parseInt(req.query.offset as string) || 0\n\n      const events = await idlingService.getDriverIdlingHistory",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-idling.routes.ts",
        "start": 310,
        "end": 315,
        "startLoc": {
          "line": 310,
          "column": 2,
          "position": 2099
        },
        "endLoc": {
          "line": 315,
          "column": 23,
          "position": 2191
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-idling.routes.ts",
        "start": 116,
        "end": 121,
        "startLoc": {
          "line": 116,
          "column": 2,
          "position": 704
        },
        "endLoc": {
          "line": 121,
          "column": 24,
          "position": 796
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "), async (req: AuthRequest, res) => {\n  try {\n    const { vehicleId } = req.params\n    const tenantId = req.user?.tenant_id\n\n    if (!tenantId) {\n      return res.status(401).json({ error: 'Tenant ID required' })\n    }\n\n    const label",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-identification.routes.ts",
        "start": 346,
        "end": 355,
        "startLoc": {
          "line": 346,
          "column": 21,
          "position": 1644
        },
        "endLoc": {
          "line": 355,
          "column": 6,
          "position": 1737
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-identification.routes.ts",
        "start": 46,
        "end": 55,
        "startLoc": {
          "line": 46,
          "column": 23,
          "position": 106
        },
        "endLoc": {
          "line": 55,
          "column": 7,
          "position": 199
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const tenantId = req.user?.tenant_id\n\n    if (!tenantId) {\n      return res.status(401).json({ error: 'Tenant ID required' })\n    }\n\n    const qrCode = await vehicleIdentificationService.generateVehicleQRCode(vehicleId, tenantId)\n\n    res.json({\n      qrCode,\n      message: 'QR code generated successfully',",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-identification.routes.enhanced.ts",
        "start": 49,
        "end": 59,
        "startLoc": {
          "line": 49,
          "column": 5,
          "position": 399
        },
        "endLoc": {
          "line": 59,
          "column": 2,
          "position": 485
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-identification.routes.ts",
        "start": 49,
        "end": 60,
        "startLoc": {
          "line": 49,
          "column": 5,
          "position": 146
        },
        "endLoc": {
          "line": 60,
          "column": 2,
          "position": 234
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const vehicleId = req.params.id\n\n      // Validate query parameters\n      const queryValidation = LocationHistoryQuerySchema.safeParse(req.query)\n      if (!queryValidation.success) {\n        return res.status(400).json({\n          error: 'Invalid query parameters',\n          details: queryValidation.error.errors,\n        })\n      }\n\n      const { startDate, endDate, limit, page } = queryValidation.data\n      const offset = (page - 1) * limit\n\n      // Verify vehicle belongs to tenant\n      const vehicleCheck = await pool.query(\n        `SELECT id, unit_number FROM vehicles WHERE id = $1 AND tenant_id = $2`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-history.routes.ts",
        "start": 267,
        "end": 286,
        "startLoc": {
          "line": 267,
          "column": 2,
          "position": 1335
        },
        "endLoc": {
          "line": 286,
          "column": 72,
          "position": 1511
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-history.routes.ts",
        "start": 44,
        "end": 63,
        "startLoc": {
          "line": 44,
          "column": 2,
          "position": 277
        },
        "endLoc": {
          "line": 63,
          "column": 59,
          "position": 453
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ")\n      const total = parseInt(countResult.rows[0].count)\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page,\n          limit,\n          total,\n          pages: Math.ceil(total / limit),\n          hasMore: offset + result.rows.length < total,\n        },\n        metadata: {\n          vehicleId,\n          unitNumber",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-history.routes.ts",
        "start": 424,
        "end": 438,
        "startLoc": {
          "line": 424,
          "column": 2,
          "position": 1829
        },
        "endLoc": {
          "line": 438,
          "column": 11,
          "position": 1935
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-history.routes.ts",
        "start": 139,
        "end": 154,
        "startLoc": {
          "line": 139,
          "column": 7,
          "position": 739
        },
        "endLoc": {
          "line": 154,
          "column": 10,
          "position": 846
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", error) // Wave 26: Winston logger;\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          error: 'Validation error',\n          details: error.errors,\n        });\n      }\n      res.status(500).json({\n        error: 'Failed to update vehicle assignment'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 415,
        "end": 423,
        "startLoc": {
          "line": 415,
          "column": 37,
          "position": 2796
        },
        "endLoc": {
          "line": 423,
          "column": 38,
          "position": 2872
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 348,
        "end": 356,
        "startLoc": {
          "line": 348,
          "column": 37,
          "position": 2242
        },
        "endLoc": {
          "line": 356,
          "column": 38,
          "position": 2318
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", error) // Wave 26: Winston logger;\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          error: 'Validation error',\n          details: error.errors,\n        });\n      }\n      res.status(500).json({\n        error: 'Failed to update lifecycle state'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 464,
        "end": 472,
        "startLoc": {
          "line": 464,
          "column": 34,
          "position": 3164
        },
        "endLoc": {
          "line": 472,
          "column": 35,
          "position": 3240
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 348,
        "end": 356,
        "startLoc": {
          "line": 348,
          "column": 37,
          "position": 2242
        },
        "endLoc": {
          "line": 356,
          "column": 38,
          "position": 2318
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", error) // Wave 26: Winston logger;\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          error: 'Validation error',\n          details: error.errors,\n        });\n      }\n      res.status(500).json({\n        error: 'Failed to process approval'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 599,
        "end": 607,
        "startLoc": {
          "line": 599,
          "column": 29,
          "position": 4025
        },
        "endLoc": {
          "line": 607,
          "column": 29,
          "position": 4101
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 348,
        "end": 356,
        "startLoc": {
          "line": 348,
          "column": 37,
          "position": 2242
        },
        "endLoc": {
          "line": 356,
          "column": 38,
          "position": 2318
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": "}\n\n// =====================================================\n// Validation Schemas\n// =====================================================\n\nconst createAssignmentSchema = z\n  .object({\n    vehicle_id: z.string().uuid(),\n    driver_id: z.string().uuid(),\n    department_id: z.string().uuid().optional(),\n    assignment_type: z.enum(['designated', 'on_call', 'temporary']),\n    start_date: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/),\n    end_date: z\n      .string()\n      .regex(/^\\d{4}-\\d{2}-\\d{2}$/)\n      .optional(),\n    is_ongoing: z.boolean().default(false),\n    authorized_use: z.string().optional(),\n    commuting_authorized: z.boolean().default(false),\n    on_call_only: z.boolean().default(false),\n    geographic_constraints: z.record(z.any().optional(),\n    requires_secured_parking: z.boolean().default(false),\n    secured_parking_location_id: z.string().uuid().optional(),\n    recommendation_notes: z.string().optional(),\n  })\n  .",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/vehicle-assignments.routes.enhanced.ts",
        "start": 36,
        "end": 62,
        "startLoc": {
          "line": 36,
          "column": 1,
          "position": 314
        },
        "endLoc": {
          "line": 62,
          "column": 2,
          "position": 586
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 35,
        "end": 56,
        "startLoc": {
          "line": 35,
          "column": 1,
          "position": 171
        },
        "endLoc": {
          "line": 56,
          "column": 2,
          "position": 432
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "trip.driver_id]\n      )\n\n      if (driverInfo.rows.length > 0) {\n        const driver = driverInfo.rows[0]\n        emailNotificationService.sendApprovalResult({\n          driverEmail: driver.email,\n          driverName: `${driver.first_name} ${driver.last_name}`,\n          tripDate: trip.trip_date,\n          miles: trip.miles_total,\n          status: 'rejected'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/trip-usage.ts",
        "start": 654,
        "end": 664,
        "startLoc": {
          "line": 654,
          "column": 2,
          "position": 4776
        },
        "endLoc": {
          "line": 664,
          "column": 11,
          "position": 4873
        }
      },
      "secondFile": {
        "name": "api/src/routes/trip-usage.ts",
        "start": 581,
        "end": 591,
        "startLoc": {
          "line": 581,
          "column": 2,
          "position": 4233
        },
        "endLoc": {
          "line": 591,
          "column": 11,
          "position": 4330
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "// Get trip details\n      const tripResult = await pool.query(\n        `SELECT t.*, v.id as vehicle_id\n         FROM trips t\n         LEFT JOIN vehicles v ON t.vehicle_id = v.id\n         WHERE t.id = $1 AND t.tenant_id = $2`,\n        [tripId, req.user!.tenant_id]\n      )\n\n      if (tripResult.rows.length === 0) {\n        return res.status(404).json({\n          success: false,\n          error: `Trip not found`\n        })\n      }\n\n      const trip = tripResult.rows[0]\n      const miles_total = trip.distance_miles || 0\n\n      // Calculate split",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/trip-marking.ts",
        "start": 353,
        "end": 372,
        "startLoc": {
          "line": 353,
          "column": 7,
          "position": 2171
        },
        "endLoc": {
          "line": 372,
          "column": 19,
          "position": 2291
        }
      },
      "secondFile": {
        "name": "api/src/routes/trip-marking.ts",
        "start": 73,
        "end": 92,
        "startLoc": {
          "line": 73,
          "column": 7,
          "position": 634
        },
        "endLoc": {
          "line": 92,
          "column": 31,
          "position": 754
        }
      }
    },
    {
      "format": "typescript",
      "lines": 31,
      "fragment": ",\n        business_percentage\n      )\n\n      // Get policy for cost preview\n      const policyResult = await pool.query(\n        `SELECT \n      id,\n      tenant_id,\n      name,\n      description,\n      rate_per_mile,\n      rate_type,\n      effective_date,\n      expiry_date,\n      is_active,\n      created_at,\n      updated_at FROM personal_use_policies WHERE tenant_id = $1`,\n        [req.user!.tenant_id]\n      )\n\n      let estimated_charge = 0\n      if (policyResult.rows.length > 0) {\n        const policy = policyResult.rows[0]\n        if (policy.charge_personal_use) {\n          const rate = policy.personal_use_rate_per_mile || 0.50\n          estimated_charge = calculateCharge(personal_miles, rate)\n        }\n      }\n\n      // Update or create trip usage classification",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/trip-marking.ts",
        "start": 375,
        "end": 405,
        "startLoc": {
          "line": 375,
          "column": 6,
          "position": 2318
        },
        "endLoc": {
          "line": 405,
          "column": 46,
          "position": 2449
        }
      },
      "secondFile": {
        "name": "api/src/routes/trip-marking.ts",
        "start": 95,
        "end": 125,
        "startLoc": {
          "line": 95,
          "column": 11,
          "position": 779
        },
        "endLoc": {
          "line": 125,
          "column": 29,
          "position": 910
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "if (county) {\n      conditions.push(`county = $${paramIndex++}`);\n      params.push(county);\n    }\n\n    if (road) {\n      conditions.push(`road ILIKE $${paramIndex++}`);\n      params.push(`%${road}%`);\n    }\n\n    if (severity",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/traffic-cameras.enhanced.ts",
        "start": 265,
        "end": 275,
        "startLoc": {
          "line": 265,
          "column": 5,
          "position": 1734
        },
        "endLoc": {
          "line": 275,
          "column": 9,
          "position": 1813
        }
      },
      "secondFile": {
        "name": "api/src/routes/traffic-cameras.enhanced.ts",
        "start": 33,
        "end": 43,
        "startLoc": {
          "line": 33,
          "column": 5,
          "position": 277
        },
        "endLoc": {
          "line": 43,
          "column": 10,
          "position": 356
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        'SELECT '",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/telemetry.ts",
        "start": 29,
        "end": 36,
        "startLoc": {
          "line": 29,
          "column": 2,
          "position": 248
        },
        "endLoc": {
          "line": 36,
          "column": 10,
          "position": 344
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 24,
        "end": 44,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/telemetry.ts",
        "start": 41,
        "end": 55,
        "startLoc": {
          "line": 41,
          "column": 59,
          "position": 405
        },
        "endLoc": {
          "line": 55,
          "column": 8,
          "position": 523
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 153,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 153,
          "column": 7,
          "position": 1292
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`tenant_id`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO telemetry_data (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/telemetry.ts",
        "start": 92,
        "end": 104,
        "startLoc": {
          "line": 92,
          "column": 2,
          "position": 848
        },
        "endLoc": {
          "line": 104,
          "column": 30,
          "position": 941
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 110,
        "end": 122,
        "startLoc": {
          "line": 110,
          "column": 2,
          "position": 767
        },
        "endLoc": {
          "line": 122,
          "column": 28,
          "position": 860
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission, rateLimit } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport helmet",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/telemetry.enhanced.ts",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 7,
          "position": 125
        }
      },
      "secondFile": {
        "name": "api/src/routes/telemetry.ts",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 2,
          "position": 125
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "auditLog({ action: 'READ', resourceType: 'telemetry_data' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        'SELECT * FROM telemetry_data WHERE tenant_id = $1 ORDER BY created_at DESC LIMIT $2 OFFSET $3'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/telemetry.enhanced.ts",
        "start": 32,
        "end": 39,
        "startLoc": {
          "line": 32,
          "column": 3,
          "position": 288
        },
        "endLoc": {
          "line": 39,
          "column": 96,
          "position": 399
        }
      },
      "secondFile": {
        "name": "api/src/routes/telemetry.ts",
        "start": 29,
        "end": 44,
        "startLoc": {
          "line": 29,
          "column": 3,
          "position": 233
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ": result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit))",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/telematics.routes.ts",
        "start": 380,
        "end": 385,
        "startLoc": {
          "line": 380,
          "column": 7,
          "position": 2530
        },
        "endLoc": {
          "line": 385,
          "column": 2,
          "position": 2603
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 144,
        "end": 150,
        "startLoc": {
          "line": 144,
          "column": 5,
          "position": 1199
        },
        "endLoc": {
          "line": 150,
          "column": 2,
          "position": 1274
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ", {\n      error: error instanceof Error ? getErrorMessage(error) : 'Unknown error',\n      teamId: req.params.teamId,\n      channelId: req.params.channelId,\n      userId: req.user?.id\n    })\n\n    res.status(500).json({\n      success: false,\n      error: 'Failed to send message'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/teams.routes.ts",
        "start": 313,
        "end": 322,
        "startLoc": {
          "line": 313,
          "column": 24,
          "position": 1013
        },
        "endLoc": {
          "line": 322,
          "column": 25,
          "position": 1100
        }
      },
      "secondFile": {
        "name": "api/src/routes/teams.routes.ts",
        "start": 188,
        "end": 197,
        "startLoc": {
          "line": 188,
          "column": 25,
          "position": 627
        },
        "endLoc": {
          "line": 197,
          "column": 30,
          "position": 714
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", {\n      error: error instanceof Error ? getErrorMessage(error) : 'Unknown error',\n      teamId: req.params.teamId,\n      channelId: req.params.channelId,\n      messageId: req.params.messageId,\n      userId: req.user?.id\n    })\n\n    res.status(500).json({\n      success: false,\n      error: 'Failed to add reaction'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/teams.routes.ts",
        "start": 501,
        "end": 511,
        "startLoc": {
          "line": 501,
          "column": 24,
          "position": 1700
        },
        "endLoc": {
          "line": 511,
          "column": 25,
          "position": 1798
        }
      },
      "secondFile": {
        "name": "api/src/routes/teams.routes.ts",
        "start": 412,
        "end": 422,
        "startLoc": {
          "line": 412,
          "column": 28,
          "position": 1386
        },
        "endLoc": {
          "line": 422,
          "column": 29,
          "position": 1484
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", {\n      error: error instanceof Error ? getErrorMessage(error) : 'Unknown error',\n      teamId: req.params.teamId,\n      channelId: req.params.channelId,\n      messageId: req.params.messageId,\n      userId: req.user?.id\n    })\n\n    res.status(500).json({\n      success: false,\n      error: 'Failed to update message'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/teams.routes.ts",
        "start": 677,
        "end": 687,
        "startLoc": {
          "line": 677,
          "column": 25,
          "position": 2356
        },
        "endLoc": {
          "line": 687,
          "column": 27,
          "position": 2454
        }
      },
      "secondFile": {
        "name": "api/src/routes/teams.routes.ts",
        "start": 412,
        "end": 422,
        "startLoc": {
          "line": 412,
          "column": 28,
          "position": 1386
        },
        "endLoc": {
          "line": 422,
          "column": 29,
          "position": 1484
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", {\n      error: error instanceof Error ? getErrorMessage(error) : 'Unknown error',\n      teamId: req.params.teamId,\n      channelId: req.params.channelId,\n      messageId: req.params.messageId,\n      userId: req.user?.id\n    })\n\n    res.status(500).json({\n      success: false,\n      error: 'Failed to delete message'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/teams.routes.ts",
        "start": 736,
        "end": 746,
        "startLoc": {
          "line": 736,
          "column": 25,
          "position": 2582
        },
        "endLoc": {
          "line": 746,
          "column": 27,
          "position": 2680
        }
      },
      "secondFile": {
        "name": "api/src/routes/teams.routes.ts",
        "start": 412,
        "end": 422,
        "startLoc": {
          "line": 412,
          "column": 28,
          "position": 1386
        },
        "endLoc": {
          "line": 422,
          "column": 29,
          "position": 1484
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "})\n}))\n\nrouter.get(\"/:id\", asyncHandler(async (req, res) => {\n  res.json({ data: null, id: req.params.id })\n}))\n\nrouter.post(\"/\",csrfProtection, asyncHandler(async (req, res) => {\n  res.status(201).json({ data: req.body, message: \"Created\" })\n}))\n\nrouter.put(\"/:id\",csrfProtection, asyncHandler(async (req, res) => {\n  res.json({ data: req.body, id: req.params.id, message: \"Updated\" })\n}))\n\nrouter.delete(\"/:id\",csrfProtection, asyncHandler(async (req, res) => {\n  res.json({ message: \"Deleted\", id: req.params.id })\n}))\n\nexport default router",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/tasks.ts",
        "start": 10,
        "end": 29,
        "startLoc": {
          "line": 10,
          "column": 2,
          "position": 116
        },
        "endLoc": {
          "line": 29,
          "column": 7,
          "position": 353
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.ts",
        "start": 9,
        "end": 28,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 115
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 355
        }
      }
    },
    {
      "format": "typescript",
      "lines": 59,
      "fragment": "const tenantId = req.user?.tenant_id\n\n    let query = `\n      SELECT\n        t.*,\n        u_assigned.first_name || ' ' || u_assigned.last_name as assigned_to_name,\n        u_created.first_name || ' ' || u_created.last_name as created_by_name,\n        v.vehicle_number as related_vehicle,\n        COUNT(DISTINCT tc.id) as comment_count,\n        COUNT(DISTINCT ta.id) as attachment_count\n      FROM tasks t\n      LEFT JOIN users u_assigned ON t.assigned_to = u_assigned.id\n      LEFT JOIN users u_created ON t.created_by = u_created.id\n      LEFT JOIN vehicles v ON t.related_vehicle_id = v.id\n      LEFT JOIN task_comments tc ON t.id = tc.task_id\n      LEFT JOIN task_attachments ta ON t.id = ta.task_id\n      WHERE t.tenant_id = $1\n    `\n\n    const params: any[] = [tenantId]\n    let paramCount = 1\n\n    if (status) {\n      paramCount++\n      query += ` AND t.status = $${paramCount}`\n      params.push(status)\n    }\n    if (priority) {\n      paramCount++\n      query += ` AND t.priority = $${paramCount}`\n      params.push(priority)\n    }\n    if (assigned_to) {\n      paramCount++\n      query += ` AND t.assigned_to = $${paramCount}`\n      params.push(assigned_to)\n    }\n    if (category) {\n      paramCount++\n      query += ` AND t.category = $${paramCount}`\n      params.push(category)\n    }\n\n    query += ` GROUP BY t.id, u_assigned.first_name, u_assigned.last_name, u_created.first_name, u_created.last_name, v.vehicle_number`\n    query += ` ORDER BY\n      CASE t.priority\n        WHEN 'critical' THEN 1\n        WHEN 'high' THEN 2\n        WHEN 'medium' THEN 3\n        WHEN 'low' THEN 4\n      END,\n      t.due_date ASC NULLS LAST,\n      t.created_at DESC`\n\n    const result = await pool.query(query, params)\n\n    res.json({\n      tasks: result.rows,\n      total: result.rows.length,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/task-management.routes.enhanced.ts",
        "start": 31,
        "end": 89,
        "startLoc": {
          "line": 31,
          "column": 5,
          "position": 326
        },
        "endLoc": {
          "line": 89,
          "column": 2,
          "position": 577
        }
      },
      "secondFile": {
        "name": "api/src/routes/task-management.routes.ts",
        "start": 33,
        "end": 92,
        "startLoc": {
          "line": 33,
          "column": 5,
          "position": 149
        },
        "endLoc": {
          "line": 92,
          "column": 2,
          "position": 402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    if (!smartcarService) {\n      return res.status(503).json({ error: 'Smartcar service not available' })\n    }\n\n    try {\n      const vehicleId = parseInt(req.params.id)\n      const accessToken = await smartcarService.ensureValidToken(vehicleId)\n      const connection = await smartcarService.getVehicleConnection(vehicleId)\n\n      if (!connection) {\n        throw new NotFoundError(\"Vehicle not connected to Smartcar\")\n      }\n\n      const battery",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 223,
        "end": 238,
        "startLoc": {
          "line": 223,
          "column": 2,
          "position": 1597
        },
        "endLoc": {
          "line": 238,
          "column": 8,
          "position": 1738
        }
      },
      "secondFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 190,
        "end": 205,
        "startLoc": {
          "line": 190,
          "column": 2,
          "position": 1329
        },
        "endLoc": {
          "line": 205,
          "column": 9,
          "position": 1470
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    if (!smartcarService) {\n      return res.status(503).json({ error: 'Smartcar service not available' })\n    }\n\n    try {\n      const vehicleId = parseInt(req.params.id)\n      const accessToken = await smartcarService.ensureValidToken(vehicleId)\n      const connection = await smartcarService.getVehicleConnection(vehicleId)\n\n      if (!connection) {\n        throw new NotFoundError(\"Vehicle not connected to Smartcar\")\n      }\n\n      const charge",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 256,
        "end": 271,
        "startLoc": {
          "line": 256,
          "column": 2,
          "position": 1865
        },
        "endLoc": {
          "line": 271,
          "column": 7,
          "position": 2006
        }
      },
      "secondFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 190,
        "end": 205,
        "startLoc": {
          "line": 190,
          "column": 2,
          "position": 1329
        },
        "endLoc": {
          "line": 205,
          "column": 9,
          "position": 1470
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    if (!smartcarService) {\n      return res.status(503).json({ error: 'Smartcar service not available' })\n    }\n\n    try {\n      const vehicleId = parseInt(req.params.id)\n      const accessToken = await smartcarService.ensureValidToken(vehicleId)\n      const connection = await smartcarService.getVehicleConnection(vehicleId)\n\n      if (!connection) {\n        throw new NotFoundError(\"Vehicle not connected to Smartcar\")\n      }\n\n      const result",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 289,
        "end": 304,
        "startLoc": {
          "line": 289,
          "column": 2,
          "position": 2136
        },
        "endLoc": {
          "line": 304,
          "column": 7,
          "position": 2277
        }
      },
      "secondFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 190,
        "end": 205,
        "startLoc": {
          "line": 190,
          "column": 2,
          "position": 1329
        },
        "endLoc": {
          "line": 205,
          "column": 9,
          "position": 1470
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ",\n csrfProtection, authenticateJWT,\n  requirePermission('vehicle:update:fleet'),\n  auditLog({ action: 'UPDATE', resourceType: 'smartcar_security' }),\n  async (req: AuthRequest, res: Response) => {\n    if (!smartcarService) {\n      return res.status(503).json({ error: 'Smartcar service not available' })\n    }\n\n    try {\n      const vehicleId = parseInt(req.params.id)\n      const accessToken = await smartcarService.ensureValidToken(vehicleId)\n      const connection = await smartcarService.getVehicleConnection(vehicleId)\n\n      if (!connection) {\n        throw new NotFoundError(\"Vehicle not connected to Smartcar\")\n      }\n\n      const result = await smartcarService.unlockDoors",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 319,
        "end": 337,
        "startLoc": {
          "line": 319,
          "column": 23,
          "position": 2375
        },
        "endLoc": {
          "line": 337,
          "column": 12,
          "position": 2556
        }
      },
      "secondFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 286,
        "end": 304,
        "startLoc": {
          "line": 286,
          "column": 21,
          "position": 2104
        },
        "endLoc": {
          "line": 304,
          "column": 10,
          "position": 2285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ", resourceType: 'smartcar_charge' }),\n  async (req: AuthRequest, res: Response) => {\n    if (!smartcarService) {\n      return res.status(503).json({ error: 'Smartcar service not available' })\n    }\n\n    try {\n      const vehicleId = parseInt(req.params.id)\n      const accessToken = await smartcarService.ensureValidToken(vehicleId)\n      const connection = await smartcarService.getVehicleConnection(vehicleId)\n\n      if (!connection) {\n        throw new NotFoundError(\"Vehicle not connected to Smartcar\")\n      }\n\n      const result = await smartcarService.startCharging",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 355,
        "end": 370,
        "startLoc": {
          "line": 355,
          "column": 9,
          "position": 2671
        },
        "endLoc": {
          "line": 370,
          "column": 14,
          "position": 2827
        }
      },
      "secondFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 256,
        "end": 304,
        "startLoc": {
          "line": 256,
          "column": 7,
          "position": 1858
        },
        "endLoc": {
          "line": 304,
          "column": 10,
          "position": 2285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ",\n csrfProtection, authenticateJWT,\n  requirePermission('vehicle:update:fleet'),\n  auditLog({ action: 'UPDATE', resourceType: 'smartcar_charge' }),\n  async (req: AuthRequest, res: Response) => {\n    if (!smartcarService) {\n      return res.status(503).json({ error: 'Smartcar service not available' })\n    }\n\n    try {\n      const vehicleId = parseInt(req.params.id)\n      const accessToken = await smartcarService.ensureValidToken(vehicleId)\n      const connection = await smartcarService.getVehicleConnection(vehicleId)\n\n      if (!connection) {\n        throw new NotFoundError(\"Vehicle not connected to Smartcar\")\n      }\n\n      const result = await smartcarService.stopCharging",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 385,
        "end": 403,
        "startLoc": {
          "line": 385,
          "column": 28,
          "position": 2917
        },
        "endLoc": {
          "line": 403,
          "column": 13,
          "position": 3098
        }
      },
      "secondFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 352,
        "end": 304,
        "startLoc": {
          "line": 352,
          "column": 29,
          "position": 2646
        },
        "endLoc": {
          "line": 304,
          "column": 10,
          "position": 2285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    if (!smartcarService) {\n      return res.status(503).json({ error: 'Smartcar service not available' })\n    }\n\n    try {\n      const vehicleId = parseInt(req.params.id)\n      const connection",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 421,
        "end": 429,
        "startLoc": {
          "line": 421,
          "column": 2,
          "position": 3220
        },
        "endLoc": {
          "line": 429,
          "column": 11,
          "position": 3304
        }
      },
      "secondFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 190,
        "end": 198,
        "startLoc": {
          "line": 190,
          "column": 2,
          "position": 1329
        },
        "endLoc": {
          "line": 198,
          "column": 12,
          "position": 1413
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    if (!smartcarService) {\n      return res.status(503).json({ error: 'Smartcar service not available' })\n    }\n\n    try {\n      const vehicleId = parseInt(req.params.id)\n\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 463,
        "end": 472,
        "startLoc": {
          "line": 463,
          "column": 2,
          "position": 3508
        },
        "endLoc": {
          "line": 472,
          "column": 6,
          "position": 3591
        }
      },
      "secondFile": {
        "name": "api/src/routes/smartcar.routes.ts",
        "start": 190,
        "end": 198,
        "startLoc": {
          "line": 190,
          "column": 2,
          "position": 1329
        },
        "endLoc": {
          "line": 198,
          "column": 6,
          "position": 1411
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", error) // Wave 20: Winston logger\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          success: false,\n          error: 'Validation error',\n          details: error.errors\n        })\n      }\n      res.status(500).json({\n        success: false,\n        error: 'Failed to save search'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/search.ts",
        "start": 298,
        "end": 308,
        "startLoc": {
          "line": 298,
          "column": 21,
          "position": 2233
        },
        "endLoc": {
          "line": 308,
          "column": 24,
          "position": 2321
        }
      },
      "secondFile": {
        "name": "api/src/routes/search.ts",
        "start": 108,
        "end": 118,
        "startLoc": {
          "line": 108,
          "column": 16,
          "position": 961
        },
        "endLoc": {
          "line": 118,
          "column": 16,
          "position": 1049
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ", error) // Wave 20: Winston logger\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          success: false,\n          error: 'Validation error',\n          details: error.errors\n        })\n      }\n      res.status(500).json({\n        success: false,\n        error: 'Failed to create reindex job'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/search.ts",
        "start": 475,
        "end": 485,
        "startLoc": {
          "line": 475,
          "column": 17,
          "position": 3341
        },
        "endLoc": {
          "line": 485,
          "column": 31,
          "position": 3429
        }
      },
      "secondFile": {
        "name": "api/src/routes/search.ts",
        "start": 108,
        "end": 118,
        "startLoc": {
          "line": 108,
          "column": 16,
          "position": 961
        },
        "endLoc": {
          "line": 118,
          "column": 16,
          "position": 1049
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "]\n\n    const updateFields: string[] = []\n    const values: any[] = [tenantId, id]\n    let paramCount = 2\n\n    for (const field of allowedFields) {\n      if (updates[field] !== undefined) {\n        updateFields.push(`${field} = $${++paramCount}`)\n        values.push(updates[field])\n      }\n    }\n\n    if (updateFields.length === 0) {\n      return res.status(400).json({ error: `No valid fields to update` })\n    }\n\n    const query = `\n      UPDATE service_bay_schedules\n      SET ",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/scheduling.routes.ts",
        "start": 498,
        "end": 517,
        "startLoc": {
          "line": 498,
          "column": 5,
          "position": 3156
        },
        "endLoc": {
          "line": 517,
          "column": 11,
          "position": 3317
        }
      },
      "secondFile": {
        "name": "api/src/routes/scheduling.routes.ts",
        "start": 162,
        "end": 181,
        "startLoc": {
          "line": 162,
          "column": 5,
          "position": 987
        },
        "endLoc": {
          "line": 181,
          "column": 11,
          "position": 1148
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "return res.json({\n        success: true,\n        preferences: {\n          userId,\n          emailEnabled: true,\n          smsEnabled: false,\n          teamsEnabled: true,\n          reminderTimes: [24, 1],\n          quietHoursStart: null,\n          quietHoursEnd: null,\n          createdAt: null,\n          updatedAt: null,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/scheduling-notifications.routes.enhanced.ts",
        "start": 60,
        "end": 71,
        "startLoc": {
          "line": 60,
          "column": 7,
          "position": 417
        },
        "endLoc": {
          "line": 71,
          "column": 2,
          "position": 501
        }
      },
      "secondFile": {
        "name": "api/src/routes/scheduling-notifications.routes.ts",
        "start": 41,
        "end": 53,
        "startLoc": {
          "line": 41,
          "column": 7,
          "position": 169
        },
        "endLoc": {
          "line": 53,
          "column": 2,
          "position": 255
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "})\n    }\n\n    const prefs = result.rows[0]\n    res.json({\n      success: true,\n      preferences: {\n        userId: prefs.user_id,\n        emailEnabled: prefs.email_enabled,\n        smsEnabled: prefs.sms_enabled,\n        teamsEnabled: prefs.teams_enabled,\n        reminderTimes: prefs.reminder_times || [24, 1],\n        quietHoursStart: prefs.quiet_hours_start,\n        quietHoursEnd: prefs.quiet_hours_end,\n        createdAt: prefs.created_at,\n        updatedAt: prefs.updated_at,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/scheduling-notifications.routes.enhanced.ts",
        "start": 73,
        "end": 88,
        "startLoc": {
          "line": 73,
          "column": 7,
          "position": 508
        },
        "endLoc": {
          "line": 88,
          "column": 2,
          "position": 637
        }
      },
      "secondFile": {
        "name": "api/src/routes/scheduling-notifications.routes.ts",
        "start": 54,
        "end": 70,
        "startLoc": {
          "line": 54,
          "column": 7,
          "position": 258
        },
        "endLoc": {
          "line": 70,
          "column": 2,
          "position": 389
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT id, tenant_id, vehicle_id, incident_type, severity, description, location, incident_date, reporter_id, created_at, updated_at FROM safety_incidents WHERE tenant_id = $1 ORDER BY created_at DESC LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/safety-incidents.ts",
        "start": 23,
        "end": 30,
        "startLoc": {
          "line": 23,
          "column": 2,
          "position": 218
        },
        "endLoc": {
          "line": 30,
          "column": 222,
          "position": 314
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 24,
        "end": 44,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      logger.error(`Get safety-incidents error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/safety-incidents.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 61,
          "position": 353
        },
        "endLoc": {
          "line": 49,
          "column": 30,
          "position": 475
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 153,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 153,
          "column": 30,
          "position": 1296
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport logger from '../config/logger'; // Wave 17: Add Winston logger\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/routes.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 9,
          "position": 96
        }
      },
      "secondFile": {
        "name": "api/src/routes/safety-incidents.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 18,
          "position": 96
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      logger.error('Get routes error:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/routes.ts",
        "start": 76,
        "end": 88,
        "startLoc": {
          "line": 76,
          "column": 12,
          "position": 571
        },
        "endLoc": {
          "line": 88,
          "column": 20,
          "position": 680
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 141,
        "end": 153,
        "startLoc": {
          "line": 141,
          "column": 7,
          "position": 1187
        },
        "endLoc": {
          "line": 153,
          "column": 30,
          "position": 1296
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `Routes not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      logger.error(`Update routes error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/routes.ts",
        "start": 247,
        "end": 256,
        "startLoc": {
          "line": 247,
          "column": 7,
          "position": 1789
        },
        "endLoc": {
          "line": 256,
          "column": 23,
          "position": 1867
        }
      },
      "secondFile": {
        "name": "api/src/routes/routes.ts",
        "start": 145,
        "end": 154,
        "startLoc": {
          "line": 145,
          "column": 10,
          "position": 976
        },
        "endLoc": {
          "line": 154,
          "column": 20,
          "position": 1054
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const validator = new TenantValidator(pool);\n  const isValid = await validator.validateOwnership(tenantId, 'routes', parseInt(id);\n\n  if (!isValid) {\n    return res.status(403).json({\n      success: false,\n      error: 'Access denied - resource not found or belongs to different tenant'\n    });\n  }\n\n  // Proceed with soft delete...",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/routes.ts",
        "start": 315,
        "end": 325,
        "startLoc": {
          "line": 315,
          "column": 3,
          "position": 2356
        },
        "endLoc": {
          "line": 325,
          "column": 31,
          "position": 2443
        }
      },
      "secondFile": {
        "name": "api/src/routes/routes.ts",
        "start": 294,
        "end": 304,
        "startLoc": {
          "line": 294,
          "column": 3,
          "position": 2181
        },
        "endLoc": {
          "line": 304,
          "column": 26,
          "position": 2268
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/routes.enhanced.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 2,
          "position": 97
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 10,
          "position": 97
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ", offset)\n      }\n\n      const result = await pool.query(query, params)\n\n      const countParams = userResult.rows.length > 0\n        ? [req.user!.tenant_id, userResult.rows[0].id]\n        : [req.user!.tenant_id]\n      const countResult = await pool.query(countQuery, countParams)\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/routes.enhanced.ts",
        "start": 76,
        "end": 91,
        "startLoc": {
          "line": 76,
          "column": 2,
          "position": 571
        },
        "endLoc": {
          "line": 91,
          "column": 2,
          "position": 727
        }
      },
      "secondFile": {
        "name": "api/src/routes/routes.ts",
        "start": 68,
        "end": 83,
        "startLoc": {
          "line": 68,
          "column": 6,
          "position": 474
        },
        "endLoc": {
          "line": 83,
          "column": 2,
          "position": 630
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ")\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count, 10),\n          pages: Math.ceil(parseInt",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/routes.enhanced.ts",
        "start": 84,
        "end": 92,
        "startLoc": {
          "line": 84,
          "column": 12,
          "position": 668
        },
        "endLoc": {
          "line": 92,
          "column": 9,
          "position": 741
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 69,
        "end": 77,
        "startLoc": {
          "line": 69,
          "column": 7,
          "position": 529
        },
        "endLoc": {
          "line": 77,
          "column": 12,
          "position": 602
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ",\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count, 10),\n          pages: Math.ceil(parseInt(countResult.rows[0].count, 10) / Number(limit)\n        }",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/routes.enhanced.ts",
        "start": 87,
        "end": 93,
        "startLoc": {
          "line": 87,
          "column": 5,
          "position": 685
        },
        "endLoc": {
          "line": 93,
          "column": 2,
          "position": 764
        }
      },
      "secondFile": {
        "name": "api/src/routes/telemetry.enhanced.ts",
        "start": 49,
        "end": 54,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 481
        },
        "endLoc": {
          "line": 54,
          "column": 2,
          "position": 558
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      logger.error(`Get jobs error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/route-optimization.routes.ts",
        "start": 256,
        "end": 270,
        "startLoc": {
          "line": 256,
          "column": 68,
          "position": 1578
        },
        "endLoc": {
          "line": 270,
          "column": 18,
          "position": 1700
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 153,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 153,
          "column": 30,
          "position": 1296
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", (req: Request, res: Response) => {\n  try {\n    const routeId = parseInt(req.params.id)\n\n    const route = routeEmulator.getRouteById(routeId)\n    if (!route) {\n      return res.status(404).json({\n        success: false,\n        error: 'Route not found',\n      })\n    }\n\n    // Update route status to cancelled",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/route-emulator.routes.ts",
        "start": 254,
        "end": 266,
        "startLoc": {
          "line": 254,
          "column": 15,
          "position": 1948
        },
        "endLoc": {
          "line": 266,
          "column": 36,
          "position": 2050
        }
      },
      "secondFile": {
        "name": "api/src/routes/route-emulator.routes.ts",
        "start": 80,
        "end": 92,
        "startLoc": {
          "line": 80,
          "column": 7,
          "position": 706
        },
        "endLoc": {
          "line": 92,
          "column": 4,
          "position": 808
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ": result.rows,\n      pagination: {\n        page: parseInt(page as string),\n        limit: parseInt(limit as string),\n        total,\n        pages: Math.ceil(total / parseInt(limit as string),\n      },\n    });\n  } catch (error: any) {\n    logger.error(`Error fetching reservations:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 236,
        "end": 245,
        "startLoc": {
          "line": 236,
          "column": 13,
          "position": 1513
        },
        "endLoc": {
          "line": 245,
          "column": 31,
          "position": 1608
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 182,
        "end": 191,
        "startLoc": {
          "line": 182,
          "column": 12,
          "position": 1224
        },
        "endLoc": {
          "line": 191,
          "column": 38,
          "position": 1319
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", error) // Wave 23: Winston logger;\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({\n        error: 'Validation error',\n        details: error.errors,\n      });\n    }\n    res.status(500).json({\n      error: 'Failed to update reservation'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 581,
        "end": 589,
        "startLoc": {
          "line": 581,
          "column": 30,
          "position": 3895
        },
        "endLoc": {
          "line": 589,
          "column": 31,
          "position": 3971
        }
      },
      "secondFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 444,
        "end": 452,
        "startLoc": {
          "line": 444,
          "column": 30,
          "position": 2798
        },
        "endLoc": {
          "line": 452,
          "column": 31,
          "position": 2874
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "const checkQuery = canViewAllReservations(currentUser)\n        ? `SELECT * FROM vehicle_reservations WHERE id = $1 AND deleted_at IS NULL`\n        : `SELECT * FROM vehicle_reservations WHERE id = $1 AND user_id = $2 AND deleted_at IS NULL`;\n\n      const checkParams = canViewAllReservations(currentUser) ? [id] : [id, currentUser.id];\n      const checkResult = await client.query(checkQuery, checkParams);\n\n      if (checkResult.rows.length === 0) {\n        await client.query(`ROLLBACK`);\n        return res.status(404).json({\n          error: 'Reservation not found or access denied'\n        });\n      }\n\n      const reservation",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 610,
        "end": 624,
        "startLoc": {
          "line": 610,
          "column": 7,
          "position": 4109
        },
        "endLoc": {
          "line": 624,
          "column": 12,
          "position": 4243
        }
      },
      "secondFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 474,
        "end": 488,
        "startLoc": {
          "line": 474,
          "column": 7,
          "position": 3029
        },
        "endLoc": {
          "line": 488,
          "column": 20,
          "position": 3163
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", error) // Wave 23: Winston logger;\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({\n        error: 'Validation error',\n        details: error.errors,\n      });\n    }\n    res.status(500).json({\n      error: 'Failed to process approval'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 758,
        "end": 766,
        "startLoc": {
          "line": 758,
          "column": 29,
          "position": 5173
        },
        "endLoc": {
          "line": 766,
          "column": 29,
          "position": 5249
        }
      },
      "secondFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 444,
        "end": 452,
        "startLoc": {
          "line": 444,
          "column": 30,
          "position": 2798
        },
        "endLoc": {
          "line": 452,
          "column": 31,
          "position": 2874
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "if (error instanceof z.ZodError) {\n      return res.status(400).json({\n        error: 'Validation error',\n        details: error.errors,\n      });\n    }\n    res.status(500).json({\n      error: 'Failed to process approval',\n      details: getErrorMessage(error),\n    });\n  }\n});\n\n// ============================================",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 759,
        "end": 772,
        "startLoc": {
          "line": 759,
          "column": 5,
          "position": 5181
        },
        "endLoc": {
          "line": 772,
          "column": 48,
          "position": 5275
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 600,
        "end": 614,
        "startLoc": {
          "line": 600,
          "column": 7,
          "position": 4033
        },
        "endLoc": {
          "line": 614,
          "column": 57,
          "position": 4129
        }
      }
    },
    {
      "format": "typescript",
      "lines": 53,
      "fragment": ");\n\n// Database pool (will be set via setDatabasePool)\nlet pool: Pool;\nlet microsoftService: MicrosoftIntegrationService;\n\nexport function setDatabasePool(dbPool: Pool) {\n  pool = dbPool;\n  microsoftService = new MicrosoftIntegrationService(dbPool);\n}\n\n// ============================================\n// Validation Schemas\n// ============================================\n\nconst createReservationSchema = z.object({\n  vehicle_id: z.string().uuid('Invalid vehicle ID'),\n  start_datetime: z.string().datetime('Invalid start datetime format'),\n  end_datetime: z.string().datetime('Invalid end datetime format'),\n  purpose: z.enum(['business', 'personal'], {\n    errorMap: () => ({ message: 'Purpose must be either \"business\" or \"personal\"' })\n  }),\n  notes: z.string().max(1000, 'Notes cannot exceed 1000 characters').optional(),\n  approval_required: z.boolean().optional().default(true),\n}).refine(\n  (data) => new Date(data.end_datetime) > new Date(data.start_datetime),\n  { message: 'End datetime must be after start datetime' }\n);\n\nconst updateReservationSchema = z.object({\n  start_datetime: z.string().datetime().optional(),\n  end_datetime: z.string().datetime().optional(),\n  purpose: z.enum(['business', 'personal']).optional(),\n  notes: z.string().max(1000).optional(),\n}).refine(\n  (data) => {\n    if (data.start_datetime && data.end_datetime) {\n      return new Date(data.end_datetime) > new Date(data.start_datetime);\n    }\n    return true;\n  },\n  { message: 'End datetime must be after start datetime' }\n);\n\nconst approvalActionSchema = z.object({\n  action: z.enum(['approve', 'reject'], {\n    errorMap: () => ({ message: 'Action must be either \"approve\" or \"reject\"' })\n  }),\n  notes: z.string().max(500).optional(),\n});\n\n// ============================================\n// Routes",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reservations.routes.enhanced.ts",
        "start": 25,
        "end": 77,
        "startLoc": {
          "line": 25,
          "column": 2,
          "position": 258
        },
        "endLoc": {
          "line": 77,
          "column": 10,
          "position": 776
        }
      },
      "secondFile": {
        "name": "api/src/routes/reservations.routes.ts",
        "start": 35,
        "end": 87,
        "startLoc": {
          "line": 35,
          "column": 2,
          "position": 110
        },
        "endLoc": {
          "line": 87,
          "column": 20,
          "position": 628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ")\n\n    res.json({\n      success: true,\n      data: result.rows,\n      pagination: {\n        total: parseInt(countResult.rows[0].count),\n        limit: parseInt(limit as string),\n        offset: parseInt(offset as string),\n        has_more:\n          parseInt(countResult",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reimbursement-requests.ts",
        "start": 281,
        "end": 291,
        "startLoc": {
          "line": 281,
          "column": 12,
          "position": 1830
        },
        "endLoc": {
          "line": 291,
          "column": 12,
          "position": 1914
        }
      },
      "secondFile": {
        "name": "api/src/routes/trip-usage.ts",
        "start": 521,
        "end": 530,
        "startLoc": {
          "line": 521,
          "column": 7,
          "position": 3796
        },
        "endLoc": {
          "line": 530,
          "column": 7,
          "position": 3879
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "// Get current request\n      const currentResult = await pool.query(\n        `SELECT\n          id, tenant_id, driver_id, charge_id, request_amount, description,\n          expense_date, category, receipt_file_path, receipt_uploaded_at,\n          receipt_metadata, status, submitted_at, reviewed_at, reviewed_by_user_id,\n          reviewer_notes, approved_amount, payment_date, payment_method,\n          payment_reference, created_at, updated_at, created_by_user_id\n        FROM reimbursement_requests\n        WHERE id = $1 AND tenant_id = $2`,\n        [req.params.id, req.user!.tenant_id]\n      )\n\n      if (currentResult.rows.length === 0) {\n        return res.status(404).json({\n          success: false,\n          error: `Reimbursement request not found`\n        })\n      }\n\n      const current = currentResult.rows[0]\n\n      if (current.status !== ReimbursementStatus.PENDING) {\n        return res.status(400).json({\n          success: false,\n          error: `Cannot reject request with status: ",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reimbursement-requests.ts",
        "start": 475,
        "end": 500,
        "startLoc": {
          "line": 475,
          "column": 7,
          "position": 3005
        },
        "endLoc": {
          "line": 500,
          "column": 37,
          "position": 3155
        }
      },
      "secondFile": {
        "name": "api/src/routes/reimbursement-requests.ts",
        "start": 371,
        "end": 396,
        "startLoc": {
          "line": 371,
          "column": 7,
          "position": 2430
        },
        "endLoc": {
          "line": 396,
          "column": 38,
          "position": 2580
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "// Get current request\n      const currentResult = await pool.query(\n        `SELECT\n          id, tenant_id, driver_id, charge_id, request_amount, description,\n          expense_date, category, receipt_file_path, receipt_uploaded_at,\n          receipt_metadata, status, submitted_at, reviewed_at, reviewed_by_user_id,\n          reviewer_notes, approved_amount, payment_date, payment_method,\n          payment_reference, created_at, updated_at, created_by_user_id\n        FROM reimbursement_requests\n        WHERE id = $1 AND tenant_id = $2`,\n        [req.params.id, req.user!.tenant_id]\n      )\n\n      if (currentResult.rows.length === 0) {\n        return res.status(404).json({\n          success: false,\n          error: `Reimbursement request not found`\n        })\n      }\n\n      const current = currentResult.rows[0]\n\n      if (current.status !== ReimbursementStatus.APPROVED",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reimbursement-requests.ts",
        "start": 564,
        "end": 586,
        "startLoc": {
          "line": 564,
          "column": 7,
          "position": 3526
        },
        "endLoc": {
          "line": 586,
          "column": 9,
          "position": 3646
        }
      },
      "secondFile": {
        "name": "api/src/routes/reimbursement-requests.ts",
        "start": 371,
        "end": 393,
        "startLoc": {
          "line": 371,
          "column": 7,
          "position": 2430
        },
        "endLoc": {
          "line": 393,
          "column": 8,
          "position": 2550
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "// Validation schemas\nconst createReimbursementSchema = z.object({\n  charge_id: z.string().uuid(),\n  request_amount: z.number().positive(),\n  description: z.string().optional(),\n  expense_date: z.string(),\n  category: z.string().optional(),\n  receipt_file_path: z.string().optional(),",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/reimbursement-requests.enhanced.ts",
        "start": 34,
        "end": 41,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 289
        },
        "endLoc": {
          "line": 41,
          "column": 2,
          "position": 387
        }
      },
      "secondFile": {
        "name": "api/src/routes/reimbursement-requests.ts",
        "start": 20,
        "end": 28,
        "startLoc": {
          "line": 20,
          "column": 1,
          "position": 163
        },
        "endLoc": {
          "line": 28,
          "column": 2,
          "position": 262
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "]\n    );\n\n    res.json({\n      success: true,\n      data: {\n        jobs: result.rows,\n        pagination: {\n          total: parseInt(countResult.rows[0].total),\n          limit: parseInt(limit as string),\n          offset: parseInt(offset as string)\n        }\n      }\n    });\n  } catch (error: any) {\n    logger.error(`Error getting failed jobs:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/queue.routes.ts",
        "start": 176,
        "end": 191,
        "startLoc": {
          "line": 176,
          "column": 7,
          "position": 1540
        },
        "endLoc": {
          "line": 191,
          "column": 29,
          "position": 1656
        }
      },
      "secondFile": {
        "name": "api/src/routes/queue.routes.ts",
        "start": 137,
        "end": 152,
        "startLoc": {
          "line": 137,
          "column": 10,
          "position": 1211
        },
        "endLoc": {
          "line": 152,
          "column": 22,
          "position": 1327
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "${params.length + 1} OFFSET $${params.length + 2}`;\n    params.push(parseInt(limit as string), parseInt(offset as string);\n\n    const result = await pool.query(query, params);\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/queue.routes.ts",
        "start": 229,
        "end": 234,
        "startLoc": {
          "line": 229,
          "column": 40,
          "position": 1840
        },
        "endLoc": {
          "line": 234,
          "column": 6,
          "position": 1908
        }
      },
      "secondFile": {
        "name": "api/src/routes/queue.routes.ts",
        "start": 129,
        "end": 134,
        "startLoc": {
          "line": 129,
          "column": 35,
          "position": 1107
        },
        "endLoc": {
          "line": 134,
          "column": 19,
          "position": 1175
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ");\n\n    res.json({\n      success: true,\n      data: {\n        jobs: result.rows,\n        pagination: {\n          total: parseInt(countResult.rows[0].total),\n          limit: parseInt(limit as string),\n          offset: parseInt(offset as string)\n        }\n      }\n    });\n  } catch (error: any) {\n    logger.error('Error getting dead letter jobs:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/queue.routes.ts",
        "start": 238,
        "end": 252,
        "startLoc": {
          "line": 238,
          "column": 12,
          "position": 1977
        },
        "endLoc": {
          "line": 252,
          "column": 34,
          "position": 2090
        }
      },
      "secondFile": {
        "name": "api/src/routes/queue.routes.ts",
        "start": 138,
        "end": 152,
        "startLoc": {
          "line": 138,
          "column": 5,
          "position": 1214
        },
        "endLoc": {
          "line": 152,
          "column": 22,
          "position": 1327
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "res.json({\n      success: true,\n      data: {\n        queues: validStats,\n        summary: {\n          totalPending: validStats.reduce((sum, s) => sum + s!.pending, 0),\n          totalActive: validStats.reduce((sum, s) => sum + s!.active, 0),\n          totalCompleted: validStats.reduce((sum, s) => sum + s!.completed, 0),\n          totalFailed: validStats.reduce((sum, s) => sum + s!.failed, 0),\n          avgProcessingTime:\n            validStats.reduce((sum, s) => sum + s!.avgProcessingTimeMs, 0) / validStats.length || 0,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/queue.routes.enhanced.ts",
        "start": 46,
        "end": 56,
        "startLoc": {
          "line": 46,
          "column": 5,
          "position": 384
        },
        "endLoc": {
          "line": 56,
          "column": 2,
          "position": 580
        }
      },
      "secondFile": {
        "name": "api/src/routes/queue.routes.ts",
        "start": 71,
        "end": 81,
        "startLoc": {
          "line": 71,
          "column": 5,
          "position": 528
        },
        "endLoc": {
          "line": 81,
          "column": 2,
          "position": 725
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": ",\n        })\n      }\n\n      if (!title || !message) {\n        return res.status(400).json({\n          success: false,\n          error: 'Title and message are required',\n        })\n      }\n\n      const notification = {\n        tenantId: req.user.tenantId,\n        notificationType: notificationType || 'general',\n        category: category || 'administrative',\n        priority: priority || 'normal',\n        title,\n        message,\n        dataPayload,\n        actionButtons,\n        imageUrl,\n        sound,\n        badgeCount,\n        createdBy: req.user.id,\n      }\n\n      const notificationId = await pushNotificationService.sendBulkNotification",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/push-notifications.routes.ts",
        "start": 200,
        "end": 226,
        "startLoc": {
          "line": 200,
          "column": 29,
          "position": 1183
        },
        "endLoc": {
          "line": 226,
          "column": 21,
          "position": 1351
        }
      },
      "secondFile": {
        "name": "api/src/routes/push-notifications.routes.ts",
        "start": 125,
        "end": 151,
        "startLoc": {
          "line": 125,
          "column": 31,
          "position": 738
        },
        "endLoc": {
          "line": 151,
          "column": 17,
          "position": 906
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ",\n        notificationType,\n        category,\n        priority,\n        title,\n        message,\n        dataPayload,\n        actionButtons,\n        imageUrl,\n        sound,\n        badgeCount,\n      } = req.body\n\n      if (!recipients || !Array.isArray(recipients) || recipients.length === 0) {\n        return res.status(400).json({\n          success: false,\n          error: 'Recipients array is required',\n        })\n      }\n\n      if (!scheduledFor",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/push-notifications.routes.ts",
        "start": 260,
        "end": 280,
        "startLoc": {
          "line": 260,
          "column": 13,
          "position": 1524
        },
        "endLoc": {
          "line": 280,
          "column": 13,
          "position": 1647
        }
      },
      "secondFile": {
        "name": "api/src/routes/push-notifications.routes.ts",
        "start": 109,
        "end": 129,
        "startLoc": {
          "line": 109,
          "column": 11,
          "position": 630
        },
        "endLoc": {
          "line": 129,
          "column": 6,
          "position": 753
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": ",\n        })\n      }\n\n      if (!title || !message) {\n        return res.status(400).json({\n          success: false,\n          error: 'Title and message are required',\n        })\n      }\n\n      const notification = {\n        tenantId: req.user.tenantId,\n        notificationType: notificationType || 'general',\n        category: category || 'administrative',\n        priority: priority || 'normal',\n        title,\n        message,\n        dataPayload,\n        actionButtons,\n        imageUrl,\n        sound,\n        badgeCount,\n        createdBy: req.user.id,\n      }\n\n      const notificationId = await pushNotificationService.scheduleNotification",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/push-notifications.routes.ts",
        "start": 283,
        "end": 309,
        "startLoc": {
          "line": 283,
          "column": 29,
          "position": 1678
        },
        "endLoc": {
          "line": 309,
          "column": 21,
          "position": 1846
        }
      },
      "secondFile": {
        "name": "api/src/routes/push-notifications.routes.ts",
        "start": 125,
        "end": 151,
        "startLoc": {
          "line": 125,
          "column": 31,
          "position": 738
        },
        "endLoc": {
          "line": 151,
          "column": 17,
          "position": 906
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import { Router } from \"express\"\nimport { csrfProtection } from '../middleware/csrf'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nconst router = Router()\n\nrouter.get(\"/\", asyncHandler(async (req, res) => {\n  res.json({ data: [], message: \"purchase-orders endpoint working\"",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/purchase-orders.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 35,
          "position": 113
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 27,
          "position": 113
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "})\n}))\n\nrouter.get(\"/:id\", asyncHandler(async (req, res) => {\n  res.json({ data: null, id: req.params.id })\n}))\n\nrouter.post(\"/\",csrfProtection, asyncHandler(async (req, res) => {\n  res.status(201).json({ data: req.body, message: \"Created\" })\n}))\n\nrouter.put(\"/:id\",csrfProtection, asyncHandler(async (req, res) => {\n  res.json({ data: req.body, id: req.params.id, message: \"Updated\" })\n}))\n\nrouter.delete(\"/:id\",csrfProtection, asyncHandler(async (req, res) => {\n  res.json({ message: \"Deleted\", id: req.params.id })\n}))\n\nexport default router",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/purchase-orders.ts",
        "start": 9,
        "end": 28,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 115
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 352
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.ts",
        "start": 9,
        "end": 28,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 115
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 355
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { csrfProtection",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 15,
          "position": 124
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 10,
          "position": 124
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get policy templates error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 87,
        "end": 99,
        "startLoc": {
          "line": 87,
          "column": 11,
          "position": 461
        },
        "endLoc": {
          "line": 99,
          "column": 30,
          "position": 570
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 141,
        "end": 55,
        "startLoc": {
          "line": 141,
          "column": 7,
          "position": 1187
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `Policy template not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      console.error(`Update policy template error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 208,
        "end": 217,
        "startLoc": {
          "line": 208,
          "column": 7,
          "position": 1176
        },
        "endLoc": {
          "line": 217,
          "column": 32,
          "position": 1254
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 149,
        "end": 158,
        "startLoc": {
          "line": 149,
          "column": 3,
          "position": 693
        },
        "endLoc": {
          "line": 158,
          "column": 29,
          "position": 771
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", [req.user!.tenant_id])\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get policy violations error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 411,
        "end": 423,
        "startLoc": {
          "line": 411,
          "column": 11,
          "position": 2338
        },
        "endLoc": {
          "line": 423,
          "column": 31,
          "position": 2457
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 55,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`created_by`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO policy_violations (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 433,
        "end": 445,
        "startLoc": {
          "line": 433,
          "column": 2,
          "position": 2529
        },
        "endLoc": {
          "line": 445,
          "column": 33,
          "position": 2622
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 168,
        "end": 180,
        "startLoc": {
          "line": 168,
          "column": 2,
          "position": 843
        },
        "endLoc": {
          "line": 180,
          "column": 32,
          "position": 936
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const countResult = await pool.query(countQuery)\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get policy compliance audits error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 493,
        "end": 505,
        "startLoc": {
          "line": 493,
          "column": 7,
          "position": 2975
        },
        "endLoc": {
          "line": 505,
          "column": 38,
          "position": 3097
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 87,
        "end": 55,
        "startLoc": {
          "line": 87,
          "column": 7,
          "position": 448
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`created_by`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO policy_compliance_audits (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 516,
        "end": 528,
        "startLoc": {
          "line": 516,
          "column": 2,
          "position": 3170
        },
        "endLoc": {
          "line": 528,
          "column": 40,
          "position": 3263
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 168,
        "end": 180,
        "startLoc": {
          "line": 168,
          "column": 2,
          "position": 843
        },
        "endLoc": {
          "line": 180,
          "column": 32,
          "position": 936
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "import { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\nrouter.use(authenticateJWT)\n\n// GET /policies",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policies.ts",
        "start": 6,
        "end": 17,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 65
        },
        "endLoc": {
          "line": 17,
          "column": 17,
          "position": 165
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 5,
        "end": 16,
        "startLoc": {
          "line": 5,
          "column": 1,
          "position": 54
        },
        "endLoc": {
          "line": 16,
          "column": 80,
          "position": 154
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT \n      id,\n      tenant_id,\n      name,\n      description,\n      category,\n      content,\n      version,\n      is_active,\n      effective_date,\n      created_by,\n      created_at,\n      updated_at FROM policies WHERE tenant_id = $1 ORDER BY created_at DESC LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policies.ts",
        "start": 21,
        "end": 40,
        "startLoc": {
          "line": 21,
          "column": 2,
          "position": 199
        },
        "endLoc": {
          "line": 40,
          "column": 97,
          "position": 295
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 24,
        "end": 44,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      logger.error(`Get policies error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policies.ts",
        "start": 45,
        "end": 59,
        "startLoc": {
          "line": 45,
          "column": 53,
          "position": 334
        },
        "endLoc": {
          "line": 59,
          "column": 22,
          "position": 456
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 153,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 153,
          "column": 30,
          "position": 1296
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`tenant_id`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO policies (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policies.ts",
        "start": 105,
        "end": 117,
        "startLoc": {
          "line": 105,
          "column": 2,
          "position": 741
        },
        "endLoc": {
          "line": 117,
          "column": 24,
          "position": 834
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 110,
        "end": 122,
        "startLoc": {
          "line": 110,
          "column": 2,
          "position": 767
        },
        "endLoc": {
          "line": 122,
          "column": 28,
          "position": 860
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `Policies not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      logger.error(`Update policies error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/policies.ts",
        "start": 141,
        "end": 150,
        "startLoc": {
          "line": 141,
          "column": 7,
          "position": 1075
        },
        "endLoc": {
          "line": 150,
          "column": 25,
          "position": 1153
        }
      },
      "secondFile": {
        "name": "api/src/routes/policies.ts",
        "start": 86,
        "end": 95,
        "startLoc": {
          "line": 86,
          "column": 10,
          "position": 589
        },
        "endLoc": {
          "line": 95,
          "column": 22,
          "position": 667
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "validated.allow_personal_use,\n            validated.require_approval,\n            validated.max_personal_miles_per_month || null,\n            validated.max_personal_miles_per_year || null,\n            validated.charge_personal_use,\n            validated.personal_use_rate_per_mile || null,\n            validated.reporting_required ?? true,\n            validated.approval_workflow || ApprovalWorkflow.MANAGER,\n            JSON.stringify(validated.notification_settings || {}),\n            validated.auto_approve_under_miles || null,\n            validated.effective_date,\n            validated.expiration_date || null,\n            req.user!.id",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/personal-use-policies.ts",
        "start": 189,
        "end": 201,
        "startLoc": {
          "line": 189,
          "column": 13,
          "position": 1298
        },
        "endLoc": {
          "line": 201,
          "column": 3,
          "position": 1416
        }
      },
      "secondFile": {
        "name": "api/src/routes/personal-use-policies.ts",
        "start": 160,
        "end": 172,
        "startLoc": {
          "line": 160,
          "column": 13,
          "position": 1133
        },
        "endLoc": {
          "line": 172,
          "column": 10,
          "position": 1251
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", async (req: Request, res: Response) => {\n  try {\n    const user = req.user as User;\n\n    if (!user) {\n      return res.status(401).json({\n        error: 'Unauthorized',\n        message: 'Authentication required'\n      });\n    }\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/permissions.routes.ts",
        "start": 78,
        "end": 89,
        "startLoc": {
          "line": 78,
          "column": 15,
          "position": 502
        },
        "endLoc": {
          "line": 89,
          "column": 6,
          "position": 592
        }
      },
      "secondFile": {
        "name": "api/src/routes/permissions.routes.ts",
        "start": 25,
        "end": 36,
        "startLoc": {
          "line": 25,
          "column": 18,
          "position": 106
        },
        "endLoc": {
          "line": 36,
          "column": 23,
          "position": 196
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n      [req.user.id]\n    )\n\n    const userScope = userResult.rows[0] || {}\n\n    res.json({\n      user: {\n        id: req.user.id,\n        email: req.user.email,\n        tenant_id: req.user.tenant_id,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/permissions.enhanced.ts",
        "start": 36,
        "end": 46,
        "startLoc": {
          "line": 36,
          "column": 111,
          "position": 291
        },
        "endLoc": {
          "line": 46,
          "column": 2,
          "position": 370
        }
      },
      "secondFile": {
        "name": "api/src/routes/permissions.ts",
        "start": 40,
        "end": 51,
        "startLoc": {
          "line": 40,
          "column": 33,
          "position": 261
        },
        "endLoc": {
          "line": 51,
          "column": 2,
          "position": 342
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "})\n  } catch (error) {\n    console.error('Get user permissions error:', error)\n    res.status(500).json({ error: 'Internal server error' })\n  }\n})\n\n/**\n * GET /api/permissions/check/:permission\n * Check if current user has a specific permission\n */\nrouter.get('/check/:permission', async (req: AuthRequest, res: Response) => {\n  try {\n    if (!req.user) {\n      return res.status(401).json({ error: 'Authentication required' })\n    }\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/permissions.enhanced.ts",
        "start": 57,
        "end": 74,
        "startLoc": {
          "line": 57,
          "column": 5,
          "position": 476
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 602
        }
      },
      "secondFile": {
        "name": "api/src/routes/permissions.ts",
        "start": 61,
        "end": 78,
        "startLoc": {
          "line": 61,
          "column": 5,
          "position": 443
        },
        "endLoc": {
          "line": 78,
          "column": 12,
          "position": 569
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "})\n  } catch (error) {\n    console.error('Check permission error:', error)\n    res.status(500).json({ error: 'Internal server error' })\n  }\n})\n\n/**\n * GET /api/permissions/roles\n * List all available roles (admin only)\n */\nrouter.get('/roles', async (req: AuthRequest, res: Response) => {\n  try {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/permissions.enhanced.ts",
        "start": 82,
        "end": 95,
        "startLoc": {
          "line": 82,
          "column": 5,
          "position": 672
        },
        "endLoc": {
          "line": 95,
          "column": 6,
          "position": 758
        }
      },
      "secondFile": {
        "name": "api/src/routes/permissions.ts",
        "start": 84,
        "end": 97,
        "startLoc": {
          "line": 84,
          "column": 5,
          "position": 628
        },
        "endLoc": {
          "line": 97,
          "column": 46,
          "position": 714
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", async (req: AuthRequest, res: Response) => {\n  try {\n    const permissions = await getUserPermissions(req.user!.id)\n    if (!permissions.has('role:manage:global') {\n      return res.status(403).json({ error: 'Insufficient permissions' })\n    }\n\n    const result = await pool.query(\n      'SELECT r.*, COUNT(DISTINCT ur.user_id) as user_count, COUNT(DISTINCT rp.permission_id) as permission_count FROM roles r LEFT JOIN user_roles ur ON r.id = ur.role_id AND ur.is_active = true LEFT JOIN role_permissions rp ON r.id = rp.role_id GROUP BY r.id ORDER BY r.name'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/permissions.enhanced.ts",
        "start": 93,
        "end": 101,
        "startLoc": {
          "line": 93,
          "column": 9,
          "position": 731
        },
        "endLoc": {
          "line": 101,
          "column": 272,
          "position": 831
        }
      },
      "secondFile": {
        "name": "api/src/routes/permissions.ts",
        "start": 126,
        "end": 138,
        "startLoc": {
          "line": 126,
          "column": 29,
          "position": 869
        },
        "endLoc": {
          "line": 138,
          "column": 45,
          "position": 969
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import { Router } from \"express\"\nimport { csrfProtection } from '../middleware/csrf'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nconst router = Router()\n\nrouter.get(\"/\", asyncHandler(async (req, res) => {\n  res.json({ data: [], message: \"parts endpoint working\"",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/parts.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 25,
          "position": 113
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 27,
          "position": 113
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "})\n}))\n\nrouter.get(\"/:id\", asyncHandler(async (req, res) => {\n  res.json({ data: null, id: req.params.id })\n}))\n\nrouter.post(\"/\", csrfProtection, asyncHandler(async (req, res) => {\n  res.status(201).json({ data: req.body, message: \"Created\" })\n}))\n\nrouter.put(\"/:id\", csrfProtection, asyncHandler(async (req, res) => {\n  res.json({ data: req.body, id: req.params.id, message: \"Updated\" })\n}))\n\nrouter.delete(\"/:id\", csrfProtection, asyncHandler(async (req, res) => {\n  res.json({ message: \"Deleted\", id: req.params.id })\n}))\n\nexport default router",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/parts.ts",
        "start": 9,
        "end": 28,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 115
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 355
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.ts",
        "start": 9,
        "end": 28,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 115
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 355
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "),\n  attachments: z.array(z.object({\n    name: z.string(),\n    contentType: z.string(),\n    contentBytes: z.string(),\n    isInline: z.boolean().optional(),\n    contentId: z.string().optional()\n  }).optional(),\n  userId: z.string().email().optional()\n})\n\nrouter.post(\n  '/messages/:messageId/forward'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/outlook.routes.ts",
        "start": 242,
        "end": 254,
        "startLoc": {
          "line": 242,
          "column": 2,
          "position": 2227
        },
        "endLoc": {
          "line": 254,
          "column": 31,
          "position": 2343
        }
      },
      "secondFile": {
        "name": "api/src/routes/outlook.routes.ts",
        "start": 189,
        "end": 201,
        "startLoc": {
          "line": 189,
          "column": 6,
          "position": 1684
        },
        "endLoc": {
          "line": 201,
          "column": 29,
          "position": 1800
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "(request, userId as string)\n\n      res.json({\n        success: true,\n        data: result.value,\n        pagination: {\n          count: result.value.length,\n          total: result['@odata.count'],\n          hasMore: !!result['@odata.nextLink'],\n          nextLink: result['@odata.nextLink']\n        }\n      })\n    } catch (error) {\n      logger.error('Search emails error:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/outlook.routes.ts",
        "start": 605,
        "end": 618,
        "startLoc": {
          "line": 605,
          "column": 13,
          "position": 5205
        },
        "endLoc": {
          "line": 618,
          "column": 23,
          "position": 5311
        }
      },
      "secondFile": {
        "name": "api/src/routes/outlook.routes.ts",
        "start": 131,
        "end": 144,
        "startLoc": {
          "line": 131,
          "column": 10,
          "position": 1213
        },
        "endLoc": {
          "line": 144,
          "column": 20,
          "position": 1319
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ",\n csrfProtection, authorize('admin', 'fleet_manager', 'dispatcher'),\n  auditLog({ action: 'UPDATE', resourceType: 'outlook_message' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { messageId } = req.params\n      const validated = categorizeEmailSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/outlook.routes.ts",
        "start": 638,
        "end": 644,
        "startLoc": {
          "line": 638,
          "column": 34,
          "position": 5458
        },
        "endLoc": {
          "line": 644,
          "column": 22,
          "position": 5543
        }
      },
      "secondFile": {
        "name": "api/src/routes/outlook.routes.ts",
        "start": 304,
        "end": 310,
        "startLoc": {
          "line": 304,
          "column": 23,
          "position": 2809
        },
        "endLoc": {
          "line": 310,
          "column": 18,
          "position": 2894
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\nrouter.use(authenticateJWT)\n\n// Root endpoint - returns available resources",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.ts",
        "start": 1,
        "end": 16,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 16,
          "column": 47,
          "position": 154
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 16,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 16,
          "column": 80,
          "position": 154
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const countResult = await pool.query(countQuery, [req.user!.tenant_id])\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get OSHA 300 log error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.ts",
        "start": 79,
        "end": 91,
        "startLoc": {
          "line": 79,
          "column": 7,
          "position": 547
        },
        "endLoc": {
          "line": 91,
          "column": 26,
          "position": 679
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 411,
        "end": 55,
        "startLoc": {
          "line": 411,
          "column": 7,
          "position": 2325
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`created_by`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO osha_300_log (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.ts",
        "start": 131,
        "end": 143,
        "startLoc": {
          "line": 131,
          "column": 2,
          "position": 948
        },
        "endLoc": {
          "line": 143,
          "column": 28,
          "position": 1041
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 168,
        "end": 180,
        "startLoc": {
          "line": 168,
          "column": 2,
          "position": 843
        },
        "endLoc": {
          "line": 180,
          "column": 32,
          "position": 936
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const countResult = await pool.query(countQuery, [req.user!.tenant_id])\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get safety inspections error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.ts",
        "start": 240,
        "end": 252,
        "startLoc": {
          "line": 240,
          "column": 7,
          "position": 1732
        },
        "endLoc": {
          "line": 252,
          "column": 32,
          "position": 1864
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 411,
        "end": 55,
        "startLoc": {
          "line": 411,
          "column": 7,
          "position": 2325
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const countResult = await pool.query(countQuery, [req.user!.tenant_id])\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get training records error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.ts",
        "start": 329,
        "end": 341,
        "startLoc": {
          "line": 329,
          "column": 7,
          "position": 2409
        },
        "endLoc": {
          "line": 341,
          "column": 30,
          "position": 2541
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 411,
        "end": 55,
        "startLoc": {
          "line": 411,
          "column": 7,
          "position": 2325
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const countResult = await pool.query(countQuery, [req.user!.tenant_id])\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get accident investigations error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.ts",
        "start": 414,
        "end": 426,
        "startLoc": {
          "line": 414,
          "column": 7,
          "position": 3047
        },
        "endLoc": {
          "line": 426,
          "column": 37,
          "position": 3179
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 411,
        "end": 55,
        "startLoc": {
          "line": 411,
          "column": 7,
          "position": 2325
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport helmet",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 7,
          "position": 107
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 2,
          "position": 107
        }
      }
    },
    {
      "format": "typescript",
      "lines": 41,
      "fragment": "const offset = (Number(page) - 1) * Number(limit)\n\n      let query = `\n        SELECT o.*,\n               d.first_name || ' ' || d.last_name as employee_full_name,\n               v.unit_number as vehicle_unit\n        FROM osha_300_log o\n        LEFT JOIN drivers d ON o.employee_id = d.id\n        LEFT JOIN vehicles v ON o.vehicle_id = v.id\n        WHERE d.tenant_id = $1\n      `\n      const params: any[] = [req.user!.tenant_id]\n      let paramIndex = 2\n\n      if (year) {\n        query += ` AND EXTRACT(YEAR FROM o.date_of_injury) = $${paramIndex}`\n        params.push(year)\n        paramIndex++\n      }\n\n      if (status) {\n        query += ` AND o.case_status = $${paramIndex}`\n        params.push(status)\n        paramIndex++\n      }\n\n      query += ` ORDER BY o.date_of_injury DESC LIMIT $${paramIndex} OFFSET $${paramIndex + 1}`\n      params.push(limit, offset)\n\n      const result = await pool.query(query, params)\n\n      const countQuery = `\n        SELECT COUNT(*)\n        FROM osha_300_log o\n        LEFT JOIN drivers d ON o.employee_id = d.id\n        WHERE d.tenant_id = $1\n      `\n      const countResult = await pool.query(countQuery, [req.user!.tenant_id])\n\n      res.json({\n        data: result.rows.",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.enhanced.ts",
        "start": 62,
        "end": 102,
        "startLoc": {
          "line": 62,
          "column": 7,
          "position": 537
        },
        "endLoc": {
          "line": 102,
          "column": 2,
          "position": 774
        }
      },
      "secondFile": {
        "name": "api/src/routes/osha-compliance.ts",
        "start": 42,
        "end": 82,
        "startLoc": {
          "line": 42,
          "column": 7,
          "position": 350
        },
        "endLoc": {
          "line": 82,
          "column": 2,
          "position": 587
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ",\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count, 10),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit),\n        },\n      })\n    } catch (error) {\n      console",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/osha-compliance.enhanced.ts",
        "start": 106,
        "end": 115,
        "startLoc": {
          "line": 106,
          "column": 2,
          "position": 816
        },
        "endLoc": {
          "line": 115,
          "column": 8,
          "position": 909
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 72,
        "end": 81,
        "startLoc": {
          "line": 72,
          "column": 5,
          "position": 546
        },
        "endLoc": {
          "line": 81,
          "column": 13,
          "position": 639
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import express, { Request, Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { Pool } from 'pg'\nimport { z } from 'zod'\nimport { authenticateJWT, AuthRequest } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { getErrorMessage",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/on-call-management.routes.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 16,
          "position": 112
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 30,
          "position": 112
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "import { getErrorMessage } from '../utils/error-handler'\nimport helmet from 'helmet'\nimport rateLimit from 'express-rate-limit'\nimport bcrypt from 'bcrypt'\nimport { check, validationResult } from 'express-validator'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\nrouter.use(helmet()\nrouter.use(express.json()\n\nconst apiLimiter = rateLimit({\n  windowMs: 1",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/on-call-management.routes.enhanced.ts",
        "start": 9,
        "end": 22,
        "startLoc": {
          "line": 9,
          "column": 1,
          "position": 108
        },
        "endLoc": {
          "line": 22,
          "column": 2,
          "position": 218
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.enhanced.ts",
        "start": 10,
        "end": 23,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 120
        },
        "endLoc": {
          "line": 23,
          "column": 3,
          "position": 230
        }
      }
    },
    {
      "format": "typescript",
      "lines": 50,
      "fragment": ")\n\nlet pool: Pool\n\nexport function setDatabasePool(dbPool: Pool) {\n  pool = dbPool\n}\n\n// =====================================================\n// Validation Schemas\n// =====================================================\n\nconst createOnCallPeriodSchema = z.object({\n  driver_id: z.string().uuid(),\n  department_id: z.string().uuid().optional(),\n  start_datetime: z.string().datetime(),\n  end_datetime: z.string().datetime(),\n  schedule_type: z.string().optional(),\n  schedule_notes: z.string().optional(),\n  on_call_vehicle_assignment_id: z.string().uuid().optional(),\n  geographic_region: z.string().optional(),\n  commuting_constraints: z.record(z.any().optional(),\n})\n\nconst updateOnCallPeriodSchema = createOnCallPeriodSchema.partial()\n\nconst acknowledgeOnCallSchema = z.object({\n  acknowledged: z.boolean(),\n})\n\nconst createCallbackTripSchema = z.object({\n  on_call_period_id: z.string().uuid(),\n  driver_id: z.string().uuid(),\n  trip_date: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/),\n  trip_start_time: z.string().datetime().optional(),\n  trip_end_time: z.string().datetime().optional(),\n  miles_driven: z.number().positive(),\n  includes_commute_trip: z.boolean().default(false),\n  commute_miles: z.number().nonnegative().optional(),\n  used_assigned_vehicle: z.boolean().default(false),\n  used_private_vehicle: z.boolean().default(false),\n  vehicle_id: z.string().uuid().optional(),\n  purpose: z.string().optional(),\n  notes: z.string().optional(),\n  reimbursement_requested: z.boolean().default(false),\n  reimbursement_amount: z.number().nonnegative().optional(),\n})\n\n// =====================================================\n// Route Handlers",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/on-call-management.routes.enhanced.ts",
        "start": 28,
        "end": 77,
        "startLoc": {
          "line": 28,
          "column": 11,
          "position": 261
        },
        "endLoc": {
          "line": 77,
          "column": 18,
          "position": 774
        }
      },
      "secondFile": {
        "name": "api/src/routes/on-call-management.routes.ts",
        "start": 26,
        "end": 74,
        "startLoc": {
          "line": 26,
          "column": 2,
          "position": 108
        },
        "endLoc": {
          "line": 74,
          "column": 24,
          "position": 620
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "router.get(\n  '/',\n  authenticateJWT,\n  requirePermission('on_call:view:team'),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const {\n        page = '1',\n        limit = '50',\n        driver_id,\n        department_id,\n        is_active,\n        start_date,\n        end_date,\n      } = req.query\n\n      const offset = (parseInt(page as string) - 1) * parseInt(limit as string)\n      const tenant_id = req.user!.tenant_id\n\n      let",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/on-call-management.routes.enhanced.ts",
        "start": 81,
        "end": 100,
        "startLoc": {
          "line": 81,
          "column": 1,
          "position": 781
        },
        "endLoc": {
          "line": 100,
          "column": 4,
          "position": 926
        }
      },
      "secondFile": {
        "name": "api/src/routes/on-call-management.routes.ts",
        "start": 78,
        "end": 96,
        "startLoc": {
          "line": 78,
          "column": 1,
          "position": 627
        },
        "endLoc": {
          "line": 96,
          "column": 6,
          "position": 771
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "]\n      let params: any[] = [tenant_id]\n      let paramIndex = 2\n\n      if (driver_id) {\n        whereConditions.push(`ocp.driver_id = $${paramIndex++}`)\n        params.push(driver_id)\n      }\n\n      if (department_id) {\n        whereConditions.push(`ocp.department_id = $${paramIndex++}`)\n        params.push(department_id)\n      }\n\n      if",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/on-call-management.routes.enhanced.ts",
        "start": 100,
        "end": 114,
        "startLoc": {
          "line": 100,
          "column": 21,
          "position": 934
        },
        "endLoc": {
          "line": 114,
          "column": 3,
          "position": 1031
        }
      },
      "secondFile": {
        "name": "api/src/routes/on-call-management.routes.ts",
        "start": 448,
        "end": 461,
        "startLoc": {
          "line": 448,
          "column": 7,
          "position": 3069
        },
        "endLoc": {
          "line": 461,
          "column": 6,
          "position": 3165
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "if (!req.file) {\n        return res.status(400).json({ error: `No file uploaded` })\n      }\n\n      const { tenantId, userId } = (req as any).user\n      const documentId =\n        req.body.documentId || `doc-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n\n      // Validate and parse options",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ocr.routes.enhanced.ts",
        "start": 95,
        "end": 103,
        "startLoc": {
          "line": 95,
          "column": 7,
          "position": 829
        },
        "endLoc": {
          "line": 103,
          "column": 30,
          "position": 939
        }
      },
      "secondFile": {
        "name": "api/src/routes/ocr.routes.ts",
        "start": 57,
        "end": 65,
        "startLoc": {
          "line": 57,
          "column": 5,
          "position": 333
        },
        "endLoc": {
          "line": 65,
          "column": 17,
          "position": 443
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ") : undefined,\n        detectTables: req.body.detectTables === 'true',\n        detectForms: req.body.detectForms === 'true',\n        detectHandwriting: req.body.detectHandwriting === 'true',\n        pageNumbers: req.body.pageNumbers ? JSON.parse(req.body.pageNumbers) : undefined,\n        dpi: req.body.dpi ? parseInt(req.body.dpi,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ocr.routes.enhanced.ts",
        "start": 106,
        "end": 111,
        "startLoc": {
          "line": 106,
          "column": 4,
          "position": 986
        },
        "endLoc": {
          "line": 111,
          "column": 2,
          "position": 1085
        }
      },
      "secondFile": {
        "name": "api/src/routes/ocr.routes.ts",
        "start": 68,
        "end": 73,
        "startLoc": {
          "line": 68,
          "column": 4,
          "position": 501
        },
        "endLoc": {
          "line": 73,
          "column": 2,
          "position": 600
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": ") {\n        // Enqueue for background processing\n        const jobId = await ocrQueueService.enqueueOcrJob({\n          documentId,\n          tenantId,\n          userId,\n          filePath: req.file.path,\n          fileName: req.file.originalname,\n          fileSize: req.file.size,\n          mimeType: req.file.mimetype,\n          options,\n        })\n\n        return res.status(202).json({\n          message: 'OCR job queued',\n          jobId,\n          documentId,\n          status: 'pending',\n        })\n      } else {\n        // Process synchronously\n        const result = await ocrService.processDocument(req.file.path, documentId, options)\n\n        // Clean up uploaded file\n        await fs.unlink(req.file.path)\n\n        return",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ocr.routes.enhanced.ts",
        "start": 122,
        "end": 148,
        "startLoc": {
          "line": 122,
          "column": 13,
          "position": 1192
        },
        "endLoc": {
          "line": 148,
          "column": 7,
          "position": 1375
        }
      },
      "secondFile": {
        "name": "api/src/routes/ocr.routes.ts",
        "start": 79,
        "end": 103,
        "startLoc": {
          "line": 79,
          "column": 6,
          "position": 649
        },
        "endLoc": {
          "line": 103,
          "column": 2,
          "position": 829
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ".parse(req.body);\n    const userId = (req as any).user.id;\n    const tenantId = (req as any).user.tenant_id;\n\n    // Verify trip exists and user has access\n    const tripCheck = await pool.query(\n      `SELECT id, driver_id FROM trips WHERE id = $1 AND tenant_id = $2`,\n      [tripId, tenantId]\n    );\n\n    if (tripCheck.rows.length === 0) {\n      return res.status(404).json({ error: `Trip not found` });\n    }\n\n    const trip = tripCheck.rows[0];\n\n    // Verify user is the driver or has admin access\n    if (trip.driver_id !== userId && !['admin', 'fleet_manager'].includes((req as any).user.role) {\n      return res.status(403).json({ error: 'Access denied' });\n    }\n\n    // Update trip classification",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-trips.routes.ts",
        "start": 659,
        "end": 680,
        "startLoc": {
          "line": 659,
          "column": 19,
          "position": 4007
        },
        "endLoc": {
          "line": 680,
          "column": 30,
          "position": 4221
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-trips.routes.ts",
        "start": 254,
        "end": 275,
        "startLoc": {
          "line": 254,
          "column": 14,
          "position": 1766
        },
        "endLoc": {
          "line": 275,
          "column": 38,
          "position": 1980
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "// =====================================================\n// Validation Schemas\n// =====================================================\n\nconst StartTripSchema = z.object({\n  vehicle_id: z.number().int().positive().optional(),\n  driver_id: z.number().int().positive().optional(),\n  start_time: z.string().refine",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-trips.routes.enhanced.ts",
        "start": 32,
        "end": 39,
        "startLoc": {
          "line": 32,
          "column": 1,
          "position": 265
        },
        "endLoc": {
          "line": 39,
          "column": 7,
          "position": 340
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-trips.routes.ts",
        "start": 24,
        "end": 31,
        "startLoc": {
          "line": 24,
          "column": 1,
          "position": 113
        },
        "endLoc": {
          "line": 31,
          "column": 9,
          "position": 188
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}),\n  end_odometer_miles: z.number().optional(),\n  duration_seconds: z.number().int().optional(),\n  distance_miles: z.number().optional(),\n  avg_speed_mph: z.number().optional(),\n  max_speed_mph: z.number().optional(),\n  idle_time_seconds: z.number().int().optional(),\n  fuel_consumed_gallons: z.number().optional(),\n  fuel_efficiency_mpg: z.number().optional(),\n  driver_score: z.number().int().min(0).max(100).optional(),\n  harsh_acceleration_count: z.number().int().optional(),\n  harsh_braking_count: z.number().int().optional(),\n  harsh_cornering_count: z.number().int().optional(),\n  speeding_count: z.number().int().optional(),\n  status: z.enum(['completed', 'cancelled']).optional(),",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-trips.routes.enhanced.ts",
        "start": 58,
        "end": 72,
        "startLoc": {
          "line": 58,
          "column": 3,
          "position": 565
        },
        "endLoc": {
          "line": 72,
          "column": 2,
          "position": 821
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-trips.routes.ts",
        "start": 46,
        "end": 61,
        "startLoc": {
          "line": 46,
          "column": 3,
          "position": 337
        },
        "endLoc": {
          "line": 61,
          "column": 2,
          "position": 594
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "const TripMetricsSchema = z.object({\n  metrics: z\n    .array(\n      z.object({\n        timestamp: z.string().datetime(),\n        engine_rpm: z.number().optional(),\n        engine_load_percent: z.number().optional(),\n        engine_coolant_temp_f: z.number().optional(),\n        fuel_level_percent: z.number().optional(),\n        fuel_flow_rate_gph: z.number().optional(),\n        speed_mph: z.number().optional(),\n        throttle_position_percent: z.number().optional(),\n        battery_voltage: z.number().optional(),\n        odometer_miles: z.number().optional(),\n        mil_status: z.boolean().optional(),\n        dtc_count: z.number().int().optional(),",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-trips.routes.enhanced.ts",
        "start": 75,
        "end": 90,
        "startLoc": {
          "line": 75,
          "column": 1,
          "position": 827
        },
        "endLoc": {
          "line": 90,
          "column": 2,
          "position": 1039
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-trips.routes.ts",
        "start": 63,
        "end": 77,
        "startLoc": {
          "line": 63,
          "column": 1,
          "position": 599
        },
        "endLoc": {
          "line": 77,
          "column": 2,
          "position": 809
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ")\n    .optional(),\n  breadcrumbs: z\n    .array(\n      z.object({\n        timestamp: z.string().datetime(),\n        latitude: z.number(),\n        longitude: z.number(),\n        speed_mph: z.number().optional(),\n        heading_degrees: z.number().optional(),\n        accuracy_meters: z.number().optional(),\n        altitude_meters: z.number().optional(),\n        engine_rpm: z.number().optional(),\n        fuel_level_percent: z.number().optional(),\n        coolant_temp_f: z.number().optional(),\n        throttle_position_percent: z.number().optional(),",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-trips.routes.enhanced.ts",
        "start": 92,
        "end": 107,
        "startLoc": {
          "line": 92,
          "column": 5,
          "position": 1046
        },
        "endLoc": {
          "line": 107,
          "column": 2,
          "position": 1228
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-trips.routes.ts",
        "start": 77,
        "end": 90,
        "startLoc": {
          "line": 77,
          "column": 2,
          "position": 810
        },
        "endLoc": {
          "line": 90,
          "column": 2,
          "position": 988
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "auditLog,\n  async (req: Request, res: Response) => {\n    try {\n      initializeBlobService();\n\n      if (!blobServiceClient) {\n        return res.status(500).json({\n          error: 'Azure Storage not configured',\n        });\n      }\n\n      if (!req.files",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-photos.routes.ts",
        "start": 255,
        "end": 266,
        "startLoc": {
          "line": 255,
          "column": 3,
          "position": 1436
        },
        "endLoc": {
          "line": 266,
          "column": 6,
          "position": 1518
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-photos.routes.ts",
        "start": 118,
        "end": 129,
        "startLoc": {
          "line": 118,
          "column": 3,
          "position": 617
        },
        "endLoc": {
          "line": 129,
          "column": 5,
          "position": 699
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      if (!req.file) {\n        return res.status(400).json({ error: `No file uploaded` });\n      }\n\n      const { tenantId, userId } = req.user!;\n\n      // Parse and validate request body\n      const body = {\n        vehicleId: req.body.vehicleId,\n        tripId",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-ocr.routes.ts",
        "start": 235,
        "end": 247,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 1722
        },
        "endLoc": {
          "line": 247,
          "column": 7,
          "position": 1835
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-ocr.routes.ts",
        "start": 98,
        "end": 110,
        "startLoc": {
          "line": 98,
          "column": 2,
          "position": 797
        },
        "endLoc": {
          "line": 110,
          "column": 9,
          "position": 910
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n\n      // Process image with OCR if no OCR data provided\n      let ocrResult = validatedData.ocrData;\n\n      if (!ocrResult) {\n        const result = await ocrService.processDocument(\n          req.file.path,\n          documentId,\n          {\n            provider: 'auto' as any,\n            detectTables: false,\n            detectForms: false",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-ocr.routes.ts",
        "start": 255,
        "end": 267,
        "startLoc": {
          "line": 255,
          "column": 11,
          "position": 1924
        },
        "endLoc": {
          "line": 267,
          "column": 6,
          "position": 2033
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-ocr.routes.ts",
        "start": 117,
        "end": 129,
        "startLoc": {
          "line": 117,
          "column": 15,
          "position": 984
        },
        "endLoc": {
          "line": 129,
          "column": 5,
          "position": 1093
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ", error) // Wave 33: Winston logger (FINAL WAVE!);\n\n      // Clean up uploaded file on error\n      if (req.file?.path) {\n        await fs.unlink(req.file.path).catch(() => {});\n      }\n\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          error: 'Validation error',\n          details: error.errors,\n        });\n      }\n\n      return res.status(500).json({\n        error: 'Failed to process odometer reading'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-ocr.routes.ts",
        "start": 378,
        "end": 393,
        "startLoc": {
          "line": 378,
          "column": 22,
          "position": 2676
        },
        "endLoc": {
          "line": 393,
          "column": 37,
          "position": 2803
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-ocr.routes.ts",
        "start": 204,
        "end": 219,
        "startLoc": {
          "line": 204,
          "column": 26,
          "position": 1521
        },
        "endLoc": {
          "line": 219,
          "column": 33,
          "position": 1648
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ");\n          }\n        } catch (error: any) {\n          if (error instanceof z.ZodError) {\n            validationResult.errors = error.errors.map(e => ({\n              field: e.path.join(`.`),\n              message: e.message,\n            });\n          }\n        }\n      }\n\n      return",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-ocr.routes.ts",
        "start": 457,
        "end": 469,
        "startLoc": {
          "line": 457,
          "column": 13,
          "position": 3328
        },
        "endLoc": {
          "line": 469,
          "column": 7,
          "position": 3422
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-ocr.routes.ts",
        "start": 434,
        "end": 444,
        "startLoc": {
          "line": 434,
          "column": 13,
          "position": 3113
        },
        "endLoc": {
          "line": 444,
          "column": 5,
          "position": 3205
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "router.post(\n  '/send',\n csrfProtection, authenticateJWT,\n  requirePermission('communication:send:global'),\n  async (req, res) => {\n    try {\n      const {\n        recipients,\n        notificationType,\n        category,\n        priority,\n        title,\n        message,\n        dataPayload,\n        actionButtons,\n        imageUrl,\n        sound,\n        badgeCount,\n      } = req.body;",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-notifications.routes.ts",
        "start": 107,
        "end": 125,
        "startLoc": {
          "line": 107,
          "column": 1,
          "position": 615
        },
        "endLoc": {
          "line": 125,
          "column": 2,
          "position": 714
        }
      },
      "secondFile": {
        "name": "api/src/routes/push-notifications.routes.ts",
        "start": 102,
        "end": 122,
        "startLoc": {
          "line": 102,
          "column": 1,
          "position": 581
        },
        "endLoc": {
          "line": 122,
          "column": 3,
          "position": 683
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "}\n\n      const notification = {\n        tenantId: req.user.tenantId,\n        notificationType: notificationType || 'general',\n        category: category || 'administrative',\n        priority: priority || 'normal',\n        title,\n        message,\n        dataPayload,\n        actionButtons,\n        imageUrl,\n        sound,\n        badgeCount,\n        createdBy: req.user.id,\n      };",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-notifications.routes.ts",
        "start": 139,
        "end": 154,
        "startLoc": {
          "line": 139,
          "column": 7,
          "position": 833
        },
        "endLoc": {
          "line": 154,
          "column": 2,
          "position": 930
        }
      },
      "secondFile": {
        "name": "api/src/routes/push-notifications.routes.ts",
        "start": 134,
        "end": 151,
        "startLoc": {
          "line": 134,
          "column": 7,
          "position": 796
        },
        "endLoc": {
          "line": 151,
          "column": 6,
          "position": 896
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "} = req.body;\n\n      if (!recipients || !Array.isArray(recipients) || recipients.length === 0) {\n        return res.status(400).json({\n          success: false,\n          error: 'Recipients array is required',\n        });\n      }\n\n      if (!message",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-notifications.routes.ts",
        "start": 355,
        "end": 364,
        "startLoc": {
          "line": 355,
          "column": 2,
          "position": 2151
        },
        "endLoc": {
          "line": 364,
          "column": 8,
          "position": 2233
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-notifications.routes.ts",
        "start": 125,
        "end": 134,
        "startLoc": {
          "line": 125,
          "column": 7,
          "position": 707
        },
        "endLoc": {
          "line": 134,
          "column": 6,
          "position": 789
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "const device = await pushNotificationService.registerDevice({\n      userId: req.user.id,\n      tenantId: req.user.tenantId,\n      deviceToken,\n      platform,\n      deviceName,\n      deviceModel,\n      osVersion,\n      appVersion,\n    });\n\n    res.json({\n      success: true,\n      data: device,\n      message: 'Device registered successfully',\n    });\n  })",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-notifications.routes.enhanced.ts",
        "start": 51,
        "end": 67,
        "startLoc": {
          "line": 51,
          "column": 5,
          "position": 503
        },
        "endLoc": {
          "line": 67,
          "column": 2,
          "position": 604
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-notifications.routes.ts",
        "start": 49,
        "end": 65,
        "startLoc": {
          "line": 49,
          "column": 5,
          "position": 281
        },
        "endLoc": {
          "line": 65,
          "column": 6,
          "position": 383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "),\n  entityLinks: z\n    .array(\n      z.object({\n        entity_type: z.string(),\n        entity_id: z.string(),\n        link_type: z.string().optional(),\n      })\n    )\n    .optional(),\n});\n\n/**\n * POST /api/mobile/sms/send\n * Send SMS via Twilio\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-messaging.routes.ts",
        "start": 185,
        "end": 200,
        "startLoc": {
          "line": 185,
          "column": 2,
          "position": 1433
        },
        "endLoc": {
          "line": 200,
          "column": 4,
          "position": 1510
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-messaging.routes.ts",
        "start": 53,
        "end": 68,
        "startLoc": {
          "line": 53,
          "column": 9,
          "position": 502
        },
        "endLoc": {
          "line": 68,
          "column": 4,
          "position": 579
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ").optional(),\n  entityLinks: z\n    .array(\n      z.object({\n        entity_type: z.string(),\n        entity_id: z.string(),\n        link_type: z.string().optional(),\n      })\n    )\n    .optional(),\n});\n\n/**\n * POST /api/mobile/teams/send\n * Send Teams message\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-messaging.routes.ts",
        "start": 312,
        "end": 327,
        "startLoc": {
          "line": 312,
          "column": 2,
          "position": 2290
        },
        "endLoc": {
          "line": 327,
          "column": 4,
          "position": 2371
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-messaging.routes.ts",
        "start": 185,
        "end": 68,
        "startLoc": {
          "line": 185,
          "column": 2,
          "position": 1429
        },
        "endLoc": {
          "line": 68,
          "column": 4,
          "position": 579
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import express, { Request, Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport {",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-hardware.routes.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 2,
          "position": 107
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-trips.routes.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 7,
          "position": 107
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "import express, { Request, Response } from 'express';\nimport { Pool } from 'pg';\nimport { z } from 'zod';\nimport { authenticateJWT, AuthRequest } from '../middleware/auth';\nimport { requirePermission } from '../middleware/permissions';\nimport { AssignmentNotificationService } from '../services/assignment-notification.service';\nimport { getErrorMessage } from '../utils/error-handler'\nimport",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-assignment.routes.ts",
        "start": 18,
        "end": 25,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 25,
          "column": 7,
          "position": 102
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 18,
        "end": 26,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 26,
          "column": 6,
          "position": 103
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const driverQuery = `SELECT id FROM drivers WHERE user_id = $1 AND tenant_id = $2`;\n      const driverResult = await pool.query(driverQuery, [user_id, tenant_id]);\n\n      if (driverResult.rows.length === 0) {\n        return res.status(404).json({ error: `Driver profile not found` });\n      }\n\n      const driver_id = driverResult.rows[0].id;\n\n      // Package all relevant data for offline use",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-assignment.routes.ts",
        "start": 552,
        "end": 561,
        "startLoc": {
          "line": 552,
          "column": 7,
          "position": 3038
        },
        "endLoc": {
          "line": 561,
          "column": 45,
          "position": 3136
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-assignment.routes.ts",
        "start": 261,
        "end": 270,
        "startLoc": {
          "line": 261,
          "column": 7,
          "position": 1516
        },
        "endLoc": {
          "line": 270,
          "column": 81,
          "position": 1614
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "import express, { Request, Response } from 'express';\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { Pool } from 'pg';\nimport { z } from 'zod';\nimport { authenticateJWT, AuthRequest } from '../middleware/auth';\nimport { requirePermission",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-assignment.routes.enhanced.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 18,
          "position": 104
        }
      },
      "secondFile": {
        "name": "api/src/routes/reservations.routes.enhanced.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 17,
          "position": 104
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": "import { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router();\n\nlet pool: Pool;\nlet notificationService: AssignmentNotificationService;\n\nexport function setDatabasePool(dbPool: Pool) {\n  pool = dbPool;\n  notificationService = new AssignmentNotificationService(dbPool);\n}\n\n// =====================================================\n// Validation Schemas\n// =====================================================\n\nconst callbackTripSchema = z.object({\n  on_call_period_id: z.string().uuid(),\n  trip_date: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/),\n  trip_start_time: z.string().optional(),\n  trip_end_time: z.string().optional(),\n  miles_driven: z.number().positive(),\n  includes_commute_trip: z.boolean().default(false),\n  commute_miles: z.number().nonnegative().optional(),\n  used_private_vehicle: z.boolean().default(false),\n  purpose: z.string(),\n  notes: z.string().optional(),\n  start_latitude",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-assignment.routes.enhanced.ts",
        "start": 14,
        "end": 42,
        "startLoc": {
          "line": 14,
          "column": 1,
          "position": 178
        },
        "endLoc": {
          "line": 42,
          "column": 15,
          "position": 434
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-assignment.routes.ts",
        "start": 25,
        "end": 53,
        "startLoc": {
          "line": 25,
          "column": 1,
          "position": 102
        },
        "endLoc": {
          "line": 53,
          "column": 19,
          "position": 358
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "start_latitude: z.number().optional(),\n  start_longitude: z.number().optional(),\n  end_latitude: z.number().optional(),\n  end_longitude: z.number().optional(),\n});\n\nconst reimbursementRequestSchema = z.object({\n  callback_trip_id: z.string().uuid(),\n  amount: z.number().positive(),\n  mileage_rate: z.number().positive(),\n  receipt_photo: z.string().optional(),\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/mobile-assignment.routes.enhanced.ts",
        "start": 42,
        "end": 53,
        "startLoc": {
          "line": 42,
          "column": 3,
          "position": 434
        },
        "endLoc": {
          "line": 53,
          "column": 2,
          "position": 570
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-assignment.routes.ts",
        "start": 54,
        "end": 64,
        "startLoc": {
          "line": 54,
          "column": 3,
          "position": 361
        },
        "endLoc": {
          "line": 64,
          "column": 17,
          "position": 497
        }
      }
    },
    {
      "format": "typescript",
      "lines": 44,
      "fragment": ", async (req: Request, res: Response) => {\n  try {\n    const { tenant_id } = req.query\n\n    // Get tenant_id - either from query param or default tenant from database\n    let state: string\n    if (tenant_id && typeof tenant_id === 'string') {\n      state = tenant_id\n    } else {\n      // Get default tenant UUID from database\n      const defaultTenantResult = await pool.query(\n        `SELECT id FROM tenants ORDER BY created_at LIMIT 1`\n      )\n      if (!defaultTenantResult.rows[0]?.id) {\n        const safeErrorUrl = buildSafeRedirectUrl(`/login`, {\n          error: `config_error`,\n          message: `No tenants configured in system`\n        })\n        return res.redirect(safeErrorUrl)\n      }\n      state = defaultTenantResult.rows[0].id\n    }\n\n    const authUrl = `https://login.microsoftonline.com/${AZURE_AD_CONFIG.tenantId}/oauth2/v2.0/authorize?` +\n      `client_id=${AZURE_AD_CONFIG.clientId}` +\n      `&response_type=code` +\n      `&redirect_uri=${encodeURIComponent(AZURE_AD_CONFIG.redirectUri)}` +\n      `&response_mode=query` +\n      `&scope=${encodeURIComponent('openid profile email User.Read')}` +\n      `&state=${state}` +\n      `&prompt=select_account`\n\n    res.redirect(authUrl)\n  } catch (error: any) {\n    console.error(`Error initiating Microsoft OAuth:`, error.message)\n    const safeErrorUrl = buildSafeRedirectUrl(`/login`, {\n      error: 'auth_failed',\n      message: 'Failed to initiate authentication'\n    })\n    res.redirect(safeErrorUrl)\n  }\n})\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/microsoft-auth.ts",
        "start": 313,
        "end": 356,
        "startLoc": {
          "line": 313,
          "column": 19,
          "position": 2127
        },
        "endLoc": {
          "line": 356,
          "column": 7,
          "position": 2474
        }
      },
      "secondFile": {
        "name": "api/src/routes/microsoft-auth.ts",
        "start": 266,
        "end": 312,
        "startLoc": {
          "line": 266,
          "column": 13,
          "position": 1773
        },
        "endLoc": {
          "line": 312,
          "column": 4,
          "position": 2120
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "import { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport {\n  checkDueSchedules",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/maintenance-schedules.ts",
        "start": 3,
        "end": 12,
        "startLoc": {
          "line": 3,
          "column": 1,
          "position": 27
        },
        "endLoc": {
          "line": 12,
          "column": 18,
          "position": 137
        }
      },
      "secondFile": {
        "name": "api/src/routes/routes.enhanced.ts",
        "start": 2,
        "end": 10,
        "startLoc": {
          "line": 2,
          "column": 1,
          "position": 15
        },
        "endLoc": {
          "line": 10,
          "column": 10,
          "position": 124
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ", resourceType: 'maintenance_schedules' }),\n  validate([{ field: 'id', required: true, type: 'uuid' }], 'params'),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const result = await pool.query(\n        `DELETE FROM maintenance_schedules WHERE id = $1 AND tenant_id = $2 RETURNING id`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/maintenance-schedules.ts",
        "start": 190,
        "end": 195,
        "startLoc": {
          "line": 190,
          "column": 9,
          "position": 1535
        },
        "endLoc": {
          "line": 195,
          "column": 82,
          "position": 1617
        }
      },
      "secondFile": {
        "name": "api/src/routes/maintenance-schedules.ts",
        "start": 98,
        "end": 108,
        "startLoc": {
          "line": 98,
          "column": 7,
          "position": 695
        },
        "endLoc": {
          "line": 108,
          "column": 70,
          "position": 777
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "// Get schedule\n      const scheduleResult = await pool.query(\n        `SELECT id, tenant_id, vehicle_id, service_type, description, scheduled_date, completed_date, status, odometer_reading, estimated_cost, actual_cost, assigned_vendor_id, assigned_technician, notes, recurring, recurring_interval_miles, recurring_interval_days, next_service_date, next_service_odometer, priority, created_at, updated_at, deleted_at FROM maintenance_schedules WHERE id = $1 AND tenant_id = $2`,\n        [req.params.id, req.user!.tenant_id]\n      )\n\n      if (scheduleResult.rows.length === 0) {\n        return res.status(404).json({ error: `Schedule not found` })\n      }\n\n      // Get history with work orders",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/maintenance-schedules.ts",
        "start": 452,
        "end": 462,
        "startLoc": {
          "line": 452,
          "column": 7,
          "position": 3650
        },
        "endLoc": {
          "line": 462,
          "column": 32,
          "position": 3735
        }
      },
      "secondFile": {
        "name": "api/src/routes/maintenance-schedules.ts",
        "start": 390,
        "end": 400,
        "startLoc": {
          "line": 390,
          "column": 7,
          "position": 3178
        },
        "endLoc": {
          "line": 400,
          "column": 6,
          "position": 3263
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ",\n        [req.params.id, req.user!.tenant_id]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `Recurring schedule not found` })\n      }\n\n      res.json({\n        message: `Auto work order generation resumed`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/maintenance-schedules.ts",
        "start": 554,
        "end": 563,
        "startLoc": {
          "line": 554,
          "column": 22,
          "position": 4472
        },
        "endLoc": {
          "line": 563,
          "column": 37,
          "position": 4549
        }
      },
      "secondFile": {
        "name": "api/src/routes/maintenance-schedules.ts",
        "start": 524,
        "end": 533,
        "startLoc": {
          "line": 524,
          "column": 22,
          "position": 4235
        },
        "endLoc": {
          "line": 533,
          "column": 36,
          "position": 4312
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import { Router } from \"express\"\nimport { csrfProtection } from '../middleware/csrf'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nconst router = Router()\n\nrouter.get(\"/\", asyncHandler(async (req, res) => {\n  res.json({ data: [], message: \"invoices endpoint working\"",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/invoices.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 28,
          "position": 113
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 27,
          "position": 113
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "})\n}))\n\nrouter.get(\"/:id\", asyncHandler(async (req, res) => {\n  res.json({ data: null, id: req.params.id })\n}))\n\nrouter.post(\"/\",csrfProtection, asyncHandler(async (req, res) => {\n  res.status(201).json({ data: req.body, message: \"Created\" })\n}))\n\nrouter.put(\"/:id\",csrfProtection, asyncHandler(async (req, res) => {\n  res.json({ data: req.body, id: req.params.id, message: \"Updated\" })\n}))\n\nrouter.delete(\"/:id\",csrfProtection, asyncHandler(async (req, res) => {\n  res.json({ message: \"Deleted\", id: req.params.id })\n}))\n\nexport default router",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/invoices.ts",
        "start": 9,
        "end": 28,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 115
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 352
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.ts",
        "start": 9,
        "end": 28,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 115
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 355
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ";\nimport { asyncHandler } from '../middleware/errorHandler';\nimport { authenticateJWT } from '../middleware/auth';\nimport { requireRBAC, Role, PERMISSIONS } from '../middleware/rbac';\nimport { z } from 'zod';\nimport { validateBody, validateParams } from '../middleware/validate';\n\nconst router = Router();\nconst inspectionController",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.ts",
        "start": 5,
        "end": 13,
        "startLoc": {
          "line": 5,
          "column": 59,
          "position": 62
        },
        "endLoc": {
          "line": 13,
          "column": 21,
          "position": 152
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.ts",
        "start": 5,
        "end": 13,
        "startLoc": {
          "line": 5,
          "column": 59,
          "position": 62
        },
        "endLoc": {
          "line": 13,
          "column": 20,
          "position": 152
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { rateLimit } from '../middleware/rateLimit'\nimport { ValidationError",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.enhanced.ts",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 16,
          "position": 136
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 14,
          "position": 136
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT id, tenant_id, vehicle_id, driver_id, inspection_type, status,\n                passed, failed_items, odometer_reading, inspector_notes,\n                signature_url, completed_at, created_at, updated_at\n         FROM inspections WHERE tenant_id = $1 ORDER BY created_at DESC LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.enhanced.ts",
        "start": 36,
        "end": 46,
        "startLoc": {
          "line": 36,
          "column": 2,
          "position": 402
        },
        "endLoc": {
          "line": 46,
          "column": 92,
          "position": 498
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 24,
        "end": 44,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count, 10),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit),\n        },\n      })\n    } catch (error) {\n      console.error(`Get inspections error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.enhanced.ts",
        "start": 51,
        "end": 65,
        "startLoc": {
          "line": 51,
          "column": 56,
          "position": 537
        },
        "endLoc": {
          "line": 65,
          "column": 25,
          "position": 664
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 115,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 115,
          "column": 26,
          "position": 913
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "(req.user!.tenant_id, {\n        page: Number(page),\n        limit: Number(limit),\n        orderBy: orderBy as string\n      })\n\n      res.json(result)\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /inspections/stats\n * Get inspection statistics\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 69,
        "end": 86,
        "startLoc": {
          "line": 69,
          "column": 24,
          "position": 520
        },
        "endLoc": {
          "line": 86,
          "column": 4,
          "position": 642
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.dal-example.ts",
        "start": 84,
        "end": 103,
        "startLoc": {
          "line": 84,
          "column": 20,
          "position": 508
        },
        "endLoc": {
          "line": 103,
          "column": 4,
          "position": 630
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "(req.user!.tenant_id)\n      res.json(stats)\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /inspections/pending\n * Get pending inspections\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 93,
        "end": 105,
        "startLoc": {
          "line": 93,
          "column": 19,
          "position": 717
        },
        "endLoc": {
          "line": 105,
          "column": 4,
          "position": 802
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.dal-example.ts",
        "start": 131,
        "end": 143,
        "startLoc": {
          "line": 131,
          "column": 15,
          "position": 872
        },
        "endLoc": {
          "line": 143,
          "column": 4,
          "position": 957
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "(req.user!.tenant_id)\n      res.json({ data: inspections })\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /inspections/due-soon\n * Get inspections due soon\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 131,
        "end": 143,
        "startLoc": {
          "line": 131,
          "column": 12,
          "position": 1044
        },
        "endLoc": {
          "line": 143,
          "column": 4,
          "position": 1136
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 12,
          "position": 877
        },
        "endLoc": {
          "line": 124,
          "column": 4,
          "position": 969
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n      res.json({ data: inspections })\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /inspections/vehicle/:vehicleId\n * Get inspections for a specific vehicle\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 151,
        "end": 163,
        "startLoc": {
          "line": 151,
          "column": 5,
          "position": 1242
        },
        "endLoc": {
          "line": 163,
          "column": 4,
          "position": 1327
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 10,
          "position": 884
        },
        "endLoc": {
          "line": 124,
          "column": 4,
          "position": 969
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n      res.json({ data: inspections })\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /inspections/vehicle/:vehicleId/recent\n * Get recent inspections for a vehicle\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 173,
        "end": 185,
        "startLoc": {
          "line": 173,
          "column": 7,
          "position": 1421
        },
        "endLoc": {
          "line": 185,
          "column": 4,
          "position": 1506
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 10,
          "position": 884
        },
        "endLoc": {
          "line": 124,
          "column": 4,
          "position": 969
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n      res.json({ data: inspections })\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /inspections/driver/:driverId\n * Get inspections for a specific driver\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 198,
        "end": 210,
        "startLoc": {
          "line": 198,
          "column": 7,
          "position": 1627
        },
        "endLoc": {
          "line": 210,
          "column": 4,
          "position": 1712
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 10,
          "position": 884
        },
        "endLoc": {
          "line": 124,
          "column": 4,
          "position": 969
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n      res.json({ data: inspections })\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /inspections/date-range\n * Get inspections within a date range\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 220,
        "end": 232,
        "startLoc": {
          "line": 220,
          "column": 7,
          "position": 1806
        },
        "endLoc": {
          "line": 232,
          "column": 4,
          "position": 1891
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 10,
          "position": 884
        },
        "endLoc": {
          "line": 124,
          "column": 4,
          "position": 969
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ")\n      )\n      res.json({ data: inspections })\n    } catch (error) {\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * GET /inspections/:id\n * Get a single inspection by ID\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 248,
        "end": 261,
        "startLoc": {
          "line": 248,
          "column": 7,
          "position": 2048
        },
        "endLoc": {
          "line": 261,
          "column": 4,
          "position": 2136
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 197,
        "end": 124,
        "startLoc": {
          "line": 197,
          "column": 6,
          "position": 1624
        },
        "endLoc": {
          "line": 124,
          "column": 4,
          "position": 969
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ")\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ error: 'Validation failed', details: error.errors })\n      }\n\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * PUT /inspections/:id\n * Update an inspection\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 304,
        "end": 319,
        "startLoc": {
          "line": 304,
          "column": 11,
          "position": 2463
        },
        "endLoc": {
          "line": 319,
          "column": 4,
          "position": 2582
        }
      },
      "secondFile": {
        "name": "api/src/routes/vendors.dal-example.ts",
        "start": 230,
        "end": 255,
        "startLoc": {
          "line": 230,
          "column": 7,
          "position": 1560
        },
        "endLoc": {
          "line": 255,
          "column": 4,
          "position": 1679
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ".json(inspection)\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ error: 'Validation failed', details: error.errors })\n      }\n\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * POST /inspections/:id/complete\n * Complete an inspection\n *\n * Demonstrates transaction usage for complex operations\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 336,
        "end": 353,
        "startLoc": {
          "line": 336,
          "column": 4,
          "position": 2715
        },
        "endLoc": {
          "line": 353,
          "column": 4,
          "position": 2838
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 304,
        "end": 255,
        "startLoc": {
          "line": 304,
          "column": 2,
          "position": 2459
        },
        "endLoc": {
          "line": 255,
          "column": 4,
          "position": 1679
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ")\n\n      res.json(inspection)\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ error: 'Validation failed', details: error.errors })\n      }\n\n      const { statusCode, error: message, code } = handleDatabaseError(error)\n      res.status(statusCode).json({ error: message, code })\n    }\n  }\n)\n\n/**\n * DELETE /inspections/:id\n * Delete an inspection\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 395,
        "end": 412,
        "startLoc": {
          "line": 395,
          "column": 7,
          "position": 3082
        },
        "endLoc": {
          "line": 412,
          "column": 4,
          "position": 3210
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 334,
        "end": 255,
        "startLoc": {
          "line": 334,
          "column": 7,
          "position": 2710
        },
        "endLoc": {
          "line": 255,
          "column": 4,
          "position": 1679
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "// Validation schemas\nconst inspectionCreateSchema = z.object({\n  vehicle_id: z.string().uuid().optional(),\n  driver_id: z.string().uuid().optional(),\n  inspector_id: z.string().uuid().optional(),\n  inspection_type: z.string().min(1),\n  scheduled_date: z.string().optional",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/inspections.dal-example.enhanced.ts",
        "start": 22,
        "end": 28,
        "startLoc": {
          "line": 22,
          "column": 1,
          "position": 220
        },
        "endLoc": {
          "line": 28,
          "column": 9,
          "position": 317
        }
      },
      "secondFile": {
        "name": "api/src/routes/inspections.dal-example.ts",
        "start": 37,
        "end": 43,
        "startLoc": {
          "line": 37,
          "column": 1,
          "position": 167
        },
        "endLoc": {
          "line": 43,
          "column": 9,
          "position": 264
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ", requirePermission('report:view:global'), async (req: AuthRequest, res) => {\n  try {\n    const { id } = req.params\n    const startDate = req.query.start_date as string || new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n    const endDate = req.query.end_date as string || new Date().toISOString().split('T')[0]\n\n    const analysis",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/heavy-equipment.routes.ts",
        "start": 468,
        "end": 474,
        "startLoc": {
          "line": 468,
          "column": 21,
          "position": 3049
        },
        "endLoc": {
          "line": 474,
          "column": 9,
          "position": 3196
        }
      },
      "secondFile": {
        "name": "api/src/routes/heavy-equipment.routes.ts",
        "start": 446,
        "end": 452,
        "startLoc": {
          "line": 446,
          "column": 19,
          "position": 2812
        },
        "endLoc": {
          "line": 452,
          "column": 12,
          "position": 2959
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const user = (req as any).user;\n  if (user && (user.role === 'admin' || user.role === 'system_admin')) {\n    return next();\n  }\n\n  // Production mode requires authentication\n  if (process.env.NODE_ENV === 'production') {\n    return res.status(403).json({\n      error: 'Forbidden',\n      message: 'Admin access required'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/health-detailed.ts",
        "start": 77,
        "end": 86,
        "startLoc": {
          "line": 77,
          "column": 3,
          "position": 431
        },
        "endLoc": {
          "line": 86,
          "column": 24,
          "position": 536
        }
      },
      "secondFile": {
        "name": "api/src/routes/queue.routes.ts",
        "start": 33,
        "end": 42,
        "startLoc": {
          "line": 33,
          "column": 3,
          "position": 206
        },
        "endLoc": {
          "line": 42,
          "column": 85,
          "position": 311
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", (req: Request, res: Response) => {\n  try {\n    const vehicleId = parseInt(req.params.vehicleId, 10)\n\n    if (isNaN(vehicleId)) {\n      return res.status(400).json({\n        success: false,\n        error: 'Invalid vehicle ID'\n      })\n    }\n\n    const history",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/gps.ts",
        "start": 174,
        "end": 185,
        "startLoc": {
          "line": 174,
          "column": 22,
          "position": 1196
        },
        "endLoc": {
          "line": 185,
          "column": 8,
          "position": 1290
        }
      },
      "secondFile": {
        "name": "api/src/routes/gps.ts",
        "start": 137,
        "end": 148,
        "startLoc": {
          "line": 137,
          "column": 14,
          "position": 954
        },
        "endLoc": {
          "line": 148,
          "column": 9,
          "position": 1048
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT \n      id,\n      tenant_id,\n      name,\n      description,\n      geometry,\n      type,\n      radius,\n      is_active,\n      created_at,\n      updated_at FROM geofences WHERE tenant_id = $1 ORDER BY created_at DESC LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/geofences.ts",
        "start": 22,
        "end": 39,
        "startLoc": {
          "line": 22,
          "column": 2,
          "position": 211
        },
        "endLoc": {
          "line": 39,
          "column": 98,
          "position": 307
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 24,
        "end": 44,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit))\n        }\n      })\n    } catch (error) {\n      logger.error(`Get geofences error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/geofences.ts",
        "start": 44,
        "end": 58,
        "startLoc": {
          "line": 44,
          "column": 54,
          "position": 346
        },
        "endLoc": {
          "line": 58,
          "column": 23,
          "position": 469
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 389,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 389,
          "column": 27,
          "position": 2628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`tenant_id`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO geofences (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/geofences.ts",
        "start": 102,
        "end": 114,
        "startLoc": {
          "line": 102,
          "column": 2,
          "position": 754
        },
        "endLoc": {
          "line": 114,
          "column": 25,
          "position": 847
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 110,
        "end": 122,
        "startLoc": {
          "line": 110,
          "column": 2,
          "position": 767
        },
        "endLoc": {
          "line": 122,
          "column": 28,
          "position": 860
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `Geofences not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      logger.error(`Update geofences error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/geofences.ts",
        "start": 138,
        "end": 147,
        "startLoc": {
          "line": 138,
          "column": 7,
          "position": 1088
        },
        "endLoc": {
          "line": 147,
          "column": 26,
          "position": 1166
        }
      },
      "secondFile": {
        "name": "api/src/routes/geofences.ts",
        "start": 83,
        "end": 92,
        "startLoc": {
          "line": 83,
          "column": 10,
          "position": 602
        },
        "endLoc": {
          "line": 92,
          "column": 23,
          "position": 680
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport helmet from 'helmet'\nimport rateLimit from 'express-rate-limit'\nimport bcrypt",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/geofences.enhanced.ts",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 7,
          "position": 123
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 2,
          "position": 123
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": ")\n\n// GET /geofences\nrouter.get(\n  '/',\n  requirePermission('geofence:view:fleet'),\n  auditLog({ action: 'READ', resourceType: 'geofences' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT \n          id,\n          tenant_id,\n          name,\n          description,\n          geometry,\n          type,\n          radius,\n          is_active,\n          created_at,\n          updated_at \n        FROM geofences \n        WHERE tenant_id = $1 \n        ORDER BY created_at DESC \n        LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/geofences.enhanced.ts",
        "start": 32,
        "end": 59,
        "startLoc": {
          "line": 32,
          "column": 2,
          "position": 317
        },
        "endLoc": {
          "line": 59,
          "column": 28,
          "position": 450
        }
      },
      "secondFile": {
        "name": "api/src/routes/geofences.ts",
        "start": 16,
        "end": 44,
        "startLoc": {
          "line": 16,
          "column": 16,
          "position": 174
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ",\n        [req.user!.tenant_id, limit, offset]\n      )\n\n      const countResult = await pool.query(\n        `SELECT COUNT(*) FROM geofences WHERE tenant_id = $1`,\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count, 10),\n          pages: Math.ceil(parseInt(countResult.rows[0].count, 10) / Number(limit),\n        },\n      })\n    } catch (error) {\n      console.error(`Get geofences error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/geofences.enhanced.ts",
        "start": 59,
        "end": 78,
        "startLoc": {
          "line": 59,
          "column": 28,
          "position": 451
        },
        "endLoc": {
          "line": 78,
          "column": 23,
          "position": 622
        }
      },
      "secondFile": {
        "name": "api/src/routes/geofences.ts",
        "start": 39,
        "end": 58,
        "startLoc": {
          "line": 39,
          "column": 98,
          "position": 308
        },
        "endLoc": {
          "line": 58,
          "column": 23,
          "position": 584
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "res.status(500).json({ error: 'Internal server error' })\n    }\n  }\n)\n\n// GET /geofences/:id\nrouter.get(\n  '/:id',\n  requirePermission('geofence:view:fleet'),\n  auditLog({ action: 'READ', resourceType: 'geofences' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const result = await pool.query(\n        `SELECT\n          id,\n          tenant_id,\n          name,\n          description,\n          geometry,\n          type,\n          radius,\n          is_active,\n          created_at,\n          updated_at \n        FROM geofences \n        WHERE id = $1 AND tenant_id = $2`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/geofences.enhanced.ts",
        "start": 79,
        "end": 104,
        "startLoc": {
          "line": 79,
          "column": 7,
          "position": 629
        },
        "endLoc": {
          "line": 104,
          "column": 42,
          "position": 735
        }
      },
      "secondFile": {
        "name": "api/src/routes/geofences.ts",
        "start": 59,
        "end": 82,
        "startLoc": {
          "line": 59,
          "column": 7,
          "position": 478
        },
        "endLoc": {
          "line": 82,
          "column": 66,
          "position": 584
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ": result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error:",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/fleet-documents.routes.ts",
        "start": 335,
        "end": 343,
        "startLoc": {
          "line": 335,
          "column": 10,
          "position": 1577
        },
        "endLoc": {
          "line": 343,
          "column": 2,
          "position": 1665
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 144,
        "end": 152,
        "startLoc": {
          "line": 144,
          "column": 5,
          "position": 1199
        },
        "endLoc": {
          "line": 152,
          "column": 2,
          "position": 1287
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "})\n\nconst upload = multer({\n  storage,\n  limits: { fileSize: 10 * 1024 * 1024 }, // 10MB limit\n  fileFilter: (req, file, cb) => {\n    const allowedTypes = [\n      'image/jpeg',\n      'image/png',\n      'image/gif',\n      'image/webp',\n      'application/pdf',\n      'application/msword',\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n      'application/vnd.ms-excel',\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n      'text/plain',\n      'text/csv',",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/fleet-documents.routes.enhanced.ts",
        "start": 40,
        "end": 57,
        "startLoc": {
          "line": 40,
          "column": 1,
          "position": 388
        },
        "endLoc": {
          "line": 57,
          "column": 2,
          "position": 499
        }
      },
      "secondFile": {
        "name": "api/src/routes/fleet-documents.routes.ts",
        "start": 37,
        "end": 55,
        "startLoc": {
          "line": 37,
          "column": 1,
          "position": 246
        },
        "endLoc": {
          "line": 55,
          "column": 2,
          "position": 359
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n      })\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({\n          success: false,\n          error: 'Validation error',\n          details: error.errors,\n        })\n      }\n\n      logger.error('Error creating charging schedule:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ev-management.routes.ts",
        "start": 341,
        "end": 352,
        "startLoc": {
          "line": 341,
          "column": 34,
          "position": 1654
        },
        "endLoc": {
          "line": 352,
          "column": 36,
          "position": 1739
        }
      },
      "secondFile": {
        "name": "api/src/routes/ev-management.routes.ts",
        "start": 220,
        "end": 231,
        "startLoc": {
          "line": 220,
          "column": 41,
          "position": 1133
        },
        "endLoc": {
          "line": 231,
          "column": 30,
          "position": 1218
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { applyFieldMasking } from '../utils/fieldMasking'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { createUserSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/drivers.enhanced.ts",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 17,
          "position": 136
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 20,
          "position": 136
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ",\n        [req.user!.id, req.user!.tenant_id],\n        req.user!.tenant_id\n      )\n\n      const user = userResult.rows[0]\n      let scopeFilter = ''\n      let scopeParams: any[] = [req.user!.tenant_id]\n\n      if (user.scope_level === `own`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/drivers.enhanced.ts",
        "start": 46,
        "end": 55,
        "startLoc": {
          "line": 46,
          "column": 93,
          "position": 436
        },
        "endLoc": {
          "line": 55,
          "column": 6,
          "position": 524
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicles.enhanced.ts",
        "start": 60,
        "end": 69,
        "startLoc": {
          "line": 60,
          "column": 95,
          "position": 488
        },
        "endLoc": {
          "line": 69,
          "column": 6,
          "position": 576
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit))\n        }\n      })\n    } catch (error) {\n      console",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/drivers.enhanced.ts",
        "start": 76,
        "end": 88,
        "startLoc": {
          "line": 76,
          "column": 7,
          "position": 701
        },
        "endLoc": {
          "line": 88,
          "column": 8,
          "position": 807
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 141,
        "end": 389,
        "startLoc": {
          "line": 141,
          "column": 7,
          "position": 1187
        },
        "endLoc": {
          "line": 389,
          "column": 7,
          "position": 2624
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n\n// Scope validator for driver-specific endpoints\n// Allows access if user is viewing their own driver record\nasync function validateDriverScope(req: AuthRequest): Promise<boolean> {\n  const driverId = req.params.driverId\n  const userId = req.user!.id\n\n  try {\n    // Check if the requested driverId belongs to the authenticated user\n    const result = await pool.query('SELECT id FROM drivers WHERE id = $1 AND user_id = $2', [\n      driverId,\n      userId,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/driver-scorecard.routes.enhanced.ts",
        "start": 26,
        "end": 38,
        "startLoc": {
          "line": 26,
          "column": 2,
          "position": 258
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 345
        }
      },
      "secondFile": {
        "name": "api/src/routes/driver-scorecard.routes.ts",
        "start": 13,
        "end": 25,
        "startLoc": {
          "line": 13,
          "column": 16,
          "position": 142
        },
        "endLoc": {
          "line": 25,
          "column": 2,
          "position": 229
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "res.status(500).json({ error: 'Internal server error' })\n    }\n  }\n)\n\n// GET /api/driver-scorecard/driver/:driverId - Get driver scorecard\nrouter.get(\n  '/driver/:driverId',\n  requirePermission('driver:view:own', { validateScope: validateDriverScope }),\n  auditLog({ action: 'READ', resourceType: 'driver_scorecard' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { driverId } = req.params\n      const queryResult",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/driver-scorecard.routes.enhanced.ts",
        "start": 73,
        "end": 86,
        "startLoc": {
          "line": 73,
          "column": 7,
          "position": 646
        },
        "endLoc": {
          "line": 86,
          "column": 12,
          "position": 765
        }
      },
      "secondFile": {
        "name": "api/src/routes/driver-scorecard.routes.ts",
        "start": 54,
        "end": 67,
        "startLoc": {
          "line": 54,
          "column": 7,
          "position": 484
        },
        "endLoc": {
          "line": 67,
          "column": 2,
          "position": 603
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "res.status(500).json({ error: 'Internal server error' })\n    }\n  }\n)\n\n// GET /api/driver-scorecard/driver/:driverId/history - Get score history\nrouter.get(\n  '/driver/:driverId/history',\n  requirePermission('driver:view:own', { validateScope: validateDriverScope }),\n  auditLog({ action: 'READ', resourceType: 'driver_scorecard' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { driverId } = req.params\n      const history",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/driver-scorecard.routes.enhanced.ts",
        "start": 104,
        "end": 117,
        "startLoc": {
          "line": 104,
          "column": 7,
          "position": 925
        },
        "endLoc": {
          "line": 117,
          "column": 8,
          "position": 1044
        }
      },
      "secondFile": {
        "name": "api/src/routes/driver-scorecard.routes.ts",
        "start": 84,
        "end": 97,
        "startLoc": {
          "line": 84,
          "column": 7,
          "position": 744
        },
        "endLoc": {
          "line": 97,
          "column": 2,
          "position": 863
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const countResult = await pool.query(countQuery, [req.user!.tenant_id])\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      logger.error(`Get documents error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.ts",
        "start": 123,
        "end": 135,
        "startLoc": {
          "line": 123,
          "column": 7,
          "position": 803
        },
        "endLoc": {
          "line": 135,
          "column": 23,
          "position": 935
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 411,
        "end": 153,
        "startLoc": {
          "line": 411,
          "column": 7,
          "position": 2325
        },
        "endLoc": {
          "line": 153,
          "column": 30,
          "position": 1296
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ")\n      }\n\n      // SECURITY: Validate file content using magic bytes (not just MIME type)\n      const validation = await secureFileValidation(req.file.buffer, req.file.originalname)\n      \n      if (!validation.valid) {\n        return res.status(400).json({\n          error: 'File validation failed',\n          message: validation.error\n        })\n      }\n\n      // Virus scan check\n      if (validation.virusScanResult && !validation.virusScanResult.clean) {\n        return res.status(400).json({\n          error: 'File failed security scan',\n          message: validation.virusScanResult.threat\n        })\n      }\n\n      const {\n        document_type = 'Receipt'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.ts",
        "start": 353,
        "end": 375,
        "startLoc": {
          "line": 353,
          "column": 20,
          "position": 2116
        },
        "endLoc": {
          "line": 375,
          "column": 10,
          "position": 2273
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.ts",
        "start": 265,
        "end": 287,
        "startLoc": {
          "line": 265,
          "column": 19,
          "position": 1497
        },
        "endLoc": {
          "line": 287,
          "column": 8,
          "position": 1654
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "} = req.body\n\n      // Create upload directory if it doesn't exist\n      const uploadDir = process.env.UPLOAD_DIR || '/tmp/uploads'\n      try {\n        await fs.mkdir(uploadDir, { recursive: true })\n      } catch (err) {\n        logger.error('Failed to create upload directory:', err) // Wave 19: Winston logger\n      }\n\n      // Write validated file to disk with secure filename\n      const secureFilePath = path.join(uploadDir, validation.secureFilename!)\n      await fs.writeFile(secureFilePath, req.file.buffer)\n\n      // Insert document",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.ts",
        "start": 391,
        "end": 405,
        "startLoc": {
          "line": 391,
          "column": 7,
          "position": 2347
        },
        "endLoc": {
          "line": 405,
          "column": 19,
          "position": 2471
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.ts",
        "start": 293,
        "end": 307,
        "startLoc": {
          "line": 293,
          "column": 7,
          "position": 1686
        },
        "endLoc": {
          "line": 307,
          "column": 26,
          "position": 1810
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "const checkResult = await pool.query(\n        `SELECT d.id, uploader.tenant_id as uploader_tenant_id\n         FROM documents d\n         LEFT JOIN users uploader ON d.uploaded_by = uploader.id\n         WHERE d.id = $1`,\n        [req.params.id]\n      )\n\n      if (checkResult.rows.length === 0) {\n        return res.status(404).json({ error: `Document not found` })\n      }\n\n      // CRITICAL: Enforce tenant isolation\n      if (checkResult.rows[0].uploader_tenant_id && checkResult.rows[0].uploader_tenant_id !== req.user!.tenant_id) {\n        throw new NotFoundError(\"Document not found\")\n      }\n\n      const result = await pool.query(\n        `DELETE FROM documents WHERE id = $1 RETURNING id`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.ts",
        "start": 521,
        "end": 539,
        "startLoc": {
          "line": 521,
          "column": 7,
          "position": 3203
        },
        "endLoc": {
          "line": 539,
          "column": 51,
          "position": 3344
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.ts",
        "start": 475,
        "end": 500,
        "startLoc": {
          "line": 475,
          "column": 7,
          "position": 2886
        },
        "endLoc": {
          "line": 500,
          "column": 22,
          "position": 3027
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "const docResult = await pool.query(\n        `SELECT d.*, uploader.tenant_id as uploader_tenant_id\n         FROM documents d\n         LEFT JOIN users uploader ON d.uploaded_by = uploader.id\n         WHERE d.id = $1`,\n        [req.params.id]\n      )\n\n      if (docResult.rows.length === 0) {\n        return res.status(404).json({ error: `Document not found` })\n      }\n\n      // CRITICAL: Enforce tenant isolation\n      const document = docResult.rows[0]\n      if (document.uploader_tenant_id && document.uploader_tenant_id !== req.user!.tenant_id) {\n        throw new NotFoundError(\"Document not found\")\n      }\n\n            // This would use OCR + AI to extract line items, totals, vendor info, etc.",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.ts",
        "start": 616,
        "end": 634,
        "startLoc": {
          "line": 616,
          "column": 7,
          "position": 3852
        },
        "endLoc": {
          "line": 634,
          "column": 76,
          "position": 3983
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.ts",
        "start": 566,
        "end": 584,
        "startLoc": {
          "line": 566,
          "column": 7,
          "position": 3518
        },
        "endLoc": {
          "line": 584,
          "column": 47,
          "position": 3649
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", resourceType: 'documents' }),\n  async (req: AuthRequest, res) => {\n  try {\n    const { id } = req.params\n    const tenantId = req.user?.tenant_id\n    const userId = req.user?.id\n\n    if (!tenantId || !userId) {\n      return res.status(401).json({ error: 'Unauthorized' })\n    }\n\n    const document = await documentManagementService.updateDocument",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 232,
        "end": 243,
        "startLoc": {
          "line": 232,
          "column": 9,
          "position": 1296
        },
        "endLoc": {
          "line": 243,
          "column": 15,
          "position": 1425
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 199,
        "end": 210,
        "startLoc": {
          "line": 199,
          "column": 7,
          "position": 1040
        },
        "endLoc": {
          "line": 210,
          "column": 16,
          "position": 1169
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ", resourceType: 'documents' }),\n  async (req: AuthRequest, res) => {\n  try {\n    const { id } = req.params\n    const tenantId = req.user?.tenant_id\n    const userId = req.user?.id\n\n    if (!tenantId || !userId) {\n      return res.status(401).json({ error: 'Unauthorized' })\n    }\n\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 272,
        "end": 283,
        "startLoc": {
          "line": 272,
          "column": 9,
          "position": 1564
        },
        "endLoc": {
          "line": 283,
          "column": 6,
          "position": 1683
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 199,
        "end": 210,
        "startLoc": {
          "line": 199,
          "column": 7,
          "position": 1040
        },
        "endLoc": {
          "line": 210,
          "column": 6,
          "position": 1159
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", resourceType: 'documents' }),\n  async (req: AuthRequest, res) => {\n  try {\n    const { id } = req.params\n    const tenantId = req.user?.tenant_id\n    const userId = req.user?.id\n\n    if (!tenantId || !userId) {\n      return res.status(401).json({ error: 'Unauthorized' })\n    }\n\n    const document = await documentManagementService.getDocumentById(id, tenantId, userId)\n\n    if (!document) {\n      throw new NotFoundError(\"Document not found\")\n    }\n\n    // In production, this would serve from S3 or local storage",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 304,
        "end": 321,
        "startLoc": {
          "line": 304,
          "column": 11,
          "position": 1805
        },
        "endLoc": {
          "line": 321,
          "column": 60,
          "position": 1971
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 199,
        "end": 216,
        "startLoc": {
          "line": 199,
          "column": 7,
          "position": 1040
        },
        "endLoc": {
          "line": 216,
          "column": 4,
          "position": 1206
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n  requirePermission('document:view:fleet'),\n  async (req: AuthRequest, res) => {\n  try {\n    const tenantId = req.user?.tenant_id\n\n    if (!tenantId) {\n      return res.status(401).json({ error: 'Unauthorized' })\n    }\n\n    const categories",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 341,
        "end": 351,
        "startLoc": {
          "line": 341,
          "column": 18,
          "position": 2069
        },
        "endLoc": {
          "line": 351,
          "column": 11,
          "position": 2154
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 162,
        "end": 172,
        "startLoc": {
          "line": 162,
          "column": 4,
          "position": 733
        },
        "endLoc": {
          "line": 172,
          "column": 2,
          "position": 818
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ", requirePermission('document:view:fleet'),\n  async (req: AuthRequest, res) => {\n  try {\n    const tenantId = req.user?.tenant_id\n\n    if (!tenantId) {\n      return res.status(401).json({ error: 'Unauthorized' })\n    }\n\n    const { query",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 413,
        "end": 422,
        "startLoc": {
          "line": 413,
          "column": 15,
          "position": 2468
        },
        "endLoc": {
          "line": 422,
          "column": 6,
          "position": 2554
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 162,
        "end": 172,
        "startLoc": {
          "line": 162,
          "column": 4,
          "position": 733
        },
        "endLoc": {
          "line": 172,
          "column": 11,
          "position": 820
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n  requirePermission('document:view:fleet'),\n  async (req: AuthRequest, res) => {\n  try {\n    const tenantId = req.user?.tenant_id\n\n    if (!tenantId) {\n      return res.status(401).json({ error: 'Unauthorized' })\n    }\n\n    const { userId",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 507,
        "end": 517,
        "startLoc": {
          "line": 507,
          "column": 19,
          "position": 3050
        },
        "endLoc": {
          "line": 517,
          "column": 7,
          "position": 3137
        }
      },
      "secondFile": {
        "name": "api/src/routes/documents.routes.ts",
        "start": 162,
        "end": 172,
        "startLoc": {
          "line": 162,
          "column": 4,
          "position": 733
        },
        "endLoc": {
          "line": 172,
          "column": 11,
          "position": 820
        }
      }
    },
    {
      "format": "typescript",
      "lines": 40,
      "fragment": ")\n\n  // OCR Routes (if enabled)\n  if (documentSystemConfig.features.enableOCR) {\n    app.use('/api/ocr', ocrRoutes)\n    console.log('    OCR routes registered at /api/ocr')\n  }\n\n  // AI Search Routes (if enabled)\n  if (documentSystemConfig.features.enableAI && documentSystemConfig.features.enableRAG) {\n    app.use('/api/ai-search', aiSearchRoutes)\n    console.log('    AI Search routes registered at /api/ai-search')\n  }\n\n  // AI Chat Routes (if enabled)\n  if (documentSystemConfig.features.enableAI) {\n    app.use('/api/ai-chat', aiChatRoutes)\n    console.log('    AI Chat routes registered at /api/ai-chat')\n  }\n\n  // Geospatial Document Routes (if enabled)\n  if (documentSystemConfig.features.enableGeospatial) {\n    app.use('/api/documents/geo', documentGeoRoutes)\n    console.log('    Document Geo routes registered at /api/documents/geo')\n  }\n\n  // Advanced Search Routes\n  app.use('/api/search', searchRoutes)\n  console.log('    Search routes registered at /api/search')\n\n  // Storage Admin Routes (if external storage enabled)\n  if (documentSystemConfig.features.enableExternalStorage) {\n    app.use('/api/storage', storageAdminRoutes)\n    console.log('    Storage Admin routes registered at /api/storage')\n  }\n\n  console.log(' Document System routes registered successfully')\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/document-system.routes.enhanced.ts",
        "start": 31,
        "end": 70,
        "startLoc": {
          "line": 31,
          "column": 2,
          "position": 248
        },
        "endLoc": {
          "line": 70,
          "column": 7,
          "position": 488
        }
      },
      "secondFile": {
        "name": "api/src/routes/document-system.routes.ts",
        "start": 27,
        "end": 68,
        "startLoc": {
          "line": 27,
          "column": 43,
          "position": 117
        },
        "endLoc": {
          "line": 68,
          "column": 4,
          "position": 357
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "const { lat, lng } = req.body\n\n    if (!lat || !lng) {\n      return res.status(400).json({\n        error: 'Missing required parameters: lat, lng'\n      })\n    }\n\n    // Validate coordinates\n    if (lat < -90 || lat > 90 || lng < -180 || lng > 180) {\n      throw new ValidationError(\"Invalid coordinates\")\n    }\n\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/document-geo.routes.ts",
        "start": 466,
        "end": 479,
        "startLoc": {
          "line": 466,
          "column": 5,
          "position": 2181
        },
        "endLoc": {
          "line": 479,
          "column": 6,
          "position": 2299
        }
      },
      "secondFile": {
        "name": "api/src/routes/document-geo.routes.ts",
        "start": 408,
        "end": 421,
        "startLoc": {
          "line": 408,
          "column": 5,
          "position": 1894
        },
        "endLoc": {
          "line": 421,
          "column": 6,
          "position": 2012
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const photos: MobilePhotoData[] = (req.files as Express.Multer.File[]).map((file, index) => {\n        const base64Image = `data:${file.mimetype};base64,${file.buffer.toString(`base64`)}`\n        const photoMetadata = req.body[`metadata_${index}`]\n          ? JSON.parse(req.body[`metadata_${index}`])\n          : {}\n\n        return {\n          imageUrl: base64Image,\n          metadata: {\n            deviceModel: photoMetadata.deviceModel || 'Unknown'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage.ts",
        "start": 322,
        "end": 331,
        "startLoc": {
          "line": 322,
          "column": 7,
          "position": 2511
        },
        "endLoc": {
          "line": 331,
          "column": 10,
          "position": 2640
        }
      },
      "secondFile": {
        "name": "api/src/routes/damage.ts",
        "start": 191,
        "end": 200,
        "startLoc": {
          "line": 191,
          "column": 7,
          "position": 1485
        },
        "endLoc": {
          "line": 200,
          "column": 10,
          "position": 1614
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "// Validate vehicle belongs to user's tenant\n      const hasAccess = await validateVehicleTenant(vehicleId, req.user!.tenant_id)\n      if (!hasAccess) {\n        logger.warn('Unauthorized vehicle access attempt', {\n          vehicleId,\n          userId: req.user!.id,\n          tenantId: req.user!.tenant_id,\n        })\n        return res.status(403).json({ error: 'Access denied: Vehicle not found or not accessible' })\n      }\n\n      logger.info('Fetching damage records'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage.ts",
        "start": 517,
        "end": 528,
        "startLoc": {
          "line": 517,
          "column": 7,
          "position": 3958
        },
        "endLoc": {
          "line": 528,
          "column": 26,
          "position": 4065
        }
      },
      "secondFile": {
        "name": "api/src/routes/damage.ts",
        "start": 415,
        "end": 426,
        "startLoc": {
          "line": 415,
          "column": 7,
          "position": 3302
        },
        "endLoc": {
          "line": 426,
          "column": 24,
          "position": 3409
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ",\n  authenticateJWT,\n  requirePermission('damage:read'),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { vehicleId } = req.params\n\n      // Validate vehicle belongs to user's tenant\n      const hasAccess = await validateVehicleTenant(vehicleId, req.user!.tenant_id)\n      if (!hasAccess) {\n        logger.warn('Unauthorized vehicle access attempt', {\n          vehicleId,\n          userId: req.user!.id,\n          tenantId: req.user!.tenant_id,\n        })\n        return res.status(403).json({ error: 'Access denied: Vehicle not found or not accessible' })\n      }\n\n      logger.info('Fetching damage summary'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage.ts",
        "start": 578,
        "end": 596,
        "startLoc": {
          "line": 578,
          "column": 22,
          "position": 4246
        },
        "endLoc": {
          "line": 596,
          "column": 26,
          "position": 4408
        }
      },
      "secondFile": {
        "name": "api/src/routes/damage.ts",
        "start": 510,
        "end": 426,
        "startLoc": {
          "line": 510,
          "column": 14,
          "position": 3903
        },
        "endLoc": {
          "line": 426,
          "column": 24,
          "position": 3409
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", req.user!.tenant_id)\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit))\n        }\n      })\n    } catch (error) {\n      console.error(`Get damage reports error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage-reports.ts",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 12,
          "position": 1035
        },
        "endLoc": {
          "line": 124,
          "column": 28,
          "position": 1153
        }
      },
      "secondFile": {
        "name": "api/src/routes/drivers.enhanced.ts",
        "start": 74,
        "end": 88,
        "startLoc": {
          "line": 74,
          "column": 12,
          "position": 690
        },
        "endLoc": {
          "line": 88,
          "column": 21,
          "position": 811
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ".json(result.rows[0])\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ error: `Validation error`, details: error.issues })\n      }\n      console.error('Update damage report error:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage-reports.ts",
        "start": 246,
        "end": 251,
        "startLoc": {
          "line": 246,
          "column": 4,
          "position": 2078
        },
        "endLoc": {
          "line": 251,
          "column": 30,
          "position": 2153
        }
      },
      "secondFile": {
        "name": "api/src/routes/damage-reports.ts",
        "start": 202,
        "end": 207,
        "startLoc": {
          "line": 202,
          "column": 2,
          "position": 1653
        },
        "endLoc": {
          "line": 207,
          "column": 30,
          "position": 1728
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "req.params.id, req.user!.tenant_id]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `Damage report not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      console.error(`Update TripoSR status error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage-reports.ts",
        "start": 275,
        "end": 284,
        "startLoc": {
          "line": 275,
          "column": 2,
          "position": 2329
        },
        "endLoc": {
          "line": 284,
          "column": 31,
          "position": 2420
        }
      },
      "secondFile": {
        "name": "api/src/routes/damage-reports.ts",
        "start": 153,
        "end": 162,
        "startLoc": {
          "line": 153,
          "column": 2,
          "position": 1271
        },
        "endLoc": {
          "line": 162,
          "column": 27,
          "position": 1362
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import express, { Request, Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport multer",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage-reports.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 7,
          "position": 107
        }
      },
      "secondFile": {
        "name": "api/src/routes/mobile-trips.routes.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 7,
          "position": 107
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "let blobServiceClient: BlobServiceClient | null = null\n\nconst initializeBlobService = () => {\n  if (!blobServiceClient && process.env.AZURE_STORAGE_CONNECTION_STRING) {\n    blobServiceClient = BlobServiceClient.fromConnectionString(\n      process.env.AZURE_STORAGE_CONNECTION_STRING\n    )\n  }\n}\n\nconst damageReportSchema = z.object({\n  vehicle_id: z.string().uuid(),\n  reported_by: z.string().uuid().optional(),\n  damage_description: z.string(),\n  damage_severity: z.enum(['minor', 'moderate', 'severe']),\n  damage_location: z.string().optional(),\n  photos: z.array(z.string().",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage-reports.enhanced.ts",
        "start": 60,
        "end": 76,
        "startLoc": {
          "line": 60,
          "column": 1,
          "position": 444
        },
        "endLoc": {
          "line": 76,
          "column": 2,
          "position": 622
        }
      },
      "secondFile": {
        "name": "api/src/routes/damage-reports.ts",
        "start": 45,
        "end": 61,
        "startLoc": {
          "line": 45,
          "column": 1,
          "position": 389
        },
        "endLoc": {
          "line": 61,
          "column": 2,
          "position": 567
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "triposr_task_id: z.string().optional(),\n  triposr_status: z.enum(['pending', 'processing', 'completed', 'failed']).optional(),\n  triposr_model_url: z.string().optional(),\n  linked_work_order_id: z.string().uuid().optional(),\n  inspection_id: z.string().uuid().optional(),\n})\n\nrouter",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/damage-reports.enhanced.ts",
        "start": 79,
        "end": 86,
        "startLoc": {
          "line": 79,
          "column": 3,
          "position": 667
        },
        "endLoc": {
          "line": 86,
          "column": 7,
          "position": 765
        }
      },
      "secondFile": {
        "name": "api/src/routes/damage-reports.ts",
        "start": 64,
        "end": 71,
        "startLoc": {
          "line": 64,
          "column": 3,
          "position": 619
        },
        "endLoc": {
          "line": 71,
          "column": 23,
          "position": 717
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport logger from '../config/logger'; // Wave 21: Add Winston logger\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport customReportService",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/custom-reports.routes.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 20,
          "position": 106
        }
      },
      "secondFile": {
        "name": "api/src/routes/fuel-purchasing.routes.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 22,
          "position": 106
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "const total = costs.length\n    const totalPages = Math.ceil(total / Number(pageSize))\n    const offset = (Number(page) - 1) * Number(pageSize)\n    const data = costs.slice(offset, offset + Number(pageSize))\n\n    // Calculate vehicle-specific metrics",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/costs.ts",
        "start": 146,
        "end": 151,
        "startLoc": {
          "line": 146,
          "column": 5,
          "position": 1298
        },
        "endLoc": {
          "line": 151,
          "column": 38,
          "position": 1380
        }
      },
      "secondFile": {
        "name": "api/src/routes/costs.ts",
        "start": 93,
        "end": 98,
        "startLoc": {
          "line": 93,
          "column": 5,
          "position": 783
        },
        "endLoc": {
          "line": 98,
          "column": 32,
          "position": 865
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "import express, { Request, Response } from 'express'\nimport { Pool } from 'pg'\nimport { z } from 'zod'\nimport { authenticateJWT, AuthRequest } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { getErrorMessage } from '../utils/error-handler'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\n\nlet pool: Pool\nexport function setDatabasePool(dbPool: Pool) {\n  pool = dbPool\n}\n\n// =====================================================\n// Validation Schemas\n// =====================================================\n\nconst createCostBenefitSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/cost-benefit-analysis.routes.ts",
        "start": 16,
        "end": 36,
        "startLoc": {
          "line": 16,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 36,
          "column": 24,
          "position": 151
        }
      },
      "secondFile": {
        "name": "api/src/routes/on-call-management.routes.ts",
        "start": 17,
        "end": 37,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 37,
          "column": 25,
          "position": 151
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ": result.rows,\n        pagination: {\n          page: parseInt(page as string),\n          limit: parseInt(limit as string),\n          total,\n          pages: Math.ceil(total / parseInt(limit as string),\n        },\n      })\n    } catch (error: any) {\n      logger.error(`Error fetching cost/benefit analyses:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/cost-benefit-analysis.routes.ts",
        "start": 139,
        "end": 148,
        "startLoc": {
          "line": 139,
          "column": 9,
          "position": 980
        },
        "endLoc": {
          "line": 148,
          "column": 40,
          "position": 1074
        }
      },
      "secondFile": {
        "name": "api/src/routes/on-call-management.routes.ts",
        "start": 168,
        "end": 177,
        "startLoc": {
          "line": 168,
          "column": 8,
          "position": 1240
        },
        "endLoc": {
          "line": 177,
          "column": 34,
          "position": 1334
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ".parse(req.body)\n      const tenant_id = req.user!.tenant_id\n\n      const updates: string[] = []\n      const params: any[] = []\n      let paramIndex = 1\n\n      Object.entries(data).forEach(([key, value]) => {\n        if (value !== undefined) {\n          updates.push(`${key} = $${paramIndex++}`)\n          params.push(value",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/cost-benefit-analysis.routes.ts",
        "start": 317,
        "end": 327,
        "startLoc": {
          "line": 317,
          "column": 24,
          "position": 1954
        },
        "endLoc": {
          "line": 327,
          "column": 6,
          "position": 2075
        }
      },
      "secondFile": {
        "name": "api/src/routes/on-call-management.routes.ts",
        "start": 322,
        "end": 332,
        "startLoc": {
          "line": 322,
          "column": 25,
          "position": 2167
        },
        "endLoc": {
          "line": 332,
          "column": 4,
          "position": 2288
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "${updates.join(', ')}\n        WHERE id = $${paramIndex++} AND tenant_id = $${paramIndex}\n        RETURNING *\n      `\n\n      const result = await pool.query(query, params)\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `Cost/benefit analysis not found`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/cost-benefit-analysis.routes.ts",
        "start": 340,
        "end": 348,
        "startLoc": {
          "line": 340,
          "column": 13,
          "position": 2155
        },
        "endLoc": {
          "line": 348,
          "column": 34,
          "position": 2229
        }
      },
      "secondFile": {
        "name": "api/src/routes/on-call-management.routes.ts",
        "start": 345,
        "end": 353,
        "startLoc": {
          "line": 345,
          "column": 13,
          "position": 2385
        },
        "endLoc": {
          "line": 353,
          "column": 27,
          "position": 2459
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n  requirePermission('report:view:global'),\n  auditLog({ action: 'READ', resourceType: 'cost_analysis' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { startDate, endDate } = req.query\n\n      if (!startDate || !endDate) {\n        throw new ValidationError(\"startDate and endDate are required\")\n      }\n\n      const costs",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/cost-analysis.routes.ts",
        "start": 45,
        "end": 56,
        "startLoc": {
          "line": 45,
          "column": 15,
          "position": 379
        },
        "endLoc": {
          "line": 56,
          "column": 6,
          "position": 484
        }
      },
      "secondFile": {
        "name": "api/src/routes/cost-analysis.routes.ts",
        "start": 18,
        "end": 29,
        "startLoc": {
          "line": 18,
          "column": 11,
          "position": 155
        },
        "endLoc": {
          "line": 29,
          "column": 8,
          "position": 260
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n  requirePermission('report:view:global'),\n  auditLog({ action: 'READ', resourceType: 'cost_analysis' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { startDate, endDate } = req.query\n\n      if (!startDate || !endDate) {\n        throw new ValidationError(\"startDate and endDate are required\")\n      }\n\n      const costs = await costAnalysisService.getCostsByVehicle",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/cost-analysis.routes.ts",
        "start": 72,
        "end": 83,
        "startLoc": {
          "line": 72,
          "column": 14,
          "position": 603
        },
        "endLoc": {
          "line": 83,
          "column": 18,
          "position": 716
        }
      },
      "secondFile": {
        "name": "api/src/routes/cost-analysis.routes.ts",
        "start": 18,
        "end": 56,
        "startLoc": {
          "line": 18,
          "column": 11,
          "position": 155
        },
        "endLoc": {
          "line": 56,
          "column": 19,
          "position": 492
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n  requirePermission('report:view:global'),\n  auditLog({ action: 'READ', resourceType: 'cost_analysis' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { startDate, endDate } = req.query\n\n      if (!startDate || !endDate) {\n        throw new ValidationError(\"startDate and endDate are required\")\n      }\n\n      const anomalies",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/cost-analysis.routes.ts",
        "start": 145,
        "end": 156,
        "startLoc": {
          "line": 145,
          "column": 13,
          "position": 1219
        },
        "endLoc": {
          "line": 156,
          "column": 10,
          "position": 1324
        }
      },
      "secondFile": {
        "name": "api/src/routes/cost-analysis.routes.ts",
        "start": 18,
        "end": 29,
        "startLoc": {
          "line": 18,
          "column": 11,
          "position": 155
        },
        "endLoc": {
          "line": 29,
          "column": 8,
          "position": 260
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "),\n  auditLog({ action: 'READ', resourceType: 'cost_analysis' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { startDate, endDate } = req.query\n\n      if (!startDate || !endDate) {\n        throw new ValidationError(\"startDate and endDate are required\")\n      }\n\n      const csv",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/cost-analysis.routes.ts",
        "start": 244,
        "end": 254,
        "startLoc": {
          "line": 244,
          "column": 23,
          "position": 2072
        },
        "endLoc": {
          "line": 254,
          "column": 4,
          "position": 2171
        }
      },
      "secondFile": {
        "name": "api/src/routes/cost-analysis.routes.ts",
        "start": 19,
        "end": 29,
        "startLoc": {
          "line": 19,
          "column": 21,
          "position": 161
        },
        "endLoc": {
          "line": 29,
          "column": 8,
          "position": 260
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const countResult = await pool.query(countQuery, [req.user!.tenant_id])\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get communications error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/communications.ts",
        "start": 110,
        "end": 122,
        "startLoc": {
          "line": 110,
          "column": 7,
          "position": 735
        },
        "endLoc": {
          "line": 122,
          "column": 28,
          "position": 867
        }
      },
      "secondFile": {
        "name": "api/src/routes/policy-templates.ts",
        "start": 411,
        "end": 55,
        "startLoc": {
          "line": 411,
          "column": 7,
          "position": 2325
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get entity communications error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/communications.ts",
        "start": 391,
        "end": 404,
        "startLoc": {
          "line": 391,
          "column": 2,
          "position": 2728
        },
        "endLoc": {
          "line": 404,
          "column": 35,
          "position": 2846
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 50,
        "end": 55,
        "startLoc": {
          "line": 50,
          "column": 2,
          "position": 364
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { cacheMiddleware",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/communications.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 16,
          "position": 109
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 18,
          "position": 109
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport logger from '../config/logger'; // Wave 16: Add Winston logger\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\nrouter.use(authenticateJWT)\n\n// GET /communication-logs",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/communication-logs.ts",
        "start": 1,
        "end": 17,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 17,
          "column": 27,
          "position": 165
        }
      },
      "secondFile": {
        "name": "api/src/routes/policies.ts",
        "start": 1,
        "end": 16,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 16,
          "column": 80,
          "position": 154
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT id, tenant_id, communication_id, log_type, message, metadata, created_at\n         FROM communication_logs WHERE tenant_id = $1 ORDER BY created_at DESC LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/communication-logs.ts",
        "start": 21,
        "end": 29,
        "startLoc": {
          "line": 21,
          "column": 2,
          "position": 199
        },
        "endLoc": {
          "line": 29,
          "column": 99,
          "position": 295
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 24,
        "end": 44,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit))\n        }\n      })\n    } catch (error) {\n      logger.error(`Get communication-logs error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/communication-logs.ts",
        "start": 34,
        "end": 48,
        "startLoc": {
          "line": 34,
          "column": 63,
          "position": 334
        },
        "endLoc": {
          "line": 48,
          "column": 32,
          "position": 457
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 389,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 389,
          "column": 27,
          "position": 2628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`tenant_id`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO communication_logs (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/communication-logs.ts",
        "start": 82,
        "end": 94,
        "startLoc": {
          "line": 82,
          "column": 2,
          "position": 742
        },
        "endLoc": {
          "line": 94,
          "column": 34,
          "position": 835
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 110,
        "end": 122,
        "startLoc": {
          "line": 110,
          "column": 2,
          "position": 767
        },
        "endLoc": {
          "line": 122,
          "column": 28,
          "position": 860
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `CommunicationLogs not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      logger.error(`Update communication-logs error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/communication-logs.ts",
        "start": 118,
        "end": 127,
        "startLoc": {
          "line": 118,
          "column": 7,
          "position": 1076
        },
        "endLoc": {
          "line": 127,
          "column": 35,
          "position": 1154
        }
      },
      "secondFile": {
        "name": "api/src/routes/communication-logs.ts",
        "start": 63,
        "end": 72,
        "startLoc": {
          "line": 63,
          "column": 10,
          "position": 590
        },
        "endLoc": {
          "line": 72,
          "column": 32,
          "position": 668
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\nrouter.use(authenticateJWT)\n\n// GET /charging-stations",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 1,
        "end": 16,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 16,
          "column": 26,
          "position": 154
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 16,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 16,
          "column": 80,
          "position": 154
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT \n      id,\n      tenant_id,\n      name,\n      location,\n      latitude,\n      longitude,\n      charger_type,\n      power_output,\n      status,\n      is_active,\n      created_at,\n      updated_at FROM charging_stations WHERE tenant_id = $1 ORDER BY created_at DESC LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 20,
        "end": 39,
        "startLoc": {
          "line": 20,
          "column": 2,
          "position": 188
        },
        "endLoc": {
          "line": 39,
          "column": 106,
          "position": 284
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 24,
        "end": 44,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get charging-stations error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 44,
        "end": 58,
        "startLoc": {
          "line": 44,
          "column": 62,
          "position": 323
        },
        "endLoc": {
          "line": 58,
          "column": 31,
          "position": 445
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 55,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`tenant_id`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO charging_stations (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 104,
        "end": 115,
        "startLoc": {
          "line": 104,
          "column": 2,
          "position": 726
        },
        "endLoc": {
          "line": 115,
          "column": 33,
          "position": 818
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 110,
        "end": 122,
        "startLoc": {
          "line": 110,
          "column": 2,
          "position": 767
        },
        "endLoc": {
          "line": 122,
          "column": 28,
          "position": 860
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `ChargingStations not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      console.error(`Update charging-stations error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 139,
        "end": 148,
        "startLoc": {
          "line": 139,
          "column": 7,
          "position": 1057
        },
        "endLoc": {
          "line": 148,
          "column": 34,
          "position": 1135
        }
      },
      "secondFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 85,
        "end": 94,
        "startLoc": {
          "line": 85,
          "column": 10,
          "position": 576
        },
        "endLoc": {
          "line": 94,
          "column": 31,
          "position": 654
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { rateLimit } from 'express-rate-limit'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.enhanced.ts",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 21,
          "position": 130
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 26,
          "position": 130
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "import { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\n\nrouter.use(authenticateJWT)\nrouter.use(helmet()\nrouter.use(\n  rateLimit({\n    windowMs: 60 * 1000, // 1 minute\n    max: 100, // limit each IP to 100 requests per windowMs\n    standardHeaders: true,\n    legacyHeaders: false,\n  })\n)\nrouter",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.enhanced.ts",
        "start": 13,
        "end": 28,
        "startLoc": {
          "line": 13,
          "column": 1,
          "position": 148
        },
        "endLoc": {
          "line": 28,
          "column": 7,
          "position": 242
        }
      },
      "secondFile": {
        "name": "api/src/routes/osha-compliance.enhanced.ts",
        "start": 12,
        "end": 28,
        "startLoc": {
          "line": 12,
          "column": 1,
          "position": 133
        },
        "endLoc": {
          "line": 28,
          "column": 6,
          "position": 228
        }
      }
    },
    {
      "format": "typescript",
      "lines": 30,
      "fragment": ")\n\n// GET /charging-stations\nrouter.get(\n  '/',\n  requirePermission('charging_station:view:fleet'),\n  auditLog({ action: 'READ', resourceType: 'charging_stations' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT \n          id,\n          tenant_id,\n          name,\n          location,\n          latitude,\n          longitude,\n          charger_type,\n          power_output,\n          status,\n          is_active,\n          created_at,\n          updated_at \n        FROM charging_stations \n        WHERE tenant_id = $1 \n        ORDER BY created_at DESC \n        LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.enhanced.ts",
        "start": 39,
        "end": 68,
        "startLoc": {
          "line": 39,
          "column": 2,
          "position": 372
        },
        "endLoc": {
          "line": 68,
          "column": 28,
          "position": 505
        }
      },
      "secondFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 14,
        "end": 44,
        "startLoc": {
          "line": 14,
          "column": 16,
          "position": 151
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ",\n        [req.user!.tenant_id, limit, offset]\n      )\n\n      const countResult = await pool.query(\n        `SELECT COUNT(*) FROM charging_stations WHERE tenant_id = $1`,\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count, 10),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit),\n        },\n      })\n    } catch (error) {\n      console.error(`Get charging-stations error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.enhanced.ts",
        "start": 68,
        "end": 87,
        "startLoc": {
          "line": 68,
          "column": 28,
          "position": 506
        },
        "endLoc": {
          "line": 87,
          "column": 31,
          "position": 671
        }
      },
      "secondFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 39,
        "end": 115,
        "startLoc": {
          "line": 39,
          "column": 106,
          "position": 285
        },
        "endLoc": {
          "line": 115,
          "column": 26,
          "position": 913
        }
      }
    },
    {
      "format": "typescript",
      "lines": 31,
      "fragment": "})\n    } catch (error) {\n      console.error(`Get charging-stations error:`, error)\n      res.status(500).json({ error: 'Internal server error' })\n    }\n  }\n)\n\n// GET /charging-stations/:id\nrouter.get(\n  '/:id',\n  requirePermission('charging_station:view:fleet'),\n  auditLog({ action: 'READ', resourceType: 'charging_stations' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const result = await pool.query(\n        `SELECT\n          id,\n          tenant_id,\n          name,\n          location,\n          latitude,\n          longitude,\n          charger_type,\n          power_output,\n          status,\n          is_active,\n          created_at,\n          updated_at \n        FROM charging_stations \n        WHERE id = $1 AND tenant_id = $2`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.enhanced.ts",
        "start": 85,
        "end": 115,
        "startLoc": {
          "line": 85,
          "column": 7,
          "position": 652
        },
        "endLoc": {
          "line": 115,
          "column": 42,
          "position": 784
        }
      },
      "secondFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 56,
        "end": 84,
        "startLoc": {
          "line": 56,
          "column": 7,
          "position": 426
        },
        "endLoc": {
          "line": 84,
          "column": 74,
          "position": 558
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "})\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      console.error('Get charging-stations error:', error)\n      res.status(500).json({ error: 'Internal server error' })\n    }\n  }\n)\n\n// POST /charging-stations\nrouter.post(\n  '/',\n csrfProtection, requirePermission('charging_station:create:fleet'),\n  auditLog({ action: 'CREATE', resourceType: 'charging_stations' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const validationResult",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-stations.enhanced.ts",
        "start": 120,
        "end": 138,
        "startLoc": {
          "line": 120,
          "column": 2,
          "position": 844
        },
        "endLoc": {
          "line": 138,
          "column": 17,
          "position": 984
        }
      },
      "secondFile": {
        "name": "api/src/routes/charging-stations.ts",
        "start": 89,
        "end": 107,
        "startLoc": {
          "line": 89,
          "column": 2,
          "position": 618
        },
        "endLoc": {
          "line": 107,
          "column": 5,
          "position": 758
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport { buildInsertClause, buildUpdateClause } from '../utils/sql-safety'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\nrouter.use(authenticateJWT)\n\n// GET /charging-sessions",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-sessions.ts",
        "start": 1,
        "end": 16,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 16,
          "column": 26,
          "position": 154
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 16,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 16,
          "column": 80,
          "position": 154
        }
      }
    },
    {
      "format": "typescript",
      "lines": 40,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const { page = 1, limit = 50 } = req.query\n      const offset = (Number(page) - 1) * Number(limit)\n\n      const result = await pool.query(\n        `SELECT \n      id,\n      transaction_id,\n      station_id,\n      connector_id,\n      vehicle_id,\n      driver_id,\n      start_time,\n      end_time,\n      duration_minutes,\n      start_soc_percent,\n      end_soc_percent,\n      energy_delivered_kwh,\n      max_power_kw,\n      avg_power_kw,\n      energy_cost,\n      idle_fee,\n      total_cost,\n      session_status,\n      stop_reason,\n      scheduled_start_time,\n      scheduled_end_time,\n      charging_profile,\n      is_smart_charging,\n      target_soc_percent,\n      reservation_id,\n      rfid_tag,\n      authorization_method,\n      meter_start,\n      meter_stop,\n      raw_ocpp_data,\n      created_at,\n      updated_at FROM charging_sessions WHERE tenant_id = $1 ORDER BY created_at DESC LIMIT $2 OFFSET $3`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-sessions.ts",
        "start": 20,
        "end": 59,
        "startLoc": {
          "line": 20,
          "column": 2,
          "position": 188
        },
        "endLoc": {
          "line": 59,
          "column": 106,
          "position": 284
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 24,
        "end": 44,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 44,
          "column": 101,
          "position": 321
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error) {\n      console.error(`Get charging-sessions error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-sessions.ts",
        "start": 64,
        "end": 78,
        "startLoc": {
          "line": 64,
          "column": 62,
          "position": 323
        },
        "endLoc": {
          "line": 78,
          "column": 31,
          "position": 445
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 49,
        "end": 55,
        "startLoc": {
          "line": 49,
          "column": 57,
          "position": 360
        },
        "endLoc": {
          "line": 55,
          "column": 23,
          "position": 527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "}),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const data = req.body\n\n      const { columnNames, placeholders, values } = buildInsertClause(\n        data,\n        [`tenant_id`],\n        1\n      )\n\n      const result = await pool.query(\n        `INSERT INTO charging_sessions (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-sessions.ts",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 2,
          "position": 726
        },
        "endLoc": {
          "line": 124,
          "column": 33,
          "position": 819
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.ts",
        "start": 110,
        "end": 122,
        "startLoc": {
          "line": 110,
          "column": 2,
          "position": 767
        },
        "endLoc": {
          "line": 122,
          "column": 28,
          "position": 860
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `ChargingSessions not found` })\n      }\n\n      res.json(result.rows[0])\n    } catch (error) {\n      console.error(`Update charging-sessions error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-sessions.ts",
        "start": 148,
        "end": 157,
        "startLoc": {
          "line": 148,
          "column": 7,
          "position": 1058
        },
        "endLoc": {
          "line": 157,
          "column": 34,
          "position": 1136
        }
      },
      "secondFile": {
        "name": "api/src/routes/charging-sessions.ts",
        "start": 93,
        "end": 102,
        "startLoc": {
          "line": 93,
          "column": 10,
          "position": 576
        },
        "endLoc": {
          "line": 102,
          "column": 31,
          "position": 654
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { auditLog } from '../middleware/audit'\nimport { z } from 'zod'\nimport helmet from 'helmet'\nimport rateLimit from 'express-rate-limit'\nimport { serialize } from 'node-html-encoder'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router()\n\nrouter.use(authenticateJWT)\nrouter.use(helmet()\nrouter.use(\n  rateLimit({\n    windowMs: 60 * 1000, // 1 minute\n    max: 100, // limit each IP to 100 requests per windowMs\n    standardHeaders: true,\n    legacyHeaders: false,\n  })\n)\n\nconst chargingSessionSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-sessions.enhanced.ts",
        "start": 1,
        "end": 28,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 28,
          "column": 22,
          "position": 230
        }
      },
      "secondFile": {
        "name": "api/src/routes/video-events.enhanced.ts",
        "start": 1,
        "end": 28,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 28,
          "column": 10,
          "position": 230
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "),\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count, 10),\n          pages: Math.ceil(parseInt(countResult.rows[0].count, 10) / Number(limit),\n        },\n      })\n    } catch (error) {\n      console.error(`Get charging-sessions error:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-sessions.enhanced.ts",
        "start": 100,
        "end": 109,
        "startLoc": {
          "line": 100,
          "column": 2,
          "position": 581
        },
        "endLoc": {
          "line": 109,
          "column": 31,
          "position": 685
        }
      },
      "secondFile": {
        "name": "api/src/routes/telemetry.enhanced.ts",
        "start": 49,
        "end": 58,
        "startLoc": {
          "line": 49,
          "column": 4,
          "position": 480
        },
        "endLoc": {
          "line": 58,
          "column": 23,
          "position": 584
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "})\n    } catch (error) {\n      console.error(`Get charging-sessions error:`, error)\n      res.status(500).json({ error: 'Internal server error' })\n    }\n  }\n)\n\n// GET /charging-sessions/:id\nrouter.get(\n  '/:id',\n  requirePermission('charging_session:view:fleet'),\n  auditLog({ action: 'READ', resourceType: 'charging_sessions' }),\n  async (req: AuthRequest, res: Response) => {\n    try {\n      const idValidation",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/charging-sessions.enhanced.ts",
        "start": 107,
        "end": 122,
        "startLoc": {
          "line": 107,
          "column": 7,
          "position": 666
        },
        "endLoc": {
          "line": 122,
          "column": 13,
          "position": 786
        }
      },
      "secondFile": {
        "name": "api/src/routes/charging-sessions.ts",
        "start": 76,
        "end": 91,
        "startLoc": {
          "line": 76,
          "column": 7,
          "position": 426
        },
        "endLoc": {
          "line": 91,
          "column": 7,
          "position": 546
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ",csrfProtection, authenticateJWT, async (req: Request, res: Response) => {\n  try {\n    const { eventId } = req.params\n    const { userId, comment } = req.body\n\n    if (!userId) {\n      throw new ValidationError(\"Missing required field: userId\")\n    }\n\n    await declineEvent",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/calendar.routes.ts",
        "start": 214,
        "end": 223,
        "startLoc": {
          "line": 214,
          "column": 27,
          "position": 1629
        },
        "endLoc": {
          "line": 223,
          "column": 13,
          "position": 1721
        }
      },
      "secondFile": {
        "name": "api/src/routes/calendar.routes.ts",
        "start": 189,
        "end": 198,
        "startLoc": {
          "line": 189,
          "column": 26,
          "position": 1435
        },
        "endLoc": {
          "line": 198,
          "column": 12,
          "position": 1527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ",csrfProtection, authenticateJWT, async (req: Request, res: Response) => {\n  try {\n    const { eventId } = req.params\n    const { userId, comment } = req.body\n\n    if (!userId) {\n      throw new ValidationError(\"Missing required field: userId\")\n    }\n\n    await tentativelyAcceptEvent",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/calendar.routes.ts",
        "start": 239,
        "end": 248,
        "startLoc": {
          "line": 239,
          "column": 29,
          "position": 1823
        },
        "endLoc": {
          "line": 248,
          "column": 23,
          "position": 1915
        }
      },
      "secondFile": {
        "name": "api/src/routes/calendar.routes.ts",
        "start": 189,
        "end": 198,
        "startLoc": {
          "line": 189,
          "column": 26,
          "position": 1435
        },
        "endLoc": {
          "line": 198,
          "column": 12,
          "position": 1527
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const sessionResult = await tenantSafeQuery(\n        `SELECT bg.*, u.tenant_id\n         FROM break_glass_sessions bg\n         JOIN users u ON bg.user_id = u.id\n         WHERE bg.id = $1 AND u.tenant_id = $2`,\n        [sessionId, req.user!.tenant_id],\n        req.user!.tenant_id\n      )\n\n      if (sessionResult.rows.length === 0) {\n        return res.status(404).json({ error: `Elevation session not found`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/break-glass.ts",
        "start": 283,
        "end": 293,
        "startLoc": {
          "line": 283,
          "column": 7,
          "position": 1864
        },
        "endLoc": {
          "line": 293,
          "column": 30,
          "position": 1939
        }
      },
      "secondFile": {
        "name": "api/src/routes/break-glass.ts",
        "start": 174,
        "end": 184,
        "startLoc": {
          "line": 174,
          "column": 7,
          "position": 1208
        },
        "endLoc": {
          "line": 184,
          "column": 30,
          "position": 1283
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n  requirePermission('report:export:global'),\n  async (req: AuthRequest, res: Response) => {\n    const tenantId = req.user!.tenant_id\n    try {\n      const { period } = req.params\n\n      if (!/^\\d{4}-\\d{2}$/.test(period) {\n        return res.status(400).json({\n          error: 'Invalid period format. Use YYYY-MM format (e.g., 2025-11)'\n        })\n      }\n\n      const csv",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/billing-reports.ts",
        "start": 91,
        "end": 104,
        "startLoc": {
          "line": 91,
          "column": 23,
          "position": 614
        },
        "endLoc": {
          "line": 104,
          "column": 4,
          "position": 723
        }
      },
      "secondFile": {
        "name": "api/src/routes/billing-reports.ts",
        "start": 57,
        "end": 70,
        "startLoc": {
          "line": 57,
          "column": 26,
          "position": 387
        },
        "endLoc": {
          "line": 70,
          "column": 14,
          "position": 496
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "import express, { Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { AuthRequest, authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { billingReportsService } from '../services/billing-reports'\nimport { logger } from '../utils/logger'\nimport { getErrorMessage } from '../utils/error-handler'\nimport { z",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/billing-reports.enhanced.ts",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 2,
          "position": 121
        }
      },
      "secondFile": {
        "name": "api/src/routes/billing-reports.ts",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 15,
          "position": 121
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "),\n  password: z.string()\n    .min(8, 'Password must be at least 8 characters')\n    .regex(/[A-Z]/, 'Password must contain uppercase letter')\n    .regex(/[a-z]/, 'Password must contain lowercase letter')\n    .regex(/[0-9]/, 'Password must contain number')\n    .regex(/[^A-Za-z0-9]/, 'Password must contain special character'),\n  first_name: z.string().min(1)",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/auth.ts",
        "start": 27,
        "end": 34,
        "startLoc": {
          "line": 27,
          "column": 2,
          "position": 267
        },
        "endLoc": {
          "line": 34,
          "column": 2,
          "position": 344
        }
      },
      "secondFile": {
        "name": "api/src/validation/schemas.ts",
        "start": 57,
        "end": 64,
        "startLoc": {
          "line": 57,
          "column": 23,
          "position": 742
        },
        "endLoc": {
          "line": 64,
          "column": 2,
          "position": 819
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "user: {\n        id: user.id,\n        email: user.email,\n        first_name: user.first_name,\n        last_name: user.last_name,\n        role: user.role,\n        tenant_id: user.tenant_id\n      }\n    })\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return res.status(400).json({ error: 'Validation error', details: error.errors })\n    }\n    logger.error('Register error:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/auth.ts",
        "start": 348,
        "end": 361,
        "startLoc": {
          "line": 348,
          "column": 7,
          "position": 1994
        },
        "endLoc": {
          "line": 361,
          "column": 18,
          "position": 2123
        }
      },
      "secondFile": {
        "name": "api/src/routes/auth.ts",
        "start": 259,
        "end": 272,
        "startLoc": {
          "line": 259,
          "column": 7,
          "position": 1355
        },
        "endLoc": {
          "line": 272,
          "column": 15,
          "position": 1484
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const tokenResponse = await axios.post(\n      `https://login.microsoftonline.com/${AZURE_AD_CONFIG.tenantId}/oauth2/v2.0/token`,\n      new URLSearchParams({\n        client_id: AZURE_AD_CONFIG.clientId,\n        client_secret: AZURE_AD_CONFIG.clientSecret,\n        code: code,\n        redirect_uri: AZURE_AD_CONFIG.redirectUri,\n        grant_type: 'authorization_code',\n        scope: 'openid profile email User.Read'\n      }),",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/auth.ts",
        "start": 684,
        "end": 693,
        "startLoc": {
          "line": 684,
          "column": 5,
          "position": 3929
        },
        "endLoc": {
          "line": 693,
          "column": 2,
          "position": 4009
        }
      },
      "secondFile": {
        "name": "api/src/routes/microsoft-auth.ts",
        "start": 41,
        "end": 50,
        "startLoc": {
          "line": 41,
          "column": 5,
          "position": 366
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 446
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "})\n\nconst registerSchema = z.object({\n  email: z.string().email(),\n  password: z\n    .string()\n    .min(8, 'Password must be at least 8 characters')\n    .regex(/[A-Z]/, 'Password must contain uppercase letter')\n    .regex(/[a-z]/, 'Password must contain lowercase letter')\n    .regex(/[0-9]/, 'Password must contain number')\n    .regex(/[^A-Za-z0-9]/, 'Password must contain special character'),\n  first_name: z.string().min(1),\n  last_name: z.string().min(1),\n  phone: z.string().optional(),",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/auth.enhanced.ts",
        "start": 23,
        "end": 36,
        "startLoc": {
          "line": 23,
          "column": 1,
          "position": 228
        },
        "endLoc": {
          "line": 36,
          "column": 2,
          "position": 367
        }
      },
      "secondFile": {
        "name": "api/src/routes/auth.ts",
        "start": 24,
        "end": 37,
        "startLoc": {
          "line": 24,
          "column": 1,
          "position": 239
        },
        "endLoc": {
          "line": 37,
          "column": 80,
          "position": 378
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "// Get attachment metadata\n      const result = await pool.query(\n        `SELECT blob_url FROM communication_attachments WHERE tenant_id = $1 AND id = $2`,\n        [req.user!.tenant_id, blobId]\n      )\n\n      if (result.rows.length === 0) {\n        return res.status(404).json({ error: `Attachment not found` })\n      }\n\n      // Delete from Azure",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/attachments.routes.ts",
        "start": 302,
        "end": 312,
        "startLoc": {
          "line": 302,
          "column": 7,
          "position": 1677
        },
        "endLoc": {
          "line": 312,
          "column": 21,
          "position": 1758
        }
      },
      "secondFile": {
        "name": "api/src/routes/attachments.routes.ts",
        "start": 256,
        "end": 266,
        "startLoc": {
          "line": 256,
          "column": 7,
          "position": 1376
        },
        "endLoc": {
          "line": 266,
          "column": 6,
          "position": 1457
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ")\n\n      res.json({\n        data: result.rows,\n        pagination: {\n          page: Number(page),\n          limit: Number(limit),\n          total: parseInt(countResult.rows[0].count),\n          pages: Math.ceil(countResult.rows[0].count / Number(limit)\n        }\n      })\n    } catch (error: unknown",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/attachments.routes.ts",
        "start": 602,
        "end": 613,
        "startLoc": {
          "line": 602,
          "column": 7,
          "position": 3566
        },
        "endLoc": {
          "line": 613,
          "column": 8,
          "position": 3668
        }
      },
      "secondFile": {
        "name": "api/src/routes/work-orders.enhanced-rls.ts",
        "start": 141,
        "end": 343,
        "startLoc": {
          "line": 141,
          "column": 7,
          "position": 1187
        },
        "endLoc": {
          "line": 343,
          "column": 4,
          "position": 1667
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ",\n csrfProtection, authenticateJWT,\n  // rateLimiter(10),   upload.single('photo'),\n  async (req: Request, res: Response) => {\n    try {\n      const { assetId, userId, tenantId, gpsLat, gpsLng, conditionRating, digitalSignature } =\n        assetActionSchema.parse(req.body)\n      const photo = req.file\n\n      if (!photo) {\n        return res.status(400).send('Photo is required.')\n      }\n\n            // const hasPermission = await checkUserPermission(userId, tenantId, 'checkin')",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/assets-mobile.routes.ts",
        "start": 82,
        "end": 95,
        "startLoc": {
          "line": 82,
          "column": 11,
          "position": 598
        },
        "endLoc": {
          "line": 95,
          "column": 80,
          "position": 716
        }
      },
      "secondFile": {
        "name": "api/src/routes/assets-mobile.routes.ts",
        "start": 35,
        "end": 48,
        "startLoc": {
          "line": 35,
          "column": 12,
          "position": 311
        },
        "endLoc": {
          "line": 48,
          "column": 81,
          "position": 429
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "const values = [\n        assetId,\n        userId,\n        tenantId,\n        gpsLat,\n        gpsLng,\n        conditionRating,\n        digitalSignature,\n        photo.buffer, // Using buffer - cleanPhoto not available\n      ]\n      const { rows } = await pool.query(queryText, values)\n\n      res.status(201).json(rows[0])\n    } catch (error) {\n      logger.error('Checkin Error:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/assets-mobile.routes.ts",
        "start": 108,
        "end": 122,
        "startLoc": {
          "line": 108,
          "column": 7,
          "position": 745
        },
        "endLoc": {
          "line": 122,
          "column": 17,
          "position": 848
        }
      },
      "secondFile": {
        "name": "api/src/routes/assets-mobile.routes.ts",
        "start": 61,
        "end": 75,
        "startLoc": {
          "line": 61,
          "column": 7,
          "position": 458
        },
        "endLoc": {
          "line": 75,
          "column": 18,
          "position": 561
        }
      }
    },
    {
      "format": "typescript",
      "lines": 32,
      "fragment": ",\n  requirePermission('vehicle:view:fleet'),\n  auditLog({ action: 'READ', resourceType: 'asset_relationships' }),\n  async (req: AuthRequest, res) => {\n    try {\n      const result = await pool.query(\n        `SELECT vw.*\n         FROM vw_active_asset_combos vw\n         JOIN vehicles v ON vw.parent_id = v.id\n         WHERE v.tenant_id = $1\n         ORDER BY vw.parent_make, vw.parent_model`,\n        [req.user!.tenant_id]\n      )\n\n      res.json({\n        combinations: result.rows,\n        total: result.rows.length\n      })\n    } catch (error) {\n      logger.error(`Error fetching active combinations:`, error) // Wave 28: Winston logger\n      res.status(500).json({ error: `Failed to fetch active combinations` })\n    }\n  }\n)\n\n/**\n * @openapi\n * /api/asset-relationships/{id}:\n *   get:\n *     summary: Get relationship by ID\n *     tags: [Asset Relationships]\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/asset-relationships.routes.ts",
        "start": 171,
        "end": 202,
        "startLoc": {
          "line": 171,
          "column": 10,
          "position": 653
        },
        "endLoc": {
          "line": 202,
          "column": 4,
          "position": 819
        }
      },
      "secondFile": {
        "name": "api/src/routes/asset-relationships.routes.ts",
        "start": 134,
        "end": 169,
        "startLoc": {
          "line": 134,
          "column": 17,
          "position": 478
        },
        "endLoc": {
          "line": 169,
          "column": 4,
          "position": 644
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ",\n  requirePermission('vehicle:view:fleet'),\n  auditLog({ action: 'READ', resourceType: 'asset_relationships' }),\n  async (req: AuthRequest, res) => {\n    try {\n      const result = await pool.query(\n        `SELECT\n          ar.*,\n          vp.make || ' ` || vp.model || ` (` || vp.vin || ')' as parent_asset_name,\n          vc",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/asset-relationships.routes.ts",
        "start": 468,
        "end": 477,
        "startLoc": {
          "line": 468,
          "column": 20,
          "position": 2568
        },
        "endLoc": {
          "line": 477,
          "column": 3,
          "position": 2662
        }
      },
      "secondFile": {
        "name": "api/src/routes/asset-relationships.routes.ts",
        "start": 204,
        "end": 213,
        "startLoc": {
          "line": 204,
          "column": 7,
          "position": 828
        },
        "endLoc": {
          "line": 213,
          "column": 3,
          "position": 922
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ",\n          u.first_name || ' ' || u.last_name as created_by_name\n        FROM asset_relationships ar\n        LEFT JOIN vehicles vp ON ar.parent_asset_id = vp.id\n        LEFT JOIN vehicles vc ON ar.child_asset_id = vc.id\n        LEFT JOIN users u ON ar.created_by = u.id\n        WHERE (",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/asset-relationships.routes.ts",
        "start": 477,
        "end": 483,
        "startLoc": {
          "line": 477,
          "column": 17,
          "position": 2693
        },
        "endLoc": {
          "line": 483,
          "column": 2,
          "position": 2787
        }
      },
      "secondFile": {
        "name": "api/src/routes/asset-relationships.routes.ts",
        "start": 215,
        "end": 221,
        "startLoc": {
          "line": 215,
          "column": 17,
          "position": 973
        },
        "endLoc": {
          "line": 221,
          "column": 3,
          "position": 1067
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "), async (req: AuthRequest, res) => {\n  const client = await pool.connect()\n\n  try {\n    await client.query('BEGIN')\n\n    const { id } = req.params\n    const updates = req.body\n    const tenantId = req.user?.tenant_id\n    const userId",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/asset-management.routes.ts",
        "start": 272,
        "end": 281,
        "startLoc": {
          "line": 272,
          "column": 23,
          "position": 1317
        },
        "endLoc": {
          "line": 281,
          "column": 7,
          "position": 1411
        }
      },
      "secondFile": {
        "name": "api/src/routes/task-management.routes.ts",
        "start": 158,
        "end": 167,
        "startLoc": {
          "line": 158,
          "column": 25,
          "position": 922
        },
        "endLoc": {
          "line": 167,
          "column": 11,
          "position": 1016
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "const setClauses: string[] = []\n    const values: any[] = []\n    let paramCount = 1\n\n    Object.keys(updates).forEach(key => {\n      if (updates[key] !== undefined && key !== 'id' && key !== `tenant_id`) {\n        setClauses.push(`${key} = $${paramCount}`)\n        values.push(updates[key])\n        paramCount++\n      }\n    })\n\n    if (setClauses.length === 0) {\n      return res.status(400).json({ error: `No fields to update` })\n    }\n\n    setClauses.push(`updated_at = NOW()`)\n    values.push(id, tenantId)\n\n    const result = await client.query(\n      `UPDATE assets\n       SET ${setClauses.join(`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/asset-management.routes.ts",
        "start": 284,
        "end": 305,
        "startLoc": {
          "line": 284,
          "column": 5,
          "position": 1427
        },
        "endLoc": {
          "line": 305,
          "column": 31,
          "position": 1629
        }
      },
      "secondFile": {
        "name": "api/src/routes/task-management.routes.ts",
        "start": 167,
        "end": 188,
        "startLoc": {
          "line": 167,
          "column": 5,
          "position": 1014
        },
        "endLoc": {
          "line": 188,
          "column": 31,
          "position": 1216
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "import { Router } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport type { AuthRequest } from '../middleware/auth'\nimport { authenticateJWT } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { z } from 'zod'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = Router()\n\n// Apply authentication to all routes",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/asset-management.routes.enhanced.ts",
        "start": 1,
        "end": 14,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 14,
          "column": 38,
          "position": 126
        }
      },
      "secondFile": {
        "name": "api/src/routes/task-management.routes.enhanced.ts",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 7,
          "position": 125
        }
      }
    },
    {
      "format": "typescript",
      "lines": 60,
      "fragment": "const tenantId = req.user?.tenant_id\n\n    let query = `\n      SELECT\n        a.*,\n        u.first_name || ' ' || u.last_name as assigned_to_name,\n        COUNT(DISTINCT ah.id) as history_count,\n        MAX(m.scheduled_date) as next_maintenance\n      FROM assets a\n      LEFT JOIN users u ON a.assigned_to = u.id\n      LEFT JOIN asset_history ah ON a.id = ah.asset_id\n      LEFT JOIN maintenance_schedules m ON a.id = m.asset_id AND m.status = 'scheduled'\n      WHERE a.tenant_id = $1\n    `\n\n    const params: any[] = [tenantId]\n    let paramCount = 1\n\n    if (type) {\n      paramCount++\n      query += ` AND a.asset_type = $${paramCount}`\n      params.push(type)\n    }\n\n    if (status) {\n      paramCount++\n      query += ` AND a.status = $${paramCount}`\n      params.push(status)\n    }\n\n    if (location) {\n      paramCount++\n      query += ` AND a.location = $${paramCount}`\n      params.push(location)\n    }\n\n    if (assigned_to) {\n      paramCount++\n      query += ` AND a.assigned_to = $${paramCount}`\n      params.push(assigned_to)\n    }\n\n    if (search) {\n      paramCount++\n      query += ` AND (\n        a.asset_name ILIKE $${paramCount} OR\n        a.asset_tag ILIKE $${paramCount} OR\n        a.serial_number ILIKE $${paramCount} OR\n        a.description ILIKE $${paramCount}\n      )`\n      params.push(`%${search}%`)\n    }\n\n    query += ` GROUP BY a.id, u.first_name, u.last_name ORDER BY a.created_at DESC`\n\n    const result = await pool.query(query, params)\n\n    res.json({\n      assets: result.rows,\n      total: result.rows.length,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/asset-management.routes.enhanced.ts",
        "start": 33,
        "end": 92,
        "startLoc": {
          "line": 33,
          "column": 5,
          "position": 361
        },
        "endLoc": {
          "line": 92,
          "column": 2,
          "position": 660
        }
      },
      "secondFile": {
        "name": "api/src/routes/asset-management.routes.ts",
        "start": 59,
        "end": 119,
        "startLoc": {
          "line": 59,
          "column": 5,
          "position": 202
        },
        "endLoc": {
          "line": 119,
          "column": 2,
          "position": 503
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ";\nimport { authenticateJWT, AuthRequest } from '../middleware/auth';\nimport { requirePermission } from '../middleware/permissions';\nimport { getErrorMessage } from '../utils/error-handler'\nimport { csrfProtection } from '../middleware/csrf'\n\n\nconst router = express.Router();\n\nlet pool: Pool;\nexport function setDatabasePool(dbPool: Pool) {\n  pool = dbPool;\n}\n\n// =====================================================\n// Validation Schemas",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/annual-reauthorization.routes.ts",
        "start": 18,
        "end": 33,
        "startLoc": {
          "line": 18,
          "column": 6,
          "position": 46
        },
        "endLoc": {
          "line": 33,
          "column": 22,
          "position": 152
        }
      },
      "secondFile": {
        "name": "api/src/routes/assignment-reporting.routes.ts",
        "start": 17,
        "end": 32,
        "startLoc": {
          "line": 17,
          "column": 5,
          "position": 33
        },
        "endLoc": {
          "line": 32,
          "column": 37,
          "position": 139
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ": result.rows,\n        pagination: {\n          page: parseInt(page as string),\n          limit: parseInt(limit as string),\n          total,\n          pages: Math.ceil(total / parseInt(limit as string),\n        },\n      });\n    } catch (error: any) {\n      logger.error(`Error fetching reauthorization cycles:`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/annual-reauthorization.routes.ts",
        "start": 112,
        "end": 121,
        "startLoc": {
          "line": 112,
          "column": 7,
          "position": 857
        },
        "endLoc": {
          "line": 121,
          "column": 41,
          "position": 952
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.ts",
        "start": 182,
        "end": 191,
        "startLoc": {
          "line": 182,
          "column": 12,
          "position": 1224
        },
        "endLoc": {
          "line": 191,
          "column": 38,
          "position": 1319
        }
      }
    },
    {
      "format": "typescript",
      "lines": 31,
      "fragment": "];\n      let params: any[] = [tenant_id];\n      let paramIndex = 2;\n\n      if (department_id) {\n        whereConditions.push(`va.department_id = $${paramIndex++}`);\n        params.push(department_id);\n      }\n      if (assignment_type) {\n        whereConditions.push(`va.assignment_type = $${paramIndex++}`);\n        params.push(assignment_type);\n      }\n\n      const whereClause = whereConditions.join(` AND `);\n\n      const query = `\n        SELECT\n          va.*,\n          v.unit_number, v.make, v.model, v.year,\n          dr.employee_number, dr.position_title,\n          u.first_name AS driver_first_name, u.last_name AS driver_last_name,\n          dept.name AS department_name,\n          rd.id AS decision_id, rd.decision, rd.decision_date\n        FROM vehicle_assignments va\n        JOIN vehicles v ON va.vehicle_id = v.id\n        JOIN drivers dr ON va.driver_id = dr.id\n        LEFT JOIN users u ON dr.user_id = u.id\n        LEFT JOIN departments dept ON va.department_id = dept.id\n        LEFT JOIN reauthorization_decisions rd ON (\n          rd.vehicle_assignment_id = va.id\n          AND rd.reauthorization_cycle_id = $",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/annual-reauthorization.routes.ts",
        "start": 231,
        "end": 261,
        "startLoc": {
          "line": 231,
          "column": 7,
          "position": 1667
        },
        "endLoc": {
          "line": 261,
          "column": 46,
          "position": 1792
        }
      },
      "secondFile": {
        "name": "api/src/routes/assignment-reporting.routes.ts",
        "start": 45,
        "end": 75,
        "startLoc": {
          "line": 45,
          "column": 20,
          "position": 242
        },
        "endLoc": {
          "line": 75,
          "column": 81,
          "position": 367
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", error) // Wave 33: Winston logger (FINAL WAVE!);\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          error: 'Validation error',\n          details: error.errors,\n        });\n      }\n      res.status(500).json({\n        error: 'Failed to create reauthorization decision'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/annual-reauthorization.routes.ts",
        "start": 356,
        "end": 364,
        "startLoc": {
          "line": 356,
          "column": 43,
          "position": 2299
        },
        "endLoc": {
          "line": 364,
          "column": 44,
          "position": 2375
        }
      },
      "secondFile": {
        "name": "api/src/routes/annual-reauthorization.routes.ts",
        "start": 197,
        "end": 205,
        "startLoc": {
          "line": 197,
          "column": 40,
          "position": 1417
        },
        "endLoc": {
          "line": 205,
          "column": 41,
          "position": 1493
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "import express, { Request, Response } from 'express'\nimport { container } from '../container'\nimport { asyncHandler } from '../middleware/errorHandler'\nimport { NotFoundError, ValidationError } from '../errors/app-error'\nimport { Pool } from 'pg'\nimport { z } from 'zod'\nimport { authenticateJWT, AuthRequest } from '../middleware/auth'\nimport { requirePermission } from '../middleware/permissions'\nimport { getErrorMessage } from '../utils/error-handler'\nimport helmet from 'helmet'\nimport rateLimit from 'express-rate-limit'\nimport csurf",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/annual-reauthorization.routes.enhanced.ts",
        "start": 1,
        "end": 12,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 12,
          "column": 6,
          "position": 138
        }
      },
      "secondFile": {
        "name": "api/src/routes/vehicle-assignments.routes.enhanced.ts",
        "start": 1,
        "end": 12,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 12,
          "column": 7,
          "position": 138
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}\n\n// =====================================================\n// Validation Schemas\n// =====================================================\n\nconst createReauthCycleSchema = z.object({\n  year: z.number().int().min(2020).max(2100),\n  cycle_name: z.string().optional(),\n  start_date: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/),\n  deadline_date: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/),\n  notes: z.string().optional(),\n})\n\nconst",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/annual-reauthorization.routes.enhanced.ts",
        "start": 33,
        "end": 47,
        "startLoc": {
          "line": 33,
          "column": 1,
          "position": 289
        },
        "endLoc": {
          "line": 47,
          "column": 6,
          "position": 402
        }
      },
      "secondFile": {
        "name": "api/src/routes/annual-reauthorization.routes.ts",
        "start": 30,
        "end": 42,
        "startLoc": {
          "line": 30,
          "column": 1,
          "position": 147
        },
        "endLoc": {
          "line": 42,
          "column": 2,
          "position": 258
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "const createReauthDecisionSchema = z.object({\n  reauthorization_cycle_id: z.string().uuid(),\n  vehicle_assignment_id: z.string().uuid(),\n  decision: z.enum(['reauthorize', 'modify', 'terminate']),\n  modification_notes: z.string().optional(),\n  new_vehicle_id: z.string().uuid().optional(),\n  new_driver_id: z.string().uuid().optional(),\n  parameter_changes: z.record(z.any().optional(), // Consider refining this schema for better validation",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/annual-reauthorization.routes.enhanced.ts",
        "start": 47,
        "end": 54,
        "startLoc": {
          "line": 47,
          "column": 1,
          "position": 402
        },
        "endLoc": {
          "line": 54,
          "column": 55,
          "position": 536
        }
      },
      "secondFile": {
        "name": "api/src/routes/annual-reauthorization.routes.ts",
        "start": 44,
        "end": 52,
        "startLoc": {
          "line": 44,
          "column": 1,
          "position": 261
        },
        "endLoc": {
          "line": 52,
          "column": 19,
          "position": 396
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "task_title: z.string().min(1).max(255),\n  description: z.string().optional(),\n  task_type: z.string(),\n  priority: z.enum(['low', 'medium', 'high', 'critical']).optional(),\n  due_date: z.string().optional(),\n  estimated_hours: z.number().positive().optional(),\n  vehicle_id: z.string().uuid().optional(),\n  assigned_to",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 63,
        "end": 70,
        "startLoc": {
          "line": 63,
          "column": 3,
          "position": 227
        },
        "endLoc": {
          "line": 70,
          "column": 12,
          "position": 354
        }
      },
      "secondFile": {
        "name": "api/src/services/ai-task-prioritization.ts",
        "start": 98,
        "end": 105,
        "startLoc": {
          "line": 98,
          "column": 3,
          "position": 465
        },
        "endLoc": {
          "line": 105,
          "column": 10,
          "position": 592
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n csrfProtection, requirePermission('report:generate:global'),\n  async (req: AuthRequest, res) => {\n    try {\n      const tenantId = req.user?.tenant_id\n      if (!tenantId) {\n        return res.status(401).json({ error: 'Tenant ID required' })\n      }\n\n      // Validate input\n      const validatedData = AssignTaskSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 173,
        "end": 183,
        "startLoc": {
          "line": 173,
          "column": 10,
          "position": 1120
        },
        "endLoc": {
          "line": 183,
          "column": 17,
          "position": 1214
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 111,
        "end": 121,
        "startLoc": {
          "line": 111,
          "column": 14,
          "position": 737
        },
        "endLoc": {
          "line": 121,
          "column": 21,
          "position": 831
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "),\n  async (req: AuthRequest, res) => {\n    try {\n      const tenantId = req.user?.tenant_id\n      if (!tenantId) {\n        return res.status(401).json({ error: 'Tenant ID required' })\n      }\n\n      // Validate input\n      const validatedData = DependencyAnalysisSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 240,
        "end": 249,
        "startLoc": {
          "line": 240,
          "column": 21,
          "position": 1539
        },
        "endLoc": {
          "line": 249,
          "column": 25,
          "position": 1624
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 112,
        "end": 121,
        "startLoc": {
          "line": 112,
          "column": 25,
          "position": 746
        },
        "endLoc": {
          "line": 121,
          "column": 21,
          "position": 831
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n csrfProtection, requirePermission('report:view:global'),\n  async (req: AuthRequest, res) => {\n    try {\n      const tenantId = req.user?.tenant_id\n      if (!tenantId) {\n        return res.status(401).json({ error: 'Tenant ID required' })\n      }\n\n      // Validate input\n      const validatedData = ExecutionOrderSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 280,
        "end": 290,
        "startLoc": {
          "line": 280,
          "column": 19,
          "position": 1803
        },
        "endLoc": {
          "line": 290,
          "column": 21,
          "position": 1897
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 239,
        "end": 121,
        "startLoc": {
          "line": 239,
          "column": 16,
          "position": 1530
        },
        "endLoc": {
          "line": 121,
          "column": 21,
          "position": 831
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n csrfProtection, requirePermission('report:generate:global'),\n  async (req: AuthRequest, res) => {\n    try {\n      const tenantId = req.user?.tenant_id\n      if (!tenantId) {\n        return res.status(401).json({ error: 'Tenant ID required' })\n      }\n\n      // Validate input\n      const validatedData = OptimizeResourcesSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 322,
        "end": 332,
        "startLoc": {
          "line": 322,
          "column": 12,
          "position": 2085
        },
        "endLoc": {
          "line": 332,
          "column": 24,
          "position": 2179
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 111,
        "end": 121,
        "startLoc": {
          "line": 111,
          "column": 14,
          "position": 737
        },
        "endLoc": {
          "line": 121,
          "column": 21,
          "position": 831
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n csrfProtection, requirePermission('report:generate:global'),\n  async (req: AuthRequest, res) => {\n    try {\n      const tenantId = req.user?.tenant_id\n      if (!tenantId) {\n        return res.status(401).json({ error: 'Tenant ID required' })\n      }\n\n      // Validate input\n      const validatedData = BatchPrioritizeSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 380,
        "end": 390,
        "startLoc": {
          "line": 380,
          "column": 20,
          "position": 2443
        },
        "endLoc": {
          "line": 390,
          "column": 22,
          "position": 2537
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-task-prioritization.routes.ts",
        "start": 111,
        "end": 121,
        "startLoc": {
          "line": 111,
          "column": 14,
          "position": 737
        },
        "endLoc": {
          "line": 121,
          "column": 21,
          "position": 831
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ",\n        processingTimeMs: processingTime,\n        estimatedCost: totalCost.toFixed(4),\n      })\n    } catch (error: any) {\n      if (error.name === `ZodError`) {\n        return res.status(400).json({ error: 'Validation error', details: error.errors })\n      }\n      console.error('Batch indexing error:'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-search.ts",
        "start": 483,
        "end": 491,
        "startLoc": {
          "line": 483,
          "column": 12,
          "position": 3452
        },
        "endLoc": {
          "line": 491,
          "column": 24,
          "position": 3544
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-search.ts",
        "start": 395,
        "end": 403,
        "startLoc": {
          "line": 395,
          "column": 7,
          "position": 2778
        },
        "endLoc": {
          "line": 403,
          "column": 27,
          "position": 2870
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ")\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ error: 'Validation error', details: error.errors })\n      }\n      res.status(500).json({ error: 'Scoring failed'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 366,
        "end": 371,
        "startLoc": {
          "line": 366,
          "column": 6,
          "position": 1970
        },
        "endLoc": {
          "line": 371,
          "column": 17,
          "position": 2049
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 327,
        "end": 332,
        "startLoc": {
          "line": 327,
          "column": 11,
          "position": 1679
        },
        "endLoc": {
          "line": 332,
          "column": 20,
          "position": 1758
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n\n      res.json(prediction)\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ error: 'Validation error', details: error.errors })\n      }\n      res.status(500).json({ error: 'Prediction failed', message: getErrorMessage(error) })\n    }\n  }\n)\n\nconst CostForecastSchema",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 403,
        "end": 415,
        "startLoc": {
          "line": 403,
          "column": 7,
          "position": 2239
        },
        "endLoc": {
          "line": 415,
          "column": 19,
          "position": 2352
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 325,
        "end": 337,
        "startLoc": {
          "line": 325,
          "column": 7,
          "position": 1670
        },
        "endLoc": {
          "line": 337,
          "column": 26,
          "position": 1783
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ")\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ error: 'Validation error', details: error.errors })\n      }\n      res.status(500).json({ error: 'Forecasting failed'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 442,
        "end": 447,
        "startLoc": {
          "line": 442,
          "column": 9,
          "position": 2508
        },
        "endLoc": {
          "line": 447,
          "column": 21,
          "position": 2587
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 327,
        "end": 332,
        "startLoc": {
          "line": 327,
          "column": 11,
          "position": 1679
        },
        "endLoc": {
          "line": 332,
          "column": 20,
          "position": 1758
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ")\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ error: 'Validation error', details: error.errors })\n      }\n      res.status(500).json({ error: 'RAG query failed'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 520,
        "end": 525,
        "startLoc": {
          "line": 520,
          "column": 9,
          "position": 3031
        },
        "endLoc": {
          "line": 525,
          "column": 19,
          "position": 3110
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 327,
        "end": 332,
        "startLoc": {
          "line": 327,
          "column": 11,
          "position": 1679
        },
        "endLoc": {
          "line": 332,
          "column": 20,
          "position": 1758
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ")\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ error: 'Validation error', details: error.errors })\n      }\n      res.status(500).json({ error: 'Indexing failed'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 562,
        "end": 567,
        "startLoc": {
          "line": 562,
          "column": 2,
          "position": 3363
        },
        "endLoc": {
          "line": 567,
          "column": 18,
          "position": 3442
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-insights.routes.ts",
        "start": 327,
        "end": 332,
        "startLoc": {
          "line": 327,
          "column": 11,
          "position": 1679
        },
        "endLoc": {
          "line": 332,
          "column": 20,
          "position": 1758
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n  async (req: Request, res: Response) => {\n    try {\n      const errors = validationResult(req)\n      if (!errors.isEmpty() {\n        return res.status(400).json({\n          success: false,\n          errors: errors.array()\n        })\n      }\n\n      const { description",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-dispatch.routes.ts",
        "start": 353,
        "end": 364,
        "startLoc": {
          "line": 353,
          "column": 17,
          "position": 1277
        },
        "endLoc": {
          "line": 364,
          "column": 12,
          "position": 1373
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-dispatch.routes.ts",
        "start": 251,
        "end": 262,
        "startLoc": {
          "line": 251,
          "column": 23,
          "position": 869
        },
        "endLoc": {
          "line": 262,
          "column": 9,
          "position": 965
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n  async (req: Request, res: Response) => {\n    try {\n      const errors = validationResult(req)\n      if (!errors.isEmpty() {\n        return res.status(400).json({\n          success: false,\n          errors: errors.array()\n        })\n      }\n\n      const now",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-dispatch.routes.ts",
        "start": 544,
        "end": 555,
        "startLoc": {
          "line": 544,
          "column": 2,
          "position": 2181
        },
        "endLoc": {
          "line": 555,
          "column": 4,
          "position": 2275
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-dispatch.routes.ts",
        "start": 251,
        "end": 262,
        "startLoc": {
          "line": 251,
          "column": 23,
          "position": 869
        },
        "endLoc": {
          "line": 262,
          "column": 2,
          "position": 963
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ")\n  ],\n  async (req: Request, res: Response) => {\n    try {\n      const errors = validationResult(req)\n      if (!errors.isEmpty() {\n        return res.status(400).json({\n          success: false,\n          errors: errors.array()\n        })\n      }\n\n      const startDate",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-dispatch.routes.ts",
        "start": 622,
        "end": 634,
        "startLoc": {
          "line": 622,
          "column": 2,
          "position": 2631
        },
        "endLoc": {
          "line": 634,
          "column": 10,
          "position": 2729
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-dispatch.routes.ts",
        "start": 543,
        "end": 262,
        "startLoc": {
          "line": 543,
          "column": 2,
          "position": 2177
        },
        "endLoc": {
          "line": 262,
          "column": 2,
          "position": 963
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "()],\n  async (req: Request, res: Response) => {\n    try {\n      const errors = validationResult(req)\n      if (!errors.isEmpty() {\n        return res.status(400).json({\n          success: false,\n          errors: errors.array()\n        })\n      }\n\n      const { recommendation",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/ai-dispatch.routes.ts",
        "start": 696,
        "end": 707,
        "startLoc": {
          "line": 696,
          "column": 9,
          "position": 3041
        },
        "endLoc": {
          "line": 707,
          "column": 15,
          "position": 3140
        }
      },
      "secondFile": {
        "name": "api/src/routes/ai-dispatch.routes.ts",
        "start": 622,
        "end": 262,
        "startLoc": {
          "line": 622,
          "column": 10,
          "position": 2630
        },
        "endLoc": {
          "line": 262,
          "column": 9,
          "position": 965
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ",csrfProtection, async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { queueName, jobId } = req.params\n\n    if (!['email', 'notification', 'report'].includes(queueName)) {\n      return res.status(400).json({ error: 'Invalid queue name' })\n    }\n\n    const result = await removeJob",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 197,
        "end": 205,
        "startLoc": {
          "line": 197,
          "column": 21,
          "position": 1562
        },
        "endLoc": {
          "line": 205,
          "column": 10,
          "position": 1673
        }
      },
      "secondFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 174,
        "end": 182,
        "startLoc": {
          "line": 174,
          "column": 27,
          "position": 1363
        },
        "endLoc": {
          "line": 182,
          "column": 15,
          "position": 1474
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { queueName } = req.params\n\n    if (!['email', 'notification', 'report'].includes(queueName)) {\n      return res.status(400).json({ error: 'Invalid queue name' })\n    }\n\n    const result",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 244,
        "end": 252,
        "startLoc": {
          "line": 244,
          "column": 15,
          "position": 1976
        },
        "endLoc": {
          "line": 252,
          "column": 7,
          "position": 2076
        }
      },
      "secondFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 61,
        "end": 69,
        "startLoc": {
          "line": 61,
          "column": 14,
          "position": 312
        },
        "endLoc": {
          "line": 69,
          "column": 6,
          "position": 412
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ",csrfProtection, async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { queueName } = req.params\n\n    if (!['email', 'notification', 'report'].includes(queueName)) {\n      return res.status(400).json({ error: 'Invalid queue name' })\n    }\n\n    const result = await resumeQueue",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 267,
        "end": 275,
        "startLoc": {
          "line": 267,
          "column": 21,
          "position": 2163
        },
        "endLoc": {
          "line": 275,
          "column": 12,
          "position": 2271
        }
      },
      "secondFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 244,
        "end": 252,
        "startLoc": {
          "line": 244,
          "column": 20,
          "position": 1974
        },
        "endLoc": {
          "line": 252,
          "column": 11,
          "position": 2082
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { queueName, jobId } = req.params\n\n    if (!['email', 'notification', 'report'].includes(queueName)) {\n      return res.status(400).json({ error: 'Invalid queue name' })\n    }\n\n    const queue",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 290,
        "end": 298,
        "startLoc": {
          "line": 290,
          "column": 25,
          "position": 2352
        },
        "endLoc": {
          "line": 298,
          "column": 6,
          "position": 2455
        }
      },
      "secondFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 174,
        "end": 182,
        "startLoc": {
          "line": 174,
          "column": 15,
          "position": 1365
        },
        "endLoc": {
          "line": 182,
          "column": 7,
          "position": 1468
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "if (!['email', 'notification', 'report'].includes(queueName)) {\n      return res.status(400).json({ error: 'Invalid queue name' })\n    }\n\n    const queue = queueName === 'email' ? emailQueue : queueName === 'notification' ? notificationQueue : reportQueue\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 294,
        "end": 300,
        "startLoc": {
          "line": 294,
          "column": 5,
          "position": 2404
        },
        "endLoc": {
          "line": 300,
          "column": 6,
          "position": 2487
        }
      },
      "secondFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 86,
        "end": 92,
        "startLoc": {
          "line": 86,
          "column": 5,
          "position": 567
        },
        "endLoc": {
          "line": 92,
          "column": 4,
          "position": 650
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",csrfProtection, async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const { queueName, jobId } = req.params\n\n    if (!['email', 'notification', 'report'].includes(queueName)) {\n      return res.status(400).json({ error: 'Invalid queue name' })\n    }\n\n    const queue = queueName === 'email' ? emailQueue : queueName === 'notification' ? notificationQueue : reportQueue\n\n    const job = await queue.getJob(jobId)\n\n    if (!job) {\n      return res.status(404).json({ error: 'Job not found' })\n    }\n\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 333,
        "end": 349,
        "startLoc": {
          "line": 333,
          "column": 33,
          "position": 2721
        },
        "endLoc": {
          "line": 349,
          "column": 6,
          "position": 2911
        }
      },
      "secondFile": {
        "name": "api/src/routes/admin-jobs.routes.ts",
        "start": 174,
        "end": 306,
        "startLoc": {
          "line": 174,
          "column": 27,
          "position": 1363
        },
        "endLoc": {
          "line": 306,
          "column": 6,
          "position": 2540
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ")\n\n    // Validate the card\n    const validation = validateAdaptiveCard(card)\n    if (!validation.valid) {\n      return res.status(400).json({ error: 'Invalid card schema', errors: validation.errors })\n    }\n\n    // Send the card\n    let response\n    if (userId) {\n      response = await sendAdaptiveCardToUser(userId, card, 'New work order assignment'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/routes/adaptive-cards.routes.ts",
        "start": 101,
        "end": 112,
        "startLoc": {
          "line": 101,
          "column": 10,
          "position": 789
        },
        "endLoc": {
          "line": 112,
          "column": 28,
          "position": 885
        }
      },
      "secondFile": {
        "name": "api/src/routes/adaptive-cards.routes.ts",
        "start": 45,
        "end": 56,
        "startLoc": {
          "line": 45,
          "column": 12,
          "position": 382
        },
        "endLoc": {
          "line": 56,
          "column": 28,
          "position": 478
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Telemetry",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/TelemetryRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 10,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 10,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/TelemetryRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Task",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/TaskRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/TaskRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Route",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/RouteRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 6,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 6,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/RouteRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Reservation",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/ReservationRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 12,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 12,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/ReservationRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Reimbursement",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/ReimbursementRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 14,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 14,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/ReimbursementRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<PurchaseOrder",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/PurchaseOrderRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 14,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 14,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/PurchaseOrderRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Policy",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/PolicyRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 7,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 7,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/PolicyRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Part",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/PartRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/PartRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ";\n      from_date?: Date;\n      to_date?: Date;\n    } = {},\n    options: { page?: number; limit?: number } = {}\n  ) {\n    const where: Record<string, any> = { tenant_id: tenantId };\n\n    // Add filters",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/MaintenanceRepository.ts",
        "start": 63,
        "end": 71,
        "startLoc": {
          "line": 63,
          "column": 7,
          "position": 421
        },
        "endLoc": {
          "line": 71,
          "column": 15,
          "position": 507
        }
      },
      "secondFile": {
        "name": "api/src/repositories/WorkOrderRepository.ts",
        "start": 77,
        "end": 85,
        "startLoc": {
          "line": 77,
          "column": 8,
          "position": 552
        },
        "endLoc": {
          "line": 85,
          "column": 22,
          "position": 638
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "(\n    tenantId: string,\n    fromDate?: Date,\n    toDate?: Date,\n    additionalFilters: Record<string, any> = {},\n    options: { page?: number; limit?: number } = {}\n  ) {\n    const page = options.page || 1;\n    const limit = options.limit || 50;\n    const offset = (page - 1) * limit;\n\n    const conditions: string[] = [`tenant_id = $1`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/MaintenanceRepository.ts",
        "start": 100,
        "end": 111,
        "startLoc": {
          "line": 100,
          "column": 25,
          "position": 730
        },
        "endLoc": {
          "line": 111,
          "column": 17,
          "position": 870
        }
      },
      "secondFile": {
        "name": "api/src/repositories/WorkOrderRepository.ts",
        "start": 116,
        "end": 127,
        "startLoc": {
          "line": 116,
          "column": 26,
          "position": 905
        },
        "endLoc": {
          "line": 127,
          "column": 17,
          "position": 1045
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "${paramCount}`);\n      values.push(toDate);\n      paramCount++;\n    }\n\n    // Add additional filters\n    Object.entries(additionalFilters).forEach(([key, value]) => {\n      if (value !== undefined && key !== `from_date` && key !== `to_date`) {\n        conditions.push(`${key} = $${paramCount}`);\n        values.push(value);\n        paramCount++;\n      }\n    });\n\n    const whereClause = `WHERE ${conditions.join(` AND `)}`;\n\n    // Get total count\n    const countQuery = `SELECT COUNT(*) as count FROM ${this.tableName} ${whereClause}`;\n    const countResult = await this.query<{ count: string }>(countQuery, values);\n    const total = parseInt(countResult.rows[0].count, 10);\n\n    // Get paginated data\n    const columns = `id, tenant_id, vehicle_id, service_type, description, scheduled_date, completed_date, status, odometer_reading, estimated_cost, actual_cost, assigned_vendor_id, assigned_technician, notes, recurring, recurring_interval_miles, recurring_interval_days, next_service_date, next_service_odometer, priority, created_at, updated_at, deleted_at`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/MaintenanceRepository.ts",
        "start": 122,
        "end": 144,
        "startLoc": {
          "line": 122,
          "column": 21,
          "position": 957
        },
        "endLoc": {
          "line": 144,
          "column": 340,
          "position": 1179
        }
      },
      "secondFile": {
        "name": "api/src/repositories/WorkOrderRepository.ts",
        "start": 138,
        "end": 160,
        "startLoc": {
          "line": 138,
          "column": 17,
          "position": 1135
        },
        "endLoc": {
          "line": 160,
          "column": 165,
          "position": 1357
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "|| '0')\n      },\n      by_priority: {\n        low: parseInt(row.priority_low || '0'),\n        medium: parseInt(row.priority_medium || '0'),\n        high: parseInt(row.priority_high || '0'),\n        critical: parseInt(row.priority_critical || '0')\n      },\n      overdue_count",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/MaintenanceRepository.ts",
        "start": 364,
        "end": 372,
        "startLoc": {
          "line": 364,
          "column": 2,
          "position": 2559
        },
        "endLoc": {
          "line": 372,
          "column": 14,
          "position": 2642
        }
      },
      "secondFile": {
        "name": "api/src/repositories/WorkOrderRepository.ts",
        "start": 477,
        "end": 485,
        "startLoc": {
          "line": 477,
          "column": 2,
          "position": 3347
        },
        "endLoc": {
          "line": 485,
          "column": 8,
          "position": 3430
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Invoice",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/InvoiceRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 8,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 8,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/InvoiceRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "(\n    tenantId: string,\n    options: { page?: number; limit?: number; orderBy?: string } = {}\n  ) {\n    return this.paginate({\n      where: { tenant_id: tenantId },\n      page: options.page || 1,\n      limit: options.limit || 50,\n      orderBy: options.orderBy || 'created_at DESC'\n    })\n  }\n\n  /**\n   * Create a new inspection\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/InspectionRepository.ts",
        "start": 68,
        "end": 82,
        "startLoc": {
          "line": 68,
          "column": 24,
          "position": 283
        },
        "endLoc": {
          "line": 82,
          "column": 6,
          "position": 400
        }
      },
      "secondFile": {
        "name": "api/src/repositories/VendorRepository.ts",
        "start": 80,
        "end": 94,
        "startLoc": {
          "line": 80,
          "column": 20,
          "position": 337
        },
        "endLoc": {
          "line": 94,
          "column": 6,
          "position": 454
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Incident",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/IncidentRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 9,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 9,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/IncidentRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Geofence",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/GeofenceRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 9,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 9,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/GeofenceRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Fuel",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/FuelRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/FuelRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Facility",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/FacilityRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 9,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 9,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/FacilityRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Document",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/DocumentRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 9,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 9,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/DocumentRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Deployment",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/DeploymentRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 11,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 11,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/DeploymentRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<DamageReport",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/DamageReportRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 13,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 13,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/DamageReportRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Cost",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/CostRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/CostRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Communication",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/CommunicationRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 14,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 14,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/CommunicationRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<ChargingStation",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/ChargingStationRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 16,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 16,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/ChargingStationRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<ChargingSession",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/ChargingSessionRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 16,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 16,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/ChargingSessionRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": "context: QueryContext,\n    options: PaginationOptions = {}\n  ): Promise<PaginatedResult<T>> {\n    try {\n      const {\n        page = 1,\n        limit = 50,\n        sortBy = this.idColumn,\n        sortOrder = `DESC`\n      } = options;\n\n      const offset = (page - 1) * limit;\n      const pool = this.getPool(context);\n\n      // Validate sortBy column name to prevent SQL injection\n      if (!isValidIdentifier(sortBy)) {\n        throw new DatabaseError(`Invalid sort column: ${sortBy}`, { sortBy });\n      }\n\n      // Validate sort order against allowlist\n      if (!isValidSortOrder(sortOrder)) {\n        throw new DatabaseError(`Invalid sort order: ${sortOrder}`, { sortOrder });\n      }\n\n      // Build WHERE clause",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/BaseRepository.ts",
        "start": 153,
        "end": 177,
        "startLoc": {
          "line": 153,
          "column": 5,
          "position": 1075
        },
        "endLoc": {
          "line": 177,
          "column": 22,
          "position": 1278
        }
      },
      "secondFile": {
        "name": "api/src/repositories/BaseRepository.ts",
        "start": 94,
        "end": 118,
        "startLoc": {
          "line": 94,
          "column": 5,
          "position": 642
        },
        "endLoc": {
          "line": 118,
          "column": 19,
          "position": 845
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "}\n\n      const whereClause = whereConditions.join(` AND `);\n\n      // Get total count\n      const countResult = await pool.query(\n        `SELECT COUNT(*) as count FROM ${this.tableName} WHERE ${whereClause}`,\n        values\n      );\n      const total = parseInt(countResult.rows[0].count, 10);\n\n      // Get paginated data (sortBy and sortOrder are validated above)",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/BaseRepository.ts",
        "start": 192,
        "end": 203,
        "startLoc": {
          "line": 192,
          "column": 7,
          "position": 1436
        },
        "endLoc": {
          "line": 203,
          "column": 65,
          "position": 1518
        }
      },
      "secondFile": {
        "name": "api/src/repositories/VehicleRepository.example.ts",
        "start": 125,
        "end": 136,
        "startLoc": {
          "line": 125,
          "column": 7,
          "position": 924
        },
        "endLoc": {
          "line": 136,
          "column": 22,
          "position": 1006
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "(\n        `SELECT * FROM ${this.tableName}\n         WHERE ${whereClause}\n         ORDER BY ${sortBy} ${sortOrder}\n         LIMIT $${paramIndex} OFFSET $${paramIndex + 1}`,\n        [...values, limit, offset]\n      );\n\n      return {\n        data: dataResult.rows,\n        pagination: {\n          page,\n          limit,\n          total,\n          totalPages: Math.ceil(total / limit)\n        }\n      };\n    } catch (error) {\n      throw new DatabaseError",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/BaseRepository.ts",
        "start": 204,
        "end": 222,
        "startLoc": {
          "line": 204,
          "column": 6,
          "position": 1532
        },
        "endLoc": {
          "line": 222,
          "column": 14,
          "position": 1654
        }
      },
      "secondFile": {
        "name": "api/src/repositories/VehicleRepository.example.ts",
        "start": 137,
        "end": 155,
        "startLoc": {
          "line": 137,
          "column": 2,
          "position": 1023
        },
        "endLoc": {
          "line": 155,
          "column": 6,
          "position": 1145
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Attachment",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/AttachmentRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 11,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 11,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/AttachmentRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "> {\n    const fields = Object.keys(data).join(', ')\n    const placeholders = Object.keys(data).map((_, i) => `${i + 1}`).join(', ')\n\n    const query = `\n      INSERT INTO ${this.tableName} (${fields})\n      VALUES (${placeholders})\n      RETURNING *\n    `\n\n    const results = await this.query(query, Object.values(data))\n    return results[0]\n  }\n\n  async update(id: number, tenantId: number, data: Partial<Alert",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/AlertRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 6,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 6,
          "position": 405
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 405
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "| null> {\n    const setClause = Object.keys(data)\n      .map((key, i) => `${key} = $${i + 2}`)\n      .join(', ')\n\n    const query = `\n      UPDATE ${this.tableName}\n      SET ${setClause}, updated_at = NOW()\n      WHERE id = $1 AND tenant_id = $${Object.keys(data).length + 2}\n      RETURNING *\n    `\n\n    const results = await this.query(query, [id, ...Object.values(data), tenantId])\n    return results[0] || null\n  }\n\n  async delete(id: number, tenantId: number): Promise<boolean> {\n    const query = `\n      DELETE FROM ${this.tableName}\n      WHERE id = $1 AND tenant_id = $2\n    `\n\n    const result = await this.query(query, [id, tenantId])\n    return result.rowCount > 0\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/repositories/AlertRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      },
      "secondFile": {
        "name": "api/src/repositories/TripRepository.ts",
        "start": 49,
        "end": 74,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 632
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "user_id: string;\n  action: string;\n  resource_type?: string;\n  resource_id?: string;\n  allowed: boolean;\n  reason?: string;\n  timestamp: Date;\n  context?: Record<string, any>;\n  ip_address?: string;\n  user_agent?: string;\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/permissions/types.ts",
        "start": 171,
        "end": 181,
        "startLoc": {
          "line": 171,
          "column": 3,
          "position": 1072
        },
        "endLoc": {
          "line": 181,
          "column": 2,
          "position": 1153
        }
      },
      "secondFile": {
        "name": "api/src/permissions/types.ts",
        "start": 86,
        "end": 96,
        "startLoc": {
          "line": 86,
          "column": 3,
          "position": 526
        },
        "endLoc": {
          "line": 96,
          "column": 2,
          "position": 607
        }
      }
    },
    {
      "format": "sql",
      "lines": 7,
      "fragment": "FROM user_roles ur\n  JOIN role_permissions rp ON ur.role_id = rp.role_id\n  JOIN permissions p ON rp.permission_id = p.id\n  WHERE ur.user_id = p_user_id\n    AND ur.is_active = true\n    AND (ur.expires_at IS NULL OR ur.expires_at > NOW())\n    AND p.is_active",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/migrations/20251203_rbac_implementation.sql",
        "start": 294,
        "end": 300,
        "startLoc": {
          "line": 294,
          "column": 3,
          "position": 2711
        },
        "endLoc": {
          "line": 300,
          "column": 10,
          "position": 2807
        }
      },
      "secondFile": {
        "name": "api/src/migrations/20251203_rbac_implementation.sql",
        "start": 257,
        "end": 263,
        "startLoc": {
          "line": 257,
          "column": 5,
          "position": 2348
        },
        "endLoc": {
          "line": 263,
          "column": 5,
          "position": 2444
        }
      }
    },
    {
      "format": "sql",
      "lines": 8,
      "fragment": ",\n    COUNT(e.id) AS total_idle_events,\n    SUM(e.duration_seconds) AS total_idle_seconds,\n    ROUND((SUM(e.duration_seconds) / 3600.0)::NUMERIC, 2) AS total_idle_hours,\n    ROUND(SUM(e.estimated_fuel_wasted_gallons)::NUMERIC, 2) AS total_fuel_wasted_gallons,\n    ROUND(SUM(e.estimated_fuel_cost_usd)::NUMERIC, 2) AS total_fuel_cost_usd,\n    ROUND(SUM(e.estimated_co2_kg)::NUMERIC, 2) AS total_co2_kg,\n    COUNT",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/migrations/20250124_vehicle_idling_tracking.sql",
        "start": 278,
        "end": 285,
        "startLoc": {
          "line": 278,
          "column": 6,
          "position": 2632
        },
        "endLoc": {
          "line": 285,
          "column": 6,
          "position": 2751
        }
      },
      "secondFile": {
        "name": "api/src/migrations/20250124_vehicle_idling_tracking.sql",
        "start": 241,
        "end": 248,
        "startLoc": {
          "line": 241,
          "column": 4,
          "position": 2133
        },
        "endLoc": {
          "line": 248,
          "column": 6,
          "position": 2252
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "= function(body: any) {\n    const duration = Date.now() - startTime\n    console.log(` Webhook response:`, {\n      statusCode: res.statusCode,\n      duration: `${duration}ms`,\n      success: res.statusCode >= 200 && res.statusCode < 300\n    })\n    return originalSend",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/webhook-validation.ts",
        "start": 240,
        "end": 247,
        "startLoc": {
          "line": 240,
          "column": 2,
          "position": 1680
        },
        "endLoc": {
          "line": 247,
          "column": 13,
          "position": 1768
        }
      },
      "secondFile": {
        "name": "api/src/middleware/webhook-validation.ts",
        "start": 230,
        "end": 237,
        "startLoc": {
          "line": 230,
          "column": 2,
          "position": 1578
        },
        "endLoc": {
          "line": 237,
          "column": 13,
          "position": 1666
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "z.object({\n    page: z.coerce.number().int().positive().default(1),\n    limit: z.coerce.number().int().positive().max(100).default(50),\n    sort: z.string().optional(),\n    order: z.enum(['asc', 'desc']).default('desc')\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/validation.ts",
        "start": 185,
        "end": 190,
        "startLoc": {
          "line": 185,
          "column": 2,
          "position": 1045
        },
        "endLoc": {
          "line": 190,
          "column": 2,
          "position": 1145
        }
      },
      "secondFile": {
        "name": "api/src/schemas/vehicles.schema.ts",
        "start": 304,
        "end": 27,
        "startLoc": {
          "line": 304,
          "column": 2,
          "position": 2118
        },
        "endLoc": {
          "line": 27,
          "column": 2,
          "position": 175
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "page: z.coerce.number().int().positive().default(1),\n    limit: z.coerce.number().int().positive().max(100).default(50),\n    sort: z.string().optional(),\n    order: z.enum(['asc', 'desc']).default('desc')\n  }),\n\n  /**\n   * Email validation\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/validation.ts",
        "start": 212,
        "end": 220,
        "startLoc": {
          "line": 212,
          "column": 5,
          "position": 1299
        },
        "endLoc": {
          "line": 220,
          "column": 6,
          "position": 1398
        }
      },
      "secondFile": {
        "name": "api/src/schemas/vehicles.schema.ts",
        "start": 305,
        "end": 194,
        "startLoc": {
          "line": 305,
          "column": 3,
          "position": 2125
        },
        "endLoc": {
          "line": 194,
          "column": 6,
          "position": 1151
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ",\n          details: error.errors.map(err => ({\n            field: err.path.join('.'),\n            message: err.message,\n            code: err.code,\n          }))\n        });\n      }\n      next(error);\n    }\n  };\n};\n\n/**\n * Validate URL parameters\n *\n * @param schema - Zod schema to validate against\n *\n * @example\n * router.get('/vehicles/:id', validateParams(vehicleIdSchema), async (req, res) => {...})\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/validate.ts",
        "start": 100,
        "end": 120,
        "startLoc": {
          "line": 100,
          "column": 27,
          "position": 607
        },
        "endLoc": {
          "line": 120,
          "column": 4,
          "position": 689
        }
      },
      "secondFile": {
        "name": "api/src/middleware/validate.ts",
        "start": 59,
        "end": 77,
        "startLoc": {
          "line": 59,
          "column": 20,
          "position": 330
        },
        "endLoc": {
          "line": 77,
          "column": 4,
          "position": 412
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": ",\n          details: error.errors.map(err => ({\n            field: err.path.join('.'),\n            message: err.message,\n            code: err.code,\n          }))\n        });\n      }\n      next(error);\n    }\n  };\n};\n\n/**\n * Validate multiple targets at once\n *\n * @param schemas - Object with schemas for body, query, and/or params\n * @param options - Validation options (only applies to body)\n *\n * @example\n * router.put('/vehicles/:id',\n *   validateAll({\n *     params: vehicleIdSchema,\n *     body: vehicleUpdateSchema\n *   }),\n *   async (req, res) => {...}\n * )\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/validate.ts",
        "start": 131,
        "end": 158,
        "startLoc": {
          "line": 131,
          "column": 25,
          "position": 832
        },
        "endLoc": {
          "line": 158,
          "column": 4,
          "position": 914
        }
      },
      "secondFile": {
        "name": "api/src/middleware/validate.ts",
        "start": 59,
        "end": 77,
        "startLoc": {
          "line": 59,
          "column": 20,
          "position": 330
        },
        "endLoc": {
          "line": 77,
          "column": 4,
          "position": 412
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": "next();\n    } catch (error) {\n      if (error instanceof ZodError) {\n        return res.status(400).json({\n          success: false,\n          error: 'Validation failed',\n          details: error.errors.map(err => ({\n            field: err.path.join('.'),\n            message: err.message,\n            code: err.code,\n          }))\n        });\n      }\n      next(error);\n    }\n  };\n};\n\n/**\n * Sanitize input to prevent XSS attacks\n * SECURITY: Removes potentially dangerous HTML/script tags and event handlers\n *\n * @param data - Data to sanitize\n * @returns Sanitized data\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/validate.ts",
        "start": 188,
        "end": 212,
        "startLoc": {
          "line": 188,
          "column": 7,
          "position": 1214
        },
        "endLoc": {
          "line": 212,
          "column": 4,
          "position": 1351
        }
      },
      "secondFile": {
        "name": "api/src/middleware/validate.ts",
        "start": 54,
        "end": 77,
        "startLoc": {
          "line": 54,
          "column": 7,
          "position": 275
        },
        "endLoc": {
          "line": 77,
          "column": 4,
          "position": 412
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ") {\n  return async (req: AuthRequest, res: Response, next: NextFunction) => {\n    if (!req.user) {\n      logger.warn('RBAC: No user in request (authentication required)', {\n        path: req.path,\n        method: req.method\n      })\n      return res.status(401).json({\n        error: 'Authentication required',\n        code: 'AUTH_REQUIRED'\n      })\n    }\n\n    try",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/rbac.ts",
        "start": 203,
        "end": 216,
        "startLoc": {
          "line": 203,
          "column": 6,
          "position": 1053
        },
        "endLoc": {
          "line": 216,
          "column": 4,
          "position": 1164
        }
      },
      "secondFile": {
        "name": "api/src/middleware/rbac.ts",
        "start": 138,
        "end": 151,
        "startLoc": {
          "line": 138,
          "column": 2,
          "position": 635
        },
        "endLoc": {
          "line": 151,
          "column": 6,
          "position": 746
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ",\n          path: req.path,\n          method: req.method\n        })\n\n        await logAuthorizationFailure({\n          userId: req.user.id,\n          tenantId: req.user.tenant_id,\n          action: `${req.method} ${req.path}`,\n          reason: 'Insufficient permissions'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/rbac.ts",
        "start": 229,
        "end": 238,
        "startLoc": {
          "line": 229,
          "column": 11,
          "position": 1298
        },
        "endLoc": {
          "line": 238,
          "column": 27,
          "position": 1374
        }
      },
      "secondFile": {
        "name": "api/src/middleware/rbac.ts",
        "start": 157,
        "end": 166,
        "startLoc": {
          "line": 157,
          "column": 6,
          "position": 805
        },
        "endLoc": {
          "line": 166,
          "column": 20,
          "position": 881
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "rateLimitStore.increment(key, windowMs)\n\n      // Set rate limit headers\n      const remaining = Math.max(0, maxRequests - count)\n      res.setHeader('X-RateLimit-Limit', maxRequests.toString())\n      res.setHeader('X-RateLimit-Remaining', remaining.toString())\n      res.setHeader('X-RateLimit-Reset', new Date(resetAt).toISOString())\n\n      // Check if limit exceeded\n      if (count > maxRequests) {\n        const retryAfter = Math.ceil((resetAt - Date.now()) / 1000)\n        res.setHeader('Retry-After', retryAfter.toString())\n\n        // Log rate limit incident\n        securityLogger.incident('rate_limit', {\n          ip: req.ip,\n          userAgent: req.get('user-agent'),\n          userId: (req as any).user?.id,\n          tenantId: (req as any).user?.tenant_id,\n          details: {\n            endpoint: req.path,\n            method: req.method,\n            count,\n            limit: maxRequests,",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/rate-limit.ts",
        "start": 609,
        "end": 632,
        "startLoc": {
          "line": 609,
          "column": 2,
          "position": 2189
        },
        "endLoc": {
          "line": 632,
          "column": 2,
          "position": 2438
        }
      },
      "secondFile": {
        "name": "api/src/middleware/rate-limit.ts",
        "start": 163,
        "end": 187,
        "startLoc": {
          "line": 163,
          "column": 2,
          "position": 973
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1224
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "},\n          severity: count > maxRequests * 2 ? 'high' : 'medium'\n        })\n\n        if (handler) {\n          return handler(req, res)\n        }\n\n        throw new RateLimitError(retryAfter)\n      }\n\n      next()\n    } catch (error) {\n      next(error)\n    }\n  }\n}\n\n/**\n * Export rate limit store for testing\n */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/rate-limit.ts",
        "start": 634,
        "end": 654,
        "startLoc": {
          "line": 634,
          "column": 11,
          "position": 2449
        },
        "endLoc": {
          "line": 654,
          "column": 4,
          "position": 2548
        }
      },
      "secondFile": {
        "name": "api/src/middleware/rate-limit.ts",
        "start": 187,
        "end": 207,
        "startLoc": {
          "line": 187,
          "column": 11,
          "position": 1224
        },
        "endLoc": {
          "line": 207,
          "column": 4,
          "position": 1323
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ") {\n  return async (req: AuthRequest, res: Response, next: NextFunction) => {\n    if (!req.user) {\n      return res.status(401).json({ error: 'Authentication required' })\n    }\n\n    try {\n      const resourceId = req.params.id\n\n      // Validate createdByField to prevent SQL injection",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/permissions.ts",
        "start": 342,
        "end": 351,
        "startLoc": {
          "line": 342,
          "column": 13,
          "position": 2633
        },
        "endLoc": {
          "line": 351,
          "column": 52,
          "position": 2723
        }
      },
      "secondFile": {
        "name": "api/src/middleware/permissions.ts",
        "start": 299,
        "end": 308,
        "startLoc": {
          "line": 299,
          "column": 19,
          "position": 2232
        },
        "endLoc": {
          "line": 308,
          "column": 3,
          "position": 2322
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ") {\n  return async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const user = req.user as User;\n\n      if (!user) {\n        return res.status(401).json({\n          error: 'Unauthorized',\n          message: 'Authentication required'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/middleware/modulePermissions.ts",
        "start": 68,
        "end": 76,
        "startLoc": {
          "line": 68,
          "column": 4,
          "position": 474
        },
        "endLoc": {
          "line": 76,
          "column": 26,
          "position": 563
        }
      },
      "secondFile": {
        "name": "api/src/middleware/modulePermissions.ts",
        "start": 15,
        "end": 23,
        "startLoc": {
          "line": 15,
          "column": 7,
          "position": 74
        },
        "endLoc": {
          "line": 23,
          "column": 26,
          "position": 163
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.colorize(),\n        winston.format.simple()\n      )\n    })\n  ]\n})\n\n// Configuration from environment",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/webhook-renewal.job.ts",
        "start": 20,
        "end": 35,
        "startLoc": {
          "line": 20,
          "column": 2,
          "position": 66
        },
        "endLoc": {
          "line": 35,
          "column": 34,
          "position": 164
        }
      },
      "secondFile": {
        "name": "api/src/services/recurring-maintenance.ts",
        "start": 22,
        "end": 37,
        "startLoc": {
          "line": 22,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 37,
          "column": 7,
          "position": 177
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "// Configure logger\nconst logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || 'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.colorize(),\n        winston.format.simple()\n      )\n    })\n  ]\n})\n\n// Configuration from environment\nconst CRON_SCHEDULE = process.env.TELEMATICS_CRON_SCHEDULE",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/telematics-sync.ts",
        "start": 13,
        "end": 31,
        "startLoc": {
          "line": 13,
          "column": 1,
          "position": 36
        },
        "endLoc": {
          "line": 31,
          "column": 25,
          "position": 172
        }
      },
      "secondFile": {
        "name": "api/src/jobs/webhook-renewal.job.ts",
        "start": 18,
        "end": 36,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 40
        },
        "endLoc": {
          "line": 36,
          "column": 30,
          "position": 176
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "// Configure logger\nconst logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || 'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.File",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/teams-sync.job.ts",
        "start": 22,
        "end": 30,
        "startLoc": {
          "line": 22,
          "column": 1,
          "position": 36
        },
        "endLoc": {
          "line": 30,
          "column": 5,
          "position": 112
        }
      },
      "secondFile": {
        "name": "api/src/jobs/webhook-renewal.job.ts",
        "start": 18,
        "end": 26,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 40
        },
        "endLoc": {
          "line": 26,
          "column": 8,
          "position": 116
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "// Configure logger\nconst logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || 'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.File({\n      filename: 'logs/scheduling-reminders.log'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/scheduling-reminders.job.ts",
        "start": 20,
        "end": 29,
        "startLoc": {
          "line": 20,
          "column": 1,
          "position": 36
        },
        "endLoc": {
          "line": 29,
          "column": 32,
          "position": 120
        }
      },
      "secondFile": {
        "name": "api/src/jobs/webhook-renewal.job.ts",
        "start": 18,
        "end": 31,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 40
        },
        "endLoc": {
          "line": 31,
          "column": 22,
          "position": 120
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n      maxsize: 10485760, // 10MB\n      maxFiles: 5\n    }),\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.colorize(),\n        winston.format.simple()\n      )\n    })\n  ]\n})\n\n// Configuration from environment\nconst CRON_SCHEDULE",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/scheduling-reminders.job.ts",
        "start": 29,
        "end": 43,
        "startLoc": {
          "line": 29,
          "column": 32,
          "position": 121
        },
        "endLoc": {
          "line": 43,
          "column": 14,
          "position": 202
        }
      },
      "secondFile": {
        "name": "api/src/jobs/teams-sync.job.ts",
        "start": 31,
        "end": 45,
        "startLoc": {
          "line": 31,
          "column": 22,
          "position": 121
        },
        "endLoc": {
          "line": 45,
          "column": 22,
          "position": 202
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ")\n\n    for (const hours of REMINDER_TIMES) {\n      const windowStart = new Date(Date.now() + (hours * 60 * 60 * 1000) - 15 * 60 * 1000)\n      const windowEnd = new Date(Date.now() + (hours * 60 * 60 * 1000) + 15 * 60 * 1000)\n\n      // Find maintenance appointments starting in the reminder window",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/scheduling-reminders.job.ts",
        "start": 197,
        "end": 203,
        "startLoc": {
          "line": 197,
          "column": 38,
          "position": 1181
        },
        "endLoc": {
          "line": 203,
          "column": 65,
          "position": 1297
        }
      },
      "secondFile": {
        "name": "api/src/jobs/scheduling-reminders.job.ts",
        "start": 95,
        "end": 101,
        "startLoc": {
          "line": 95,
          "column": 38,
          "position": 540
        },
        "endLoc": {
          "line": 101,
          "column": 53,
          "position": 656
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "]\n          )\n\n          let userReminderTimes = REMINDER_TIMES\n          if (prefsResult.rows.length > 0 && prefsResult.rows[0].reminder_times) {\n            userReminderTimes = prefsResult.rows[0].reminder_times\n          }\n\n          // Check if user wants this reminder time\n          if (!userReminderTimes.includes(hours)) {\n            logger.debug('User does not want reminder at this time', {\n              userId: appointment",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/scheduling-reminders.job.ts",
        "start": 247,
        "end": 258,
        "startLoc": {
          "line": 247,
          "column": 23,
          "position": 1478
        },
        "endLoc": {
          "line": 258,
          "column": 12,
          "position": 1571
        }
      },
      "secondFile": {
        "name": "api/src/jobs/scheduling-reminders.job.ts",
        "start": 140,
        "end": 151,
        "startLoc": {
          "line": 140,
          "column": 12,
          "position": 835
        },
        "endLoc": {
          "line": 151,
          "column": 12,
          "position": 928
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "// Configure logger\nconst logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || 'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.File({\n      filename: 'logs/report-scheduler.log'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/report-scheduler.job.ts",
        "start": 20,
        "end": 29,
        "startLoc": {
          "line": 20,
          "column": 1,
          "position": 36
        },
        "endLoc": {
          "line": 29,
          "column": 28,
          "position": 120
        }
      },
      "secondFile": {
        "name": "api/src/jobs/webhook-renewal.job.ts",
        "start": 18,
        "end": 31,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 40
        },
        "endLoc": {
          "line": 31,
          "column": 22,
          "position": 120
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "(queueName: 'email' | 'notification' | 'report', jobId: string) {\n  const queue = queueName === 'email' ? emailQueue : queueName === 'notification' ? notificationQueue : reportQueue\n  const job = await queue.getJob(jobId)\n\n  if (!job) {\n    throw new Error(`Job ${jobId} not found in queue ${queueName}`)\n  }\n\n  await job.remove",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/queue.ts",
        "start": 242,
        "end": 250,
        "startLoc": {
          "line": 242,
          "column": 10,
          "position": 1760
        },
        "endLoc": {
          "line": 250,
          "column": 7,
          "position": 1870
        }
      },
      "secondFile": {
        "name": "api/src/jobs/queue.ts",
        "start": 225,
        "end": 233,
        "startLoc": {
          "line": 225,
          "column": 15,
          "position": 1596
        },
        "endLoc": {
          "line": 233,
          "column": 6,
          "position": 1706
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "import cron from 'node-cron'\nimport winston from 'winston'\nimport pool from '../config/database'\nimport syncService from '../services/sync.service'\n\n// Configure logger\nconst logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || 'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.File({\n      filename: 'logs/outlook-sync.log'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/outlook-sync.job.ts",
        "start": 19,
        "end": 33,
        "startLoc": {
          "line": 19,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 33,
          "column": 24,
          "position": 120
        }
      },
      "secondFile": {
        "name": "api/src/jobs/teams-sync.job.ts",
        "start": 17,
        "end": 31,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 31,
          "column": 22,
          "position": 120
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n      maxsize: 10485760, // 10MB\n      maxFiles: 5\n    }),\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.colorize(),\n        winston.format.simple()\n      )\n    })\n  ]\n})\n\n// Configuration from environment\nconst SYNC_INTERVAL_MINUTES",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/outlook-sync.job.ts",
        "start": 33,
        "end": 47,
        "startLoc": {
          "line": 33,
          "column": 24,
          "position": 121
        },
        "endLoc": {
          "line": 47,
          "column": 22,
          "position": 202
        }
      },
      "secondFile": {
        "name": "api/src/jobs/teams-sync.job.ts",
        "start": 31,
        "end": 45,
        "startLoc": {
          "line": 31,
          "column": 22,
          "position": 121
        },
        "endLoc": {
          "line": 45,
          "column": 22,
          "position": 202
        }
      }
    },
    {
      "format": "typescript",
      "lines": 57,
      "fragment": ", { jobId })\n\n  try {\n    // Check if webhooks are healthy\n    const webhooksHealthy = await syncService.areWebhooksHealthy()\n\n    if (webhooksHealthy && USE_WEBHOOK_FALLBACK) {\n      logger.info('Webhooks are healthy, skipping polling sync', { jobId })\n      await logSyncJobMetrics(jobId, 'skipped', 0, 0, 0, Date.now() - startTime, {\n        reason: 'webhooks_healthy'\n      })\n      return\n    }\n\n    if (!webhooksHealthy && USE_WEBHOOK_FALLBACK) {\n      logger.warn('Webhooks are not healthy, falling back to polling', { jobId })\n    }\n\n    // Check if any users are online (optional optimization)\n    const hasActiveUsers = await checkActiveUsers()\n\n    if (!hasActiveUsers && process.env.SKIP_SYNC_NO_USERS === 'true') {\n      logger.info('No active users, skipping sync', { jobId })\n      await logSyncJobMetrics(jobId, 'skipped', 0, 0, 0, Date.now() - startTime, {\n        reason: 'no_active_users'\n      })\n      return\n    }\n\n    // Record job start\n    const jobRecordResult = await pool.query(\n      `INSERT INTO sync_jobs (job_type, status, started_at)\n       VALUES ('outlook_sync', 'running', NOW())\n       RETURNING id',\n      []\n    )\n    const jobRecordId = jobRecordResult.rows[0].id\n\n    // Sync all Outlook folders\n    const { totalSynced, totalErrors } = await syncService.syncAllOutlookFolders()\n\n    // Post-processing: AI categorization and receipt parsing\n    let categorizedCount = 0\n    let receiptsParsed = 0\n\n    if (ENABLE_AI_CATEGORIZATION && totalSynced > 0) {\n      categorizedCount = await categorizeNewEmails()\n    }\n\n    if (ENABLE_RECEIPT_PARSING && totalSynced > 0) {\n      receiptsParsed = await parseReceipts()\n    }\n\n    // Update job record\n    const duration = Date.now() - startTime\n    await pool.query(\n      `",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/outlook-sync.job.ts",
        "start": 69,
        "end": 125,
        "startLoc": {
          "line": 69,
          "column": 31,
          "position": 391
        },
        "endLoc": {
          "line": 125,
          "column": 8,
          "position": 658
        }
      },
      "secondFile": {
        "name": "api/src/jobs/teams-sync.job.ts",
        "start": 73,
        "end": 117,
        "startLoc": {
          "line": 73,
          "column": 29,
          "position": 453
        },
        "endLoc": {
          "line": 117,
          "column": 8,
          "position": 720
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "import pool from '../config/database'\n\n// Configure logger\nconst logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || 'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.colorize(),\n        winston.format.simple()\n      )\n    })\n  ]\n})\n\n// Configuration from environment\nconst CRON_SCHEDULE = process.env.MAINTENANCE_CRON_SCHEDULE",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/maintenance-scheduler.ts",
        "start": 11,
        "end": 31,
        "startLoc": {
          "line": 11,
          "column": 1,
          "position": 34
        },
        "endLoc": {
          "line": 31,
          "column": 26,
          "position": 179
        }
      },
      "secondFile": {
        "name": "api/src/jobs/webhook-renewal.job.ts",
        "start": 16,
        "end": 36,
        "startLoc": {
          "line": 16,
          "column": 1,
          "position": 31
        },
        "endLoc": {
          "line": 36,
          "column": 30,
          "position": 176
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "})\n\n  // Validate cron expression\n  if (!cron.validate(CRON_SCHEDULE)) {\n    logger.error(`Invalid cron schedule expression`, { schedule: CRON_SCHEDULE })\n    throw new Error(`Invalid cron schedule: ${CRON_SCHEDULE}`)\n  }\n\n  // Schedule the job\n  const task = cron.schedule(\n    CRON_SCHEDULE,\n    async () => {\n      await runMaintenanceScheduler",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/maintenance-scheduler.ts",
        "start": 223,
        "end": 235,
        "startLoc": {
          "line": 223,
          "column": 3,
          "position": 1400
        },
        "endLoc": {
          "line": 235,
          "column": 24,
          "position": 1490
        }
      },
      "secondFile": {
        "name": "api/src/jobs/scheduling-reminders.job.ts",
        "start": 392,
        "end": 404,
        "startLoc": {
          "line": 392,
          "column": 3,
          "position": 2266
        },
        "endLoc": {
          "line": 404,
          "column": 23,
          "position": 2356
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "// Configure logger\nconst logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || 'info',\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [\n    new winston.transports.File({\n      filename: 'logs/alert-checker.log'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/alert-checker.job.ts",
        "start": 22,
        "end": 31,
        "startLoc": {
          "line": 22,
          "column": 1,
          "position": 36
        },
        "endLoc": {
          "line": 31,
          "column": 25,
          "position": 120
        }
      },
      "secondFile": {
        "name": "api/src/jobs/webhook-renewal.job.ts",
        "start": 18,
        "end": 31,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 40
        },
        "endLoc": {
          "line": 31,
          "column": 22,
          "position": 120
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n      maxsize: 10485760, // 10MB\n      maxFiles: 5\n    }),\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.colorize(),\n        winston.format.simple()\n      )\n    })\n  ]\n})\n\n// Configuration from environment\nconst CRON_SCHEDULE = process.env.ALERT_CHECKER_CRON_SCHEDULE",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/alert-checker.job.ts",
        "start": 31,
        "end": 45,
        "startLoc": {
          "line": 31,
          "column": 25,
          "position": 121
        },
        "endLoc": {
          "line": 45,
          "column": 28,
          "position": 210
        }
      },
      "secondFile": {
        "name": "api/src/jobs/teams-sync.job.ts",
        "start": 31,
        "end": 43,
        "startLoc": {
          "line": 31,
          "column": 22,
          "position": 121
        },
        "endLoc": {
          "line": 43,
          "column": 26,
          "position": 210
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "} catch (error: any) {\n        logger.error(`Error processing tenant ${tenant.name}`, {\n          tenantId: tenant.id,\n          error: error.message,\n          stack: error.stack\n        })\n        totalErrors++\n      }\n    }\n\n    const duration = Date.now() - startTime\n    logger.info(`=== Alert Checker Completed ===`",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/alert-checker.job.ts",
        "start": 93,
        "end": 104,
        "startLoc": {
          "line": 93,
          "column": 7,
          "position": 531
        },
        "endLoc": {
          "line": 104,
          "column": 34,
          "position": 623
        }
      },
      "secondFile": {
        "name": "api/src/jobs/maintenance-scheduler.ts",
        "start": 96,
        "end": 107,
        "startLoc": {
          "line": 96,
          "column": 7,
          "position": 680
        },
        "endLoc": {
          "line": 107,
          "column": 42,
          "position": 772
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ",\n    timezone: process.env.TZ || 'UTC'\n  })\n\n  // Validate cron expression\n  if (!cron.validate(CRON_SCHEDULE)) {\n    logger.error(`Invalid cron schedule expression`, { schedule: CRON_SCHEDULE })\n    throw new Error(`Invalid cron schedule: ${CRON_SCHEDULE}`)\n  }\n\n  // Schedule the job\n  const task = cron.schedule(\n    CRON_SCHEDULE,\n    async () => {\n      await runAlertChecker",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/jobs/alert-checker.job.ts",
        "start": 212,
        "end": 226,
        "startLoc": {
          "line": 212,
          "column": 14,
          "position": 1276
        },
        "endLoc": {
          "line": 226,
          "column": 16,
          "position": 1383
        }
      },
      "secondFile": {
        "name": "api/src/jobs/maintenance-scheduler.ts",
        "start": 221,
        "end": 404,
        "startLoc": {
          "line": 221,
          "column": 11,
          "position": 1383
        },
        "endLoc": {
          "line": 404,
          "column": 23,
          "position": 2356
        }
      }
    },
    {
      "format": "typescript",
      "lines": 65,
      "fragment": "export interface RadioChannel {\n  id: string\n  name: string\n  frequency: string\n  type: 'dispatch' | 'emergency' | 'tactical' | 'maintenance' | 'common'\n  priority: number\n  encryption: boolean\n  maxUsers: number\n  currentUsers: number\n  activeSpeaker: string | null\n  talkGroup?: string\n}\n\nexport interface RadioTransmission {\n  id: string\n  vehicleId: string\n  driverId?: string\n  channelId: string\n  timestamp: Date\n  duration: number // milliseconds\n  signalStrength: number // 0-100\n  audioQuality: number // 0-100\n  interference: number // 0-100\n  location: Location\n  distance?: number // distance from base station (meters)\n  priority: 'routine' | 'urgent' | 'emergency'\n  transmissionType: 'voice' | 'tone' | 'data'\n  message?: string\n  isEmergency: boolean\n}\n\nexport interface PTTEvent {\n  vehicleId: string\n  channelId: string\n  timestamp: Date\n  eventType: 'press' | 'release' | 'timeout'\n  signalStrength: number\n  location: Location\n  metadata?: Record<string, any>\n}\n\nexport interface RadioState {\n  vehicleId: string\n  currentChannel: string\n  isPTTPressed: boolean\n  isTransmitting: boolean\n  lastTransmission: Date | null\n  totalTransmissions: number\n  totalTransmitTime: number // milliseconds\n  signalStrength: number\n  batteryLevel: number\n  isEmergencyMode: boolean\n}\n\nexport interface AudioStreamData {\n  transmissionId: string\n  timestamp: Date\n  sampleRate: number // Hz\n  bitDepth: number\n  channels: number\n  audioData: Buffer // Simulated audio bytes\n  codec: 'pcm' | 'opus' | 'g711'\n}\n\n// Dispatch Radio Types",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/types.ts",
        "start": 314,
        "end": 378,
        "startLoc": {
          "line": 314,
          "column": 1,
          "position": 2054
        },
        "endLoc": {
          "line": 378,
          "column": 24,
          "position": 2486
        }
      },
      "secondFile": {
        "name": "api/src/emulators/radio/RadioEmulator.ts",
        "start": 32,
        "end": 96,
        "startLoc": {
          "line": 32,
          "column": 1,
          "position": 51
        },
        "endLoc": {
          "line": 96,
          "column": 7,
          "position": 483
        }
      }
    },
    {
      "format": "typescript",
      "lines": 44,
      "fragment": "= {\n    emulator: {\n      version: '1.0.0',\n      name: 'Inventory Test',\n      description: 'Test inventory emulator'\n    },\n    timeCompression: {\n      enabled: false,\n      ratio: 1,\n      description: 'No compression'\n    },\n    persistence: {\n      enabled: false,\n      database: 'test',\n      redis: {\n        enabled: false,\n        ttl: 3600\n      }\n    },\n    realtime: {\n      websocket: {\n        enabled: false,\n        port: 8080,\n        path: '/ws'\n      },\n      broadcasting: {\n        interval: 1000,\n        batchSize: 10\n      }\n    },\n    performance: {\n      maxVehicles: 100,\n      maxConcurrentEmulators: 10,\n      updateInterval: 5000,\n      memoryLimit: '1GB'\n    },\n    emulators: {\n      gps: {\n        updateIntervalMs: 5000\n      }\n    }\n  }\n\n  // Initialize emulator",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/test-inventory-emulator.ts",
        "start": 13,
        "end": 56,
        "startLoc": {
          "line": 13,
          "column": 2,
          "position": 60
        },
        "endLoc": {
          "line": 56,
          "column": 23,
          "position": 298
        }
      },
      "secondFile": {
        "name": "api/src/emulators/__tests__/InventoryEmulator.test.ts",
        "start": 15,
        "end": 58,
        "startLoc": {
          "line": 15,
          "column": 2,
          "position": 99
        },
        "endLoc": {
          "line": 58,
          "column": 9,
          "position": 337
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ");\n\n    if (allCompleted) {\n      route.status = 'completed';\n      route.endTime = new Date();\n      route.actualDuration = Math.floor((route.endTime.getTime() - route.startTime.getTime()) / 60000);\n    } else if (anyInProgress || route",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/RouteEmulator.ts",
        "start": 505,
        "end": 511,
        "startLoc": {
          "line": 505,
          "column": 14,
          "position": 5586
        },
        "endLoc": {
          "line": 511,
          "column": 6,
          "position": 5672
        }
      },
      "secondFile": {
        "name": "api/src/emulators/RouteEmulator.ts",
        "start": 433,
        "end": 439,
        "startLoc": {
          "line": 433,
          "column": 12,
          "position": 4789
        },
        "endLoc": {
          "line": 439,
          "column": 13,
          "position": 4875
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ",\n      quantity: quantity,\n      unitCost: item.unitCost,\n      totalCost: Number((item.unitCost * quantity).toFixed(2)),\n      userId: `USR-${faker.number.int({ min: 1, max: 50 })}`,\n      userName: faker.person.fullName(),\n      reason: 'Work order cancelled - parts not needed'",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/InventoryEmulator.ts",
        "start": 741,
        "end": 747,
        "startLoc": {
          "line": 741,
          "column": 9,
          "position": 8831
        },
        "endLoc": {
          "line": 747,
          "column": 42,
          "position": 8916
        }
      },
      "secondFile": {
        "name": "api/src/emulators/InventoryEmulator.ts",
        "start": 701,
        "end": 643,
        "startLoc": {
          "line": 701,
          "column": 11,
          "position": 8349
        },
        "endLoc": {
          "line": 643,
          "column": 25,
          "position": 7699
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(lat2)) *\n      Math.sin(dLng / 2) * Math.sin(dLng / 2)\n\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n\n    return R * c\n  }\n\n  /**\n   * Calculate bearing between two coordinates\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/emulators/GPSEmulator.ts",
        "start": 412,
        "end": 422,
        "startLoc": {
          "line": 412,
          "column": 6,
          "position": 3077
        },
        "endLoc": {
          "line": 422,
          "column": 6,
          "position": 3160
        }
      },
      "secondFile": {
        "name": "api/src/emulators/mobile/FuelReceiptGenerator.ts",
        "start": 331,
        "end": 338,
        "startLoc": {
          "line": 331,
          "column": 10,
          "position": 2502
        },
        "endLoc": {
          "line": 338,
          "column": 8,
          "position": 2584
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ");\n      span.setStatus({ code: SpanStatusCode.OK });\n      return result;\n    } catch (error: any) {\n      span.recordException(error);\n      span.setStatus({\n        code: SpanStatusCode.ERROR,\n        message: error.message,\n      });\n      throw error;\n    } finally {\n      span.end();\n    }\n  });\n}",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/config/telemetry.ts",
        "start": 178,
        "end": 192,
        "startLoc": {
          "line": 178,
          "column": 2,
          "position": 1242
        },
        "endLoc": {
          "line": 192,
          "column": 2,
          "position": 1351
        }
      },
      "secondFile": {
        "name": "api/src/config/telemetry.ts",
        "start": 137,
        "end": 151,
        "startLoc": {
          "line": 137,
          "column": 5,
          "position": 959
        },
        "endLoc": {
          "line": 151,
          "column": 2,
          "position": 1069
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}\n\n  /**\n   * Setup configurations for different pool types\n   */\n  private setupConfigurations(): void {\n    const baseConfig = {\n      host: process.env.DB_HOST || 'fleet-postgres-service',\n      port: parseInt(process.env.DB_PORT || '5432'),\n      database: process.env.DB_NAME || 'fleetdb',\n      ssl: getDatabaseSSLConfig(),\n      // TCP keepalive to prevent idle connection timeouts in AKS/Azure Load Balancer\n      keepAlive: true,\n      keepAliveInitialDelayMillis: 10000\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/config/connection-manager.ts",
        "start": 62,
        "end": 76,
        "startLoc": {
          "line": 62,
          "column": 3,
          "position": 370
        },
        "endLoc": {
          "line": 76,
          "column": 2,
          "position": 471
        }
      },
      "secondFile": {
        "name": "api/src/database/connectionManager.ts",
        "start": 133,
        "end": 146,
        "startLoc": {
          "line": 133,
          "column": 3,
          "position": 816
        },
        "endLoc": {
          "line": 146,
          "column": 2,
          "position": 915
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "{\n        ...baseConfig,\n        host: readReplicaHost,\n        user: process.env.DB_READONLY_USER || process.env.DB_USER || 'fleetadmin',\n        password: process.env.DB_READONLY_PASSWORD || process.env.DB_PASSWORD || '',\n        max: parseInt(process.env.DB_READ_REPLICA_POOL_SIZE || '50'),\n        idleTimeoutMillis",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/config/connection-manager.ts",
        "start": 124,
        "end": 130,
        "startLoc": {
          "line": 124,
          "column": 2,
          "position": 918
        },
        "endLoc": {
          "line": 130,
          "column": 18,
          "position": 997
        }
      },
      "secondFile": {
        "name": "api/src/database/connectionManager.ts",
        "start": 212,
        "end": 218,
        "startLoc": {
          "line": 212,
          "column": 2,
          "position": 1554
        },
        "endLoc": {
          "line": 218,
          "column": 4,
          "position": 1633
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "const { pool } = require('../database')\n    pool.query.mockResolvedValue({\n      rows: mockVehicles.map(v => ({\n        id: v.id,\n        unit_number: v.unitNumber,\n        vehicle_type: v.vehicleType,\n        status: v.status,\n        lat: v.currentLocation?.lat,\n        lng: v.currentLocation?.lng,\n        capabilities: v.capabilities,\n        assigned_driver_id: v.assignedDriverId,\n        last_maintenance_date: v.lastMaintenanceDate\n      }))\n    })\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/__tests__/ai-dispatch.test.ts",
        "start": 564,
        "end": 579,
        "startLoc": {
          "line": 564,
          "column": 5,
          "position": 4023
        },
        "endLoc": {
          "line": 579,
          "column": 6,
          "position": 4159
        }
      },
      "secondFile": {
        "name": "api/src/__tests__/ai-dispatch.test.ts",
        "start": 191,
        "end": 205,
        "startLoc": {
          "line": 191,
          "column": 5,
          "position": 1265
        },
        "endLoc": {
          "line": 205,
          "column": 2,
          "position": 1400
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ")\n\n  server.close(async () => {\n    // Close Bull queues gracefully\n    await closeAllQueues()\n\n    // Flush both monitoring services\n    await Promise.all([\n      telemetryService.flush(),\n      sentryService.flush(5000)\n    ])\n    console.log('Server closed gracefully')\n    process.exit(0)\n  })\n})",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server.ts",
        "start": 529,
        "end": 543,
        "startLoc": {
          "line": 529,
          "column": 67,
          "position": 3626
        },
        "endLoc": {
          "line": 543,
          "column": 2,
          "position": 3707
        }
      },
      "secondFile": {
        "name": "api/src/server.ts",
        "start": 512,
        "end": 526,
        "startLoc": {
          "line": 512,
          "column": 68,
          "position": 3520
        },
        "endLoc": {
          "line": 526,
          "column": 2,
          "position": 3601
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ")\n\n// Add telemetry middleware\napp.use(telemetryMiddleware)\n\n// Add performance monitoring (sample 1 in 100 requests to avoid overhead)\napp.use((req, res, next) => {\n  if (Math.random() < 0.01) {\n    performanceMiddleware(req, res, next)\n  } else {\n    next()\n  }\n})\n\n// Health check",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server.original.ts",
        "start": 72,
        "end": 86,
        "startLoc": {
          "line": 72,
          "column": 2,
          "position": 490
        },
        "endLoc": {
          "line": 86,
          "column": 16,
          "position": 571
        }
      },
      "secondFile": {
        "name": "api/src/server.ts",
        "start": 230,
        "end": 244,
        "startLoc": {
          "line": 230,
          "column": 14,
          "position": 1466
        },
        "endLoc": {
          "line": 244,
          "column": 23,
          "position": 1547
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": ", res) => {\n  res.json({\n    status: 'ok',\n    timestamp: new Date().toISOString(),\n    monitoring: {\n      applicationInsights: telemetryService.isActive() ? 'enabled' : 'disabled',\n      sentry: process.env.SENTRY_DSN ? 'enabled' : 'disabled'\n    }\n  })\n})\n\n// Test Sentry endpoint (only in development)\nif (process.env.NODE_ENV === 'development') {\n  app.get('/api/test-sentry', (req, res) => {\n    sentryService.addBreadcrumb('Test Sentry endpoint accessed', 'test', {\n      query: req.query\n    })\n\n    if (req.query.type === 'message') {\n      sentryService.captureMessage('Test message from Fleet API', 'info')\n      res.json({ success: true, message: 'Test message sent to Sentry' })\n    } else {\n      throw new Error('Test error from Fleet API - This is intentional!')\n    }\n  })\n}\n\n// API routes",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server.original.ts",
        "start": 87,
        "end": 114,
        "startLoc": {
          "line": 87,
          "column": 4,
          "position": 582
        },
        "endLoc": {
          "line": 114,
          "column": 14,
          "position": 813
        }
      },
      "secondFile": {
        "name": "api/src/server.ts",
        "start": 250,
        "end": 277,
        "startLoc": {
          "line": 250,
          "column": 5,
          "position": 1600
        },
        "endLoc": {
          "line": 277,
          "column": 80,
          "position": 1831
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "app.use('/api/vehicles', vehiclesRouter)\napp.use('/api/drivers', driversRouter)\napp.use('/api/fuel-transactions', fuelRouter)\napp.use('/api/maintenance', maintenanceRouter)\napp.use('/api/incidents', incidentsRouter)\napp.use('/api/parts', partsRouter)\napp.use('/api/vendors', vendorsRouter)\napp.use('/api/invoices', invoicesRouter)\napp.use('/api/purchase-orders', purchaseOrdersRouter)\napp.use('/api/tasks', tasksRouter)\napp",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server.original.ts",
        "start": 115,
        "end": 125,
        "startLoc": {
          "line": 115,
          "column": 1,
          "position": 815
        },
        "endLoc": {
          "line": 125,
          "column": 4,
          "position": 915
        }
      },
      "secondFile": {
        "name": "api/src/server.ts",
        "start": 282,
        "end": 293,
        "startLoc": {
          "line": 282,
          "column": 1,
          "position": 1840
        },
        "endLoc": {
          "line": 293,
          "column": 27,
          "position": 1941
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ")\n\n// Sentry error handler must be the last middleware\napp.use(sentryErrorHandler())\n\n// Track emulator initialization if present\nconst initializeEmulatorTracking = () => {\n  // Track emulator updates every minute if telemetry is active\n  if (telemetryService.isActive()) {\n    setInterval(() => {\n      // Track basic emulator status\n      telemetryService.trackEvent('EmulatorHeartbeat', {\n        timestamp: new Date().toISOString(),\n        uptime: process.uptime(),\n        memoryUsage: Math.round(process.memoryUsage().heapUsed / 1024 / 1024)\n      })\n    }, 60000) // Every minute\n  }\n}\n\nconst",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server.original.ts",
        "start": 131,
        "end": 151,
        "startLoc": {
          "line": 131,
          "column": 25,
          "position": 945
        },
        "endLoc": {
          "line": 151,
          "column": 6,
          "position": 1084
        }
      },
      "secondFile": {
        "name": "api/src/server.ts",
        "start": 430,
        "end": 452,
        "startLoc": {
          "line": 430,
          "column": 13,
          "position": 2941
        },
        "endLoc": {
          "line": 452,
          "column": 4,
          "position": 3080
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "}\n\nconst server = app.listen(PORT, () => {\n  console.log(` Server running on http://localhost:${PORT}`)\n  console.log(` Application Insights: ${telemetryService.isActive() ? 'Enabled' : 'Disabled'}`)\n  console.log(` Sentry: ${process.env.SENTRY_DSN ? 'Enabled' : 'Disabled (no DSN configured)'}`)\n  console.log(` Environment: ${process.env.NODE_ENV || 'development'}`)\n\n  // Track server startup in both monitoring systems",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server.original.ts",
        "start": 149,
        "end": 157,
        "startLoc": {
          "line": 149,
          "column": 1,
          "position": 1081
        },
        "endLoc": {
          "line": 157,
          "column": 51,
          "position": 1186
        }
      },
      "secondFile": {
        "name": "api/src/server.ts",
        "start": 475,
        "end": 483,
        "startLoc": {
          "line": 475,
          "column": 1,
          "position": 3229
        },
        "endLoc": {
          "line": 483,
          "column": 61,
          "position": 3334
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": "})\n\n  // Also track in Sentry\n  sentryService.captureMessage('Server started successfully', 'info')\n  sentryService.addBreadcrumb('Server startup', 'lifecycle', {\n    port: PORT,\n    environment: process.env.NODE_ENV || 'development'\n  })\n\n  // Initialize emulator tracking\n  initializeEmulatorTracking()\n})\n\n// Graceful shutdown\nprocess.on('SIGTERM', async () => {\n  console.log(' SIGTERM signal received: flushing telemetry and closing server')\n\n  server.close(async () => {\n    // Flush both monitoring services",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server.original.ts",
        "start": 164,
        "end": 182,
        "startLoc": {
          "line": 164,
          "column": 3,
          "position": 1253
        },
        "endLoc": {
          "line": 182,
          "column": 34,
          "position": 1364
        }
      },
      "secondFile": {
        "name": "api/src/server.ts",
        "start": 497,
        "end": 515,
        "startLoc": {
          "line": 497,
          "column": 3,
          "position": 3427
        },
        "endLoc": {
          "line": 515,
          "column": 32,
          "position": 3538
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "// Flush both monitoring services\n    await Promise.all([\n      telemetryService.flush(),\n      sentryService.flush(5000)\n    ])\n    console.log('Server closed gracefully')\n    process.exit(0)\n  })\n})\n\nprocess.on('SIGINT', async () => {\n  console.log(' SIGINT signal received: flushing telemetry and closing server')\n\n  server.close(async () => {\n    // Flush both monitoring services",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server.original.ts",
        "start": 182,
        "end": 196,
        "startLoc": {
          "line": 182,
          "column": 5,
          "position": 1364
        },
        "endLoc": {
          "line": 196,
          "column": 34,
          "position": 1459
        }
      },
      "secondFile": {
        "name": "api/src/server.ts",
        "start": 518,
        "end": 532,
        "startLoc": {
          "line": 518,
          "column": 5,
          "position": 3549
        },
        "endLoc": {
          "line": 532,
          "column": 32,
          "position": 3644
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "// API routes\napp.use('/api/vehicles', vehiclesRouter)\napp.use('/api/drivers', driversRouter)\napp.use('/api/fuel-transactions', fuelRouter)\napp.use('/api/maintenance', maintenanceRouter)\napp.use('/api/incidents', incidentsRouter)\napp.use('/api/parts', partsRouter)\napp.use('/api/vendors', vendorsRouter)\napp.use('/api/invoices', invoicesRouter)\napp.use('/api/purchase-orders', purchaseOrdersRouter)\napp.use('/api/tasks', tasksRouter)\napp.use('/api/personal-use-charges', chargesRouter)\napp",
      "tokens": 0,
      "firstFile": {
        "name": "api/src/server-gps.ts",
        "start": 32,
        "end": 44,
        "startLoc": {
          "line": 32,
          "column": 1,
          "position": 229
        },
        "endLoc": {
          "line": 44,
          "column": 4,
          "position": 341
        }
      },
      "secondFile": {
        "name": "api/src/server.original.ts",
        "start": 114,
        "end": 127,
        "startLoc": {
          "line": 114,
          "column": 1,
          "position": 813
        },
        "endLoc": {
          "line": 127,
          "column": 49,
          "position": 926
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</p>\n            <p className=\"text-sm text-muted-foreground mt-1\">fleet average</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <div className=\"p-2 rounded-lg bg-warning/10 text-warning",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/FleetAnalytics/components/KPIsTab.tsx",
        "start": 43,
        "end": 51,
        "startLoc": {
          "line": 43,
          "column": 4,
          "position": 349
        },
        "endLoc": {
          "line": 51,
          "column": 42,
          "position": 415
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetAnalytics/components/KPIsTab.tsx",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 2,
          "position": 225
        },
        "endLoc": {
          "line": 38,
          "column": 40,
          "position": 291
        }
      }
    },
    {
      "format": "javascript",
      "lines": 44,
      "fragment": "}>\n                  {v.number} - {v.make} {v.model}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Chart Placeholder */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-lg\">Fuel Consumption Trend</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"h-48 flex items-center justify-center border-2 border-dashed border-muted rounded-lg\">\n            <div className=\"text-center text-muted-foreground\">\n              <ChartLine className=\"w-12 h-12 mx-auto mb-2 opacity-50\" aria-hidden=\"true\" />\n              <p>Chart visualization placeholder</p>\n              <p className=\"text-sm\">Line chart showing fuel consumption over last {dateRange} days</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Fuel Records Table */}\n      <Card>\n        <CardContent className=\"p-0\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\" role=\"table\" aria-label=\"Fuel consumption records\">\n              <thead className=\"border-b bg-muted/50\">\n                <tr>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"vehicleNumber\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"vehicleNumber\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Vehicle\n                    <SortIcon field=\"vehicleNumber\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"date\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 157,
        "end": 200,
        "startLoc": {
          "line": 157,
          "column": 7,
          "position": 1687
        },
        "endLoc": {
          "line": 200,
          "column": 7,
          "position": 2078
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx",
        "start": 153,
        "end": 177,
        "startLoc": {
          "line": 153,
          "column": 18,
          "position": 1382
        },
        "endLoc": {
          "line": 177,
          "column": 14,
          "position": 1610
        }
      }
    },
    {
      "format": "javascript",
      "lines": 17,
      "fragment": " ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Vehicle\n                    <SortIcon field=\"vehicleNumber\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"date\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"date\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Date\n                    <SortIcon field=\"date\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"gallons\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 193,
        "end": 209,
        "startLoc": {
          "line": 193,
          "column": 16,
          "position": 2001
        },
        "endLoc": {
          "line": 209,
          "column": 10,
          "position": 2172
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx",
        "start": 179,
        "end": 195,
        "startLoc": {
          "line": 179,
          "column": 14,
          "position": 1627
        },
        "endLoc": {
          "line": 195,
          "column": 7,
          "position": 1800
        }
      }
    },
    {
      "format": "javascript",
      "lines": 17,
      "fragment": " ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Gallons\n                    <SortIcon field=\"gallons\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"cost\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"cost\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Cost\n                    <SortIcon field=\"cost\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"odometer\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 211,
        "end": 227,
        "startLoc": {
          "line": 211,
          "column": 10,
          "position": 2189
        },
        "endLoc": {
          "line": 227,
          "column": 11,
          "position": 2360
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx",
        "start": 188,
        "end": 204,
        "startLoc": {
          "line": 188,
          "column": 7,
          "position": 1723
        },
        "endLoc": {
          "line": 204,
          "column": 9,
          "position": 1894
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "\">\n              <thead className=\"border-b bg-muted/50\">\n                <tr>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"vehicleNumber\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"vehicleNumber\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Vehicle\n                    <SortIcon field=\"vehicleNumber\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"date\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"date\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Date",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 186,
        "end": 204,
        "startLoc": {
          "line": 186,
          "column": 25,
          "position": 1945
        },
        "endLoc": {
          "line": 204,
          "column": 5,
          "position": 2121
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx",
        "start": 163,
        "end": 181,
        "startLoc": {
          "line": 163,
          "column": 20,
          "position": 1477
        },
        "endLoc": {
          "line": 181,
          "column": 8,
          "position": 1653
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"date\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"date\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Date\n                    <SortIcon field=\"date\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"gallons\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"gallons\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Gallons",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 196,
        "end": 213,
        "startLoc": {
          "line": 196,
          "column": 14,
          "position": 2037
        },
        "endLoc": {
          "line": 213,
          "column": 8,
          "position": 2215
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx",
        "start": 182,
        "end": 199,
        "startLoc": {
          "line": 182,
          "column": 12,
          "position": 1665
        },
        "endLoc": {
          "line": 199,
          "column": 5,
          "position": 1843
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"cost\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"cost\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Cost\n                    <SortIcon field=\"cost\" currentField={sortField} direction={sortDirection} />\n                  </th>\n                  <th\n                    className=\"text-left p-4 font-medium cursor-pointer hover:bg-muted/70\"\n                    onClick={() => handleSort(\"odometer\")}\n                    scope=\"col\"\n                    aria-sort={sortField === \"odometer\" ? (sortDirection === \"asc\" ? \"ascending\" : \"descending\") : \"none\"}\n                  >\n                    Odometer",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 214,
        "end": 231,
        "startLoc": {
          "line": 214,
          "column": 8,
          "position": 2225
        },
        "endLoc": {
          "line": 231,
          "column": 9,
          "position": 2403
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx",
        "start": 191,
        "end": 208,
        "startLoc": {
          "line": 191,
          "column": 5,
          "position": 1759
        },
        "endLoc": {
          "line": 208,
          "column": 7,
          "position": 1937
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ".slice(0, 20).map(record => (\n                  <tr key={record.id} className=\"border-b hover:bg-muted/50 transition-colors\">\n                    <td className=\"p-4\">\n                      <p className=\"font-medium\">{record.vehicleNumber}</p>\n                      <p className=\"text-sm text-muted-foreground\">{record.vehicleName}</p>\n                    </td>\n                    <td className=\"p-4\">\n                      {new",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 247,
        "end": 254,
        "startLoc": {
          "line": 247,
          "column": 18,
          "position": 2567
        },
        "endLoc": {
          "line": 254,
          "column": 4,
          "position": 2670
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/MaintenanceTab.tsx",
        "start": 215,
        "end": 221,
        "startLoc": {
          "line": 215,
          "column": 25,
          "position": 2009
        },
        "endLoc": {
          "line": 221,
          "column": 7,
          "position": 2110
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n                  {vehicles.slice(0, 10).map(v => (\n                    <SelectItem key={v.id} value={v.id}>\n                      {v.number} - {v.make} {v.model}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/DataWorkbenchDialogs.tsx",
        "start": 394,
        "end": 403,
        "startLoc": {
          "line": 394,
          "column": 14,
          "position": 3357
        },
        "endLoc": {
          "line": 403,
          "column": 2,
          "position": 3447
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 155,
        "end": 164,
        "startLoc": {
          "line": 155,
          "column": 11,
          "position": 1647
        },
        "endLoc": {
          "line": 164,
          "column": 3,
          "position": 1737
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"7\">7 days</SelectItem>\n            <SelectItem value=\"30\">30 days</SelectItem>\n            <SelectItem value=\"60\">60 days</SelectItem>\n            <SelectItem value=\"90\">90 days</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/AnalyticsTab.tsx",
        "start": 91,
        "end": 103,
        "startLoc": {
          "line": 91,
          "column": 5,
          "position": 1004
        },
        "endLoc": {
          "line": 103,
          "column": 38,
          "position": 1114
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 137,
        "end": 148,
        "startLoc": {
          "line": 137,
          "column": 35,
          "position": 1447
        },
        "endLoc": {
          "line": 148,
          "column": 24,
          "position": 1556
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"h-64 flex items-center justify-center border-2 border-dashed border-muted rounded-lg\">\n            <div className=\"text-center text-muted-foreground\">\n              <ChartLine className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\n              <p>Chart visualization placeholder</p>\n              <p className=\"text-sm\">Line",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/AnalyticsTab.tsx",
        "start": 294,
        "end": 301,
        "startLoc": {
          "line": 294,
          "column": 7,
          "position": 2954
        },
        "endLoc": {
          "line": 301,
          "column": 5,
          "position": 3025
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/AnalyticsTab.tsx",
        "start": 208,
        "end": 215,
        "startLoc": {
          "line": 208,
          "column": 12,
          "position": 2016
        },
        "endLoc": {
          "line": 215,
          "column": 4,
          "position": 2087
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ";\n      const document = createMockDocument(maliciousCode);\n\n      const { container } = render(<CodeViewer document={document} />);\n\n      await waitFor(() => {\n        const codeContent = container.querySelector('pre');\n        const html = codeContent?.innerHTML || '';\n        expect(html).not.toContain('javascript:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx",
        "start": 62,
        "end": 70,
        "startLoc": {
          "line": 62,
          "column": 42,
          "position": 589
        },
        "endLoc": {
          "line": 70,
          "column": 14,
          "position": 686
        }
      },
      "secondFile": {
        "name": "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx",
        "start": 48,
        "end": 56,
        "startLoc": {
          "line": 48,
          "column": 31,
          "position": 440
        },
        "endLoc": {
          "line": 56,
          "column": 10,
          "position": 537
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ";\n      const document = createMockDocument(maliciousCode);\n\n      const { container } = render(<CodeViewer document={document} />);\n\n      await waitFor(() => {\n        const codeContent = container.querySelector('pre');\n        const html = codeContent?.innerHTML || '';\n        expect(html).not.toContain('<script>'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx",
        "start": 150,
        "end": 158,
        "startLoc": {
          "line": 150,
          "column": 45,
          "position": 1408
        },
        "endLoc": {
          "line": 158,
          "column": 11,
          "position": 1505
        }
      },
      "secondFile": {
        "name": "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx",
        "start": 48,
        "end": 56,
        "startLoc": {
          "line": 48,
          "column": 31,
          "position": 440
        },
        "endLoc": {
          "line": 56,
          "column": 10,
          "position": 537
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ");\n\n      const { container } = render(<CodeViewer document={document} />);\n\n      await waitFor(() => {\n        const codeContent = container.querySelector('pre');\n        const html = codeContent?.innerHTML || '';\n        expect(html).not.toContain('javascript:');\n        expect(html).not.toContain('onload='",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx",
        "start": 164,
        "end": 172,
        "startLoc": {
          "line": 164,
          "column": 9,
          "position": 1555
        },
        "endLoc": {
          "line": 172,
          "column": 10,
          "position": 1654
        }
      },
      "secondFile": {
        "name": "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx",
        "start": 49,
        "end": 71,
        "startLoc": {
          "line": 49,
          "column": 14,
          "position": 452
        },
        "endLoc": {
          "line": 71,
          "column": 8,
          "position": 700
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ";\n      const document = createMockDocument(maliciousCode);\n\n      const { container } = render(<CodeViewer document={document} />);\n\n      await waitFor(() => {\n        const codeContent = container.querySelector('pre');\n        const html = codeContent?.innerHTML || '';\n        expect(html.",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx",
        "start": 178,
        "end": 186,
        "startLoc": {
          "line": 178,
          "column": 28,
          "position": 1706
        },
        "endLoc": {
          "line": 186,
          "column": 2,
          "position": 1797
        }
      },
      "secondFile": {
        "name": "src/components/documents/viewer/__tests__/CodeViewer.security.test.tsx",
        "start": 48,
        "end": 56,
        "startLoc": {
          "line": 48,
          "column": 31,
          "position": 440
        },
        "endLoc": {
          "line": 56,
          "column": 2,
          "position": 531
        }
      }
    },
    {
      "format": "javascript",
      "lines": 37,
      "fragment": "}>{Math.round(liveData.engineRPM)}</Text>\n                  </View>\n                )}\n                {liveData.vehicleSpeed !== undefined && (\n                  <View style={styles.liveDataItem}>\n                    <Text style={styles.liveDataLabel}>Speed</Text>\n                    <Text style={styles.liveDataValue}>{Math.round(liveData.vehicleSpeed)} km/h</Text>\n                  </View>\n                )}\n                {liveData.coolantTemp !== undefined && (\n                  <View style={styles.liveDataItem}>\n                    <Text style={styles.liveDataLabel}>Coolant</Text>\n                    <Text style={styles.liveDataValue}>{Math.round(liveData.coolantTemp)}C</Text>\n                  </View>\n                )}\n                {liveData.throttlePosition !== undefined && (\n                  <View style={styles.liveDataItem}>\n                    <Text style={styles.liveDataLabel}>Throttle</Text>\n                    <Text style={styles.liveDataValue}>{Math.round(liveData.throttlePosition)}%</Text>\n                  </View>\n                )}\n                {liveData.fuelLevel !== undefined && (\n                  <View style={styles.liveDataItem}>\n                    <Text style={styles.liveDataLabel}>Fuel</Text>\n                    <Text style={styles.liveDataValue}>{Math.round(liveData.fuelLevel)}%</Text>\n                  </View>\n                )}\n                {liveData.batteryVoltage !== undefined && (\n                  <View style={styles.liveDataItem}>\n                    <Text style={styles.liveDataLabel}>Battery</Text>\n                    <Text style={styles.liveDataValue}>{liveData.batteryVoltage.toFixed(1)}V</Text>\n                  </View>\n                )}\n              </View>\n\n              <TouchableOpacity\n                style={[",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/mobile/components/OBD2AdapterScanner.tsx",
        "start": 539,
        "end": 575,
        "startLoc": {
          "line": 539,
          "column": 14,
          "position": 3760
        },
        "endLoc": {
          "line": 575,
          "column": 2,
          "position": 4202
        }
      },
      "secondFile": {
        "name": "src/lib/mobile/components/OBD2AdapterScanner.tsx",
        "start": 535,
        "end": 555,
        "startLoc": {
          "line": 535,
          "column": 13,
          "position": 3703
        },
        "endLoc": {
          "line": 555,
          "column": 7,
          "position": 3970
        }
      }
    },
    {
      "format": "javascript",
      "lines": 152,
      "fragment": "={mockOnChange} placeholder=\"Search vehicles...\" />);\n\n      const input = screen.getByPlaceholderText('Search vehicles...');\n      expect(input).toBeInTheDocument();\n    });\n\n    it('should render with default placeholder', () => {\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByPlaceholderText('Search...');\n      expect(input).toBeInTheDocument();\n    });\n\n    it('should render search icon', () => {\n      const { container } = render(<SearchInput onChange={mockOnChange} />);\n\n      const icon = container.querySelector('svg');\n      expect(icon).toBeInTheDocument();\n      expect(icon).toHaveAttribute('aria-hidden', 'true');\n    });\n\n    it('should not show clear button initially', () => {\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const clearButton = screen.queryByLabelText('Clear search');\n      expect(clearButton).not.toBeInTheDocument();\n    });\n  });\n\n  describe('controlled input', () => {\n    it('should display controlled value', () => {\n      render(<SearchInput value=\"test query\" onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox') as HTMLInputElement;\n      expect(input.value).toBe('test query');\n    });\n\n    it('should update when controlled value changes', () => {\n      const { rerender } = render(<SearchInput value=\"initial\" onChange={mockOnChange} />);\n\n      let input = screen.getByRole('searchbox') as HTMLInputElement;\n      expect(input.value).toBe('initial');\n\n      rerender(<SearchInput value=\"updated\" onChange={mockOnChange} />);\n\n      input = screen.getByRole('searchbox') as HTMLInputElement;\n      expect(input.value).toBe('updated');\n    });\n\n    it('should sync internal state with controlled value', () => {\n      const { rerender } = render(<SearchInput value=\"\" onChange={mockOnChange} />);\n\n      rerender(<SearchInput value=\"external update\" onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox') as HTMLInputElement;\n      expect(input.value).toBe('external update');\n    });\n  });\n\n  describe('user interaction', () => {\n    it('should call onChange when user types', async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox');\n      await user.type(input, 'test');\n\n      expect(mockOnChange).toHaveBeenCalled();\n      expect(mockOnChange).toHaveBeenLastCalledWith('test');\n    });\n\n    it('should update input value as user types', async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox') as HTMLInputElement;\n      await user.type(input, 'hello');\n\n      expect(input.value).toBe('hello');\n    });\n\n    it('should call onChange for each character typed', async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox');\n      await user.type(input, 'abc');\n\n      expect(mockOnChange).toHaveBeenCalledTimes(3);\n      expect(mockOnChange).toHaveBeenNthCalledWith(1, 'a');\n      expect(mockOnChange).toHaveBeenNthCalledWith(2, 'ab');\n      expect(mockOnChange).toHaveBeenNthCalledWith(3, 'abc');\n    });\n\n    it('should handle paste events', async () => {\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox');\n      fireEvent.paste(input, {\n        clipboardData: { getData: () => 'pasted text' }\n      });\n\n      expect(mockOnChange).toHaveBeenCalled();\n    });\n  });\n\n  describe('clear button', () => {\n    it('should show clear button when input has value', async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox');\n      await user.type(input, 'test');\n\n      const clearButton = screen.getByLabelText('Clear search');\n      expect(clearButton).toBeInTheDocument();\n    });\n\n    it('should clear input when clear button is clicked', async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox') as HTMLInputElement;\n      await user.type(input, 'test');\n\n      const clearButton = screen.getByLabelText('Clear search');\n      await user.click(clearButton);\n\n      expect(input.value).toBe('');\n    });\n\n    it('should call onChange with empty string when cleared', async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox');\n      await user.type(input, 'test');\n\n      mockOnChange.mockClear();\n\n      const clearButton = screen.getByLabelText('Clear search');\n      await user.click(clearButton);\n\n      expect(mockOnChange).toHaveBeenCalledWith('');\n    });\n\n    it('should call onDebouncedChange when cleared', async () => {\n      const user = userEvent.setup();\n      render(\n        <SearchInput\n          onChange={mockOnChange}\n          onDebouncedChange={mockOnDebouncedChange",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/shared/__tests__/SearchInput.test.tsx",
        "start": 31,
        "end": 182,
        "startLoc": {
          "line": 31,
          "column": 9,
          "position": 301
        },
        "endLoc": {
          "line": 182,
          "column": 22,
          "position": 1791
        }
      },
      "secondFile": {
        "name": "src/components/shared/__tests__/SearchInput.test.tsx",
        "start": 24,
        "end": 114,
        "startLoc": {
          "line": 24,
          "column": 9,
          "position": 239
        },
        "endLoc": {
          "line": 114,
          "column": 13,
          "position": 1163
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ", async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox');\n      await user.type(input, 'test');\n\n      const clearButton = screen.getByLabelText('Clear search');\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/shared/__tests__/SearchInput.test.tsx",
        "start": 195,
        "end": 203,
        "startLoc": {
          "line": 195,
          "column": 42,
          "position": 1880
        },
        "endLoc": {
          "line": 203,
          "column": 6,
          "position": 1968
        }
      },
      "secondFile": {
        "name": "src/components/shared/__tests__/SearchInput.test.tsx",
        "start": 138,
        "end": 146,
        "startLoc": {
          "line": 138,
          "column": 48,
          "position": 1384
        },
        "endLoc": {
          "line": 146,
          "column": 7,
          "position": 1472
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ", async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox');\n      await user.type(input, 'test');\n\n      expect(mockOnChange).toHaveBeenCalled();\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/shared/__tests__/SearchInput.test.tsx",
        "start": 229,
        "end": 237,
        "startLoc": {
          "line": 229,
          "column": 40,
          "position": 2162
        },
        "endLoc": {
          "line": 237,
          "column": 2,
          "position": 2246
        }
      },
      "secondFile": {
        "name": "src/components/shared/__tests__/SearchInput.test.tsx",
        "start": 91,
        "end": 99,
        "startLoc": {
          "line": 91,
          "column": 39,
          "position": 924
        },
        "endLoc": {
          "line": 99,
          "column": 7,
          "position": 1008
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ", async () => {\n      const user = userEvent.setup();\n      render(<SearchInput onChange={mockOnChange} />);\n\n      const input = screen.getByRole('searchbox');\n      await user.type(input, 'test');\n\n      const clearButton = screen.getByLabelText('Clear search');\n      await user.tab",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/shared/__tests__/SearchInput.test.tsx",
        "start": 302,
        "end": 310,
        "startLoc": {
          "line": 302,
          "column": 54,
          "position": 2805
        },
        "endLoc": {
          "line": 310,
          "column": 4,
          "position": 2897
        }
      },
      "secondFile": {
        "name": "src/components/shared/__tests__/SearchInput.test.tsx",
        "start": 138,
        "end": 203,
        "startLoc": {
          "line": 138,
          "column": 48,
          "position": 1384
        },
        "endLoc": {
          "line": 203,
          "column": 6,
          "position": 1972
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "\" weight=\"fill\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Offline",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/tools/TrafficCameras.tsx",
        "start": 463,
        "end": 472,
        "startLoc": {
          "line": 463,
          "column": 23,
          "position": 3341
        },
        "endLoc": {
          "line": 472,
          "column": 8,
          "position": 3409
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/TrafficCameras.tsx",
        "start": 451,
        "end": 460,
        "startLoc": {
          "line": 451,
          "column": 21,
          "position": 3236
        },
        "endLoc": {
          "line": 460,
          "column": 12,
          "position": 3304
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "\" weight=\"fill\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Enabled",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/tools/TrafficCameras.tsx",
        "start": 475,
        "end": 484,
        "startLoc": {
          "line": 475,
          "column": 21,
          "position": 3446
        },
        "endLoc": {
          "line": 484,
          "column": 8,
          "position": 3514
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/TrafficCameras.tsx",
        "start": 451,
        "end": 460,
        "startLoc": {
          "line": 451,
          "column": 21,
          "position": 3236
        },
        "endLoc": {
          "line": 460,
          "column": 12,
          "position": 3304
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "<SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"low\">Low</SelectItem>\n                      <SelectItem value=\"medium\">Medium</SelectItem>\n                      <SelectItem value=\"high\">High</SelectItem>\n                      <SelectItem value=\"urgent\">Urgent</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"assigned_technician",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/tools/RecurringScheduleDialog.tsx",
        "start": 316,
        "end": 329,
        "startLoc": {
          "line": 316,
          "column": 21,
          "position": 2634
        },
        "endLoc": {
          "line": 329,
          "column": 20,
          "position": 2748
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/RecurringScheduleDialog.tsx",
        "start": 137,
        "end": 150,
        "startLoc": {
          "line": 137,
          "column": 19,
          "position": 1172
        },
        "endLoc": {
          "line": 150,
          "column": 15,
          "position": 1286
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <div className=\"p-2 rounded-lg bg-warning/10 text-warning\">\n                <Clock className=\"w-5 h-5\" />\n              </div>\n              <p className=\"text-sm font-medium text-muted-foreground\">Submitted",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/tools/MileageReimbursement.tsx",
        "start": 126,
        "end": 133,
        "startLoc": {
          "line": 126,
          "column": 2,
          "position": 1228
        },
        "endLoc": {
          "line": 133,
          "column": 10,
          "position": 1295
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetAnalytics/components/KPIsTab.tsx",
        "start": 46,
        "end": 54,
        "startLoc": {
          "line": 46,
          "column": 5,
          "position": 378
        },
        "endLoc": {
          "line": 54,
          "column": 9,
          "position": 446
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": ">\n            <SelectItem value=\"parts\">Parts Supplier</SelectItem>\n            <SelectItem value=\"service\">Service Provider</SelectItem>\n            <SelectItem value=\"fuel\">Fuel Station</SelectItem>\n            <SelectItem value=\"insurance\">Insurance</SelectItem>\n            <SelectItem value=\"leasing\">Leasing</",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 301,
        "end": 306,
        "startLoc": {
          "line": 301,
          "column": 11,
          "position": 2720
        },
        "endLoc": {
          "line": 306,
          "column": 3,
          "position": 2799
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 179,
        "end": 184,
        "startLoc": {
          "line": 179,
          "column": 14,
          "position": 1613
        },
        "endLoc": {
          "line": 184,
          "column": 8,
          "position": 1693
        }
      }
    },
    {
      "format": "tsx",
      "lines": 22,
      "fragment": "} from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 1,
        "end": 22,
        "startLoc": {
          "line": 1,
          "column": 2,
          "position": 6
        },
        "endLoc": {
          "line": 22,
          "column": 13,
          "position": 154
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/ReceiptProcessing.tsx",
        "start": 1,
        "end": 22,
        "startLoc": {
          "line": 1,
          "column": 2,
          "position": 9
        },
        "endLoc": {
          "line": 22,
          "column": 14,
          "position": 157
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "({\n      vendorName: \"\",\n      expectedDelivery: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n      items: [{ description: \"\", partNumber: \"\", quantity: 1, unitPrice: 0 }],\n      notes: \"\",\n      shippingAddress: \"\"\n    })\n    toast",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 108,
        "end": 115,
        "startLoc": {
          "line": 108,
          "column": 9,
          "position": 1122
        },
        "endLoc": {
          "line": 115,
          "column": 6,
          "position": 1232
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 60,
        "end": 68,
        "startLoc": {
          "line": 60,
          "column": 2,
          "position": 496
        },
        "endLoc": {
          "line": 68,
          "column": 6,
          "position": 607
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Pending Approval</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-yellow-600\">{",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 242,
        "end": 251,
        "startLoc": {
          "line": 242,
          "column": 13,
          "position": 2387
        },
        "endLoc": {
          "line": 251,
          "column": 2,
          "position": 2455
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/ReceiptProcessing.tsx",
        "start": 404,
        "end": 413,
        "startLoc": {
          "line": 404,
          "column": 13,
          "position": 3668
        },
        "endLoc": {
          "line": 413,
          "column": 2,
          "position": 3736
        }
      }
    },
    {
      "format": "tsx",
      "lines": 27,
      "fragment": "import { \n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport { Label } from \"@/components/ui/label\"\nimport { \n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Plus, MagnifyingGlass, Package",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 7,
        "end": 33,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 84
        },
        "endLoc": {
          "line": 33,
          "column": 8,
          "position": 219
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 6,
        "end": 32,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 72
        },
        "endLoc": {
          "line": 32,
          "column": 5,
          "position": 207
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "({\n      partNumber: \"\",\n      name: \"\",\n      description: \"\",\n      category: \"other\",\n      manufacturer: \"\",\n      compatibleVehicles: [],\n      quantityOnHand: 0,\n      minStockLevel: 10,\n      maxStockLevel: 100,\n      reorderPoint: 20,\n      unitCost: 0,\n      location: \"\"\n    })\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 102,
        "end": 116,
        "startLoc": {
          "line": 102,
          "column": 11,
          "position": 1000
        },
        "endLoc": {
          "line": 116,
          "column": 2,
          "position": 1092
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 43,
        "end": 58,
        "startLoc": {
          "line": 43,
          "column": 2,
          "position": 368
        },
        "endLoc": {
          "line": 58,
          "column": 6,
          "position": 461
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Select value={filterCategory} onValueChange={setFilterCategory}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Categories",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 348,
        "end": 359,
        "startLoc": {
          "line": 348,
          "column": 16,
          "position": 3272
        },
        "endLoc": {
          "line": 359,
          "column": 11,
          "position": 3365
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 290,
        "end": 301,
        "startLoc": {
          "line": 290,
          "column": 18,
          "position": 2624
        },
        "endLoc": {
          "line": 301,
          "column": 6,
          "position": 2717
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ">\n            <SelectItem value=\"engine\">Engine</SelectItem>\n            <SelectItem value=\"transmission\">Transmission</SelectItem>\n            <SelectItem value=\"brakes\">Brakes</SelectItem>\n            <SelectItem value=\"electrical\">Electrical</SelectItem>\n            <SelectItem value=\"body\">Body</SelectItem>\n            <SelectItem value=\"interior\">Interior</SelectItem>\n            <SelectItem value=\"tires\">Tires</SelectItem>\n            <SelectItem value=\"fluids\">Fluids</SelectItem>\n            <SelectItem value=\"filters\">Filters</SelectItem>\n            <SelectItem value=\"other\">Other</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 359,
        "end": 374,
        "startLoc": {
          "line": 359,
          "column": 11,
          "position": 3368
        },
        "endLoc": {
          "line": 374,
          "column": 2,
          "position": 3537
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 170,
        "end": 184,
        "startLoc": {
          "line": 170,
          "column": 14,
          "position": 1666
        },
        "endLoc": {
          "line": 184,
          "column": 3,
          "position": 1834
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "import { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { \n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport { FileText",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/procurement/Invoices.tsx",
        "start": 1,
        "end": 14,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 14,
          "column": 9,
          "position": 110
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 1,
        "end": 15,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 15,
          "column": 7,
          "position": 111
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "({\n      allow_personal_use: true,\n      require_approval: true,\n      max_personal_miles_per_month: 200,\n      max_personal_miles_per_year: 1000,\n      charge_personal_use: false,\n      personal_use_rate_per_mile: 0.25,\n      approval_workflow: ApprovalWorkflow.MANAGER,\n      auto_approve_under_miles: 50,\n      notification_settings: {\n        notify_at_80_percent: true,\n        notify_at_95_percent: true,\n        notify_on_charge: true,\n        notify_on_rejection: true\n      },\n      effective_date: new Date().toISOString().split('T')[0]\n    })\n\n    setHasChanges",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/personal-use/PersonalUsePolicyConfig.tsx",
        "start": 256,
        "end": 274,
        "startLoc": {
          "line": 256,
          "column": 12,
          "position": 2162
        },
        "endLoc": {
          "line": 274,
          "column": 14,
          "position": 2288
        }
      },
      "secondFile": {
        "name": "src/components/modules/personal-use/PersonalUsePolicyConfig.tsx",
        "start": 108,
        "end": 126,
        "startLoc": {
          "line": 108,
          "column": 2,
          "position": 971
        },
        "endLoc": {
          "line": 126,
          "column": 6,
          "position": 1097
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "const LoadingSpinner = () => (\n  <div className=\"flex items-center justify-center h-64\">\n    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n  </div>\n)\n\nconst ErrorDisplay = ({ error, onRetry }: { error: string; onRetry: () => void }) => (\n  <Alert variant=\"destructive\" className=\"m-4\">\n    <XCircle",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/personal-use/PersonalUseDashboard.tsx",
        "start": 51,
        "end": 59,
        "startLoc": {
          "line": 51,
          "column": 1,
          "position": 370
        },
        "endLoc": {
          "line": 59,
          "column": 8,
          "position": 477
        }
      },
      "secondFile": {
        "name": "src/components/modules/personal-use/PersonalUsePolicyConfig.tsx",
        "start": 55,
        "end": 63,
        "startLoc": {
          "line": 55,
          "column": 1,
          "position": 401
        },
        "endLoc": {
          "line": 63,
          "column": 8,
          "position": 508
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": " className=\"h-4 w-4\" />\n    <AlertTitle>Error</AlertTitle>\n    <AlertDescription className=\"flex items-center justify-between\">\n      <span>{error}</span>\n      <Button variant=\"outline\" size=\"sm\" onClick={onRetry}>\n        <ArrowsClockwise className=\"w-4 h-4 mr-2\" />\n        Retry\n      </Button>\n    </AlertDescription>\n  </Alert>\n)\n\nconst EmptyState",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/personal-use/PersonalUseDashboard.tsx",
        "start": 59,
        "end": 71,
        "startLoc": {
          "line": 59,
          "column": 8,
          "position": 478
        },
        "endLoc": {
          "line": 71,
          "column": 11,
          "position": 576
        }
      },
      "secondFile": {
        "name": "src/components/modules/personal-use/PersonalUsePolicyConfig.tsx",
        "start": 63,
        "end": 75,
        "startLoc": {
          "line": 63,
          "column": 8,
          "position": 509
        },
        "endLoc": {
          "line": 75,
          "column": 10,
          "position": 607
        }
      }
    },
    {
      "format": "tsx",
      "lines": 30,
      "fragment": ">\n)\n\nconst apiClient = async (url: string) => {\n  const token = localStorage.getItem('token')\n  const response = await fetch(url, {\n    headers: { Authorization: `Bearer ${token}` }\n  })\n  if (!response.ok) throw new Error('Failed to fetch')\n  return response.json()\n}\n\nconst apiMutation = async (url: string, method: string, data?: any) => {\n  const token = localStorage.getItem('token')\n  const response = await fetch(url, {\n    method,\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: data ? JSON.stringify(data) : undefined\n  })\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.error || 'Failed to perform action')\n  }\n  return response.json()\n}\n\nexport const PersonalUseDashboard",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/personal-use/PersonalUseDashboard.tsx",
        "start": 75,
        "end": 104,
        "startLoc": {
          "line": 75,
          "column": 4,
          "position": 639
        },
        "endLoc": {
          "line": 104,
          "column": 21,
          "position": 923
        }
      },
      "secondFile": {
        "name": "src/components/modules/personal-use/PersonalUsePolicyConfig.tsx",
        "start": 72,
        "end": 101,
        "startLoc": {
          "line": 72,
          "column": 6,
          "position": 600
        },
        "endLoc": {
          "line": 101,
          "column": 24,
          "position": 884
        }
      }
    },
    {
      "format": "tsx",
      "lines": 33,
      "fragment": "} from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport { Label } from \"@/components/ui/label\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Tabs",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 1,
        "end": 33,
        "startLoc": {
          "line": 1,
          "column": 2,
          "position": 9
        },
        "endLoc": {
          "line": 33,
          "column": 5,
          "position": 214
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 1,
        "end": 32,
        "startLoc": {
          "line": 1,
          "column": 2,
          "position": 6
        },
        "endLoc": {
          "line": 32,
          "column": 5,
          "position": 201
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"low\">Low</SelectItem>\n                      <SelectItem value=\"medium\">Medium</SelectItem>\n                      <SelectItem value=\"high\">High</SelectItem>\n                      <SelectItem value=\"critical",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 334,
        "end": 341,
        "startLoc": {
          "line": 334,
          "column": 2,
          "position": 2915
        },
        "endLoc": {
          "line": 341,
          "column": 9,
          "position": 2985
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/RecurringScheduleDialog.tsx",
        "start": 137,
        "end": 144,
        "startLoc": {
          "line": 137,
          "column": 14,
          "position": 1174
        },
        "endLoc": {
          "line": 144,
          "column": 7,
          "position": 1244
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Overdue</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-red-600\">{overdueTasks",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 433,
        "end": 442,
        "startLoc": {
          "line": 433,
          "column": 13,
          "position": 3795
        },
        "endLoc": {
          "line": 442,
          "column": 13,
          "position": 3862
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/Invoices.tsx",
        "start": 100,
        "end": 109,
        "startLoc": {
          "line": 100,
          "column": 13,
          "position": 1050
        },
        "endLoc": {
          "line": 109,
          "column": 13,
          "position": 1117
        }
      }
    },
    {
      "format": "tsx",
      "lines": 25,
      "fragment": "}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => {\n                          setSelectedTask(task)\n                          fetchTaskComments(task.id)\n                          setIsDetailsDialogOpen(true)\n                        }}\n                      >\n                        View Details\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n\n      {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 563,
        "end": 587,
        "startLoc": {
          "line": 563,
          "column": 7,
          "position": 4995
        },
        "endLoc": {
          "line": 587,
          "column": 2,
          "position": 5110
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 322,
        "end": 345,
        "startLoc": {
          "line": 322,
          "column": 2,
          "position": 3123
        },
        "endLoc": {
          "line": 345,
          "column": 2,
          "position": 3231
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ">\n                            <SelectItem value=\"pending\">Pending</SelectItem>\n                            <SelectItem value=\"in_progress\">In Progress</SelectItem>\n                            <SelectItem value=\"completed\">Completed</SelectItem>\n                            <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                    </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 672,
        "end": 680,
        "startLoc": {
          "line": 672,
          "column": 14,
          "position": 5918
        },
        "endLoc": {
          "line": 680,
          "column": 3,
          "position": 5998
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 479,
        "end": 488,
        "startLoc": {
          "line": 479,
          "column": 11,
          "position": 4205
        },
        "endLoc": {
          "line": 488,
          "column": 2,
          "position": 4286
        }
      }
    },
    {
      "format": "javascript",
      "lines": 22,
      "fragment": "(e.target.value)}\n                  />\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label>Start Location</Label>\n                <Input \n                  placeholder=\"Starting address\" \n                  value={startLocation}\n                  onChange={(e) => setStartLocation(e.target.value)}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>End Location</Label>\n                <Input \n                  placeholder=\"Destination address\" \n                  value={endLocation}\n                  onChange={(e) => setEndLocation(e.target.value)}\n                />\n              </div>\n              <div className=\"flex justify-end gap-2\">\n                <Button variant=\"outline\" onClick={(",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/RouteManagement.tsx",
        "start": 237,
        "end": 258,
        "startLoc": {
          "line": 237,
          "column": 18,
          "position": 2296
        },
        "endLoc": {
          "line": 258,
          "column": 2,
          "position": 2469
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/MileageReimbursement.tsx",
        "start": 235,
        "end": 264,
        "startLoc": {
          "line": 235,
          "column": 9,
          "position": 2263
        },
        "endLoc": {
          "line": 264,
          "column": 8,
          "position": 2481
        }
      }
    },
    {
      "format": "tsx",
      "lines": 32,
      "fragment": "import { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Switch",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/GeofenceManagement.tsx",
        "start": 1,
        "end": 32,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 32,
          "column": 7,
          "position": 199
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 1,
        "end": 32,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 32,
          "column": 9,
          "position": 202
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "({\n      name: \"\",\n      description: \"\",\n      type: \"circle\",\n      color: \"#3B82F6\",\n      active: true,\n      triggers: {\n        onEnter: true,\n        onExit: true,\n        onDwell: false\n      },\n      notifyUsers: [],\n      notifyRoles: [],\n      alertPriority: \"medium\"\n    })\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/GeofenceManagement.tsx",
        "start": 181,
        "end": 196,
        "startLoc": {
          "line": 181,
          "column": 15,
          "position": 1646
        },
        "endLoc": {
          "line": 196,
          "column": 2,
          "position": 1741
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/GeofenceManagement.tsx",
        "start": 74,
        "end": 90,
        "startLoc": {
          "line": 74,
          "column": 2,
          "position": 644
        },
        "endLoc": {
          "line": 90,
          "column": 6,
          "position": 740
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"low\">Low</SelectItem>\n                      <SelectItem value=\"medium\">Medium</SelectItem>\n                      <SelectItem value=\"high\">High</SelectItem>\n                      <SelectItem value=\"critical\">Critical</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/GeofenceManagement.tsx",
        "start": 400,
        "end": 411,
        "startLoc": {
          "line": 400,
          "column": 15,
          "position": 3611
        },
        "endLoc": {
          "line": 411,
          "column": 2,
          "position": 3706
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 334,
        "end": 345,
        "startLoc": {
          "line": 334,
          "column": 9,
          "position": 2914
        },
        "endLoc": {
          "line": 345,
          "column": 3,
          "position": 3009
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Select value={filterType} onValueChange={setFilterType}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Types</SelectItem>\n            <SelectItem value=\"circle",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/GeofenceManagement.tsx",
        "start": 503,
        "end": 515,
        "startLoc": {
          "line": 503,
          "column": 20,
          "position": 4456
        },
        "endLoc": {
          "line": 515,
          "column": 7,
          "position": 4561
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 290,
        "end": 302,
        "startLoc": {
          "line": 290,
          "column": 18,
          "position": 2624
        },
        "endLoc": {
          "line": 302,
          "column": 6,
          "position": 2729
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Alert",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/operations/AdvancedRouteOptimization.tsx",
        "start": 22,
        "end": 29,
        "startLoc": {
          "line": 22,
          "column": 1,
          "position": 27
        },
        "endLoc": {
          "line": 29,
          "column": 6,
          "position": 148
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/CustomFormBuilder.tsx",
        "start": 4,
        "end": 11,
        "startLoc": {
          "line": 4,
          "column": 1,
          "position": 25
        },
        "endLoc": {
          "line": 11,
          "column": 5,
          "position": 146
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <div className=\"p-2 rounded-lg bg-success/10 text-success\">\n                <TrendUp className=\"w-5 h-5\" />\n              </div>\n              <p className=\"text-sm font-medium text-muted-foreground\">Potential",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/maintenance/PredictiveMaintenance.tsx",
        "start": 63,
        "end": 73,
        "startLoc": {
          "line": 63,
          "column": 9,
          "position": 667
        },
        "endLoc": {
          "line": 73,
          "column": 10,
          "position": 747
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetAnalytics/components/KPIsTab.tsx",
        "start": 57,
        "end": 67,
        "startLoc": {
          "line": 57,
          "column": 6,
          "position": 491
        },
        "endLoc": {
          "line": 67,
          "column": 12,
          "position": 571
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                  <div>\n                    <p className=\"font-medium\">{vehicle.number}</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {vehicle.year} {vehicle.make} {vehicle.model}\n                    </p>\n                  </div>\n                </div",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/maintenance/PredictiveMaintenance.tsx",
        "start": 101,
        "end": 108,
        "startLoc": {
          "line": 101,
          "column": 4,
          "position": 962
        },
        "endLoc": {
          "line": 108,
          "column": 4,
          "position": 1030
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetDashboard/components/FleetTable.tsx",
        "start": 34,
        "end": 41,
        "startLoc": {
          "line": 34,
          "column": 2,
          "position": 329
        },
        "endLoc": {
          "line": 41,
          "column": 3,
          "position": 397
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Overdue</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-red-600\">{overdueSchedules",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/maintenance/MaintenanceScheduling.tsx",
        "start": 228,
        "end": 237,
        "startLoc": {
          "line": 228,
          "column": 13,
          "position": 2042
        },
        "endLoc": {
          "line": 237,
          "column": 17,
          "position": 2109
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/Invoices.tsx",
        "start": 100,
        "end": 109,
        "startLoc": {
          "line": 100,
          "column": 13,
          "position": 1050
        },
        "endLoc": {
          "line": 109,
          "column": 13,
          "position": 1117
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Completed</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">\n              {(",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/maintenance/MaintenanceScheduling.tsx",
        "start": 241,
        "end": 251,
        "startLoc": {
          "line": 241,
          "column": 13,
          "position": 2146
        },
        "endLoc": {
          "line": 251,
          "column": 2,
          "position": 2215
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 420,
        "end": 429,
        "startLoc": {
          "line": 420,
          "column": 13,
          "position": 3663
        },
        "endLoc": {
          "line": 429,
          "column": 15,
          "position": 3730
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ">\n                  <SelectTrigger id=\"priority\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"low\">Low</SelectItem>\n                    <SelectItem value=\"medium\">Medium</SelectItem>\n                    <SelectItem value=\"high\">High</SelectItem>\n                    <SelectItem value=\"urgent\">Urgent</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"cost",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/maintenance/MaintenanceScheduling.tsx",
        "start": 499,
        "end": 512,
        "startLoc": {
          "line": 499,
          "column": 17,
          "position": 4418
        },
        "endLoc": {
          "line": 512,
          "column": 5,
          "position": 4540
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 333,
        "end": 150,
        "startLoc": {
          "line": 333,
          "column": 19,
          "position": 2904
        },
        "endLoc": {
          "line": 150,
          "column": 15,
          "position": 1286
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ").map(v => (\n                      <SelectItem key={v.id} value={v.id}>\n                        {v.number} - {v.make} {v.model}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"issue-type",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/maintenance/MaintenanceRequest.tsx",
        "start": 142,
        "end": 152,
        "startLoc": {
          "line": 142,
          "column": 2,
          "position": 1405
        },
        "endLoc": {
          "line": 152,
          "column": 11,
          "position": 1501
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/DataWorkbenchDialogs.tsx",
        "start": 395,
        "end": 404,
        "startLoc": {
          "line": 395,
          "column": 3,
          "position": 3369
        },
        "endLoc": {
          "line": 404,
          "column": 13,
          "position": 3464
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ">\n                  <SelectTrigger id=\"priority\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"low\">Low</SelectItem>\n                    <SelectItem value=\"medium\">Medium</SelectItem>\n                    <SelectItem value=\"high\">High</SelectItem>\n                    <SelectItem value=\"urgent\">Urgent</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"requested-by",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/maintenance/MaintenanceRequest.tsx",
        "start": 173,
        "end": 187,
        "startLoc": {
          "line": 173,
          "column": 2,
          "position": 1771
        },
        "endLoc": {
          "line": 187,
          "column": 13,
          "position": 1894
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 333,
        "end": 150,
        "startLoc": {
          "line": 333,
          "column": 19,
          "position": 2904
        },
        "endLoc": {
          "line": 150,
          "column": 15,
          "position": 1286
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</td>\n                  <td className=\"text-center p-2\">\n                    <XCircle className=\"h-4 w-4 inline text-red-600 dark:text-red-400\" />\n                  </td>\n                  <td className=\"text-center p-2\">\n                    <CheckCircle className=\"h-4 w-4 inline text-green-600 dark:text-green-400\" />\n                  </td>\n                </tr>\n              </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/MapSettings.tsx",
        "start": 774,
        "end": 782,
        "startLoc": {
          "line": 774,
          "column": 10,
          "position": 5233
        },
        "endLoc": {
          "line": 782,
          "column": 3,
          "position": 5299
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/MapSettings.tsx",
        "start": 755,
        "end": 763,
        "startLoc": {
          "line": 755,
          "column": 5,
          "position": 5035
        },
        "endLoc": {
          "line": 763,
          "column": 2,
          "position": 5101
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "import { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport { Label } from \"@/components/ui/label\"\nimport { Envelope",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/EmailCenter.tsx",
        "start": 1,
        "end": 19,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 19,
          "column": 9,
          "position": 161
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/TeamsIntegration.tsx",
        "start": 1,
        "end": 20,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 20,
          "column": 7,
          "position": 162
        }
      }
    },
    {
      "format": "tsx",
      "lines": 25,
      "fragment": "{\n    switch (health) {\n      case \"healthy\":\n        return (\n          <Badge variant=\"default\" className=\"text-xs bg-green-600\">\n            <CheckCircle className=\"w-3 h-3 mr-1\" weight=\"fill\" />\n            Healthy\n          </Badge>\n        )\n      case \"error\":\n        return (\n          <Badge variant=\"destructive\" className=\"text-xs\">\n            <XCircle className=\"w-3 h-3 mr-1\" weight=\"fill\" />\n            Error\n          </Badge>\n        )\n      default:\n        return (\n          <Badge variant=\"outline\" className=\"text-xs\">\n            <Info className=\"w-3 h-3 mr-1\" />\n            Unknown\n          </Badge>\n        )\n    }\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/ArcGISIntegration.original.tsx",
        "start": 240,
        "end": 264,
        "startLoc": {
          "line": 240,
          "column": 2,
          "position": 2367
        },
        "endLoc": {
          "line": 264,
          "column": 2,
          "position": 2545
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/arcgis/components/LayerHealthBadge.tsx",
        "start": 17,
        "end": 41,
        "startLoc": {
          "line": 17,
          "column": 2,
          "position": 82
        },
        "endLoc": {
          "line": 41,
          "column": 2,
          "position": 259
        }
      }
    },
    {
      "format": "tsx",
      "lines": 28,
      "fragment": "<div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">ArcGIS Integration</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            Plug and play custom ArcGIS map layers{hasLayers && `  ${enabledLayersCount} active`}\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          {hasLayers && (\n            <>\n              <Button variant=\"outline\" size=\"sm\" onClick={handleExportLayers}>\n                <Download className=\"w-4 h-4 mr-2\" />\n                Export\n              </Button>\n              <Button variant=\"outline\" size=\"sm\" onClick={() => loadLayers()}>\n                <ArrowClockwise className=\"w-4 h-4 mr-2\" />\n                Refresh\n              </Button>\n            </>\n          )}\n          <Button>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Layer\n          </Button>\n        </div>\n      </div>\n\n      {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/ArcGISIntegration.original.tsx",
        "start": 272,
        "end": 299,
        "startLoc": {
          "line": 272,
          "column": 7,
          "position": 2623
        },
        "endLoc": {
          "line": 299,
          "column": 2,
          "position": 2866
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/arcgis/components/HeaderSection.tsx",
        "start": 21,
        "end": 47,
        "startLoc": {
          "line": 21,
          "column": 5,
          "position": 112
        },
        "endLoc": {
          "line": 47,
          "column": 2,
          "position": 347
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "}\n\n      {/* Main Content */}\n      <Tabs defaultValue=\"layers\" className=\"space-y-4\">\n        <TabsList>\n          <TabsTrigger value=\"layers\">Active Layers ({layers.length})</TabsTrigger>\n          <TabsTrigger value=\"examples\">Examples</TabsTrigger>\n          <TabsTrigger value=\"help\">Help</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"layers\" className=\"space-y-4\">\n          {globalLoading",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/ArcGISIntegration.original.tsx",
        "start": 305,
        "end": 316,
        "startLoc": {
          "line": 305,
          "column": 2,
          "position": 2923
        },
        "endLoc": {
          "line": 316,
          "column": 14,
          "position": 3033
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/ArcGISIntegration.tsx",
        "start": 63,
        "end": 74,
        "startLoc": {
          "line": 63,
          "column": 3,
          "position": 437
        },
        "endLoc": {
          "line": 74,
          "column": 8,
          "position": 547
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "(\n            <Card>\n              <CardContent className=\"flex flex-col items-center justify-center py-12\">\n                <GlobeHemisphereWest className=\"w-16 h-16 text-muted-foreground mb-4\" />\n                <h3 className=\"text-lg font-semibold mb-2\">No ArcGIS Layers Yet</h3>\n                <p className=\"text-muted-foreground text-center max-w-md mb-4\">\n                  Add your first ArcGIS layer to visualize custom data\n                </p>\n              </CardContent>\n            </Card>\n          ) :",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/ArcGISIntegration.original.tsx",
        "start": 323,
        "end": 333,
        "startLoc": {
          "line": 323,
          "column": 2,
          "position": 3105
        },
        "endLoc": {
          "line": 333,
          "column": 2,
          "position": 3204
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/arcgis/components/EmptyState.tsx",
        "start": 13,
        "end": 24,
        "startLoc": {
          "line": 13,
          "column": 2,
          "position": 46
        },
        "endLoc": {
          "line": 24,
          "column": 2,
          "position": 145
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": " className={operation?.loading ? \"opacity-60\" : \"\"}>\n                    <CardHeader>\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-1 flex-wrap\">\n                            <CardTitle className=\"text-lg\">{layer.name}</CardTitle>\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {layer.layerType}\n                            </Badge>\n                            {layer.enabled ? (\n                              <Badge variant=\"default\" className=\"text-xs bg-success\">\n                                Active\n                              </Badge>\n                            ) : (\n                              <Badge variant=\"secondary\" className=\"text-xs\">\n                                Inactive\n                              </Badge>\n                            )}\n                            {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/ArcGISIntegration.original.tsx",
        "start": 338,
        "end": 356,
        "startLoc": {
          "line": 338,
          "column": 2,
          "position": 3268
        },
        "endLoc": {
          "line": 356,
          "column": 2,
          "position": 3444
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/arcgis/components/LayerCard.tsx",
        "start": 52,
        "end": 70,
        "startLoc": {
          "line": 52,
          "column": 5,
          "position": 336
        },
        "endLoc": {
          "line": 70,
          "column": 2,
          "position": 509
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</div>\n                          {layer.description && <CardDescription>{layer.description}</CardDescription>}\n                          <p className=\"text-xs text-muted-foreground mt-2 font-mono truncate\">{layer.serviceUrl}</p>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"flex flex-col\">\n                            <Button\n                              ",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/ArcGISIntegration.original.tsx",
        "start": 357,
        "end": 364,
        "startLoc": {
          "line": 357,
          "column": 27,
          "position": 3454
        },
        "endLoc": {
          "line": 364,
          "column": 31,
          "position": 3528
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/arcgis/components/LayerCard.tsx",
        "start": 71,
        "end": 78,
        "startLoc": {
          "line": 71,
          "column": 13,
          "position": 523
        },
        "endLoc": {
          "line": 78,
          "column": 17,
          "position": 597
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": ">\n                            {layer.enabled ? <Eye className=\"w-4 h-4\" /> : <EyeSlash className=\"w-4 h-4\" />}\n                          </Button>\n                          <DropdownMenu>\n                            <DropdownMenuTrigger asChild>\n                              <Button variant=\"ghost\" size=\"icon\" disabled={operation?.loading}>\n                                <DotsThree className=\"w-4 h-4\" />\n                              </Button>\n                            </DropdownMenuTrigger>\n                            <DropdownMenuContent align=\"end\">\n                              <DropdownMenuItem onClick={() => handleDuplicateLayer(layer.id)}>\n                                <Copy className=\"w-4 h-4 mr-2\" />\n                                Duplicate\n                              </DropdownMenuItem>\n                              <DropdownMenuSeparator />\n                              <DropdownMenuItem\n                                ",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/integrations/ArcGISIntegration.original.tsx",
        "start": 387,
        "end": 403,
        "startLoc": {
          "line": 387,
          "column": 27,
          "position": 3719
        },
        "endLoc": {
          "line": 403,
          "column": 33,
          "position": 3880
        }
      },
      "secondFile": {
        "name": "src/components/modules/integrations/arcgis/components/LayerCard.tsx",
        "start": 96,
        "end": 111,
        "startLoc": {
          "line": 96,
          "column": 2,
          "position": 746
        },
        "endLoc": {
          "line": 111,
          "column": 2,
          "position": 894
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "</td>\n                      <td className=\"px-4 py-3 text-sm text-right\">\n                        <Button variant=\"ghost\" size=\"sm\">\n                          View\n                        </Button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"cards",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fuel/FuelManagement.tsx",
        "start": 172,
        "end": 186,
        "startLoc": {
          "line": 172,
          "column": 23,
          "position": 1782
        },
        "endLoc": {
          "line": 186,
          "column": 6,
          "position": 1870
        }
      },
      "secondFile": {
        "name": "src/components/modules/maintenance/GarageService.tsx",
        "start": 255,
        "end": 269,
        "startLoc": {
          "line": 255,
          "column": 23,
          "position": 2497
        },
        "endLoc": {
          "line": 269,
          "column": 12,
          "position": 2585
        }
      }
    },
    {
      "format": "tsx",
      "lines": 24,
      "fragment": "import { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleTelemetry.tsx",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 7,
          "position": 147
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 1,
        "end": 23,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 23,
          "column": 6,
          "position": 147
        }
      }
    },
    {
      "format": "tsx",
      "lines": 26,
      "fragment": "import {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport {\n  MagnifyingGlass",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleTelemetry.tsx",
        "start": 6,
        "end": 31,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 72
        },
        "endLoc": {
          "line": 31,
          "column": 16,
          "position": 176
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/ReceiptProcessing.tsx",
        "start": 8,
        "end": 32,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 99
        },
        "endLoc": {
          "line": 32,
          "column": 9,
          "position": 202
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Select value={filterSource} onValueChange={setFilterSource}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Sources",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleTelemetry.tsx",
        "start": 414,
        "end": 425,
        "startLoc": {
          "line": 414,
          "column": 19,
          "position": 3364
        },
        "endLoc": {
          "line": 425,
          "column": 8,
          "position": 3457
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 290,
        "end": 301,
        "startLoc": {
          "line": 290,
          "column": 18,
          "position": 2624
        },
        "endLoc": {
          "line": 301,
          "column": 6,
          "position": 2717
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"h-[400px] rounded-lg overflow-hidden border\">\n            <UniversalMap\n              vehicles={fleetVehicles}\n              facilities={facilities}\n              showVehicles={true}\n              showFacilities={true}\n              mapStyle=\"road\"\n              className=\"w-full h-full\"\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Live",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleTelemetry.tsx",
        "start": 448,
        "end": 466,
        "startLoc": {
          "line": 448,
          "column": 11,
          "position": 3674
        },
        "endLoc": {
          "line": 466,
          "column": 5,
          "position": 3771
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/GeofenceManagement.tsx",
        "start": 527,
        "end": 545,
        "startLoc": {
          "line": 527,
          "column": 11,
          "position": 4659
        },
        "endLoc": {
          "line": 545,
          "column": 10,
          "position": 4756
        }
      }
    },
    {
      "format": "tsx",
      "lines": 25,
      "fragment": "} from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleInventory.tsx",
        "start": 18,
        "end": 42,
        "startLoc": {
          "line": 18,
          "column": 2,
          "position": 15
        },
        "endLoc": {
          "line": 42,
          "column": 7,
          "position": 168
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 2,
          "position": 6
        },
        "endLoc": {
          "line": 24,
          "column": 6,
          "position": 159
        }
      }
    },
    {
      "format": "tsx",
      "lines": 25,
      "fragment": "import {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Label",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleInventory.tsx",
        "start": 24,
        "end": 48,
        "startLoc": {
          "line": 24,
          "column": 1,
          "position": 93
        },
        "endLoc": {
          "line": 48,
          "column": 6,
          "position": 196
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/ReceiptProcessing.tsx",
        "start": 8,
        "end": 32,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 99
        },
        "endLoc": {
          "line": 32,
          "column": 9,
          "position": 202
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "|| []).filter(part =>\n      part.partNumber.toLowerCase().includes(search) ||\n      part.name.toLowerCase().includes(search) ||\n      part.manufacturer.toLowerCase().includes(search)\n    )\n  }, [compatibleParts",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleInventory.tsx",
        "start": 123,
        "end": 128,
        "startLoc": {
          "line": 123,
          "column": 2,
          "position": 813
        },
        "endLoc": {
          "line": 128,
          "column": 16,
          "position": 879
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/VehicleInventory.tsx",
        "start": 112,
        "end": 117,
        "startLoc": {
          "line": 112,
          "column": 2,
          "position": 686
        },
        "endLoc": {
          "line": 117,
          "column": 14,
          "position": 752
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ".map(part => {\n                        const status = getStockStatus(part)\n                        return (\n                          <TableRow key={part.id}>\n                            <TableCell className=\"font-mono text-sm\">{part.partNumber}</TableCell>\n                            <TableCell>\n                              <div>\n                                <div className=\"font-medium\">{part.name}</div>\n                                <div className=\"text-xs text-muted-foreground\">{part.manufacturer}</div>\n                              </div>\n                            </TableCell>\n                            <TableCell className=\"capitalize\">{part.category}</TableCell>\n                            <TableCell>",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleInventory.tsx",
        "start": 391,
        "end": 403,
        "startLoc": {
          "line": 391,
          "column": 22,
          "position": 3216
        },
        "endLoc": {
          "line": 403,
          "column": 2,
          "position": 3354
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 401,
        "end": 413,
        "startLoc": {
          "line": 401,
          "column": 14,
          "position": 3776
        },
        "endLoc": {
          "line": 413,
          "column": 2,
          "position": 3914
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "}</TableCell>\n                            <TableCell>\n                              <div className=\"space-y-1\">\n                                <Progress value={getStockLevel(part)} className=\"h-2\" />\n                                <div className=\"text-xs text-muted-foreground\">\n                                  {part.quantityOnHand} / {part.maxStockLevel}\n                                </div>\n                              </div>\n                            </TableCell>\n                            <TableCell>\n                              <span className=\"font-semibold\">{part.quantityOnHand}</span>\n                            </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleInventory.tsx",
        "start": 402,
        "end": 413,
        "startLoc": {
          "line": 402,
          "column": 9,
          "position": 3346
        },
        "endLoc": {
          "line": 413,
          "column": 3,
          "position": 3454
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 413,
        "end": 424,
        "startLoc": {
          "line": 413,
          "column": 4,
          "position": 3929
        },
        "endLoc": {
          "line": 424,
          "column": 2,
          "position": 4037
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ".map(part => {\n                      const status = getStockStatus(part)\n                      return (\n                        <TableRow key={part.id}>\n                          <TableCell className=\"font-mono text-sm\">{part.partNumber}</TableCell>\n                          <TableCell>\n                            <div>\n                              <div className=\"font-medium\">{part.name}</div>\n                              <div className=\"text-xs text-muted-foreground\">{part.manufacturer}</div>\n                            </div>\n                          </TableCell>\n                          <TableCell className=\"capitalize\">{part.category}</TableCell>\n                          <TableCell>{",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleInventory.tsx",
        "start": 489,
        "end": 501,
        "startLoc": {
          "line": 489,
          "column": 24,
          "position": 3978
        },
        "endLoc": {
          "line": 501,
          "column": 2,
          "position": 4117
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PartsInventory.tsx",
        "start": 401,
        "end": 404,
        "startLoc": {
          "line": 401,
          "column": 14,
          "position": 3776
        },
        "endLoc": {
          "line": 404,
          "column": 2,
          "position": 3357
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ": string) => {\n    try {\n      const response = await fetch(`/api/vehicle-assignments/${assignmentId}/approve`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        },\n        body: JSON.stringify({ action: 'deny'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/VehicleAssignmentManagement.tsx",
        "start": 201,
        "end": 209,
        "startLoc": {
          "line": 201,
          "column": 7,
          "position": 1714
        },
        "endLoc": {
          "line": 209,
          "column": 7,
          "position": 1801
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/VehicleAssignmentManagement.tsx",
        "start": 182,
        "end": 190,
        "startLoc": {
          "line": 182,
          "column": 13,
          "position": 1544
        },
        "endLoc": {
          "line": 190,
          "column": 10,
          "position": 1631
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ") {\n    return (\n      <div className=\"space-y-6\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Live GPS Tracking</h1>\n          <p className=\"text-muted-foreground mt-1\">Real-time fleet location monitoring</p>\n        </div>\n        <div",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/GPSTracking.tsx",
        "start": 260,
        "end": 267,
        "startLoc": {
          "line": 260,
          "column": 10,
          "position": 1907
        },
        "endLoc": {
          "line": 267,
          "column": 4,
          "position": 1981
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/GPSTracking.tsx",
        "start": 240,
        "end": 247,
        "startLoc": {
          "line": 240,
          "column": 6,
          "position": 1772
        },
        "endLoc": {
          "line": 247,
          "column": 6,
          "position": 1846
        }
      }
    },
    {
      "format": "javascript",
      "lines": 107,
      "fragment": "={filteredVehicles} onVehicleClick={handleVehicleClick} />\n      </div>\n    )\n\n    const tableSection = (\n      <div className=\"h-full overflow-auto\">\n        <FleetTable vehicles={filteredVehicles} onVehicleClick={handleVehicleClick} />\n        {filteredVehicles.length === 0 && (\n          <div className=\"flex items-center justify-center h-64\">\n            <p className=\"text-muted-foreground\">No vehicles match your filters</p>\n          </div>\n        )}\n      </div>\n    )\n\n    switch (layoutMode) {\n      case \"map-only\":\n        return <div className=\"h-[calc(100vh-300px)]\">{mapSection}</div>\n\n      case \"table-only\":\n        return <div className=\"h-[calc(100vh-300px)]\">{tableSection}</div>\n\n      case \"split-70-30\":\n        return (\n          <div className=\"grid grid-cols-1 lg:grid-cols-[70%_30%] gap-6 h-[calc(100vh-300px)]\">\n            {mapSection}\n            {tableSection}\n          </div>\n        )\n\n      case \"split-50-50\":\n      default:\n        return (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-300px)]\">\n            {mapSection}\n            {tableSection}\n          </div>\n        )\n    }\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Fleet Dashboard</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            Monitor and manage your fleet in real-time\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Select value={layoutMode} onValueChange={(v) => setLayoutMode(v as LayoutMode)}>\n            <SelectTrigger className=\"w-48\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"split-50-50\">\n                <div className=\"flex items-center gap-2\">\n                  <Layout className=\"w-4 h-4\" />\n                  Split 50/50\n                </div>\n              </SelectItem>\n              <SelectItem value=\"split-70-30\">\n                <div className=\"flex items-center gap-2\">\n                  <Layout className=\"w-4 h-4\" />\n                  Split 70/30\n                </div>\n              </SelectItem>\n              <SelectItem value=\"map-only\">\n                <div className=\"flex items-center gap-2\">\n                  <Layout className=\"w-4 h-4\" />\n                  Map Only\n                </div>\n              </SelectItem>\n              <SelectItem value=\"table-only\">\n                <div className=\"flex items-center gap-2\">\n                  <List className=\"w-4 h-4\" />\n                  Table Only\n                </div>\n              </SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Metrics */}\n      <FleetMetricsBar\n        totalVehicles={metrics.totalVehicles}\n        activeVehicles={metrics.activeVehicles}\n        inService={metrics.inService}\n        lowFuelVehicles={metrics.lowFuelVehicles}\n        criticalAlerts={metrics.criticalAlerts}\n        onMetricClick={handleMetricClick}\n      />\n\n      {/* Filters */}\n      <FleetFiltersPanel\n        statusFilter={statusFilter}\n        setStatusFilter={setStatusFilter}\n        searchQuery={searchQuery}\n        setSearchQuery={setSearchQuery}\n        hasActiveFilters={hasActiveFilters}\n        onAdvancedFiltersClick={() => {\n          /* FUTURE: Implement advanced filters dialog */\n        }}\n        onClearFilters={clearAllFilters}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/FleetDashboard.refactored.tsx",
        "start": 100,
        "end": 206,
        "startLoc": {
          "line": 100,
          "column": 9,
          "position": 866
        },
        "endLoc": {
          "line": 206,
          "column": 2,
          "position": 1640
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetDashboard.tsx",
        "start": 100,
        "end": 206,
        "startLoc": {
          "line": 100,
          "column": 9,
          "position": 866
        },
        "endLoc": {
          "line": 206,
          "column": 2,
          "position": 1640
        }
      }
    },
    {
      "format": "tsx",
      "lines": 215,
      "fragment": "import { useMemo, useState, useCallback } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Layout, List } from \"@phosphor-icons/react\"\nimport { Vehicle } from \"@/lib/types\"\nimport { useFleetData } from \"@/hooks/use-fleet-data\"\nimport { useVehicleTelemetry } from \"@/hooks/useVehicleTelemetry\"\nimport { useDrilldown } from \"@/contexts/DrilldownContext\"\nimport { useInspect } from \"@/services/inspect/InspectContext\"\nimport { ProfessionalFleetMap } from \"@/components/Maps/ProfessionalFleetMap\"\nimport { useFleetFilters } from \"./FleetDashboard/hooks/useFleetFilters\"\nimport { useFleetMetrics } from \"./FleetDashboard/hooks/useFleetMetrics\"\nimport { FleetFiltersPanel, FleetMetricsBar, FleetTable } from \"./FleetDashboard/components\"\n\ntype LayoutMode = \"split-50-50\" | \"split-70-30\" | \"map-only\" | \"table-only\"\n\ninterface FleetDashboardProps {\n  data: ReturnType<typeof useFleetData>\n}\n\nexport function FleetDashboard({ data }: FleetDashboardProps) {\n  const initialVehicles = data.vehicles || []\n  const [layoutMode, setLayoutMode] = useState<LayoutMode>(\"split-50-50\")\n\n  // Drilldown & Inspect\n  const { push: drilldownPush } = useDrilldown()\n  const { openInspect } = useInspect()\n\n  // Real-time telemetry\n  const { vehicles: realtimeVehicles } = useVehicleTelemetry({\n    enabled: true,\n    initialVehicles\n  })\n\n  // Merge real-time data with initial vehicles\n  const vehicles = useMemo(() => {\n    if (realtimeVehicles.length > 0) {\n      const merged = new Map<string, Vehicle>()\n      initialVehicles.forEach((v) => merged.set(v.id, v))\n      realtimeVehicles.forEach((v) => {\n        const existing = merged.get(v.id)\n        if (existing) {\n          merged.set(v.id, { ...existing, ...v })\n        }\n      })\n      return Array.from(merged.values())\n    }\n    return initialVehicles\n  }, [initialVehicles, realtimeVehicles])\n\n  // Filtering\n  const {\n    statusFilter,\n    setStatusFilter,\n    searchQuery,\n    setSearchQuery,\n    filteredVehicles,\n    hasActiveFilters,\n    clearAllFilters\n  } = useFleetFilters(vehicles)\n\n  // Metrics\n  const metrics = useFleetMetrics(filteredVehicles)\n\n  // Handlers\n  const handleVehicleClick = useCallback(\n    (vehicle: Vehicle) => {\n      drilldownPush({\n        id: `vehicle-${vehicle.id}`,\n        type: \"vehicle\",\n        label: `${vehicle.number} - ${vehicle.make} ${vehicle.model}`,\n        data: vehicle\n      })\n\n      openInspect({\n        type: \"vehicle\",\n        id: vehicle.id,\n        data: vehicle\n      })\n    },\n    [drilldownPush, openInspect]\n  )\n\n  const handleMetricClick = useCallback(\n    (metricType: string, filter: any, label: string) => {\n      drilldownPush({\n        id: `metric-${metricType}`,\n        type: \"vehicle-list\",\n        label,\n        data: { filter, vehicles: filteredVehicles }\n      })\n    },\n    [drilldownPush, filteredVehicles]\n  )\n\n  // Layout rendering\n  const renderLayout = () => {\n    const mapSection = (\n      <div className=\"h-full\">\n        <ProfessionalFleetMap vehicles={filteredVehicles} onVehicleClick={handleVehicleClick} />\n      </div>\n    )\n\n    const tableSection = (\n      <div className=\"h-full overflow-auto\">\n        <FleetTable vehicles={filteredVehicles} onVehicleClick={handleVehicleClick} />\n        {filteredVehicles.length === 0 && (\n          <div className=\"flex items-center justify-center h-64\">\n            <p className=\"text-muted-foreground\">No vehicles match your filters</p>\n          </div>\n        )}\n      </div>\n    )\n\n    switch (layoutMode) {\n      case \"map-only\":\n        return <div className=\"h-[calc(100vh-300px)]\">{mapSection}</div>\n\n      case \"table-only\":\n        return <div className=\"h-[calc(100vh-300px)]\">{tableSection}</div>\n\n      case \"split-70-30\":\n        return (\n          <div className=\"grid grid-cols-1 lg:grid-cols-[70%_30%] gap-6 h-[calc(100vh-300px)]\">\n            {mapSection}\n            {tableSection}\n          </div>\n        )\n\n      case \"split-50-50\":\n      default:\n        return (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[calc(100vh-300px)]\">\n            {mapSection}\n            {tableSection}\n          </div>\n        )\n    }\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Fleet Dashboard</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            Monitor and manage your fleet in real-time\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Select value={layoutMode} onValueChange={(v) => setLayoutMode(v as LayoutMode)}>\n            <SelectTrigger className=\"w-48\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"split-50-50\">\n                <div className=\"flex items-center gap-2\">\n                  <Layout className=\"w-4 h-4\" />\n                  Split 50/50\n                </div>\n              </SelectItem>\n              <SelectItem value=\"split-70-30\">\n                <div className=\"flex items-center gap-2\">\n                  <Layout className=\"w-4 h-4\" />\n                  Split 70/30\n                </div>\n              </SelectItem>\n              <SelectItem value=\"map-only\">\n                <div className=\"flex items-center gap-2\">\n                  <Layout className=\"w-4 h-4\" />\n                  Map Only\n                </div>\n              </SelectItem>\n              <SelectItem value=\"table-only\">\n                <div className=\"flex items-center gap-2\">\n                  <List className=\"w-4 h-4\" />\n                  Table Only\n                </div>\n              </SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Metrics */}\n      <FleetMetricsBar\n        totalVehicles={metrics.totalVehicles}\n        activeVehicles={metrics.activeVehicles}\n        inService={metrics.inService}\n        lowFuelVehicles={metrics.lowFuelVehicles}\n        criticalAlerts={metrics.criticalAlerts}\n        onMetricClick={handleMetricClick}\n      />\n\n      {/* Filters */}\n      <FleetFiltersPanel\n        statusFilter={statusFilter}\n        setStatusFilter={setStatusFilter}\n        searchQuery={searchQuery}\n        setSearchQuery={setSearchQuery}\n        hasActiveFilters={hasActiveFilters}\n        onAdvancedFiltersClick={() => {\n          /* FUTURE: Implement advanced filters dialog */\n        }}\n        onClearFilters={clearAllFilters}\n      />\n\n      {/* Layout */}\n      {renderLayout()}\n    </div>\n  )\n}\n\nexport default FleetDashboard",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/FleetDashboard.refactored.tsx",
        "start": 1,
        "end": 215,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 215,
          "column": 15,
          "position": 1671
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetDashboard.tsx",
        "start": 1,
        "end": 215,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 215,
          "column": 15,
          "position": 1671
        }
      }
    },
    {
      "format": "javascript",
      "lines": 50,
      "fragment": "={selectedPeriod} onValueChange={setSelectedPeriod}>\n          <SelectTrigger className=\"w-[180px]\">\n            <SelectValue placeholder=\"Time Period\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"week\">This Week</SelectItem>\n            <SelectItem value=\"month\">This Month</SelectItem>\n            <SelectItem value=\"quarter\">This Quarter</SelectItem>\n            <SelectItem value=\"year\">This Year</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n          <TabsTrigger value=\"financial\">Financial</TabsTrigger>\n          <TabsTrigger value=\"utilization\">Utilization</TabsTrigger>\n          <TabsTrigger value=\"kpis\">Key Metrics</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-6 mt-6\">\n          <OverviewTab\n            totalFleet={metrics.totalFleet}\n            utilization={metrics.utilization}\n            avgMileage={metrics.avgMileage}\n            downtime={metrics.downtime}\n            monthlyFleetData={monthlyFleetData}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"financial\" className=\"space-y-6 mt-6\">\n          <FinancialTab\n            totalFuelCost={metrics.totalFuelCost}\n            totalMaintenanceCost={metrics.totalMaintenanceCost}\n            costPerVehicle={kpis.costPerVehicle}\n            costAnalysis={costAnalysis}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"utilization\" className=\"space-y-6 mt-6\">\n          <UtilizationTab utilizationByType={utilizationByType} />\n        </TabsContent>\n\n        <TabsContent value=\"kpis\" className=\"space-y-6 mt-6\">\n          <KPIsTab\n            costPerMile={kpis.costPerMile}\n            fuelEfficiency={kpis.fuelEfficiency}\n            downtimeRate={kpis.downtimeRate}\n            utilization={metrics.utilization}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/FleetAnalytics.refactored.tsx",
        "start": 36,
        "end": 85,
        "startLoc": {
          "line": 36,
          "column": 6,
          "position": 380
        },
        "endLoc": {
          "line": 85,
          "column": 2,
          "position": 817
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetAnalytics.tsx",
        "start": 39,
        "end": 88,
        "startLoc": {
          "line": 39,
          "column": 6,
          "position": 383
        },
        "endLoc": {
          "line": 88,
          "column": 2,
          "position": 820
        }
      }
    },
    {
      "format": "tsx",
      "lines": 78,
      "fragment": "interface FleetAnalyticsProps {\n  data: ReturnType<typeof useFleetData>\n}\n\nexport function FleetAnalytics({ data }: FleetAnalyticsProps) {\n  const vehicles = data?.vehicles || []\n  const fuelTransactions = data?.fuelTransactions || []\n  const workOrders = data?.workOrders || []\n\n  const [selectedPeriod, setSelectedPeriod] = useState<string>(\"month\")\n  const [activeTab, setActiveTab] = useState<string>(\"overview\")\n\n  const { metrics, kpis } = useFleetAnalyticsData(vehicles, fuelTransactions, workOrders)\n  const { monthlyFleetData, costAnalysis, utilizationByType } = useChartData(vehicles)\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Fleet Analytics</h1>\n          <p className=\"text-muted-foreground mt-1\">Comprehensive analytics and performance insights</p>\n        </div>\n        <Select value={selectedPeriod} onValueChange={setSelectedPeriod}>\n          <SelectTrigger className=\"w-[180px]\">\n            <SelectValue placeholder=\"Time Period\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"week\">This Week</SelectItem>\n            <SelectItem value=\"month\">This Month</SelectItem>\n            <SelectItem value=\"quarter\">This Quarter</SelectItem>\n            <SelectItem value=\"year\">This Year</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n          <TabsTrigger value=\"financial\">Financial</TabsTrigger>\n          <TabsTrigger value=\"utilization\">Utilization</TabsTrigger>\n          <TabsTrigger value=\"kpis\">Key Metrics</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-6 mt-6\">\n          <OverviewTab\n            totalFleet={metrics.totalFleet}\n            utilization={metrics.utilization}\n            avgMileage={metrics.avgMileage}\n            downtime={metrics.downtime}\n            monthlyFleetData={monthlyFleetData}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"financial\" className=\"space-y-6 mt-6\">\n          <FinancialTab\n            totalFuelCost={metrics.totalFuelCost}\n            totalMaintenanceCost={metrics.totalMaintenanceCost}\n            costPerVehicle={kpis.costPerVehicle}\n            costAnalysis={costAnalysis}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"utilization\" className=\"space-y-6 mt-6\">\n          <UtilizationTab utilizationByType={utilizationByType} />\n        </TabsContent>\n\n        <TabsContent value=\"kpis\" className=\"space-y-6 mt-6\">\n          <KPIsTab\n            costPerMile={kpis.costPerMile}\n            fuelEfficiency={kpis.fuelEfficiency}\n            downtimeRate={kpis.downtimeRate}\n            utilization={metrics.utilization}\n          />\n        </TabsContent>\n      </Tabs>\n    </div>\n  )\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/fleet/FleetAnalytics.refactored.tsx",
        "start": 14,
        "end": 91,
        "startLoc": {
          "line": 14,
          "column": 1,
          "position": 119
        },
        "endLoc": {
          "line": 91,
          "column": 2,
          "position": 839
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetAnalytics.tsx",
        "start": 17,
        "end": 94,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 122
        },
        "endLoc": {
          "line": 94,
          "column": 2,
          "position": 842
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": " weight=\"fill\" />\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-96\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading driver",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/drivers/DriverScorecard.tsx",
        "start": 139,
        "end": 147,
        "startLoc": {
          "line": 139,
          "column": 2,
          "position": 1132
        },
        "endLoc": {
          "line": 147,
          "column": 7,
          "position": 1207
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetOptimizer.tsx",
        "start": 158,
        "end": 166,
        "startLoc": {
          "line": 158,
          "column": 2,
          "position": 1452
        },
        "endLoc": {
          "line": 166,
          "column": 6,
          "position": 1527
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "</p>\n        </div>\n        <Select value={selectedPeriod} onValueChange={setSelectedPeriod}>\n          <SelectTrigger className=\"w-[180px]\">\n            <SelectValue placeholder=\"Time Period\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"week\">This Week</SelectItem>\n            <SelectItem value=\"month\">This Month</SelectItem>\n            <SelectItem value=\"quarter\">This Quarter</SelectItem>\n            <SelectItem value=\"year\">This Year</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/drivers/DriverPerformance.tsx",
        "start": 114,
        "end": 129,
        "startLoc": {
          "line": 114,
          "column": 7,
          "position": 1367
        },
        "endLoc": {
          "line": 129,
          "column": 4,
          "position": 1512
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetAnalytics.tsx",
        "start": 37,
        "end": 52,
        "startLoc": {
          "line": 37,
          "column": 9,
          "position": 369
        },
        "endLoc": {
          "line": 52,
          "column": 5,
          "position": 514
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ",\n    },\n    {\n      id: \"actions\",\n      header: \"Actions\",\n      cell: () => (\n        <div className=\"flex gap-2\">\n          <Button variant=\"ghost\" size=\"sm\"><Edit className=\"w-4 h-4\" /></Button>\n          <Button variant=\"ghost\" size=\"sm\"><Trash className=\"w-4 h-4\" /></Button>\n        </div>\n      ),\n    },\n  ], [])\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-3xl font-bold\">Driver",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/drivers/DriverManagement.tsx",
        "start": 79,
        "end": 96,
        "startLoc": {
          "line": 79,
          "column": 4,
          "position": 749
        },
        "endLoc": {
          "line": 96,
          "column": 7,
          "position": 913
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/VehicleManagement.tsx",
        "start": 61,
        "end": 78,
        "startLoc": {
          "line": 61,
          "column": 2,
          "position": 583
        },
        "endLoc": {
          "line": 78,
          "column": 8,
          "position": 747
        }
      }
    },
    {
      "format": "tsx",
      "lines": 27,
      "fragment": "import {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport {\n  MagnifyingGlass,\n  VideoCamera",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/VideoTelematics.tsx",
        "start": 9,
        "end": 35,
        "startLoc": {
          "line": 9,
          "column": 1,
          "position": 108
        },
        "endLoc": {
          "line": 35,
          "column": 12,
          "position": 216
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/ReceiptProcessing.tsx",
        "start": 8,
        "end": 32,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 99
        },
        "endLoc": {
          "line": 32,
          "column": 7,
          "position": 180
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Select value={filterType} onValueChange={setFilterType}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Types</SelectItem>\n            <SelectItem value=\"distraction",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/VideoTelematics.tsx",
        "start": 412,
        "end": 424,
        "startLoc": {
          "line": 412,
          "column": 17,
          "position": 3314
        },
        "endLoc": {
          "line": 424,
          "column": 12,
          "position": 3419
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 290,
        "end": 302,
        "startLoc": {
          "line": 290,
          "column": 18,
          "position": 2624
        },
        "endLoc": {
          "line": 302,
          "column": 6,
          "position": 2729
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n            <SelectItem value=\"low\">Low</SelectItem>\n            <SelectItem value=\"medium\">Medium</SelectItem>\n            <SelectItem value=\"high\">High</SelectItem>\n            <SelectItem value=\"critical\">Critical</SelectItem>\n          </SelectContent>\n        </Select>\n        <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/VideoTelematics.tsx",
        "start": 437,
        "end": 444,
        "startLoc": {
          "line": 437,
          "column": 11,
          "position": 3575
        },
        "endLoc": {
          "line": 444,
          "column": 2,
          "position": 3648
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/TaskManagement.tsx",
        "start": 337,
        "end": 344,
        "startLoc": {
          "line": 337,
          "column": 14,
          "position": 2931
        },
        "endLoc": {
          "line": 344,
          "column": 3,
          "position": 3004
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</SelectItem>\n          </SelectContent>\n        </Select>\n        <Select value={filterReviewed} onValueChange={setFilterReviewed}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Status</SelectItem>\n            <SelectItem value=\"unreviewed",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/VideoTelematics.tsx",
        "start": 441,
        "end": 450,
        "startLoc": {
          "line": 441,
          "column": 9,
          "position": 3633
        },
        "endLoc": {
          "line": 450,
          "column": 11,
          "position": 3715
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/VehicleTelemetry.tsx",
        "start": 428,
        "end": 437,
        "startLoc": {
          "line": 428,
          "column": 11,
          "position": 3509
        },
        "endLoc": {
          "line": 437,
          "column": 10,
          "position": 3591
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "days</SelectItem>\n                    <SelectItem value=\"30\">30 days</SelectItem>\n                    <SelectItem value=\"60\">60 days</SelectItem>\n                    <SelectItem value=\"90\">90 days</SelectItem>\n                  </SelectContent>\n                </Select>\n                <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/VideoTelematics.tsx",
        "start": 714,
        "end": 720,
        "startLoc": {
          "line": 714,
          "column": 2,
          "position": 5968
        },
        "endLoc": {
          "line": 720,
          "column": 2,
          "position": 6035
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak/FuelTab.tsx",
        "start": 141,
        "end": 147,
        "startLoc": {
          "line": 141,
          "column": 2,
          "position": 1478
        },
        "endLoc": {
          "line": 147,
          "column": 3,
          "position": 1545
        }
      }
    },
    {
      "format": "tsx",
      "lines": 32,
      "fragment": "import { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Checkbox",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/OSHAForms.tsx",
        "start": 1,
        "end": 32,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 32,
          "column": 9,
          "position": 199
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 1,
        "end": 32,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 32,
          "column": 9,
          "position": 202
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "}</div>\n            <div className=\"flex items-center gap-1 text-xs text-muted-foreground mt-1\">\n              <FileText className=\"w-3 h-3\" />\n              All time\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n              Pending Review",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/OSHAForms.tsx",
        "start": 530,
        "end": 541,
        "startLoc": {
          "line": 530,
          "column": 11,
          "position": 4569
        },
        "endLoc": {
          "line": 541,
          "column": 7,
          "position": 4648
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/ReceiptProcessing.tsx",
        "start": 400,
        "end": 410,
        "startLoc": {
          "line": 400,
          "column": 7,
          "position": 3634
        },
        "endLoc": {
          "line": 410,
          "column": 9,
          "position": 3711
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Select value={filterType} onValueChange={setFilterType}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Types</SelectItem>\n            <SelectItem value=\"300",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/OSHAForms.tsx",
        "start": 586,
        "end": 598,
        "startLoc": {
          "line": 586,
          "column": 16,
          "position": 4983
        },
        "endLoc": {
          "line": 598,
          "column": 4,
          "position": 5088
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 290,
        "end": 302,
        "startLoc": {
          "line": 290,
          "column": 18,
          "position": 2624
        },
        "endLoc": {
          "line": 302,
          "column": 6,
          "position": 2729
        }
      }
    },
    {
      "format": "tsx",
      "lines": 35,
      "fragment": "import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport { Label } from \"@/components/ui/label\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport {\n  Plus,\n  MagnifyingGlass,\n  FileText",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/DocumentManagement.tsx",
        "start": 3,
        "end": 37,
        "startLoc": {
          "line": 3,
          "column": 1,
          "position": 33
        },
        "endLoc": {
          "line": 37,
          "column": 9,
          "position": 250
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 2,
        "end": 37,
        "startLoc": {
          "line": 2,
          "column": 1,
          "position": 12
        },
        "endLoc": {
          "line": 37,
          "column": 12,
          "position": 244
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</div>\n            </div>\n            <Select value={filterCategory} onValueChange={setFilterCategory}>\n              <SelectTrigger className=\"w-[200px]\">\n                <SelectValue placeholder=\"All Categories\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Categories</SelectItem>\n                {categories",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/compliance/DocumentManagement.tsx",
        "start": 403,
        "end": 411,
        "startLoc": {
          "line": 403,
          "column": 15,
          "position": 3753
        },
        "endLoc": {
          "line": 411,
          "column": 11,
          "position": 3831
        }
      },
      "secondFile": {
        "name": "src/components/modules/compliance/DocumentQA.tsx",
        "start": 242,
        "end": 250,
        "startLoc": {
          "line": 242,
          "column": 17,
          "position": 1991
        },
        "endLoc": {
          "line": 250,
          "column": 15,
          "position": 2069
        }
      }
    },
    {
      "format": "tsx",
      "lines": 36,
      "fragment": "import { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { \n  Plus, \n  MagnifyingGlass, \n  Envelope",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/communication/CommunicationLog.tsx",
        "start": 1,
        "end": 36,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 36,
          "column": 9,
          "position": 223
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 1,
        "end": 36,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 36,
          "column": 9,
          "position": 220
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Select value={filterType} onValueChange={setFilterType}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Types</SelectItem>\n            <SelectItem value=\"email",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/communication/CommunicationLog.tsx",
        "start": 388,
        "end": 400,
        "startLoc": {
          "line": 388,
          "column": 25,
          "position": 3445
        },
        "endLoc": {
          "line": 400,
          "column": 6,
          "position": 3550
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 290,
        "end": 302,
        "startLoc": {
          "line": 290,
          "column": 18,
          "position": 2624
        },
        "endLoc": {
          "line": 302,
          "column": 6,
          "position": 2729
        }
      }
    },
    {
      "format": "tsx",
      "lines": 29,
      "fragment": "import {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Switch } from \"@/components/ui/switch\"\nimport {\n  Plus,\n  MagnifyingGlass,\n  Lightning",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/charging/EVChargingManagement.tsx",
        "start": 7,
        "end": 35,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 84
        },
        "endLoc": {
          "line": 35,
          "column": 10,
          "position": 208
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/ReceiptProcessing.tsx",
        "start": 8,
        "end": 33,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 99
        },
        "endLoc": {
          "line": 33,
          "column": 7,
          "position": 217
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Select value={filterStatus} onValueChange={setFilterStatus}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Status",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/charging/EVChargingManagement.tsx",
        "start": 590,
        "end": 601,
        "startLoc": {
          "line": 590,
          "column": 19,
          "position": 5147
        },
        "endLoc": {
          "line": 601,
          "column": 7,
          "position": 5240
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 290,
        "end": 301,
        "startLoc": {
          "line": 290,
          "column": 18,
          "position": 2624
        },
        "endLoc": {
          "line": 301,
          "column": 6,
          "position": 2717
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "> 0 && (\n                <Card className=\"border-red-200 bg-red-50\">\n                  <CardHeader className=\"pb-3\">\n                    <div className=\"flex items-center gap-2\">\n                      <Warning className=\"w-5 h-5 text-red-600\" />\n                      <CardTitle className=\"text-red-700\">Expired",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/assets/EquipmentDashboard.tsx",
        "start": 476,
        "end": 481,
        "startLoc": {
          "line": 476,
          "column": 2,
          "position": 4333
        },
        "endLoc": {
          "line": 481,
          "column": 8,
          "position": 4396
        }
      },
      "secondFile": {
        "name": "src/components/modules/assets/EquipmentDashboard.tsx",
        "start": 359,
        "end": 364,
        "startLoc": {
          "line": 359,
          "column": 2,
          "position": 3256
        },
        "endLoc": {
          "line": 364,
          "column": 8,
          "position": 3319
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ">\n        <Select value={filterStatus} onValueChange={setFilterStatus}>\n          <SelectTrigger className=\"w-full sm:w-40\">\n            <SelectValue placeholder=\"All Status\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Status</SelectItem>\n            <SelectItem value=\"active\">Active</SelectItem>\n            <SelectItem value=\"in_use",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/assets/AssetManagement.tsx",
        "start": 121,
        "end": 129,
        "startLoc": {
          "line": 121,
          "column": 7,
          "position": 865
        },
        "endLoc": {
          "line": 129,
          "column": 7,
          "position": 956
        }
      },
      "secondFile": {
        "name": "src/components/modules/fleet/FleetDashboard/components/FleetFiltersPanel.tsx",
        "start": 37,
        "end": 45,
        "startLoc": {
          "line": 37,
          "column": 4,
          "position": 298
        },
        "endLoc": {
          "line": 45,
          "column": 8,
          "position": 389
        }
      }
    },
    {
      "format": "javascript",
      "lines": 95,
      "fragment": "={stats.totalAssets}\n        activeAssets={stats.activeAssets}\n        maintenanceAssets={stats.maintenanceAssets}\n        totalValue={stats.totalValue}\n      />\n\n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-3\">\n        <div className=\"relative flex-1\">\n          <MagnifyingGlass className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search by name, tag, or serial number...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-9\"\n          />\n        </div>\n        <Select value={filterType} onValueChange={setFilterType}>\n          <SelectTrigger className=\"w-full sm:w-40\">\n            <SelectValue placeholder=\"All Types\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Types</SelectItem>\n            <SelectItem value=\"vehicle\">Vehicles</SelectItem>\n            <SelectItem value=\"equipment\">Equipment</SelectItem>\n            <SelectItem value=\"technology\">Technology</SelectItem>\n            <SelectItem value=\"furniture\">Furniture</SelectItem>\n          </SelectContent>\n        </Select>\n        <Select value={filterStatus} onValueChange={setFilterStatus}>\n          <SelectTrigger className=\"w-full sm:w-40\">\n            <SelectValue placeholder=\"All Status\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Status</SelectItem>\n            <SelectItem value=\"active\">Active</SelectItem>\n            <SelectItem value=\"in_use\">In Use</SelectItem>\n            <SelectItem value=\"maintenance\">Maintenance</SelectItem>\n            <SelectItem value=\"retired\">Retired</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Assets Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Assets ({filteredAssets.length})</CardTitle>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Asset Tag</TableHead>\n                <TableHead>Name</TableHead>\n                <TableHead>Type</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Condition</TableHead>\n                <TableHead>Location</TableHead>\n                <TableHead>Assigned To</TableHead>\n                <TableHead>Value</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredAssets.map((asset) => (\n                <TableRow key={asset.id} className=\"cursor-pointer hover:bg-muted/50\">\n                  <TableCell className=\"font-medium\">{asset.asset_tag}</TableCell>\n                  <TableCell>\n                    <div>\n                      <p className=\"font-medium\">{asset.asset_name}</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {asset.manufacturer} {asset.model}\n                      </p>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{asset.asset_type}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\" className={getStatusColor(asset.status)}>\n                      {asset.status}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\" className={getConditionColor(asset.condition)}>\n                      {asset.condition}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>{asset.location || \"N/A\"}</TableCell>\n                  <TableCell>{asset.assigned_to_name || \"Unassigned\"}</TableCell>\n                  <TableCell>${asset.current_value?.toLocaleString() || \"0\"}</TableCell>\n                </TableRow>\n              ))}\n              {filteredAssets.length === 0 && (\n                <TableRow>\n                  <TableCell colSpan={8}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/assets/AssetManagement.refactored.tsx",
        "start": 93,
        "end": 187,
        "startLoc": {
          "line": 93,
          "column": 12,
          "position": 609
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1497
        }
      },
      "secondFile": {
        "name": "src/components/modules/assets/AssetManagement.tsx",
        "start": 93,
        "end": 187,
        "startLoc": {
          "line": 93,
          "column": 12,
          "position": 609
        },
        "endLoc": {
          "line": 187,
          "column": 2,
          "position": 1497
        }
      }
    },
    {
      "format": "tsx",
      "lines": 200,
      "fragment": "import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport { Plus, MagnifyingGlass } from \"@phosphor-icons/react\"\nimport { useAssets } from \"./AssetManagement/hooks/useAssets\"\nimport { useAssetFilters } from \"./AssetManagement/hooks/useAssetFilters\"\nimport { AssetStatsBar } from \"./AssetManagement/components/AssetStatsBar\"\n\nexport function AssetManagement() {\n  const { assets, loading } = useAssets()\n  const {\n    searchTerm,\n    setSearchTerm,\n    filterType,\n    setFilterType,\n    filterStatus,\n    setFilterStatus,\n    filteredAssets,\n    stats\n  } = useAssetFilters(assets)\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"active\":\n      case \"in_use\":\n        return \"bg-success/10 text-success border-success/20\"\n      case \"maintenance\":\n        return \"bg-warning/10 text-warning border-warning/20\"\n      case \"retired\":\n      case \"disposed\":\n        return \"bg-muted text-muted-foreground\"\n      default:\n        return \"bg-primary/10 text-primary border-primary/20\"\n    }\n  }\n\n  const getConditionColor = (condition: string) => {\n    switch (condition) {\n      case \"excellent\":\n        return \"bg-success/10 text-success border-success/20\"\n      case \"good\":\n        return \"bg-primary/10 text-primary border-primary/20\"\n      case \"fair\":\n        return \"bg-warning/10 text-warning border-warning/20\"\n      case \"poor\":\n      case \"needs_repair\":\n        return \"bg-destructive/10 text-destructive border-destructive/20\"\n      default:\n        return \"bg-muted text-muted-foreground\"\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <p className=\"text-muted-foreground\">Loading assets...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Asset Management</h1>\n          <p className=\"text-muted-foreground mt-1\">Track and manage all organizational assets</p>\n        </div>\n        <Button>\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add Asset\n        </Button>\n      </div>\n\n      {/* Stats */}\n      <AssetStatsBar\n        totalAssets={stats.totalAssets}\n        activeAssets={stats.activeAssets}\n        maintenanceAssets={stats.maintenanceAssets}\n        totalValue={stats.totalValue}\n      />\n\n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-3\">\n        <div className=\"relative flex-1\">\n          <MagnifyingGlass className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search by name, tag, or serial number...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-9\"\n          />\n        </div>\n        <Select value={filterType} onValueChange={setFilterType}>\n          <SelectTrigger className=\"w-full sm:w-40\">\n            <SelectValue placeholder=\"All Types\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Types</SelectItem>\n            <SelectItem value=\"vehicle\">Vehicles</SelectItem>\n            <SelectItem value=\"equipment\">Equipment</SelectItem>\n            <SelectItem value=\"technology\">Technology</SelectItem>\n            <SelectItem value=\"furniture\">Furniture</SelectItem>\n          </SelectContent>\n        </Select>\n        <Select value={filterStatus} onValueChange={setFilterStatus}>\n          <SelectTrigger className=\"w-full sm:w-40\">\n            <SelectValue placeholder=\"All Status\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Status</SelectItem>\n            <SelectItem value=\"active\">Active</SelectItem>\n            <SelectItem value=\"in_use\">In Use</SelectItem>\n            <SelectItem value=\"maintenance\">Maintenance</SelectItem>\n            <SelectItem value=\"retired\">Retired</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Assets Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Assets ({filteredAssets.length})</CardTitle>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Asset Tag</TableHead>\n                <TableHead>Name</TableHead>\n                <TableHead>Type</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Condition</TableHead>\n                <TableHead>Location</TableHead>\n                <TableHead>Assigned To</TableHead>\n                <TableHead>Value</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredAssets.map((asset) => (\n                <TableRow key={asset.id} className=\"cursor-pointer hover:bg-muted/50\">\n                  <TableCell className=\"font-medium\">{asset.asset_tag}</TableCell>\n                  <TableCell>\n                    <div>\n                      <p className=\"font-medium\">{asset.asset_name}</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {asset.manufacturer} {asset.model}\n                      </p>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{asset.asset_type}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\" className={getStatusColor(asset.status)}>\n                      {asset.status}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\" className={getConditionColor(asset.condition)}>\n                      {asset.condition}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>{asset.location || \"N/A\"}</TableCell>\n                  <TableCell>{asset.assigned_to_name || \"Unassigned\"}</TableCell>\n                  <TableCell>${asset.current_value?.toLocaleString() || \"0\"}</TableCell>\n                </TableRow>\n              ))}\n              {filteredAssets.length === 0 && (\n                <TableRow>\n                  <TableCell colSpan={8} className=\"text-center py-8 text-muted-foreground\">\n                    No assets found\n                  </TableCell>\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default AssetManagement",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/assets/AssetManagement.refactored.tsx",
        "start": 1,
        "end": 200,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 200,
          "column": 16,
          "position": 1562
        }
      },
      "secondFile": {
        "name": "src/components/modules/assets/AssetManagement.tsx",
        "start": 1,
        "end": 200,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 200,
          "column": 16,
          "position": 1562
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "\" weight=\"duotone\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Monthly",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 463,
        "end": 472,
        "startLoc": {
          "line": 463,
          "column": 21,
          "position": 3849
        },
        "endLoc": {
          "line": 472,
          "column": 8,
          "position": 3917
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 448,
        "end": 457,
        "startLoc": {
          "line": 448,
          "column": 21,
          "position": 3697
        },
        "endLoc": {
          "line": 457,
          "column": 6,
          "position": 3765
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "\" weight=\"duotone\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Driver",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 485,
        "end": 494,
        "startLoc": {
          "line": 485,
          "column": 20,
          "position": 4082
        },
        "endLoc": {
          "line": 494,
          "column": 7,
          "position": 4150
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 448,
        "end": 457,
        "startLoc": {
          "line": 448,
          "column": 21,
          "position": 3697
        },
        "endLoc": {
          "line": 457,
          "column": 6,
          "position": 3765
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"w-8 h-8 text-success\" weight=\"duotone\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Fuel",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 500,
        "end": 509,
        "startLoc": {
          "line": 500,
          "column": 12,
          "position": 4226
        },
        "endLoc": {
          "line": 509,
          "column": 5,
          "position": 4299
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 463,
        "end": 457,
        "startLoc": {
          "line": 463,
          "column": 10,
          "position": 3844
        },
        "endLoc": {
          "line": 457,
          "column": 6,
          "position": 3765
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "\" weight=\"duotone\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Maintenance",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 513,
        "end": 522,
        "startLoc": {
          "line": 513,
          "column": 21,
          "position": 4368
        },
        "endLoc": {
          "line": 522,
          "column": 12,
          "position": 4436
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 448,
        "end": 457,
        "startLoc": {
          "line": 448,
          "column": 21,
          "position": 3697
        },
        "endLoc": {
          "line": 457,
          "column": 6,
          "position": 3765
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"w-8 h-8 text-primary\" weight=\"duotone\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Task",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 526,
        "end": 535,
        "startLoc": {
          "line": 526,
          "column": 7,
          "position": 4495
        },
        "endLoc": {
          "line": 535,
          "column": 5,
          "position": 4568
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 448,
        "end": 457,
        "startLoc": {
          "line": 448,
          "column": 6,
          "position": 3692
        },
        "endLoc": {
          "line": 457,
          "column": 6,
          "position": 3765
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"w-8 h-8 text-success\" weight=\"duotone\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Alert",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 539,
        "end": 548,
        "startLoc": {
          "line": 539,
          "column": 12,
          "position": 4631
        },
        "endLoc": {
          "line": 548,
          "column": 6,
          "position": 4704
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/ExecutiveDashboard.tsx",
        "start": 463,
        "end": 457,
        "startLoc": {
          "line": 463,
          "column": 10,
          "position": 3844
        },
        "endLoc": {
          "line": 457,
          "column": 6,
          "position": 3765
        }
      }
    },
    {
      "format": "javascript",
      "lines": 105,
      "fragment": "={handleImport}>\n            <Upload className=\"w-4 h-4 mr-2\" />\n            Import\n          </Button>\n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n          <Button variant=\"outline\" onClick={handleRefresh}>\n            <ArrowsClockwise className=\"w-4 h-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button onClick={() => setIsAddVehicleDialogOpen(true)}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Vehicle\n          </Button>\n        </div>\n      </div>\n\n      {/* Metrics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\n        <MetricCard\n          title=\"Total Vehicles\"\n          value={metrics.total}\n          subtitle=\"in fleet\"\n          icon={<Database className=\"w-5 h-5\" />}\n          status=\"info\"\n        />\n        <MetricCard\n          title=\"Active\"\n          value={metrics.active}\n          subtitle=\"on the road\"\n          icon={<CheckCircle className=\"w-5 h-5\" />}\n          status=\"success\"\n        />\n        <MetricCard\n          title=\"In Maintenance\"\n          value={metrics.maintenance}\n          subtitle=\"being serviced\"\n          icon={<Warning className=\"w-5 h-5\" />}\n          status=\"warning\"\n        />\n        <MetricCard\n          title=\"Avg Fuel\"\n          value={`${metrics.avgFuel}%`}\n          subtitle=\"fleet average\"\n          icon={<Database className=\"w-5 h-5\" />}\n          status=\"info\"\n        />\n        <MetricCard\n          title=\"Active Alerts\"\n          value={metrics.alerts}\n          subtitle=\"need attention\"\n          icon={<Warning className=\"w-5 h-5\" />}\n          status={metrics.alerts > 10 ? \"warning\" : \"success\"}\n        />\n      </div>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"overview\">Fleet Overview</TabsTrigger>\n          <TabsTrigger value=\"maintenance\">Maintenance</TabsTrigger>\n          <TabsTrigger value=\"fuel\">Fuel Records</TabsTrigger>\n          <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-4\">\n          <OverviewTab\n            vehicles={vehicles}\n            onAdvancedSearch={() => setIsAdvancedSearchOpen(true)}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"maintenance\" className=\"space-y-4\">\n          <MaintenanceTab\n            vehicles={vehicles}\n            maintenanceRecords={maintenanceRecords}\n            maintenanceMetrics={maintenanceMetrics}\n            onScheduleService={() => setIsScheduleServiceDialogOpen(true)}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"fuel\" className=\"space-y-4\">\n          <FuelTab vehicles={vehicles} fuelRecords={fuelRecords} />\n        </TabsContent>\n\n        <TabsContent value=\"analytics\" className=\"space-y-4\">\n          <AnalyticsTab\n            vehicles={vehicles}\n            fuelRecords={fuelRecords}\n            maintenanceRecords={maintenanceRecords}\n          />\n        </TabsContent>\n      </Tabs>\n\n      {/* Dialogs */}\n      <DataWorkbenchDialogs\n        isAddVehicleDialogOpen={isAddVehicleDialogOpen}\n        setIsAddVehicleDialogOpen={setIsAddVehicleDialogOpen}\n        isScheduleServiceDialogOpen={isScheduleServiceDialogOpen}\n        setIsScheduleServiceDialogOpen={setIsScheduleServiceDialogOpen}\n        isAdvancedSearchOpen={isAdvancedSearchOpen}\n        setIsAdvancedSearchOpen={setIsAdvancedSearchOpen}\n        vehicles={vehicles}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.refactored.tsx",
        "start": 95,
        "end": 199,
        "startLoc": {
          "line": 95,
          "column": 8,
          "position": 1013
        },
        "endLoc": {
          "line": 199,
          "column": 2,
          "position": 1794
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.tsx",
        "start": 95,
        "end": 199,
        "startLoc": {
          "line": 95,
          "column": 8,
          "position": 1013
        },
        "endLoc": {
          "line": 199,
          "column": 2,
          "position": 1794
        }
      }
    },
    {
      "format": "tsx",
      "lines": 205,
      "fragment": "import { useState } from \"react\"\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"@/components/ui/tabs\"\nimport { Button } from \"@/components/ui/button\"\nimport { MetricCard } from \"@/components/MetricCard\"\nimport {\n  Database,\n  Download,\n  Upload,\n  Plus,\n  ArrowsClockwise,\n  Warning,\n  CheckCircle\n} from \"@phosphor-icons/react\"\nimport { useFleetData } from \"@/hooks/use-fleet-data\"\nimport { useMaintenanceData } from \"@/hooks/use-maintenance-data\"\nimport { useFuelData } from \"@/hooks/use-fuel-data\"\nimport { toast } from \"sonner\"\nimport { OverviewTab } from \"./DataWorkbench.bak/OverviewTab\"\nimport { MaintenanceTab } from \"./DataWorkbench.bak/MaintenanceTab\"\nimport { FuelTab } from \"./DataWorkbench.bak/FuelTab\"\nimport { AnalyticsTab } from \"./DataWorkbench.bak/AnalyticsTab\"\nimport { DataWorkbenchDialogs } from \"./DataWorkbench.bak/DataWorkbenchDialogs\"\n\ninterface DataWorkbenchProps {\n  data: ReturnType<typeof useFleetData>\n}\n\nexport function DataWorkbench({ data }: DataWorkbenchProps) {\n  const vehicles = data.vehicles || []\n  const [activeTab, setActiveTab] = useState<string>(\"overview\")\n  const [isAddVehicleDialogOpen, setIsAddVehicleDialogOpen] = useState(false)\n  const [isScheduleServiceDialogOpen, setIsScheduleServiceDialogOpen] = useState(false)\n  const [isAdvancedSearchOpen, setIsAdvancedSearchOpen] = useState(false)\n\n  const { maintenanceRecords, maintenanceMetrics } = useMaintenanceData(vehicles)\n  const { fuelRecords } = useFuelData(vehicles)\n\n  const handleImport = () => {\n    const input = document.createElement(\"input\")\n    input.type = \"file\"\n    input.accept = \".csv,.xlsx,.json\"\n    input.onchange = (e) => {\n      const file = (e.target as HTMLInputElement).files?.[0]\n      if (file) {\n        toast.success(`Importing ${file.name}...`)\n        setTimeout(() => {\n          toast.success(`Successfully imported data from ${file.name}`)\n        }, 1500)\n      }\n    }\n    input.click()\n  }\n\n  const handleExport = () => {\n    const dataStr = JSON.stringify(vehicles, null, 2)\n    const dataBlob = new Blob([dataStr], { type: \"application/json\" })\n    const url = URL.createObjectURL(dataBlob)\n    const link = document.createElement(\"a\")\n    link.href = url\n    link.download = `fleet-data-${new Date().toISOString().split(\"T\")[0]}.json`\n    link.click()\n    URL.revokeObjectURL(url)\n    toast.success(\"Fleet data exported successfully\")\n  }\n\n  const handleRefresh = async () => {\n    toast.info(\"Refreshing fleet data...\")\n    setTimeout(() => {\n      window.location.reload()\n    }, 500)\n  }\n\n  const metrics = {\n    total: vehicles.length,\n    active: vehicles.filter((v) => v.status === \"active\").length,\n    maintenance: vehicles.filter((v) => v.status === \"service\").length,\n    avgFuel:\n      vehicles.length > 0\n        ? Math.round(vehicles.reduce((sum, v) => sum + (v.fuelLevel ?? 0), 0) / vehicles.length)\n        : 0,\n    alerts: vehicles.filter((v) => (v.alerts || []).length > 0).length\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Enhanced Data Workbench</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            Comprehensive fleet data management and analytics\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={handleImport}>\n            <Upload className=\"w-4 h-4 mr-2\" />\n            Import\n          </Button>\n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n          <Button variant=\"outline\" onClick={handleRefresh}>\n            <ArrowsClockwise className=\"w-4 h-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button onClick={() => setIsAddVehicleDialogOpen(true)}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Vehicle\n          </Button>\n        </div>\n      </div>\n\n      {/* Metrics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\n        <MetricCard\n          title=\"Total Vehicles\"\n          value={metrics.total}\n          subtitle=\"in fleet\"\n          icon={<Database className=\"w-5 h-5\" />}\n          status=\"info\"\n        />\n        <MetricCard\n          title=\"Active\"\n          value={metrics.active}\n          subtitle=\"on the road\"\n          icon={<CheckCircle className=\"w-5 h-5\" />}\n          status=\"success\"\n        />\n        <MetricCard\n          title=\"In Maintenance\"\n          value={metrics.maintenance}\n          subtitle=\"being serviced\"\n          icon={<Warning className=\"w-5 h-5\" />}\n          status=\"warning\"\n        />\n        <MetricCard\n          title=\"Avg Fuel\"\n          value={`${metrics.avgFuel}%`}\n          subtitle=\"fleet average\"\n          icon={<Database className=\"w-5 h-5\" />}\n          status=\"info\"\n        />\n        <MetricCard\n          title=\"Active Alerts\"\n          value={metrics.alerts}\n          subtitle=\"need attention\"\n          icon={<Warning className=\"w-5 h-5\" />}\n          status={metrics.alerts > 10 ? \"warning\" : \"success\"}\n        />\n      </div>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"overview\">Fleet Overview</TabsTrigger>\n          <TabsTrigger value=\"maintenance\">Maintenance</TabsTrigger>\n          <TabsTrigger value=\"fuel\">Fuel Records</TabsTrigger>\n          <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-4\">\n          <OverviewTab\n            vehicles={vehicles}\n            onAdvancedSearch={() => setIsAdvancedSearchOpen(true)}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"maintenance\" className=\"space-y-4\">\n          <MaintenanceTab\n            vehicles={vehicles}\n            maintenanceRecords={maintenanceRecords}\n            maintenanceMetrics={maintenanceMetrics}\n            onScheduleService={() => setIsScheduleServiceDialogOpen(true)}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"fuel\" className=\"space-y-4\">\n          <FuelTab vehicles={vehicles} fuelRecords={fuelRecords} />\n        </TabsContent>\n\n        <TabsContent value=\"analytics\" className=\"space-y-4\">\n          <AnalyticsTab\n            vehicles={vehicles}\n            fuelRecords={fuelRecords}\n            maintenanceRecords={maintenanceRecords}\n          />\n        </TabsContent>\n      </Tabs>\n\n      {/* Dialogs */}\n      <DataWorkbenchDialogs\n        isAddVehicleDialogOpen={isAddVehicleDialogOpen}\n        setIsAddVehicleDialogOpen={setIsAddVehicleDialogOpen}\n        isScheduleServiceDialogOpen={isScheduleServiceDialogOpen}\n        setIsScheduleServiceDialogOpen={setIsScheduleServiceDialogOpen}\n        isAdvancedSearchOpen={isAdvancedSearchOpen}\n        setIsAdvancedSearchOpen={setIsAdvancedSearchOpen}\n        vehicles={vehicles}\n      />\n    </div>\n  )\n}\n\nexport default DataWorkbench",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.refactored.tsx",
        "start": 1,
        "end": 205,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 205,
          "column": 14,
          "position": 1813
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.tsx",
        "start": 1,
        "end": 205,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 205,
          "column": 14,
          "position": 1813
        }
      }
    },
    {
      "format": "javascript",
      "lines": 75,
      "fragment": "={handleImport}>\n            <Upload className=\"w-4 h-4 mr-2\" />\n            Import\n          </Button>\n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n          <Button variant=\"outline\" onClick={handleRefresh}>\n            <ArrowsClockwise className=\"w-4 h-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button onClick={() => setIsAddVehicleDialogOpen(true)}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Vehicle\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\n        <MetricCard\n          title=\"Total Vehicles\"\n          value={metrics.total}\n          subtitle=\"in fleet\"\n          icon={<Database className=\"w-5 h-5\" />}\n          status=\"info\"\n        />\n        <MetricCard\n          title=\"Active\"\n          value={metrics.active}\n          subtitle=\"on the road\"\n          icon={<CheckCircle className=\"w-5 h-5\" />}\n          status=\"success\"\n        />\n        <MetricCard\n          title=\"In Maintenance\"\n          value={metrics.maintenance}\n          subtitle=\"being serviced\"\n          icon={<Warning className=\"w-5 h-5\" />}\n          status=\"warning\"\n        />\n        <MetricCard\n          title=\"Avg Fuel\"\n          value={`${metrics.avgFuel}%`}\n          subtitle=\"fleet average\"\n          icon={<Database className=\"w-5 h-5\" />}\n          status=\"info\"\n        />\n        <MetricCard\n          title=\"Active Alerts\"\n          value={metrics.alerts}\n          subtitle=\"need attention\"\n          icon={<Warning className=\"w-5 h-5\" />}\n          status={metrics.alerts > 10 ? \"warning\" : \"success\"}\n        />\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"overview\">Fleet Overview</TabsTrigger>\n          <TabsTrigger value=\"maintenance\">Maintenance</TabsTrigger>\n          <TabsTrigger value=\"fuel\">Fuel Records</TabsTrigger>\n          <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-4\">\n          <OverviewTab\n            vehicles={vehicles}\n            onAdvancedSearch={() => setIsAdvancedSearchOpen(true)}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"maintenance\" className=\"space-y-4\">\n          <MaintenanceTab\n            maintenanceRecords={maintenanceRecords",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak.tsx",
        "start": 175,
        "end": 249,
        "startLoc": {
          "line": 175,
          "column": 8,
          "position": 2219
        },
        "endLoc": {
          "line": 249,
          "column": 19,
          "position": 2811
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.tsx",
        "start": 95,
        "end": 171,
        "startLoc": {
          "line": 95,
          "column": 8,
          "position": 1013
        },
        "endLoc": {
          "line": 171,
          "column": 9,
          "position": 1615
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "import { useState } from \"react\"\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"@/components/ui/tabs\"\nimport { Button } from \"@/components/ui/button\"\nimport { MetricCard } from \"@/components/MetricCard\"\nimport {\n  Database,\n  Download,\n  Upload,\n  Plus,\n  ArrowsClockwise,\n  Warning,\n  CheckCircle\n} from \"@phosphor-icons/react\"\nimport { useFleetData } from \"@/hooks/use-fleet-data\"\nimport { useDataWorkbenchData",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak.tsx",
        "start": 1,
        "end": 15,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 15,
          "column": 21,
          "position": 110
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.tsx",
        "start": 1,
        "end": 15,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 15,
          "column": 19,
          "position": 110
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "input.onchange = (e) => {\n      const file = (e.target as HTMLInputElement).files?.[0]\n      if (file) {\n        toast.success(`Importing ${file.name}...`)\n        setTimeout(() => {\n          toast.success(`Successfully imported data from ${file.name}`)\n        }, 1500)\n      }\n    }\n    input.click()\n  }\n\n  const handleExport = () => {\n    const dataStr = JSON.stringify(vehicles, null, 2)\n    const dataBlob = new Blob([dataStr], { type: 'application/json'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak.tsx",
        "start": 54,
        "end": 68,
        "startLoc": {
          "line": 54,
          "column": 5,
          "position": 481
        },
        "endLoc": {
          "line": 68,
          "column": 19,
          "position": 645
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.tsx",
        "start": 42,
        "end": 56,
        "startLoc": {
          "line": 42,
          "column": 5,
          "position": 412
        },
        "endLoc": {
          "line": 56,
          "column": 19,
          "position": 576
        }
      }
    },
    {
      "format": "tsx",
      "lines": 26,
      "fragment": "<div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Enhanced Data Workbench</h1>\n          <p className=\"text-muted-foreground mt-1\">Comprehensive fleet data management and analytics</p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={handleImport}>\n            <Upload className=\"w-4 h-4 mr-2\" />\n            Import\n          </Button>\n          <Button variant=\"outline\" onClick={handleExport}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n          <Button variant=\"outline\" onClick={handleRefresh}>\n            <ArrowsClockwise className=\"w-4 h-4 mr-2\" />\n            Refresh\n          </Button>\n          <Button onClick={() => setIsAddVehicleDialogOpen(true)}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Vehicle\n          </Button>\n        </div>\n      </div>\n\n      <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak.tsx",
        "start": 169,
        "end": 194,
        "startLoc": {
          "line": 169,
          "column": 7,
          "position": 2133
        },
        "endLoc": {
          "line": 194,
          "column": 2,
          "position": 2372
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.tsx",
        "start": 87,
        "end": 114,
        "startLoc": {
          "line": 87,
          "column": 7,
          "position": 923
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 1166
        }
      }
    },
    {
      "format": "tsx",
      "lines": 39,
      "fragment": "<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\n        <MetricCard\n          title=\"Total Vehicles\"\n          value={metrics.total}\n          subtitle=\"in fleet\"\n          icon={<Database className=\"w-5 h-5\" />}\n          status=\"info\"\n        />\n        <MetricCard\n          title=\"Active\"\n          value={metrics.active}\n          subtitle=\"on the road\"\n          icon={<CheckCircle className=\"w-5 h-5\" />}\n          status=\"success\"\n        />\n        <MetricCard\n          title=\"In Maintenance\"\n          value={metrics.maintenance}\n          subtitle=\"being serviced\"\n          icon={<Warning className=\"w-5 h-5\" />}\n          status=\"warning\"\n        />\n        <MetricCard\n          title=\"Avg Fuel\"\n          value={`${metrics.avgFuel}%`}\n          subtitle=\"fleet average\"\n          icon={<Database className=\"w-5 h-5\" />}\n          status=\"info\"\n        />\n        <MetricCard\n          title=\"Active Alerts\"\n          value={metrics.alerts}\n          subtitle=\"need attention\"\n          icon={<Warning className=\"w-5 h-5\" />}\n          status={metrics.alerts > 10 ? \"warning\" : \"success\"}\n        />\n      </div>\n\n      <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak.tsx",
        "start": 194,
        "end": 232,
        "startLoc": {
          "line": 194,
          "column": 7,
          "position": 2372
        },
        "endLoc": {
          "line": 232,
          "column": 2,
          "position": 2641
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.tsx",
        "start": 115,
        "end": 153,
        "startLoc": {
          "line": 115,
          "column": 7,
          "position": 1171
        },
        "endLoc": {
          "line": 153,
          "column": 2,
          "position": 1440
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "<Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"overview\">Fleet Overview</TabsTrigger>\n          <TabsTrigger value=\"maintenance\">Maintenance</TabsTrigger>\n          <TabsTrigger value=\"fuel\">Fuel Records</TabsTrigger>\n          <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-4\">\n          <OverviewTab\n            vehicles={vehicles}\n            onAdvancedSearch={() => setIsAdvancedSearchOpen(true)}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"maintenance\" className=\"space-y-4\">\n          <MaintenanceTab\n            maintenanceRecords",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/analytics/DataWorkbench.bak.tsx",
        "start": 232,
        "end": 249,
        "startLoc": {
          "line": 232,
          "column": 7,
          "position": 2641
        },
        "endLoc": {
          "line": 249,
          "column": 19,
          "position": 2808
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/DataWorkbench.tsx",
        "start": 154,
        "end": 171,
        "startLoc": {
          "line": 154,
          "column": 7,
          "position": 1445
        },
        "endLoc": {
          "line": 171,
          "column": 9,
          "position": 1612
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ");\n      setNotificationForm({\n        title: '',\n        message: '',\n        category: 'administrative',\n        priority: 'normal',\n        recipientType: 'all',\n        specificUsers: '',\n        scheduledFor: '',\n        useTemplate: false,\n        selectedTemplate: '',\n        templateVariables: '{}'\n      });\n      queryClient.invalidateQueries({ queryKey: ['pushNotificationHistory'] });\n      queryClient.invalidateQueries({ queryKey: ['pushNotificationStats'] });\n    },\n    onError: (error: any) => {\n      alert('Failed to schedule notification: '",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PushNotificationAdmin.tsx",
        "start": 195,
        "end": 212,
        "startLoc": {
          "line": 195,
          "column": 39,
          "position": 1597
        },
        "endLoc": {
          "line": 212,
          "column": 36,
          "position": 1737
        }
      },
      "secondFile": {
        "name": "src/components/modules/admin/PushNotificationAdmin.tsx",
        "start": 159,
        "end": 176,
        "startLoc": {
          "line": 159,
          "column": 34,
          "position": 1266
        },
        "endLoc": {
          "line": 176,
          "column": 32,
          "position": 1406
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await response.json();\n      if (!data.success) throw new Error(data.error || 'Failed to send notification'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PushNotificationAdmin.tsx",
        "start": 218,
        "end": 227,
        "startLoc": {
          "line": 218,
          "column": 45,
          "position": 1802
        },
        "endLoc": {
          "line": 227,
          "column": 30,
          "position": 1899
        }
      },
      "secondFile": {
        "name": "src/components/modules/admin/PushNotificationAdmin.tsx",
        "start": 182,
        "end": 191,
        "startLoc": {
          "line": 182,
          "column": 35,
          "position": 1471
        },
        "endLoc": {
          "line": 191,
          "column": 34,
          "position": 1568
        }
      }
    },
    {
      "format": "tsx",
      "lines": 22,
      "fragment": ");\n      setNotificationForm({\n        title: '',\n        message: '',\n        category: 'administrative',\n        priority: 'normal',\n        recipientType: 'all',\n        specificUsers: '',\n        scheduledFor: '',\n        useTemplate: false,\n        selectedTemplate: '',\n        templateVariables: '{}'\n      });\n      queryClient.invalidateQueries({ queryKey: ['pushNotificationHistory'] });\n      queryClient.invalidateQueries({ queryKey: ['pushNotificationStats'] });\n    },\n    onError: (error: any) => {\n      alert('Failed to send notification: ' + (error.message || 'Unknown error'));\n    }\n  });\n\n  const testNotificationMutation",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PushNotificationAdmin.tsx",
        "start": 231,
        "end": 252,
        "startLoc": {
          "line": 231,
          "column": 48,
          "position": 1928
        },
        "endLoc": {
          "line": 252,
          "column": 25,
          "position": 2096
        }
      },
      "secondFile": {
        "name": "src/components/modules/admin/PushNotificationAdmin.tsx",
        "start": 159,
        "end": 180,
        "startLoc": {
          "line": 159,
          "column": 34,
          "position": 1266
        },
        "endLoc": {
          "line": 180,
          "column": 29,
          "position": 1434
        }
      }
    },
    {
      "format": "tsx",
      "lines": 36,
      "fragment": "import { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Switch } from \"@/components/ui/switch\"\nimport {\n  Plus,\n  MagnifyingGlass,\n  Robot",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PolicyEngineWorkbench.tsx",
        "start": 1,
        "end": 36,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 36,
          "column": 6,
          "position": 220
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/PurchaseOrders.tsx",
        "start": 1,
        "end": 33,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 33,
          "column": 7,
          "position": 217
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": ")\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [filterType, setFilterType] = useState<string>(\"all\")\n  const [filterStatus, setFilterStatus] = useState<string>(\"all\")\n  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false)\n  const [selectedPolicy",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PolicyEngineWorkbench.tsx",
        "start": 50,
        "end": 55,
        "startLoc": {
          "line": 50,
          "column": 2,
          "position": 327
        },
        "endLoc": {
          "line": 55,
          "column": 15,
          "position": 407
        }
      },
      "secondFile": {
        "name": "src/components/modules/compliance/OSHAForms.tsx",
        "start": 81,
        "end": 86,
        "startLoc": {
          "line": 81,
          "column": 12,
          "position": 580
        },
        "endLoc": {
          "line": 86,
          "column": 13,
          "position": 660
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "({\n      type: \"safety\",\n      mode: \"monitor\",\n      status: \"draft\",\n      confidenceScore: 0.85,\n      requiresDualControl: false,\n      requiresMFAForExecution: false,\n      conditions: [],\n      actions: [],\n      scope: {},\n      tags: [],\n      relatedPolicies: [],\n      executionCount: 0,\n      violationCount: 0\n    })\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PolicyEngineWorkbench.tsx",
        "start": 166,
        "end": 181,
        "startLoc": {
          "line": 166,
          "column": 13,
          "position": 1529
        },
        "endLoc": {
          "line": 181,
          "column": 2,
          "position": 1632
        }
      },
      "secondFile": {
        "name": "src/components/modules/admin/PolicyEngineWorkbench.tsx",
        "start": 57,
        "end": 73,
        "startLoc": {
          "line": 57,
          "column": 2,
          "position": 447
        },
        "endLoc": {
          "line": 73,
          "column": 6,
          "position": 551
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        <Select value={filterType} onValueChange={setFilterType}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Types</SelectItem>\n            <SelectItem value=\"safety",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PolicyEngineWorkbench.tsx",
        "start": 517,
        "end": 529,
        "startLoc": {
          "line": 517,
          "column": 19,
          "position": 4383
        },
        "endLoc": {
          "line": 529,
          "column": 7,
          "position": 4488
        }
      },
      "secondFile": {
        "name": "src/components/modules/procurement/VendorManagement.tsx",
        "start": 290,
        "end": 302,
        "startLoc": {
          "line": 290,
          "column": 18,
          "position": 2624
        },
        "endLoc": {
          "line": 302,
          "column": 6,
          "position": 2729
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</SelectItem>\n          </SelectContent>\n        </Select>\n        <Select value={filterStatus} onValueChange={setFilterStatus}>\n          <SelectTrigger className=\"w-48\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Statuses</SelectItem>\n            <SelectItem value=\"draft\">Draft</SelectItem>\n            <SelectItem value=\"testing",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PolicyEngineWorkbench.tsx",
        "start": 532,
        "end": 542,
        "startLoc": {
          "line": 532,
          "column": 12,
          "position": 4537
        },
        "endLoc": {
          "line": 542,
          "column": 8,
          "position": 4634
        }
      },
      "secondFile": {
        "name": "src/components/modules/compliance/OSHAForms.tsx",
        "start": 604,
        "end": 614,
        "startLoc": {
          "line": 604,
          "column": 11,
          "position": 5191
        },
        "endLoc": {
          "line": 614,
          "column": 10,
          "position": 5288
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "\">\n          <div className=\"border rounded-lg overflow-hidden\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-muted/50 border-b\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Name",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PeopleManagement.tsx",
        "start": 72,
        "end": 78,
        "startLoc": {
          "line": 72,
          "column": 10,
          "position": 724
        },
        "endLoc": {
          "line": 78,
          "column": 5,
          "position": 786
        }
      },
      "secondFile": {
        "name": "src/components/modules/maintenance/GarageService.tsx",
        "start": 213,
        "end": 219,
        "startLoc": {
          "line": 213,
          "column": 12,
          "position": 2007
        },
        "endLoc": {
          "line": 219,
          "column": 5,
          "position": 2069
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "\" className=\"space-y-4\">\n          <div className=\"border rounded-lg overflow-hidden\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-muted/50 border-b\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Name</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Employee ID</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Department</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Role",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PeopleManagement.tsx",
        "start": 171,
        "end": 180,
        "startLoc": {
          "line": 171,
          "column": 6,
          "position": 1689
        },
        "endLoc": {
          "line": 180,
          "column": 5,
          "position": 1804
        }
      },
      "secondFile": {
        "name": "src/components/modules/admin/PeopleManagement.tsx",
        "start": 72,
        "end": 81,
        "startLoc": {
          "line": 72,
          "column": 8,
          "position": 718
        },
        "endLoc": {
          "line": 81,
          "column": 6,
          "position": 833
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ">\n                      </td>\n                      <td className=\"px-4 py-3 text-sm text-right\">\n                        <div className=\"flex gap-1 justify-end\">\n                          <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => window.location.href = `tel:${member.phone}`}\n                          >\n                            <Phone className=\"w-3 h-3\" />\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => window.location.href = `mailto:${member.email}`}\n                          >\n                            <EnvelopeSimple className=\"w-3 h-3\" />\n                          </Button>\n                        </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/admin/PeopleManagement.tsx",
        "start": 212,
        "end": 230,
        "startLoc": {
          "line": 212,
          "column": 6,
          "position": 2162
        },
        "endLoc": {
          "line": 230,
          "column": 3,
          "position": 2308
        }
      },
      "secondFile": {
        "name": "src/components/modules/admin/PeopleManagement.tsx",
        "start": 134,
        "end": 152,
        "startLoc": {
          "line": 134,
          "column": 4,
          "position": 1443
        },
        "endLoc": {
          "line": 152,
          "column": 2,
          "position": 1589
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const compatibleTab = screen.getByRole(\"tab\", { name: /compatible parts/i })\n      await user.click(compatibleTab)\n\n      await waitFor(() => {\n        expect(screen",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 346,
        "end": 353,
        "startLoc": {
          "line": 346,
          "column": 34,
          "position": 3093
        },
        "endLoc": {
          "line": 353,
          "column": 7,
          "position": 3181
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 276,
        "end": 283,
        "startLoc": {
          "line": 276,
          "column": 40,
          "position": 2338
        },
        "endLoc": {
          "line": 283,
          "column": 14,
          "position": 2426
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const compatibleTab = screen.getByRole(\"tab\", { name: /compatible parts/i })\n      await user.click(compatibleTab)\n\n      await waitFor(() => {\n        const",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 358,
        "end": 365,
        "startLoc": {
          "line": 358,
          "column": 53,
          "position": 3221
        },
        "endLoc": {
          "line": 365,
          "column": 6,
          "position": 3307
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 276,
        "end": 283,
        "startLoc": {
          "line": 276,
          "column": 40,
          "position": 2338
        },
        "endLoc": {
          "line": 283,
          "column": 7,
          "position": 2424
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const compatibleTab = screen.getByRole(\"tab\", { name: /compatible parts/i })\n      await user.click(compatibleTab)\n\n      await waitFor(() => {\n        const assignButtons = screen.getAllByRole(\"button\", { name: /assign/i })\n        // BATTERY-006 has 0 quantity, so its button should be disabled",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 370,
        "end": 378,
        "startLoc": {
          "line": 370,
          "column": 54,
          "position": 3356
        },
        "endLoc": {
          "line": 378,
          "column": 64,
          "position": 3466
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 276,
        "end": 366,
        "startLoc": {
          "line": 276,
          "column": 40,
          "position": 2338
        },
        "endLoc": {
          "line": 366,
          "column": 7,
          "position": 3331
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const usageTab = screen.getByRole(\"tab\", { name: /usage history/i })\n      await user.click(usageTab)\n\n      await waitFor(() => {\n        expect(screen",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 386,
        "end": 393,
        "startLoc": {
          "line": 386,
          "column": 39,
          "position": 3531
        },
        "endLoc": {
          "line": 393,
          "column": 7,
          "position": 3619
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 288,
        "end": 295,
        "startLoc": {
          "line": 288,
          "column": 37,
          "position": 2465
        },
        "endLoc": {
          "line": 295,
          "column": 9,
          "position": 2553
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const usageTab = screen.getByRole(\"tab\", { name: /usage history/i })\n      await user.click(usageTab)\n\n      await waitFor(() => {\n        expect(screen.getByText(\"$12.99\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 400,
        "end": 407,
        "startLoc": {
          "line": 400,
          "column": 29,
          "position": 3689
        },
        "endLoc": {
          "line": 407,
          "column": 9,
          "position": 3781
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 288,
        "end": 393,
        "startLoc": {
          "line": 288,
          "column": 37,
          "position": 2465
        },
        "endLoc": {
          "line": 393,
          "column": 11,
          "position": 3623
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const assignButton = screen.getByRole(\"button\", { name: /assign parts/i })\n      await user.click(assignButton)\n\n      await waitFor(() => {\n        expect(screen.getByText(\"BRAKE-PAD-002\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 426,
        "end": 433,
        "startLoc": {
          "line": 426,
          "column": 41,
          "position": 3962
        },
        "endLoc": {
          "line": 433,
          "column": 16,
          "position": 4054
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 414,
        "end": 421,
        "startLoc": {
          "line": 414,
          "column": 34,
          "position": 3834
        },
        "endLoc": {
          "line": 421,
          "column": 26,
          "position": 3926
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const useButtons = screen.getAllByRole(\"button\", { name: /use/i })\n      await user.click(useButtons[0])\n\n      await waitFor(() => {\n        expect(screen.getByLabelText",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 452,
        "end": 459,
        "startLoc": {
          "line": 452,
          "column": 35,
          "position": 4238
        },
        "endLoc": {
          "line": 459,
          "column": 15,
          "position": 4331
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 440,
        "end": 447,
        "startLoc": {
          "line": 440,
          "column": 52,
          "position": 4107
        },
        "endLoc": {
          "line": 447,
          "column": 10,
          "position": 4200
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const useButtons = screen.getAllByRole(\"button\", { name: /use/i })\n      await user.click(useButtons[0])\n\n      await waitFor(async",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 465,
        "end": 471,
        "startLoc": {
          "line": 465,
          "column": 46,
          "position": 4384
        },
        "endLoc": {
          "line": 471,
          "column": 6,
          "position": 4465
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 440,
        "end": 446,
        "startLoc": {
          "line": 440,
          "column": 52,
          "position": 4107
        },
        "endLoc": {
          "line": 446,
          "column": 2,
          "position": 4188
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ", async () => {\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const assignButton = screen.getByRole(\"button\", { name: /assign parts/i })\n      await user.click(assignButton)\n\n      await waitFor(async",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 485,
        "end": 491,
        "startLoc": {
          "line": 485,
          "column": 39,
          "position": 4576
        },
        "endLoc": {
          "line": 491,
          "column": 6,
          "position": 4654
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 414,
        "end": 420,
        "startLoc": {
          "line": 414,
          "column": 34,
          "position": 3834
        },
        "endLoc": {
          "line": 420,
          "column": 2,
          "position": 3912
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ",\n        assignPart: vi.fn(),\n        removePart: vi.fn(),\n        recordUsage: vi.fn(),\n        refetch: vi.fn()\n      } as any)\n\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      expect",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 550,
        "end": 559,
        "startLoc": {
          "line": 550,
          "column": 6,
          "position": 5243
        },
        "endLoc": {
          "line": 559,
          "column": 7,
          "position": 5325
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 528,
        "end": 537,
        "startLoc": {
          "line": 528,
          "column": 5,
          "position": 5029
        },
        "endLoc": {
          "line": 537,
          "column": 6,
          "position": 5111
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ",\n        usageHistory: [],\n        maintenanceHistory: [],\n        isLoading: false,\n        assignPart: vi.fn(),\n        removePart: vi.fn(),\n        recordUsage: vi.fn(),\n        refetch: vi.fn()\n      } as any)\n\n      render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const usageTab",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 566,
        "end": 578,
        "startLoc": {
          "line": 566,
          "column": 20,
          "position": 5401
        },
        "endLoc": {
          "line": 578,
          "column": 9,
          "position": 5508
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 547,
        "end": 537,
        "startLoc": {
          "line": 547,
          "column": 2,
          "position": 5220
        },
        "endLoc": {
          "line": 537,
          "column": 8,
          "position": 5113
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "render(<VehicleInventory {...defaultProps} />, { wrapper: createWrapper() })\n\n      const usageTab = screen.getByRole(\"tab\", { name: /usage history/i })\n      await user.click(usageTab)\n\n      await waitFor(() => {\n        expect(screen.getByText(/No usage history available/i",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 576,
        "end": 582,
        "startLoc": {
          "line": 576,
          "column": 7,
          "position": 5479
        },
        "endLoc": {
          "line": 582,
          "column": 30,
          "position": 5559
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 289,
        "end": 393,
        "startLoc": {
          "line": 289,
          "column": 7,
          "position": 2477
        },
        "endLoc": {
          "line": 393,
          "column": 11,
          "position": 3623
        }
      }
    },
    {
      "format": "javascript",
      "lines": 183,
      "fragment": "} />)\n\n      await waitFor(() => {\n        expect(screen.queryByText(/Loading/i)).not.toBeInTheDocument()\n      })\n    })\n\n    it('should show operational status for each camera', () => {\n      const cameras = createMockCameras(3)\n      cameras[0].operational = true\n      cameras[1].operational = false\n      cameras[2].operational = true\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n\n    it('should display camera count', () => {\n      const cameras = createMockCameras(15)\n      render(<TrafficCameras cameras={cameras} />)\n\n      // Should show total camera count somewhere in the UI\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n  })\n\n  // ============================================================================\n  // Filtering Tests\n  // ============================================================================\n\n  describe('Camera Filtering', () => {\n    it('should filter cameras by operational status', async () => {\n      const cameras = createMockCameras(10)\n      cameras.slice(0, 7).forEach(c => c.operational = true)\n      cameras.slice(7).forEach(c => c.operational = false)\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      // Test filtering logic\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n\n    it('should search cameras by name', async () => {\n      const user = userEvent.setup()\n      const cameras = createMockCameras(5)\n      cameras[0].name = 'Main St & 1st Ave'\n      cameras[1].name = 'Central Park Entrance'\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      // If search functionality exists\n      // const searchInput = screen.getByPlaceholderText(/search/i)\n      // await user.type(searchInput, 'Main St')\n      // expect(screen.getByText('Main St & 1st Ave')).toBeInTheDocument()\n    })\n\n    it('should filter by location/area', () => {\n      const cameras = createMockCameras(10)\n      cameras.slice(0, 5).forEach(c => {\n        c.address = 'Downtown Area'\n      })\n      cameras.slice(5).forEach(c => {\n        c.address = 'Suburbs Area'\n      })\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n  })\n\n  // ============================================================================\n  // Live Feed Tests\n  // ============================================================================\n\n  describe('Live Feed Access', () => {\n    it('should show live feed link for cameras with URL', () => {\n      const cameras = createMockCameras(3)\n      cameras[0].cameraUrl = 'https://example.com/feed/1'\n      cameras[1].cameraUrl = 'https://example.com/feed/2'\n      cameras[2].cameraUrl = null\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n\n    it('should open live feed in new window', async () => {\n      const user = userEvent.setup()\n      const cameras = createMockCameras(1)\n      cameras[0].cameraUrl = 'https://example.com/live'\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      // Test clicking on live feed link\n      // const feedLink = screen.getByText(/view live feed/i)\n      // expect(feedLink).toHaveAttribute('target', '_blank')\n    })\n\n    it('should not show feed link for cameras without URL', () => {\n      const cameras = createMockCameras(2)\n      cameras[0].cameraUrl = null\n      cameras[1].cameraUrl = undefined as any\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      expect(screen.queryByText(/view live feed/i)).not.toBeInTheDocument()\n    })\n  })\n\n  // ============================================================================\n  // Map Integration Tests\n  // ============================================================================\n\n  describe('Map Integration', () => {\n    it('should pass cameras to map component', () => {\n      const cameras = createMockCameras(5)\n      render(<TrafficCameras cameras={cameras} />)\n\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n\n    it('should show cameras on map by default', () => {\n      const cameras = createMockCameras(3)\n      render(<TrafficCameras cameras={cameras} />)\n\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n\n    it('should center map on cameras', async () => {\n      const cameras = createMockCameras(5)\n      render(<TrafficCameras cameras={cameras} />)\n\n      await waitFor(() => {\n        expect(screen.queryByText(/Loading/i)).not.toBeInTheDocument()\n      })\n    })\n  })\n\n  // ============================================================================\n  // Camera Selection Tests\n  // ============================================================================\n\n  describe('Camera Selection', () => {\n    it('should allow selecting a camera', async () => {\n      const user = userEvent.setup()\n      const cameras = createMockCameras(3)\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      // Test camera selection\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n\n    it('should highlight selected camera on map', () => {\n      const cameras = createMockCameras(3)\n      render(<TrafficCameras cameras={cameras} />)\n\n      // Test visual highlighting\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n\n    it('should show camera details when selected', () => {\n      const cameras = createMockCameras(1)\n      cameras[0].name = 'Test Camera'\n      cameras[0].address = '123 Main St'\n      cameras[0].crossStreets = 'Main St & 1st Ave'\n\n      render(<TrafficCameras cameras={cameras} />)\n\n      expect(screen.getByRole('region')).toBeInTheDocument()\n    })\n  })\n\n  // ============================================================================\n  // Data Updates Tests\n  // ============================================================================\n\n  describe('Data Updates', () => {\n    it('should update when cameras prop changes', async () => {\n      const { rerender } = render(\n        <TrafficCameras cameras={createMockCameras",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/TrafficCameras.test.tsx",
        "start": 68,
        "end": 250,
        "startLoc": {
          "line": 68,
          "column": 8,
          "position": 433
        },
        "endLoc": {
          "line": 250,
          "column": 18,
          "position": 1865
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/TrafficCameras.test.tsx",
        "start": 55,
        "end": 217,
        "startLoc": {
          "line": 55,
          "column": 2,
          "position": 343
        },
        "endLoc": {
          "line": 217,
          "column": 8,
          "position": 1610
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": "= [\n  {\n    id: \"part-1\",\n    partNumber: \"OIL-FILTER-001\",\n    name: \"Engine Oil Filter\",\n    description: \"High-performance oil filter\",\n    category: \"filters\" as const,\n    manufacturer: \"ACDelco\",\n    compatibleVehicles: [\"vehicle-1\"],\n    quantityOnHand: 45,\n    minStockLevel: 20,\n    maxStockLevel: 100,\n    reorderPoint: 30,\n    unitCost: 12.99,\n    location: \"Shelf A-12\",\n    alternateVendors: []\n  },\n  {\n    id: \"part-2\",\n    partNumber: \"BRAKE-PAD-002\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/InventoryManagement.test.tsx",
        "start": 52,
        "end": 71,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 343
        },
        "endLoc": {
          "line": 71,
          "column": 16,
          "position": 472
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 51,
        "end": 70,
        "startLoc": {
          "line": 51,
          "column": 2,
          "position": 336
        },
        "endLoc": {
          "line": 70,
          "column": 17,
          "position": 465
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "}\n]\n\n// Test wrapper\nconst createWrapper = () => {\n  const queryClient = new QueryClient({\n    defaultOptions: {\n      queries: { retry: false },\n      mutations: { retry: false }\n    }\n  })\n\n  return ({ children }: { children: React.ReactNode }) => (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  )\n}\n\ndescribe(\"InventoryManagement\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/InventoryManagement.test.tsx",
        "start": 116,
        "end": 133,
        "startLoc": {
          "line": 116,
          "column": 3,
          "position": 791
        },
        "endLoc": {
          "line": 133,
          "column": 22,
          "position": 917
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 145,
        "end": 162,
        "startLoc": {
          "line": 145,
          "column": 3,
          "position": 1029
        },
        "endLoc": {
          "line": 162,
          "column": 19,
          "position": 1155
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "})).toBeInTheDocument()\n    })\n  })\n\n  describe(\"Permission Control\", () => {\n    it(\"should show access denied for unauthorized users\", async () => {\n      const { usePermissions } = await import(\"@/hooks/usePermissions\")\n      vi.mocked(usePermissions).mockReturnValue({\n        hasAnyRole: vi.fn(() => false),\n        isLoading: false,\n        isAdmin: false,",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/InventoryManagement.test.tsx",
        "start": 162,
        "end": 172,
        "startLoc": {
          "line": 162,
          "column": 2,
          "position": 1230
        },
        "endLoc": {
          "line": 172,
          "column": 2,
          "position": 1334
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/VehicleInventory.test.tsx",
        "start": 195,
        "end": 206,
        "startLoc": {
          "line": 195,
          "column": 2,
          "position": 1470
        },
        "endLoc": {
          "line": 206,
          "column": 2,
          "position": 1576
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ", async () => {\n      render(<InventoryManagement />, { wrapper: createWrapper() })\n\n      const addButton = screen.getByRole(\"button\", { name: /add part/i })\n      await user.click(addButton)\n\n      await waitFor(() => {\n        expect(screen.getByLabelText",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/InventoryManagement.test.tsx",
        "start": 335,
        "end": 342,
        "startLoc": {
          "line": 335,
          "column": 42,
          "position": 3007
        },
        "endLoc": {
          "line": 342,
          "column": 15,
          "position": 3092
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/InventoryManagement.test.tsx",
        "start": 323,
        "end": 330,
        "startLoc": {
          "line": 323,
          "column": 30,
          "position": 2884
        },
        "endLoc": {
          "line": 330,
          "column": 10,
          "position": 2969
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ", () => {\n  let consoleMock: ReturnType<typeof mockConsole>\n\n  beforeEach(() => {\n    consoleMock = mockConsole()\n    setupLeafletMocks()\n  })\n\n  afterEach(() => {\n    consoleMock.restore()\n    vi.clearAllMocks()\n  })\n\n  describe('Component Rendering', () => {\n    it('should render without crashing', () => {\n      render(<GeofenceManagement",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/GeofenceManagement.test.tsx",
        "start": 22,
        "end": 37,
        "startLoc": {
          "line": 22,
          "column": 21,
          "position": 86
        },
        "endLoc": {
          "line": 37,
          "column": 19,
          "position": 197
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/RouteManagement.test.tsx",
        "start": 21,
        "end": 36,
        "startLoc": {
          "line": 21,
          "column": 18,
          "position": 82
        },
        "endLoc": {
          "line": 36,
          "column": 16,
          "position": 193
        }
      }
    },
    {
      "format": "javascript",
      "lines": 105,
      "fragment": "} />)\n\n      expect(consoleMock.mockWarn).toHaveBeenCalled()\n    })\n  })\n\n  // ============================================================================\n  // Vehicle Display Tests\n  // ============================================================================\n\n  describe('Vehicle Display', () => {\n    it('should display all vehicles on map', async () => {\n      const vehicles = createMockVehicles(5)\n\n      render(<GPSTracking vehicles={vehicles} facilities={[]} />)\n\n      await waitFor(() => {\n        expect(screen.queryByText(/Loading/i)).not.toBeInTheDocument()\n      })\n    })\n\n    it('should display vehicle list with details', () => {\n      const vehicles = createMockVehicles(3)\n      vehicles[0].name = 'Test Vehicle 1'\n\n      render(<GPSTracking vehicles={vehicles} facilities={[]} />)\n\n      // The component should render vehicle information\n      expect(consoleMock.mockLog).toHaveBeenCalled()\n    })\n\n    it('should handle vehicles with missing location', () => {\n      const vehicles = createMockVehicles(3)\n      vehicles[1].location = null as any\n\n      render(<GPSTracking vehicles={vehicles} facilities={[]} />)\n\n      expect(consoleMock.mockWarn).toHaveBeenCalled()\n    })\n  })\n\n  // ============================================================================\n  // Status Filtering Tests\n  // ============================================================================\n\n  describe('Status Filtering', () => {\n    it('should filter vehicles by status', async () => {\n      const user = userEvent.setup()\n      const vehicles = createMockVehicles(10)\n      vehicles[0].status = 'active'\n      vehicles[1].status = 'active'\n      vehicles[2].status = 'idle'\n      vehicles[3].status = 'emergency'\n\n      render(<GPSTracking vehicles={vehicles} facilities={[]} />)\n\n      // Find and click status filter (if UI provides it)\n      // This depends on the actual implementation\n    })\n\n    it('should show all vehicles when filter is \"all\"', () => {\n      const vehicles = createMockVehicles(10)\n      vehicles.forEach((v, i) => {\n        v.status = i % 2 === 0 ? 'active' : 'idle'\n      })\n\n      render(<GPSTracking vehicles={vehicles} facilities={[]} />)\n\n      expect(consoleMock.mockLog).toHaveBeenCalled()\n    })\n\n    it('should calculate status metrics correctly', () => {\n      const vehicles = createMockVehicles(10)\n      vehicles[0].status = 'active'\n      vehicles[1].status = 'active'\n      vehicles[2].status = 'active'\n      vehicles[3].status = 'idle'\n      vehicles[4].status = 'idle'\n      vehicles[5].status = 'emergency'\n      vehicles[6].status = 'charging'\n      vehicles[7].status = 'service'\n      vehicles[8].status = 'offline'\n      vehicles[9].status = 'offline'\n\n      render(<GPSTracking vehicles={vehicles} facilities={[]} />)\n\n      // Status metrics should be calculated:\n      // active: 3, idle: 2, emergency: 1, charging: 1, service: 1, offline: 2\n    })\n  })\n\n  // ============================================================================\n  // Vehicle Selection Tests\n  // ============================================================================\n\n  describe('Vehicle Selection', () => {\n    it('should call onVehicleSelect when vehicle is selected', async () => {\n      const onVehicleSelect = vi.fn()\n      const vehicles = createMockVehicles(3)\n\n      render(\n        <GPSTracking\n          vehicles={vehicles}\n          facilities={[]}\n          onVehicleSelect={onVehicleSelect",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/GPSTracking.test.tsx",
        "start": 145,
        "end": 249,
        "startLoc": {
          "line": 145,
          "column": 2,
          "position": 924
        },
        "endLoc": {
          "line": 249,
          "column": 16,
          "position": 1759
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/GPSTracking.test.tsx",
        "start": 130,
        "end": 229,
        "startLoc": {
          "line": 130,
          "column": 5,
          "position": 824
        },
        "endLoc": {
          "line": 229,
          "column": 9,
          "position": 1642
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": ", () => {\n  let consoleMock: ReturnType<typeof mockConsole>\n\n  beforeEach(() => {\n    consoleMock = mockConsole()\n    setupLeafletMocks()\n  })\n\n  afterEach(() => {\n    consoleMock.restore()\n    vi.clearAllMocks()\n  })\n\n  // ============================================================================\n  // Rendering Tests\n  // ============================================================================\n\n  describe('Component Rendering', () => {\n    it('should render without crashing', () => {\n      const vehicles",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/GPSTracking.test.tsx",
        "start": 24,
        "end": 43,
        "startLoc": {
          "line": 24,
          "column": 14,
          "position": 97
        },
        "endLoc": {
          "line": 43,
          "column": 9,
          "position": 217
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/TrafficCameras.test.tsx",
        "start": 22,
        "end": 41,
        "startLoc": {
          "line": 22,
          "column": 17,
          "position": 93
        },
        "endLoc": {
          "line": 41,
          "column": 8,
          "position": 213
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ", () => {\n  let consoleMock: ReturnType<typeof mockConsole>\n\n  beforeEach(() => {\n    consoleMock = mockConsole()\n    setupLeafletMocks()\n  })\n\n  afterEach(() => {\n    consoleMock.restore()\n    vi.clearAllMocks()\n  })\n\n  describe('Component Rendering', () => {\n    it('should render without crashing', () => {\n      render(<GISCommandCenter",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/GISCommandCenter.test.tsx",
        "start": 23,
        "end": 38,
        "startLoc": {
          "line": 23,
          "column": 19,
          "position": 90
        },
        "endLoc": {
          "line": 38,
          "column": 17,
          "position": 201
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/RouteManagement.test.tsx",
        "start": 21,
        "end": 36,
        "startLoc": {
          "line": 21,
          "column": 18,
          "position": 82
        },
        "endLoc": {
          "line": 36,
          "column": 16,
          "position": 193
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ", () => {\n  let consoleMock: ReturnType<typeof mockConsole>\n\n  beforeEach(() => {\n    consoleMock = mockConsole()\n    setupLeafletMocks()\n  })\n\n  afterEach(() => {\n    consoleMock.restore()\n    vi.clearAllMocks()\n  })\n\n  describe('Component Rendering', () => {\n    it('should render without crashing', () => {\n      render(<FleetDashboard",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/FleetDashboard.test.tsx",
        "start": 22,
        "end": 37,
        "startLoc": {
          "line": 22,
          "column": 17,
          "position": 86
        },
        "endLoc": {
          "line": 37,
          "column": 15,
          "position": 197
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/RouteManagement.test.tsx",
        "start": 21,
        "end": 36,
        "startLoc": {
          "line": 21,
          "column": 18,
          "position": 82
        },
        "endLoc": {
          "line": 36,
          "column": 16,
          "position": 193
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ",\n        unsubscribeFromChannel: vi.fn(),\n        sendAudioChunk: vi.fn(),\n        startTransmission: vi.fn(),\n        endTransmission: vi.fn(),\n        acknowledgeAlert: vi.fn(),\n        resolveAlert: vi.fn()\n      } as any);\n\n      render(<DispatchConsole />);\n\n      // Switch to alerts tab",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 282,
        "end": 293,
        "startLoc": {
          "line": 282,
          "column": 2,
          "position": 2627
        },
        "endLoc": {
          "line": 293,
          "column": 24,
          "position": 2716
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 241,
        "end": 252,
        "startLoc": {
          "line": 241,
          "column": 19,
          "position": 2255
        },
        "endLoc": {
          "line": 252,
          "column": 6,
          "position": 2344
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ");\n\n      vi.mocked(useDispatchSocket).mockReturnValue({\n        isConnected: true,\n        currentChannel: { id: 'ch1', name: 'Channel 1', status: 'ACTIVE' } as any,\n        activeTransmission: null,\n        recentTransmissions: [],\n        activeUnits: [],\n        emergencyAlerts: []",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 308,
        "end": 316,
        "startLoc": {
          "line": 308,
          "column": 2,
          "position": 2892
        },
        "endLoc": {
          "line": 316,
          "column": 2,
          "position": 2973
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 263,
        "end": 271,
        "startLoc": {
          "line": 263,
          "column": 28,
          "position": 2452
        },
        "endLoc": {
          "line": 271,
          "column": 2,
          "position": 2534
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ");\n\n      vi.mocked(usePTT).mockReturnValue({\n        isTransmitting: false,\n        isPTTActive: false,\n        audioLevel: 0,\n        error: null,\n        startPTT,\n        stopPTT: vi.fn(),\n        togglePTT: vi.fn(),\n        currentTransmissionId: null\n      } as any);\n\n      render(<DispatchConsole />);\n\n      const emergencyButton",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 326,
        "end": 341,
        "startLoc": {
          "line": 326,
          "column": 4,
          "position": 3073
        },
        "endLoc": {
          "line": 341,
          "column": 16,
          "position": 3173
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 137,
        "end": 150,
        "startLoc": {
          "line": 137,
          "column": 2,
          "position": 1339
        },
        "endLoc": {
          "line": 150,
          "column": 10,
          "position": 1437
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ", async () => {\n      const { useDispatchSocket } = await import('@/hooks/useDispatchSocket');\n      vi.mocked(useDispatchSocket).mockReturnValue({\n        isConnected: true,\n        currentChannel: { id: 'ch1', name: 'Channel 1', status: 'ACTIVE' } as any,\n        activeTransmission: null,\n        recentTransmissions: [\n          {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 350,
        "end": 357,
        "startLoc": {
          "line": 350,
          "column": 32,
          "position": 3246
        },
        "endLoc": {
          "line": 357,
          "column": 2,
          "position": 3339
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 262,
        "end": 268,
        "startLoc": {
          "line": 262,
          "column": 28,
          "position": 2425
        },
        "endLoc": {
          "line": 268,
          "column": 2,
          "position": 2516
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ",\n        activeUnits: [],\n        emergencyAlerts: [],\n        connect: vi.fn(),\n        disconnect: vi.fn(),\n        subscribeToChannel: vi.fn(),\n        unsubscribeFromChannel: vi.fn(),\n        sendAudioChunk: vi.fn(),\n        startTransmission:",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 369,
        "end": 377,
        "startLoc": {
          "line": 369,
          "column": 4,
          "position": 3428
        },
        "endLoc": {
          "line": 377,
          "column": 2,
          "position": 3503
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 314,
        "end": 322,
        "startLoc": {
          "line": 314,
          "column": 2,
          "position": 2958
        },
        "endLoc": {
          "line": 322,
          "column": 2,
          "position": 3033
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "],\n        emergencyAlerts: [],\n        connect: vi.fn(),\n        disconnect: vi.fn(),\n        subscribeToChannel: vi.fn(),\n        unsubscribeFromChannel: vi.fn(),\n        sendAudioChunk: vi.fn(),\n        startTransmission: vi.fn(),",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 370,
        "end": 377,
        "startLoc": {
          "line": 370,
          "column": 2,
          "position": 3435
        },
        "endLoc": {
          "line": 377,
          "column": 2,
          "position": 3510
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 28,
        "end": 35,
        "startLoc": {
          "line": 28,
          "column": 5,
          "position": 276
        },
        "endLoc": {
          "line": 35,
          "column": 2,
          "position": 351
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ",\n        connect: vi.fn(),\n        disconnect: vi.fn(),\n        subscribeToChannel: vi.fn(),\n        unsubscribeFromChannel: vi.fn(),\n        sendAudioChunk: vi.fn(),\n        startTransmission: vi.fn(),\n        endTransmission: vi.fn(),\n        acknowledgeAlert: vi.fn(),\n        resolveAlert: vi.fn()\n      } as any);\n\n      render(<DispatchConsole />);\n\n      // Switch to history tab",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 371,
        "end": 385,
        "startLoc": {
          "line": 371,
          "column": 2,
          "position": 3444
        },
        "endLoc": {
          "line": 385,
          "column": 25,
          "position": 3566
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 279,
        "end": 252,
        "startLoc": {
          "line": 279,
          "column": 4,
          "position": 2594
        },
        "endLoc": {
          "line": 252,
          "column": 6,
          "position": 2344
        }
      }
    },
    {
      "format": "tsx",
      "lines": 28,
      "fragment": ", async () => {\n      const { useDispatchSocket } = await import('@/hooks/useDispatchSocket');\n      vi.mocked(useDispatchSocket).mockReturnValue({\n        isConnected: true,\n        currentChannel: { id: 'ch1', name: 'Channel 1', status: 'ACTIVE' } as any,\n        activeTransmission: null,\n        recentTransmissions: [],\n        activeUnits: [],\n        emergencyAlerts: [],\n        connect: vi.fn(),\n        disconnect: vi.fn(),\n        subscribeToChannel: vi.fn(),\n        unsubscribeFromChannel: vi.fn(),\n        sendAudioChunk: vi.fn(),\n        startTransmission: vi.fn(),\n        endTransmission: vi.fn(),\n        acknowledgeAlert: vi.fn(),\n        resolveAlert: vi.fn()\n      } as any);\n\n      render(<DispatchConsole />);\n\n      // Switch to history tab\n      const historyTab = screen.getByRole('tab', { name: /history/i });\n      fireEvent.click(historyTab);\n\n      await waitFor(() => {\n        expect(screen.getByText('No recent transmissions'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 395,
        "end": 422,
        "startLoc": {
          "line": 395,
          "column": 42,
          "position": 3662
        },
        "endLoc": {
          "line": 422,
          "column": 26,
          "position": 3948
        }
      },
      "secondFile": {
        "name": "src/components/modules/__tests__/DispatchConsole.test.tsx",
        "start": 262,
        "end": 390,
        "startLoc": {
          "line": 262,
          "column": 28,
          "position": 2425
        },
        "endLoc": {
          "line": 390,
          "column": 31,
          "position": 3622
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "| null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(initialTab);\n\n  useEffect(() => {\n    const fetchTrip",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 53,
        "end": 59,
        "startLoc": {
          "line": 53,
          "column": 2,
          "position": 381
        },
        "endLoc": {
          "line": 59,
          "column": 10,
          "position": 465
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 49,
        "end": 55,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 344
        },
        "endLoc": {
          "line": 55,
          "column": 13,
          "position": 428
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "data...</span>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"flex items-center gap-2 text-red-600\">\n          <AlertCircle className=\"h-5 w-5\" />\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!trip",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 88,
        "end": 104,
        "startLoc": {
          "line": 88,
          "column": 2,
          "position": 739
        },
        "endLoc": {
          "line": 104,
          "column": 5,
          "position": 840
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 78,
        "end": 94,
        "startLoc": {
          "line": 78,
          "column": 2,
          "position": 629
        },
        "endLoc": {
          "line": 94,
          "column": 8,
          "position": 730
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "data available\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Header */}\n      <div className=\"border-b p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              Trip",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 107,
        "end": 119,
        "startLoc": {
          "line": 107,
          "column": 2,
          "position": 866
        },
        "endLoc": {
          "line": 119,
          "column": 5,
          "position": 943
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 97,
        "end": 109,
        "startLoc": {
          "line": 97,
          "column": 2,
          "position": 756
        },
        "endLoc": {
          "line": 109,
          "column": 2,
          "position": 833
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</p>\n              </div>\n            </div>\n          </Card>\n        </TabsContent>\n\n        {/* Timeline Tab */}\n        <TabsContent value=\"timeline\" className=\"p-4\">\n          <Card className=\"p-4\">\n            <h3 className=\"text-lg font-semibold mb-4\">Trip",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 241,
        "end": 250,
        "startLoc": {
          "line": 241,
          "column": 2,
          "position": 2352
        },
        "endLoc": {
          "line": 250,
          "column": 5,
          "position": 2420
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 239,
        "end": 248,
        "startLoc": {
          "line": 239,
          "column": 5,
          "position": 2374
        },
        "endLoc": {
          "line": 248,
          "column": 9,
          "position": 2442
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n              <div className=\"flex gap-4\">\n                <div className=\"flex flex-col items-center\">\n                  <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                  <div className=\"w-px h-full bg-gray-300\"></div>\n                </div>\n                <div className=\"flex-1 pb-4\">\n                  <p className=\"font-medium\">Trip Started",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 251,
        "end": 258,
        "startLoc": {
          "line": 251,
          "column": 2,
          "position": 2436
        },
        "endLoc": {
          "line": 258,
          "column": 8,
          "position": 2516
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 259,
        "end": 266,
        "startLoc": {
          "line": 259,
          "column": 4,
          "position": 2570
        },
        "endLoc": {
          "line": 266,
          "column": 10,
          "position": 2650
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n              <div className=\"flex gap-4\">\n                <div className=\"flex flex-col items-center\">\n                  <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\n                  <div className=\"w-px h-full bg-gray-300\"></div>\n                </div>\n                <div className=\"flex-1 pb-4\">\n                  <p className=\"font-medium\">Rest",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 264,
        "end": 271,
        "startLoc": {
          "line": 264,
          "column": 4,
          "position": 2594
        },
        "endLoc": {
          "line": 271,
          "column": 5,
          "position": 2672
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 249,
        "end": 256,
        "startLoc": {
          "line": 249,
          "column": 2,
          "position": 2458
        },
        "endLoc": {
          "line": 256,
          "column": 8,
          "position": 2536
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</p>\n                </div>\n              </div>\n              <div className=\"flex gap-4\">\n                <div className=\"flex flex-col items-center\">\n                  <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\n                  <div className=\"w-px h-full bg-gray-300\"></div>\n                </div>\n                <div className=\"flex-1 pb-4\">\n                  <p className=\"font-medium\">Refueling",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 275,
        "end": 284,
        "startLoc": {
          "line": 275,
          "column": 8,
          "position": 2752
        },
        "endLoc": {
          "line": 284,
          "column": 10,
          "position": 2842
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 267,
        "end": 276,
        "startLoc": {
          "line": 267,
          "column": 6,
          "position": 2676
        },
        "endLoc": {
          "line": 276,
          "column": 9,
          "position": 2766
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "data...</span>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"flex items-center gap-2 text-red-600\">\n          <AlertCircle className=\"h-5 w-5\" />\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!task",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TaskInspector.tsx",
        "start": 139,
        "end": 155,
        "startLoc": {
          "line": 139,
          "column": 2,
          "position": 1401
        },
        "endLoc": {
          "line": 155,
          "column": 5,
          "position": 1502
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 78,
        "end": 94,
        "startLoc": {
          "line": 78,
          "column": 2,
          "position": 629
        },
        "endLoc": {
          "line": 94,
          "column": 8,
          "position": 730
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</h3>\n            <div className=\"space-y-4\">\n              <div className=\"flex gap-4\">\n                <div className=\"flex flex-col items-center\">\n                  <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\n                  <div className=\"w-px h-full bg-gray-300\"></div>\n                </div>\n                <div className=\"flex-1 pb-4\">\n                  <p className=\"font-medium\">Task",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TaskInspector.tsx",
        "start": 362,
        "end": 370,
        "startLoc": {
          "line": 362,
          "column": 8,
          "position": 3569
        },
        "endLoc": {
          "line": 370,
          "column": 5,
          "position": 3660
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 248,
        "end": 256,
        "startLoc": {
          "line": 248,
          "column": 9,
          "position": 2445
        },
        "endLoc": {
          "line": 256,
          "column": 8,
          "position": 2536
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "<div className=\"flex gap-4\">\n                  <div className=\"flex flex-col items-center\">\n                    <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\n                    <div className=\"w-px h-full bg-gray-300\"></div>\n                  </div>\n                  <div className=\"flex-1 pb-4\">\n                    <p className=\"font-medium\">Status",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/TaskInspector.tsx",
        "start": 391,
        "end": 397,
        "startLoc": {
          "line": 391,
          "column": 17,
          "position": 3907
        },
        "endLoc": {
          "line": 397,
          "column": 7,
          "position": 3982
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 270,
        "end": 276,
        "startLoc": {
          "line": 270,
          "column": 15,
          "position": 2691
        },
        "endLoc": {
          "line": 276,
          "column": 9,
          "position": 2766
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "import React, { useState, useEffect } from 'react';\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs';\nimport { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { apiClient } from '@/lib/api';\nimport { Loader2, AlertCircle, MapPin, Navigation",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/RouteInspector.tsx",
        "start": 10,
        "end": 15,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 15,
          "column": 11,
          "position": 96
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 11,
        "end": 16,
        "startLoc": {
          "line": 11,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 6,
          "position": 96
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "| null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(initialTab);\n\n  useEffect(() => {\n    const fetchRoute",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/RouteInspector.tsx",
        "start": 56,
        "end": 62,
        "startLoc": {
          "line": 56,
          "column": 2,
          "position": 411
        },
        "endLoc": {
          "line": 62,
          "column": 11,
          "position": 495
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 49,
        "end": 55,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 344
        },
        "endLoc": {
          "line": 55,
          "column": 13,
          "position": 428
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "();\n    }\n  }, [id]);\n\n  const formatDuration = (minutes: number): string => {\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return `${hours}h ${mins}m`;\n  };\n\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/RouteInspector.tsx",
        "start": 77,
        "end": 87,
        "startLoc": {
          "line": 77,
          "column": 11,
          "position": 627
        },
        "endLoc": {
          "line": 87,
          "column": 6,
          "position": 719
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 74,
        "end": 84,
        "startLoc": {
          "line": 74,
          "column": 10,
          "position": 597
        },
        "endLoc": {
          "line": 84,
          "column": 3,
          "position": 689
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "data...</span>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"flex items-center gap-2 text-red-600\">\n          <AlertCircle className=\"h-5 w-5\" />\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!route",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/RouteInspector.tsx",
        "start": 109,
        "end": 125,
        "startLoc": {
          "line": 109,
          "column": 2,
          "position": 923
        },
        "endLoc": {
          "line": 125,
          "column": 6,
          "position": 1024
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 78,
        "end": 94,
        "startLoc": {
          "line": 78,
          "column": 2,
          "position": 629
        },
        "endLoc": {
          "line": 94,
          "column": 8,
          "position": 730
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "data available\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Header */}\n      <div className=\"border-b p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              {route",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/RouteInspector.tsx",
        "start": 128,
        "end": 140,
        "startLoc": {
          "line": 128,
          "column": 2,
          "position": 1050
        },
        "endLoc": {
          "line": 140,
          "column": 6,
          "position": 1128
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 97,
        "end": 109,
        "startLoc": {
          "line": 97,
          "column": 2,
          "position": 756
        },
        "endLoc": {
          "line": 109,
          "column": 8,
          "position": 834
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ".status}\n          </Badge>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1\">\n        <TabsList className=\"w-full justify-start border-b rounded-none\">\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n          <TabsTrigger value=\"stops",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/RouteInspector.tsx",
        "start": 147,
        "end": 156,
        "startLoc": {
          "line": 147,
          "column": 6,
          "position": 1193
        },
        "endLoc": {
          "line": 156,
          "column": 6,
          "position": 1274
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 116,
        "end": 125,
        "startLoc": {
          "line": 116,
          "column": 8,
          "position": 919
        },
        "endLoc": {
          "line": 125,
          "column": 5,
          "position": 1000
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</TabsTrigger>\n        </TabsList>\n\n        {/* Overview Tab */}\n        <TabsContent value=\"overview\" className=\"p-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <Card className=\"p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Route",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/RouteInspector.tsx",
        "start": 157,
        "end": 164,
        "startLoc": {
          "line": 157,
          "column": 12,
          "position": 1293
        },
        "endLoc": {
          "line": 164,
          "column": 6,
          "position": 1357
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 128,
        "end": 135,
        "startLoc": {
          "line": 128,
          "column": 9,
          "position": 1049
        },
        "endLoc": {
          "line": 135,
          "column": 8,
          "position": 1113
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ">\n\n            <Card className=\"p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Performance Metrics</h3>\n              <dl className=\"space-y-3\">\n                <div className=\"flex justify-between\">\n                  <dt className=\"text-gray-600\">Average Stop",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/RouteInspector.tsx",
        "start": 300,
        "end": 306,
        "startLoc": {
          "line": 300,
          "column": 5,
          "position": 2833
        },
        "endLoc": {
          "line": 306,
          "column": 5,
          "position": 2898
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 309,
        "end": 314,
        "startLoc": {
          "line": 309,
          "column": 2,
          "position": 3127
        },
        "endLoc": {
          "line": 314,
          "column": 6,
          "position": 3191
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "import React, { useState, useEffect } from 'react';\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs';\nimport { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { apiClient } from '@/lib/api';\nimport { Loader2, AlertCircle, TrendingUp",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/DriverInspector.tsx",
        "start": 11,
        "end": 16,
        "startLoc": {
          "line": 11,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 11,
          "position": 93
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TripInspector.tsx",
        "start": 11,
        "end": 16,
        "startLoc": {
          "line": 11,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 7,
          "position": 93
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "| null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(initialTab);\n\n  useEffect(() => {\n    const fetchDriver",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/DriverInspector.tsx",
        "start": 43,
        "end": 49,
        "startLoc": {
          "line": 43,
          "column": 2,
          "position": 312
        },
        "endLoc": {
          "line": 49,
          "column": 12,
          "position": 396
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 49,
        "end": 55,
        "startLoc": {
          "line": 49,
          "column": 2,
          "position": 344
        },
        "endLoc": {
          "line": 55,
          "column": 13,
          "position": 428
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "data...</span>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"flex items-center gap-2 text-red-600\">\n          <AlertCircle className=\"h-5 w-5\" />\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!driver",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/DriverInspector.tsx",
        "start": 72,
        "end": 88,
        "startLoc": {
          "line": 72,
          "column": 2,
          "position": 597
        },
        "endLoc": {
          "line": 88,
          "column": 7,
          "position": 698
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 78,
        "end": 94,
        "startLoc": {
          "line": 78,
          "column": 2,
          "position": 629
        },
        "endLoc": {
          "line": 94,
          "column": 8,
          "position": 730
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ".status}\n          </Badge>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1\">\n        <TabsList className=\"w-full justify-start border-b rounded-none\">\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n          <TabsTrigger value=\"performance",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/DriverInspector.tsx",
        "start": 123,
        "end": 132,
        "startLoc": {
          "line": 123,
          "column": 7,
          "position": 968
        },
        "endLoc": {
          "line": 132,
          "column": 12,
          "position": 1049
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 116,
        "end": 125,
        "startLoc": {
          "line": 116,
          "column": 8,
          "position": 919
        },
        "endLoc": {
          "line": 125,
          "column": 5,
          "position": 1000
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</TabsTrigger>\n        </TabsList>\n\n        {/* Overview Tab */}\n        <TabsContent value=\"overview\" className=\"p-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <Card className=\"p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Driver",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/DriverInspector.tsx",
        "start": 134,
        "end": 141,
        "startLoc": {
          "line": 134,
          "column": 9,
          "position": 1083
        },
        "endLoc": {
          "line": 141,
          "column": 7,
          "position": 1147
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 128,
        "end": 135,
        "startLoc": {
          "line": 128,
          "column": 9,
          "position": 1049
        },
        "endLoc": {
          "line": 135,
          "column": 8,
          "position": 1113
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "import React, { useState, useEffect } from 'react';\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs';\nimport { Card } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { apiClient } from '@/lib/api';\nimport { Loader2, AlertCircle, AlertTriangle",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/AlertInspector.tsx",
        "start": 10,
        "end": 16,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 14,
          "position": 106
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TaskInspector.tsx",
        "start": 10,
        "end": 16,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 13,
          "position": 106
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "| null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(initialTab);\n  const [processing, setProcessing] = useState(false);\n\n  useEffect(() => {\n    const fetchAlert",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/AlertInspector.tsx",
        "start": 55,
        "end": 62,
        "startLoc": {
          "line": 55,
          "column": 2,
          "position": 527
        },
        "endLoc": {
          "line": 62,
          "column": 11,
          "position": 629
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TaskInspector.tsx",
        "start": 67,
        "end": 74,
        "startLoc": {
          "line": 67,
          "column": 2,
          "position": 619
        },
        "endLoc": {
          "line": 74,
          "column": 10,
          "position": 721
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "data...</span>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-8\">\n        <div className=\"flex items-center gap-2 text-red-600\">\n          <AlertCircle className=\"h-5 w-5\" />\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!alert",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/AlertInspector.tsx",
        "start": 124,
        "end": 140,
        "startLoc": {
          "line": 124,
          "column": 2,
          "position": 1193
        },
        "endLoc": {
          "line": 140,
          "column": 6,
          "position": 1294
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/VehicleInspector.tsx",
        "start": 78,
        "end": 94,
        "startLoc": {
          "line": 78,
          "column": 2,
          "position": 629
        },
        "endLoc": {
          "line": 94,
          "column": 8,
          "position": 730
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "</div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1\">\n        <TabsList className=\"w-full justify-start border-b rounded-none\">\n          <TabsTrigger value=\"details\">Details</TabsTrigger>\n          <TabsTrigger value=\"related",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/AlertInspector.tsx",
        "start": 173,
        "end": 181,
        "startLoc": {
          "line": 173,
          "column": 11,
          "position": 1584
        },
        "endLoc": {
          "line": 181,
          "column": 8,
          "position": 1660
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TaskInspector.tsx",
        "start": 188,
        "end": 196,
        "startLoc": {
          "line": 188,
          "column": 11,
          "position": 1789
        },
        "endLoc": {
          "line": 196,
          "column": 9,
          "position": 1865
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</TabsTrigger>\n        </TabsList>\n\n        {/* Details Tab */}\n        <TabsContent value=\"details\" className=\"p-4\">\n          <div className=\"space-y-4\">\n            <Card className=\"p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Alert",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/AlertInspector.tsx",
        "start": 182,
        "end": 189,
        "startLoc": {
          "line": 182,
          "column": 8,
          "position": 1681
        },
        "endLoc": {
          "line": 189,
          "column": 6,
          "position": 1745
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TaskInspector.tsx",
        "start": 197,
        "end": 204,
        "startLoc": {
          "line": 197,
          "column": 8,
          "position": 1884
        },
        "endLoc": {
          "line": 204,
          "column": 5,
          "position": 1948
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "&& (\n                  <div className=\"flex gap-4\">\n                    <div className=\"flex flex-col items-center\">\n                      <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\n                      <div className=\"w-px h-full bg-gray-300\"></div>\n                    </div>\n                    <div className=\"flex-1 pb-4\">\n                      <p className=\"font-medium\">{",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/inspect/inspectors/AlertInspector.tsx",
        "start": 352,
        "end": 359,
        "startLoc": {
          "line": 352,
          "column": 2,
          "position": 3378
        },
        "endLoc": {
          "line": 359,
          "column": 2,
          "position": 3458
        }
      },
      "secondFile": {
        "name": "src/components/inspect/inspectors/TaskInspector.tsx",
        "start": 390,
        "end": 276,
        "startLoc": {
          "line": 390,
          "column": 2,
          "position": 3902
        },
        "endLoc": {
          "line": 276,
          "column": 9,
          "position": 2766
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "(filters.types?.length || 0) +\n      (filters.categories?.length || 0) +\n      (filters.tags?.length || 0) +\n      (filters.dateFrom ? 1 : 0) +\n      (filters.dateTo ? 1 : 0) +\n      (filters.hasOcr ? 1 : 0) +\n      (filters.hasAiInsights ? 1 : 0)\n    )",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/search/SavedSearches.tsx",
        "start": 57,
        "end": 64,
        "startLoc": {
          "line": 57,
          "column": 7,
          "position": 426
        },
        "endLoc": {
          "line": 64,
          "column": 2,
          "position": 540
        }
      },
      "secondFile": {
        "name": "src/components/documents/search/SearchFilters.tsx",
        "start": 74,
        "end": 80,
        "startLoc": {
          "line": 74,
          "column": 5,
          "position": 780
        },
        "endLoc": {
          "line": 80,
          "column": 2,
          "position": 892
        }
      }
    },
    {
      "format": "javascript",
      "lines": 65,
      "fragment": ")}\n                  >\n                    {showAllSuggestions ? 'Hide' : 'Show all'}\n                  </Button>\n                </CardTitle>\n              </CardHeader>\n              {showAllSuggestions && (\n                <CardContent>\n                  <div className=\"space-y-3\">\n                    {mediumConfidenceTags.map((suggestion) => (\n                      <SuggestionCard\n                        key={suggestion.name}\n                        suggestion={suggestion}\n                        isApplied={document.tags.includes(suggestion.name)}\n                        onApply={() => onApplyTag(suggestion.name)}\n                        onRemove={() => onRemoveTag(suggestion.name)}\n                      />\n                    ))}\n                  </div>\n                </CardContent>\n              )}\n            </Card>\n          )}\n\n          {/* Category classification */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2 text-base\">\n                <Tag className=\"h-4 w-4\" />\n                Category\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2\">\n                <Badge variant=\"secondary\" className=\"capitalize\">\n                  {document.category.replace(/-/g, ' ')}\n                </Badge>\n                <p className=\"text-xs text-muted-foreground\">\n                  Change category to improve organization and discovery\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </ScrollArea>\n    </div>\n  );\n}\n\nfunction SuggestionCard({\n  suggestion,\n  isApplied,\n  onApply,\n  onRemove\n}: {\n  suggestion: SuggestedTag;\n  isApplied: boolean;\n  onApply: () => void;\n  onRemove: () => void;\n}) {\n  return (\n    <div className=\"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-colors\">\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2 mb-1\">\n          <Badge variant=\"outline\" className={generateTagColor",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/ai/DocumentClassification.tsx",
        "start": 156,
        "end": 220,
        "startLoc": {
          "line": 156,
          "column": 19,
          "position": 1330
        },
        "endLoc": {
          "line": 220,
          "column": 17,
          "position": 1789
        }
      },
      "secondFile": {
        "name": "src/components/documents/ai/DocumentClassification.tsx",
        "start": 111,
        "end": 156,
        "startLoc": {
          "line": 111,
          "column": 2,
          "position": 969
        },
        "endLoc": {
          "line": 156,
          "column": 2,
          "position": 1321
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": "),\n      },\n      {\n        accessorKey: \"status\",\n        header: \"Status\",\n        cell: ({ row }) => {\n          const status = row.original.status;\n          const variant =\n            status === \"completed\"\n              ? \"success\"\n              : status === \"in-progress\"\n                ? \"secondary\"\n                : status === \"overdue\"\n                  ? \"destructive\"\n                  : \"outline\";\n          return <Badge variant={variant as any}>{status}</Badge>;\n        },\n      },\n      {\n        accessorKey: \"technician\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/hubs/WorkHub.tsx",
        "start": 220,
        "end": 239,
        "startLoc": {
          "line": 220,
          "column": 2,
          "position": 1748
        },
        "endLoc": {
          "line": 239,
          "column": 13,
          "position": 1893
        }
      },
      "secondFile": {
        "name": "src/pages/hubs/WorkHub.tsx",
        "start": 155,
        "end": 174,
        "startLoc": {
          "line": 155,
          "column": 9,
          "position": 1209
        },
        "endLoc": {
          "line": 174,
          "column": 11,
          "position": 1354
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "return (\n          <div className=\"flex items-center gap-2\">\n            <Avatar className=\"h-6 w-6\">\n              <AvatarImage src={row.original.photoUrl} alt={row.original.name} />\n              <AvatarFallback className=\"text-xs\">{initials}</AvatarFallback>\n            </Avatar>\n            <span className=\"font-medium\">{row.original.name}</span>\n          </div>\n        );",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/hubs/PeopleHub.tsx",
        "start": 267,
        "end": 275,
        "startLoc": {
          "line": 267,
          "column": 9,
          "position": 1999
        },
        "endLoc": {
          "line": 275,
          "column": 2,
          "position": 2101
        }
      },
      "secondFile": {
        "name": "src/components/modules/drivers/DriverManagement.tsx",
        "start": 32,
        "end": 41,
        "startLoc": {
          "line": 32,
          "column": 9,
          "position": 340
        },
        "endLoc": {
          "line": 41,
          "column": 2,
          "position": 444
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ";\nimport { useFleetData } from \"../../hooks/use-fleet-data\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../../components/ui/tabs\";\nimport { KPIStrip, KPIMetric } from \"../../components/common/KPIStrip\";\nimport { DataGrid } from \"../../components/common/DataGrid\";\nimport { ColumnDef } from \"@tanstack/react-table\";\nimport { Badge } from \"../../components/ui/badge\";\nimport { Card",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/hubs/OperationsHub.tsx",
        "start": 7,
        "end": 14,
        "startLoc": {
          "line": 7,
          "column": 43,
          "position": 91
        },
        "endLoc": {
          "line": 14,
          "column": 5,
          "position": 187
        }
      },
      "secondFile": {
        "name": "src/pages/hubs/WorkHub.tsx",
        "start": 5,
        "end": 13,
        "startLoc": {
          "line": 5,
          "column": 43,
          "position": 69
        },
        "endLoc": {
          "line": 13,
          "column": 11,
          "position": 166
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "const vehicleColumns: ColumnDef<VehicleData>[] = useMemo(\n    () => [\n      {\n        accessorKey: \"unit\",\n        header: \"Unit\",\n        cell: ({ row }) => (\n          <div className=\"font-medium\">{row.original.unit}</div>\n        ),\n      },\n      {\n        accessorKey: \"type\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/hubs/FleetHub.tsx",
        "start": 164,
        "end": 174,
        "startLoc": {
          "line": 164,
          "column": 3,
          "position": 1270
        },
        "endLoc": {
          "line": 174,
          "column": 7,
          "position": 1364
        }
      },
      "secondFile": {
        "name": "src/pages/hubs/OperationsHub.tsx",
        "start": 176,
        "end": 186,
        "startLoc": {
          "line": 176,
          "column": 3,
          "position": 1360
        },
        "endLoc": {
          "line": 186,
          "column": 9,
          "position": 1454
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ": ColumnDef<VehicleData>[] = useMemo(\n    () => [\n      {\n        accessorKey: \"unit\",\n        header: \"Unit\",\n        cell: ({ row }) => (\n          <div className=\"font-medium\">{row.original.unit}</div>\n        ),\n      },\n      {\n        accessorKey: \"type\",\n        header: \"Type\",\n      },\n      {\n        accessorKey: \"lastService\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/hubs/FleetHub.tsx",
        "start": 230,
        "end": 244,
        "startLoc": {
          "line": 230,
          "column": 19,
          "position": 1793
        },
        "endLoc": {
          "line": 244,
          "column": 14,
          "position": 1905
        }
      },
      "secondFile": {
        "name": "src/pages/hubs/OperationsHub.tsx",
        "start": 176,
        "end": 178,
        "startLoc": {
          "line": 176,
          "column": 15,
          "position": 1363
        },
        "endLoc": {
          "line": 178,
          "column": 7,
          "position": 1385
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ": ColumnDef<VehicleData>[] = useMemo(\n    () => [\n      {\n        accessorKey: \"unit\",\n        header: \"Unit\",\n        cell: ({ row }) => (\n          <div className=\"font-medium\">{row.original.unit}</div>\n        ),\n      },\n      {\n        accessorKey: \"type\",\n        header: \"Vehicle Type\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/hubs/FleetHub.tsx",
        "start": 301,
        "end": 312,
        "startLoc": {
          "line": 301,
          "column": 18,
          "position": 2397
        },
        "endLoc": {
          "line": 312,
          "column": 15,
          "position": 2495
        }
      },
      "secondFile": {
        "name": "src/pages/hubs/OperationsHub.tsx",
        "start": 176,
        "end": 175,
        "startLoc": {
          "line": 176,
          "column": 15,
          "position": 1363
        },
        "endLoc": {
          "line": 175,
          "column": 7,
          "position": 1371
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\" icon={Truck}>\n      <div className=\"h-full flex flex-col gap-4 p-4\">\n        {/* KPI Strip */}\n        <KPIStrip metrics={kpiMetrics} />\n\n        {/* Main content area */}\n        <div className=\"flex-1 min-h-0\">\n          <Tabs\n            value={activeModule}\n            onValueChange={(value) => setActiveModule(value as FleetModule)}\n            className=\"h-full flex flex-col\"\n          >\n            <TabsList className=\"grid w-full max-w-md grid-cols-4",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/hubs/FleetHub.tsx",
        "start": 365,
        "end": 377,
        "startLoc": {
          "line": 365,
          "column": 17,
          "position": 2973
        },
        "endLoc": {
          "line": 377,
          "column": 33,
          "position": 3069
        }
      },
      "secondFile": {
        "name": "src/pages/hubs/OperationsHub.tsx",
        "start": 294,
        "end": 306,
        "startLoc": {
          "line": 294,
          "column": 18,
          "position": 2219
        },
        "endLoc": {
          "line": 306,
          "column": 33,
          "position": 2315
        }
      }
    },
    {
      "format": "tsx",
      "lines": 27,
      "fragment": "const apiClient = async (url: string) => {\n  const token = localStorage.getItem('token')\n  const response = await fetch(url, {\n    headers: { Authorization: `Bearer ${token}` }\n  })\n  if (!response.ok) throw new Error('Failed to fetch')\n  return response.json()\n}\n\nconst apiMutation = async (url: string, method: string, data?: any) => {\n  const token = localStorage.getItem('token')\n  const response = await fetch(url, {\n    method,\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: data ? JSON.stringify(data) : undefined\n  })\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.error || 'Failed to perform action')\n  }\n  return response.json()\n}\n\nexport function",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/ReimbursementQueue.tsx",
        "start": 56,
        "end": 82,
        "startLoc": {
          "line": 56,
          "column": 1,
          "position": 452
        },
        "endLoc": {
          "line": 82,
          "column": 9,
          "position": 729
        }
      },
      "secondFile": {
        "name": "src/components/modules/personal-use/PersonalUsePolicyConfig.tsx",
        "start": 75,
        "end": 101,
        "startLoc": {
          "line": 75,
          "column": 1,
          "position": 605
        },
        "endLoc": {
          "line": 101,
          "column": 6,
          "position": 882
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "}\n\nconst apiClient = async (url: string) => {\n  const token = localStorage.getItem('token')\n  const response = await fetch(url, {\n    headers: { Authorization: `Bearer ${token}` }\n  })\n  if (!response.ok) throw new Error('Failed to fetch')\n  return response.json()\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/PersonalUseDashboard.tsx",
        "start": 74,
        "end": 85,
        "startLoc": {
          "line": 74,
          "column": 1,
          "position": 510
        },
        "endLoc": {
          "line": 85,
          "column": 7,
          "position": 614
        }
      },
      "secondFile": {
        "name": "src/pages/PersonalUse/ReimbursementQueue.tsx",
        "start": 54,
        "end": 84,
        "startLoc": {
          "line": 54,
          "column": 1,
          "position": 449
        },
        "endLoc": {
          "line": 84,
          "column": 6,
          "position": 706
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between text-sm\">\n                <span>Personal Miles</span>\n                <span className=\"font-semibold\">\n                  {dashboardData?.year_personal_miles",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/PersonalUseDashboard.tsx",
        "start": 231,
        "end": 238,
        "startLoc": {
          "line": 231,
          "column": 13,
          "position": 2065
        },
        "endLoc": {
          "line": 238,
          "column": 20,
          "position": 2134
        }
      },
      "secondFile": {
        "name": "src/pages/PersonalUse/PersonalUseDashboard.tsx",
        "start": 201,
        "end": 208,
        "startLoc": {
          "line": 201,
          "column": 13,
          "position": 1826
        },
        "endLoc": {
          "line": 208,
          "column": 21,
          "position": 1895
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ">{request.description || '-'}</TableCell>\n                        <TableCell>\n                          {request.category ? (\n                            <Badge variant=\"outline\">{request.category}</Badge>\n                          ) : (\n                            '-'\n                          )}\n                        </TableCell>\n                        <TableCell className=\"font-semibold\">\n                          ${request.request_amount.toFixed(2)}\n                        </TableCell>\n                        <TableCell>{getStatusBadge(request.status)}</TableCell>\n                      </",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/PersonalUseDashboard.tsx",
        "start": 477,
        "end": 489,
        "startLoc": {
          "line": 477,
          "column": 10,
          "position": 4040
        },
        "endLoc": {
          "line": 489,
          "column": 3,
          "position": 4153
        }
      },
      "secondFile": {
        "name": "src/pages/PersonalUse/ReimbursementQueue.tsx",
        "start": 461,
        "end": 475,
        "startLoc": {
          "line": 461,
          "column": 2,
          "position": 4210
        },
        "endLoc": {
          "line": 475,
          "column": 2,
          "position": 4327
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "import { useState } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Select",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/ChargesAndBilling.tsx",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 7,
          "position": 106
        }
      },
      "secondFile": {
        "name": "src/pages/PersonalUse/ReimbursementQueue.tsx",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 9,
          "position": 106
        }
      }
    },
    {
      "format": "tsx",
      "lines": 30,
      "fragment": ": string\n}\n\nconst apiClient = async (url: string) => {\n  const token = localStorage.getItem('token')\n  const response = await fetch(url, {\n    headers: { Authorization: `Bearer ${token}` }\n  })\n  if (!response.ok) throw new Error('Failed to fetch')\n  return response.json()\n}\n\nconst apiMutation = async (url: string, method: string, data?: any) => {\n  const token = localStorage.getItem('token')\n  const response = await fetch(url, {\n    method,\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: data ? JSON.stringify(data) : undefined\n  })\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error.error || 'Failed to perform action')\n  }\n  return response.json()\n}\n\nexport function ChargesAndBilling",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/ChargesAndBilling.tsx",
        "start": 58,
        "end": 87,
        "startLoc": {
          "line": 58,
          "column": 9,
          "position": 460
        },
        "endLoc": {
          "line": 87,
          "column": 18,
          "position": 746
        }
      },
      "secondFile": {
        "name": "src/pages/PersonalUse/PersonalUseDashboard.tsx",
        "start": 73,
        "end": 82,
        "startLoc": {
          "line": 73,
          "column": 2,
          "position": 506
        },
        "endLoc": {
          "line": 82,
          "column": 19,
          "position": 731
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ".driver_name.toLowerCase().includes(driverFilter.toLowerCase())) {\n      return false\n    }\n    return true\n  })\n\n  const getStatusBadge = (status: string) => {\n    const variants: Record<string, any> = {\n      pending: { variant: 'outline', icon: Clock, label: 'Pending' },\n      invoiced",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/ChargesAndBilling.tsx",
        "start": 212,
        "end": 221,
        "startLoc": {
          "line": 212,
          "column": 7,
          "position": 2053
        },
        "endLoc": {
          "line": 221,
          "column": 9,
          "position": 2153
        }
      },
      "secondFile": {
        "name": "src/pages/PersonalUse/ReimbursementQueue.tsx",
        "start": 247,
        "end": 256,
        "startLoc": {
          "line": 247,
          "column": 2,
          "position": 2326
        },
        "endLoc": {
          "line": 256,
          "column": 9,
          "position": 2426
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "}\n    }\n\n    const config = variants[status] || variants.pending\n    const Icon = config.icon\n\n    return (\n      <Badge variant={config.variant} className=\"gap-1\">\n        <Icon className=\"w-3 h-3\" />\n        {config.label}\n      </Badge>\n    )\n  }\n\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/ChargesAndBilling.tsx",
        "start": 224,
        "end": 238,
        "startLoc": {
          "line": 224,
          "column": 2,
          "position": 2253
        },
        "endLoc": {
          "line": 238,
          "column": 6,
          "position": 2345
        }
      },
      "secondFile": {
        "name": "src/pages/PersonalUse/ReimbursementQueue.tsx",
        "start": 258,
        "end": 272,
        "startLoc": {
          "line": 258,
          "column": 2,
          "position": 2500
        },
        "endLoc": {
          "line": 272,
          "column": 7,
          "position": 2592
        }
      }
    },
    {
      "format": "tsx",
      "lines": 22,
      "fragment": "</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Driver</Label>\n              <Input\n                placeholder=\"Search driver...\"\n                value={driverFilter}\n                onChange={(e) => setDriverFilter(e.target.value)}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"invisible\">Actions</Label>\n              <Button onClick={() => queryClient.invalidateQueries({ queryKey: ['personal-use-charges'] })} variant=\"outline\" className=\"w-full\">\n                Refresh\n              </Button>\n            </div>\n          </div>\n        </",
      "tokens": 0,
      "firstFile": {
        "name": "src/pages/PersonalUse/ChargesAndBilling.tsx",
        "start": 342,
        "end": 363,
        "startLoc": {
          "line": 342,
          "column": 7,
          "position": 3340
        },
        "endLoc": {
          "line": 363,
          "column": 3,
          "position": 3508
        }
      },
      "secondFile": {
        "name": "src/pages/PersonalUse/ReimbursementQueue.tsx",
        "start": 357,
        "end": 379,
        "startLoc": {
          "line": 357,
          "column": 6,
          "position": 3391
        },
        "endLoc": {
          "line": 379,
          "column": 2,
          "position": 3560
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ", () => {\n      const { result } = renderHook(() => useExport());\n      const testData = [\n        { id: 1, name: 'Item 1' },\n        { id: 2, name: 'Item 2' }\n      ];\n\n      act(() => {\n        result.current.exportToCSV",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 128,
        "end": 136,
        "startLoc": {
          "line": 128,
          "column": 33,
          "position": 1156
        },
        "endLoc": {
          "line": 136,
          "column": 12,
          "position": 1251
        }
      },
      "secondFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 36,
        "end": 44,
        "startLoc": {
          "line": 36,
          "column": 34,
          "position": 326
        },
        "endLoc": {
          "line": 44,
          "column": 13,
          "position": 421
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "(testData, 'test-export');\n      });\n\n      expect(createElementSpy).toHaveBeenCalledWith('a');\n      expect(createObjectURLSpy).toHaveBeenCalled();\n      expect(clickSpy).toHaveBeenCalled();\n      expect(revokeObjectURLSpy).toHaveBeenCalledWith('blob:mock-url');\n    });\n\n    it('should show error toast for empty data'",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 136,
        "end": 145,
        "startLoc": {
          "line": 136,
          "column": 12,
          "position": 1252
        },
        "endLoc": {
          "line": 145,
          "column": 41,
          "position": 1321
        }
      },
      "secondFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 44,
        "end": 53,
        "startLoc": {
          "line": 44,
          "column": 13,
          "position": 422
        },
        "endLoc": {
          "line": 53,
          "column": 43,
          "position": 491
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "}\n      ];\n\n      const blobSpy = vi.spyOn(global, 'Blob');\n\n      act(() => {\n        result.current.exportToCSV(testData, 'test');\n      });\n\n      const callArg = blobSpy.mock.calls[0][0][0];\n      expect(callArg).toContain('\"Test, Name\"'",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 176,
        "end": 186,
        "startLoc": {
          "line": 176,
          "column": 2,
          "position": 1670
        },
        "endLoc": {
          "line": 186,
          "column": 15,
          "position": 1757
        }
      },
      "secondFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 160,
        "end": 170,
        "startLoc": {
          "line": 160,
          "column": 2,
          "position": 1507
        },
        "endLoc": {
          "line": 170,
          "column": 17,
          "position": 1594
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "}\n      ];\n\n      const blobSpy = vi.spyOn(global, 'Blob');\n\n      act(() => {\n        result.current.exportToCSV(testData, 'test');\n      });\n\n      const callArg = blobSpy.mock.calls[0][0][0];\n      expect(callArg).toContain('1,\"\",\"\"'",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 193,
        "end": 203,
        "startLoc": {
          "line": 193,
          "column": 2,
          "position": 1851
        },
        "endLoc": {
          "line": 203,
          "column": 10,
          "position": 1938
        }
      },
      "secondFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 160,
        "end": 170,
        "startLoc": {
          "line": 160,
          "column": 2,
          "position": 1507
        },
        "endLoc": {
          "line": 170,
          "column": 17,
          "position": 1594
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ");\n\n      let downloadAttr = '';\n      createElementSpy = vi.spyOn(document, 'createElement').mockReturnValue({\n        click: clickSpy,\n        set download(value: string) {\n          downloadAttr = value;\n        },\n        get download() {\n          return downloadAttr;\n        },\n        href: ''\n      } as any);\n\n      act(() => {\n        result.current.exportToCSV",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 210,
        "end": 225,
        "startLoc": {
          "line": 210,
          "column": 27,
          "position": 2021
        },
        "endLoc": {
          "line": 225,
          "column": 12,
          "position": 2136
        }
      },
      "secondFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 58,
        "end": 73,
        "startLoc": {
          "line": 58,
          "column": 27,
          "position": 571
        },
        "endLoc": {
          "line": 73,
          "column": 13,
          "position": 686
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "}\n      ];\n\n      const blobSpy = vi.spyOn(global, 'Blob');\n\n      act(() => {\n        result.current.exportToCSV(testData, 'test');\n      });\n\n      const callArg = blobSpy.mock.calls[0][0][0];\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 236,
        "end": 246,
        "startLoc": {
          "line": 236,
          "column": 2,
          "position": 2281
        },
        "endLoc": {
          "line": 246,
          "column": 6,
          "position": 2361
        }
      },
      "secondFile": {
        "name": "src/hooks/__tests__/useExport.test.ts",
        "start": 160,
        "end": 170,
        "startLoc": {
          "line": 160,
          "column": 2,
          "position": 1507
        },
        "endLoc": {
          "line": 170,
          "column": 7,
          "position": 1587
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Slider",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/vehicle/TripPlayback.tsx",
        "start": 16,
        "end": 21,
        "startLoc": {
          "line": 16,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 21,
          "column": 7,
          "position": 93
        }
      },
      "secondFile": {
        "name": "src/components/vehicle/VehicleHistoryTrail.tsx",
        "start": 16,
        "end": 21,
        "startLoc": {
          "line": 16,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 21,
          "column": 12,
          "position": 93
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "> => {\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n  }\n  return response.json();\n};\n\n// ============================================================================\n// Main Component\n// ============================================================================\n\nexport function TripPlayback",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/vehicle/TripPlayback.tsx",
        "start": 124,
        "end": 136,
        "startLoc": {
          "line": 124,
          "column": 24,
          "position": 850
        },
        "endLoc": {
          "line": 136,
          "column": 13,
          "position": 934
        }
      },
      "secondFile": {
        "name": "src/components/vehicle/VehicleHistoryTrail.tsx",
        "start": 114,
        "end": 126,
        "startLoc": {
          "line": 114,
          "column": 24,
          "position": 814
        },
        "endLoc": {
          "line": 126,
          "column": 20,
          "position": 898
        }
      }
    },
    {
      "format": "tsx",
      "lines": 32,
      "fragment": "}\n  );\n\n  // Initialize Leaflet map\n  useEffect(() => {\n    let L: any = null;\n    let map: any = null;\n\n    const initMap = async () => {\n      if (typeof window === 'undefined') return;\n\n      try {\n        // Dynamic import of Leaflet\n        const leaflet = await import('leaflet');\n        L = leaflet.default || leaflet;\n\n        // Load CSS\n        await import('leaflet/dist/leaflet.css');\n\n        // Fix default icon paths\n        const iconUrl = await import('leaflet/dist/images/marker-icon.png');\n        const iconRetinaUrl = await import('leaflet/dist/images/marker-icon-2x.png');\n        const shadowUrl = await import('leaflet/dist/images/marker-shadow.png');\n\n        L.Icon.Default.mergeOptions({\n          iconUrl: iconUrl.default,\n          iconRetinaUrl: iconRetinaUrl.default,\n          shadowUrl: shadowUrl.default,\n        });\n\n        // Initialize map\n        if (!mapRef.current && document.getElementById('trip-playback-map'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/vehicle/TripPlayback.tsx",
        "start": 157,
        "end": 188,
        "startLoc": {
          "line": 157,
          "column": 5,
          "position": 1183
        },
        "endLoc": {
          "line": 188,
          "column": 20,
          "position": 1425
        }
      },
      "secondFile": {
        "name": "src/components/vehicle/VehicleHistoryTrail.tsx",
        "start": 157,
        "end": 188,
        "startLoc": {
          "line": 157,
          "column": 5,
          "position": 1211
        },
        "endLoc": {
          "line": 188,
          "column": 20,
          "position": 1453
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ").setView([39.8283, -98.5795], 4);\n          mapRef.current = map;\n\n          // Add tile layer\n          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: ' OpenStreetMap contributors',\n            maxZoom: 19\n          }).addTo(map);\n        }\n      } catch (err) {\n        console.error('Failed to initialize map:', err);\n      }\n    };\n\n    initMap();\n\n    return () => {\n      // Cleanup\n      if (animationFrameRef",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/vehicle/TripPlayback.tsx",
        "start": 189,
        "end": 207,
        "startLoc": {
          "line": 189,
          "column": 20,
          "position": 1441
        },
        "endLoc": {
          "line": 207,
          "column": 18,
          "position": 1563
        }
      },
      "secondFile": {
        "name": "src/components/vehicle/VehicleHistoryTrail.tsx",
        "start": 189,
        "end": 207,
        "startLoc": {
          "line": 189,
          "column": 20,
          "position": 1469
        },
        "endLoc": {
          "line": 207,
          "column": 12,
          "position": 1591
        }
      }
    },
    {
      "format": "javascript",
      "lines": 95,
      "fragment": ",\n          className\n        )}\n        {...props}\n      />\n    </ContextMenuPrimitive.Portal>\n  )\n}\n\nfunction ContextMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: ComponentProps<typeof ContextMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <ContextMenuPrimitive.Item\n      data-slot=\"context-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {\n  return (\n    <ContextMenuPrimitive.CheckboxItem\n      data-slot=\"context-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <ContextMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </ContextMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </ContextMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction ContextMenuRadioItem({\n  className,\n  children,\n  ...props\n}: ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {\n  return (\n    <ContextMenuPrimitive.RadioItem\n      data-slot=\"context-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <ContextMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </ContextMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </ContextMenuPrimitive.RadioItem>\n  )\n}\n\nfunction ContextMenuLabel({\n  className,\n  inset,\n  ...props\n}: ComponentProps<typeof ContextMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <ContextMenuPrimitive.Label\n      data-slot=\"context-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/ui/context-menu.tsx",
        "start": 107,
        "end": 201,
        "startLoc": {
          "line": 107,
          "column": 567,
          "position": 597
        },
        "endLoc": {
          "line": 201,
          "column": 68,
          "position": 1054
        }
      },
      "secondFile": {
        "name": "src/components/ui/dropdown-menu.tsx",
        "start": 48,
        "end": 161,
        "startLoc": {
          "line": 48,
          "column": 569,
          "position": 324
        },
        "endLoc": {
          "line": 161,
          "column": 52,
          "position": 895
        }
      }
    },
    {
      "format": "tsx",
      "lines": 42,
      "fragment": ");\n    }\n  };\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll, { passive: true });\n      return () => container.removeEventListener('scroll', handleScroll);\n    }\n  }, []);\n\n  if (items.length === 0 && EmptyComponent) {\n    return <div className={className}>{EmptyComponent}</div>;\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className={className}\n      style={{\n        height: containerHeight,\n        overflow: 'auto',\n        position: 'relative',\n      }}\n    >\n      <div\n        style={{\n          height: totalHeight,\n          position: 'relative',\n        }}\n      >\n        <div\n          style={{\n            transform: `translateY(${offsetY}px)`,\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n          }}\n        >\n          {visibleItems.map((item, index) => {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/shared/VirtualList.tsx",
        "start": 196,
        "end": 237,
        "startLoc": {
          "line": 196,
          "column": 2,
          "position": 1658
        },
        "endLoc": {
          "line": 237,
          "column": 2,
          "position": 1936
        }
      },
      "secondFile": {
        "name": "src/components/shared/VirtualList.tsx",
        "start": 48,
        "end": 89,
        "startLoc": {
          "line": 48,
          "column": 13,
          "position": 409
        },
        "endLoc": {
          "line": 89,
          "column": 2,
          "position": 687
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ");\n    }\n  };\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll, { passive: true });\n      return () => container.removeEventListener('scroll', handleScroll);\n    }\n  }, []);\n\n  return",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/shared/VirtualList.tsx",
        "start": 306,
        "end": 318,
        "startLoc": {
          "line": 306,
          "column": 10,
          "position": 2542
        },
        "endLoc": {
          "line": 318,
          "column": 7,
          "position": 2639
        }
      },
      "secondFile": {
        "name": "src/components/shared/VirtualList.tsx",
        "start": 48,
        "end": 60,
        "startLoc": {
          "line": 48,
          "column": 13,
          "position": 409
        },
        "endLoc": {
          "line": 60,
          "column": 3,
          "position": 506
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ")\n\n  const updateSetting = <K extends keyof typeof settings>(\n    key: K,\n    value: (typeof settings)[K]\n  ) => {\n    setSettings({ ...settings, [key]: value })\n    setHasUnsavedChanges(true)\n  }\n\n  const updateEmailNotification",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/settings/NotificationSettings.tsx",
        "start": 24,
        "end": 34,
        "startLoc": {
          "line": 24,
          "column": 22,
          "position": 263
        },
        "endLoc": {
          "line": 34,
          "column": 24,
          "position": 345
        }
      },
      "secondFile": {
        "name": "src/components/settings/SecuritySettings.tsx",
        "start": 85,
        "end": 95,
        "startLoc": {
          "line": 85,
          "column": 2,
          "position": 569
        },
        "endLoc": {
          "line": 95,
          "column": 26,
          "position": 651
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ")\n  const [, setHasUnsavedChanges] = useAtom(hasUnsavedChangesAtom)\n\n  const updateSetting = <K extends keyof typeof settings>(\n    key: K,\n    value: (typeof settings)[K]\n  ) => {\n    setSettings({ ...settings, [key]: value })\n    setHasUnsavedChanges(true)\n  }\n\n  return",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/settings/GeneralSettings.tsx",
        "start": 71,
        "end": 82,
        "startLoc": {
          "line": 71,
          "column": 20,
          "position": 776
        },
        "endLoc": {
          "line": 82,
          "column": 7,
          "position": 872
        }
      },
      "secondFile": {
        "name": "src/components/settings/NotificationSettings.tsx",
        "start": 23,
        "end": 95,
        "startLoc": {
          "line": 23,
          "column": 25,
          "position": 247
        },
        "endLoc": {
          "line": 95,
          "column": 6,
          "position": 649
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ")\n  const [, setHasUnsavedChanges] = useAtom(hasUnsavedChangesAtom)\n\n  const updateSetting = <K extends keyof typeof settings>(\n    key: K,\n    value: (typeof settings)[K]\n  ) => {\n    setSettings({ ...settings, [key]: value })\n    setHasUnsavedChanges(true)\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Default View */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/settings/FleetSettings.tsx",
        "start": 35,
        "end": 48,
        "startLoc": {
          "line": 35,
          "column": 18,
          "position": 306
        },
        "endLoc": {
          "line": 48,
          "column": 19,
          "position": 419
        }
      },
      "secondFile": {
        "name": "src/components/settings/NotificationSettings.tsx",
        "start": 23,
        "end": 84,
        "startLoc": {
          "line": 23,
          "column": 25,
          "position": 247
        },
        "endLoc": {
          "line": 84,
          "column": 24,
          "position": 889
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ")\n\n  const updateSetting = <K extends keyof typeof settings>(\n    key: K,\n    value: (typeof settings)[K]\n  ) => {\n    setSettings({ ...settings, [key]: value })\n    setHasUnsavedChanges(true)\n  }\n\n  const updateCookiePreference",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/settings/DataPrivacySettings.tsx",
        "start": 54,
        "end": 64,
        "startLoc": {
          "line": 54,
          "column": 6,
          "position": 404
        },
        "endLoc": {
          "line": 64,
          "column": 23,
          "position": 486
        }
      },
      "secondFile": {
        "name": "src/components/settings/SecuritySettings.tsx",
        "start": 85,
        "end": 95,
        "startLoc": {
          "line": 85,
          "column": 2,
          "position": 569
        },
        "endLoc": {
          "line": 95,
          "column": 26,
          "position": 651
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ")\n  const [, setHasUnsavedChanges] = useAtom(hasUnsavedChangesAtom)\n\n  const updateSetting = <K extends keyof typeof settings>(\n    key: K,\n    value: (typeof settings)[K]\n  ) => {\n    setSettings({ ...settings, [key]: value })\n    setHasUnsavedChanges(true)\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Theme */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/settings/AppearanceSettings.tsx",
        "start": 35,
        "end": 48,
        "startLoc": {
          "line": 35,
          "column": 23,
          "position": 432
        },
        "endLoc": {
          "line": 48,
          "column": 12,
          "position": 545
        }
      },
      "secondFile": {
        "name": "src/components/settings/NotificationSettings.tsx",
        "start": 23,
        "end": 84,
        "startLoc": {
          "line": 23,
          "column": 25,
          "position": 247
        },
        "endLoc": {
          "line": 84,
          "column": 24,
          "position": 889
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ") => (\n                <div key={density.value} className=\"relative\">\n                  <RadioGroupItem\n                    value={density.value}\n                    id={`density-${density.value}`}\n                    className=\"peer sr-only\"\n                  />\n                  <Label\n                    htmlFor={`density-${density.value}`}\n                    className=\"flex flex-col gap-1 p-3 border-2 rounded-lg cursor-pointer hover:border-primary peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5\"\n                  >\n                    <div className=\"font-medium\">{density",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/settings/AppearanceSettings.tsx",
        "start": 199,
        "end": 210,
        "startLoc": {
          "line": 199,
          "column": 8,
          "position": 1789
        },
        "endLoc": {
          "line": 210,
          "column": 8,
          "position": 1881
        }
      },
      "secondFile": {
        "name": "src/components/settings/NotificationSettings.tsx",
        "start": 217,
        "end": 228,
        "startLoc": {
          "line": 217,
          "column": 5,
          "position": 1846
        },
        "endLoc": {
          "line": 228,
          "column": 5,
          "position": 1938
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ")\n  const [, setHasUnsavedChanges] = useAtom(hasUnsavedChangesAtom)\n\n  const updateSetting = <K extends keyof typeof settings>(\n    key: K,\n    value: (typeof settings)[K]\n  ) => {\n    setSettings({ ...settings, [key]: value })\n    setHasUnsavedChanges(true)\n  }\n\n  const toggleFeatureFlag",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/settings/AdvancedSettings.tsx",
        "start": 60,
        "end": 71,
        "startLoc": {
          "line": 60,
          "column": 21,
          "position": 383
        },
        "endLoc": {
          "line": 71,
          "column": 18,
          "position": 481
        }
      },
      "secondFile": {
        "name": "src/components/settings/NotificationSettings.tsx",
        "start": 23,
        "end": 95,
        "startLoc": {
          "line": 23,
          "column": 25,
          "position": 247
        },
        "endLoc": {
          "line": 95,
          "column": 26,
          "position": 651
        }
      }
    },
    {
      "format": "javascript",
      "lines": 76,
      "fragment": "*</FormLabel>\n                    <Popover>\n                      <PopoverTrigger asChild>\n                        <FormControl>\n                          <Button\n                            variant=\"outline\"\n                            className={cn(\n                              'w-full pl-3 text-left font-normal',\n                              !field.value && 'text-muted-foreground'\n                            )}\n                          >\n                            {field.value ? (\n                              format(field.value, 'PPP')\n                            ) : (\n                              <span>Pick a date</span>\n                            )}\n                            <CalendarIcon className=\"ml-auto h-4 w-4 opacity-50\" />\n                          </Button>\n                        </FormControl>\n                      </PopoverTrigger>\n                      <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                        <Calendar\n                          mode=\"single\"\n                          selected={field.value}\n                          onSelect={field.onChange}\n                          disabled={(date) => date < new Date(new Date().setHours(0, 0, 0, 0))}\n                        />\n                      </PopoverContent>\n                    </Popover>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"endTime\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>End Time *</FormLabel>\n                    <Select onValueChange={field.onChange} defaultValue={field.value}>\n                      <FormControl>\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select time\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent className=\"max-h-60\">\n                        {TIME_SLOTS.map((time) => (\n                          <SelectItem key={time} value={time}>\n                            {format(new Date(`2000-01-01T${time}`), 'h:mm a')}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            {/* Availability Check Status */}\n            {checking && (\n              <Alert>\n                <ClockIcon className=\"h-4 w-4\" />\n                <AlertDescription>Checking vehicle availability...</AlertDescription>\n              </Alert>\n            )}\n\n            {conflicts.length > 0 && (\n              <Alert variant=\"destructive\">\n                <AlertCircleIcon className=\"h-4 w-4\" />\n                <AlertDescription>\n                  <div className=\"font-semibold mb-2\">Scheduling Conflicts Detected:</div>\n                  <ul className=\"list-disc list-inside space-y-1\">\n                    {conflicts.map((conflict, idx) => (\n                      <li key={idx",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 376,
        "end": 451,
        "startLoc": {
          "line": 376,
          "column": 10,
          "position": 3483
        },
        "endLoc": {
          "line": 451,
          "column": 4,
          "position": 4057
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 310,
        "end": 372,
        "startLoc": {
          "line": 310,
          "column": 12,
          "position": 3004
        },
        "endLoc": {
          "line": 372,
          "column": 5,
          "position": 3445
        }
      }
    },
    {
      "format": "tsx",
      "lines": 22,
      "fragment": "Time *</FormLabel>\n                    <Select onValueChange={field.onChange} defaultValue={field.value}>\n                      <FormControl>\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select time\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent className=\"max-h-60\">\n                        {TIME_SLOTS.map((time) => (\n                          <SelectItem key={time} value={time}>\n                            {format(new Date(`2000-01-01T${time}`), 'h:mm a')}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 415,
        "end": 436,
        "startLoc": {
          "line": 415,
          "column": 2,
          "position": 3739
        },
        "endLoc": {
          "line": 436,
          "column": 2,
          "position": 3907
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 349,
        "end": 370,
        "startLoc": {
          "line": 349,
          "column": 2,
          "position": 3260
        },
        "endLoc": {
          "line": 370,
          "column": 2,
          "position": 3428
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ") => (\n    <Card key={appointment.id} className=\"hover:shadow-md transition-shadow\">\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <WrenchIcon",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/ScheduleView.tsx",
        "start": 361,
        "end": 367,
        "startLoc": {
          "line": 361,
          "column": 23,
          "position": 3312
        },
        "endLoc": {
          "line": 367,
          "column": 11,
          "position": 3383
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/ScheduleView.tsx",
        "start": 247,
        "end": 253,
        "startLoc": {
          "line": 247,
          "column": 19,
          "position": 2298
        },
        "endLoc": {
          "line": 253,
          "column": 10,
          "position": 2369
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\">\n                <MoreVerticalIcon className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\">\n              <DropdownMenuLabel>Actions</DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={() => handleQuickAction('view', 'maintenance', appointment.id)}>\n                View Details\n              </DropdownMenuItem>\n              {appointment",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/ScheduleView.tsx",
        "start": 415,
        "end": 433,
        "startLoc": {
          "line": 415,
          "column": 18,
          "position": 3888
        },
        "endLoc": {
          "line": 433,
          "column": 12,
          "position": 4025
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/ScheduleView.tsx",
        "start": 302,
        "end": 320,
        "startLoc": {
          "line": 302,
          "column": 2,
          "position": 2857
        },
        "endLoc": {
          "line": 320,
          "column": 12,
          "position": 2994
        }
      }
    },
    {
      "format": "tsx",
      "lines": 24,
      "fragment": ".status !== 'completed' && (\n                <>\n                  <DropdownMenuItem onClick={() => handleQuickAction('reschedule', 'maintenance', appointment.id)}>\n                    <ClockIcon className=\"h-4 w-4 mr-2\" />\n                    Reschedule\n                  </DropdownMenuItem>\n                  <DropdownMenuSeparator />\n                  <DropdownMenuItem\n                    onClick={() => handleQuickAction('cancel', 'maintenance', appointment.id)}\n                    className=\"text-red-600\"\n                  >\n                    <XCircleIcon className=\"h-4 w-4 mr-2\" />\n                    Cancel\n                  </DropdownMenuItem>\n                </>\n              )}\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n      </CardContent>\n    </Card>\n  )\n\n  if",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/ScheduleView.tsx",
        "start": 433,
        "end": 456,
        "startLoc": {
          "line": 433,
          "column": 12,
          "position": 4036
        },
        "endLoc": {
          "line": 456,
          "column": 3,
          "position": 4195
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/ScheduleView.tsx",
        "start": 338,
        "end": 361,
        "startLoc": {
          "line": 338,
          "column": 12,
          "position": 3142
        },
        "endLoc": {
          "line": 361,
          "column": 6,
          "position": 3301
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "\">\n              <SelectValue placeholder=\"Status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Status</SelectItem>\n              <SelectItem value=\"pending\">Pending</SelectItem>\n              <SelectItem value=\"confirmed",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/ScheduleView.tsx",
        "start": 512,
        "end": 518,
        "startLoc": {
          "line": 512,
          "column": 10,
          "position": 4722
        },
        "endLoc": {
          "line": 518,
          "column": 10,
          "position": 4786
        }
      },
      "secondFile": {
        "name": "src/components/modules/personal-use/PersonalUseDashboard.tsx",
        "start": 524,
        "end": 530,
        "startLoc": {
          "line": 524,
          "column": 10,
          "position": 5065
        },
        "endLoc": {
          "line": 530,
          "column": 9,
          "position": 5129
        }
      }
    },
    {
      "format": "javascript",
      "lines": 22,
      "fragment": "*</FormLabel>\n                    <Popover>\n                      <PopoverTrigger asChild>\n                        <FormControl>\n                          <Button\n                            variant=\"outline\"\n                            className={cn(\n                              'w-full pl-3 text-left font-normal',\n                              !field.value && 'text-muted-foreground'\n                            )}\n                          >\n                            {field.value ? (\n                              format(field.value, 'PPP')\n                            ) : (\n                              <span>Pick a date</span>\n                            )}\n                            <CalendarIcon className=\"ml-auto h-4 w-4 opacity-50\" />\n                          </Button>\n                        </FormControl>\n                      </PopoverTrigger>\n                      <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                        <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 370,
        "end": 391,
        "startLoc": {
          "line": 370,
          "column": 6,
          "position": 3407
        },
        "endLoc": {
          "line": 391,
          "column": 2,
          "position": 3531
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 310,
        "end": 331,
        "startLoc": {
          "line": 310,
          "column": 12,
          "position": 3004
        },
        "endLoc": {
          "line": 331,
          "column": 2,
          "position": 3128
        }
      }
    },
    {
      "format": "javascript",
      "lines": 21,
      "fragment": "}\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n                disabled={submitting}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={submitting || checking || conflicts.length > 0}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 582,
        "end": 602,
        "startLoc": {
          "line": 582,
          "column": 2,
          "position": 4982
        },
        "endLoc": {
          "line": 602,
          "column": 2,
          "position": 5084
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 567,
        "end": 587,
        "startLoc": {
          "line": 567,
          "column": 2,
          "position": 4798
        },
        "endLoc": {
          "line": 587,
          "column": 2,
          "position": 4900
        }
      }
    },
    {
      "format": "tsx",
      "lines": 36,
      "fragment": "import { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport * as z from 'zod'\nimport { format } from 'date-fns'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Input } from '@/components/ui/input'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Button } from '@/components/ui/button'\nimport { Calendar } from '@/components/ui/calendar'\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { Badge } from '@/components/ui/badge'\nimport {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 7,
        "end": 42,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 18
        },
        "endLoc": {
          "line": 42,
          "column": 2,
          "position": 263
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 8,
        "end": 43,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 30
        },
        "endLoc": {
          "line": 43,
          "column": 13,
          "position": 275
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "; hour++) {\n    for (let minute of [0, 30]) {\n      const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`\n      slots.push(time)\n    }\n  }\n  return slots\n}\n\nconst TIME_SLOTS = generateTimeSlots()\n\nconst",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 97,
        "end": 108,
        "startLoc": {
          "line": 97,
          "column": 3,
          "position": 876
        },
        "endLoc": {
          "line": 108,
          "column": 6,
          "position": 978
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 104,
        "end": 115,
        "startLoc": {
          "line": 104,
          "column": 3,
          "position": 1020
        },
        "endLoc": {
          "line": 115,
          "column": 7,
          "position": 1122
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ")\n\n        if (!result.available && result.conflicts) {\n          setConflicts(result.conflicts)\n        } else {\n          setConflicts([])\n        }\n      } catch (error) {\n        console.error('Failed to check availability:', error)\n      } finally {\n        setChecking(false)\n      }\n    }\n\n    const timeoutId = setTimeout(checkAvailability",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 195,
        "end": 209,
        "startLoc": {
          "line": 195,
          "column": 2,
          "position": 1925
        },
        "endLoc": {
          "line": 209,
          "column": 18,
          "position": 2022
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 174,
        "end": 188,
        "startLoc": {
          "line": 174,
          "column": 12,
          "position": 1810
        },
        "endLoc": {
          "line": 188,
          "column": 25,
          "position": 1907
        }
      }
    },
    {
      "format": "tsx",
      "lines": 31,
      "fragment": "}\n          </DialogDescription>\n        </DialogHeader>\n\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-6\">\n            {/* Vehicle Selection */}\n            <FormField\n              control={form.control}\n              name=\"vehicleId\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Vehicle *</FormLabel>\n                  <Select onValueChange={field.onChange} defaultValue={field.value}>\n                    <FormControl>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select a vehicle\" />\n                      </SelectTrigger>\n                    </FormControl>\n                    <SelectContent>\n                      {vehicles.map((vehicle) => (\n                        <SelectItem key={vehicle.id} value={vehicle.id}>\n                          {vehicle.make} {vehicle.model} ({vehicle.licensePlate}) - {vehicle.year}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <FormMessage />\n                  {selectedVehicle && (\n                    <div className=\"text-sm text-muted-foreground mt-2\">\n                      <div>VIN",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 259,
        "end": 289,
        "startLoc": {
          "line": 259,
          "column": 31,
          "position": 2526
        },
        "endLoc": {
          "line": 289,
          "column": 4,
          "position": 2797
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 239,
        "end": 269,
        "startLoc": {
          "line": 239,
          "column": 29,
          "position": 2399
        },
        "endLoc": {
          "line": 269,
          "column": 5,
          "position": 2670
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "<FormField\n                control={form.control}\n                name=\"startTime\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Start Time *</FormLabel>\n                    <Select onValueChange={field.onChange} defaultValue={field.value}>\n                      <FormControl>\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 408,
        "end": 417,
        "startLoc": {
          "line": 408,
          "column": 15,
          "position": 3657
        },
        "endLoc": {
          "line": 417,
          "column": 7,
          "position": 3746
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 344,
        "end": 353,
        "startLoc": {
          "line": 344,
          "column": 15,
          "position": 3216
        },
        "endLoc": {
          "line": 353,
          "column": 12,
          "position": 3305
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent className=\"max-h-60\">\n                        {TIME_SLOTS.map((time) => (\n                          <SelectItem key={time} value={time}>\n                            {format(new Date(`2000-01-01T${time}`), 'h:mm a')}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            {/* Duration */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 417,
        "end": 434,
        "startLoc": {
          "line": 417,
          "column": 7,
          "position": 3747
        },
        "endLoc": {
          "line": 434,
          "column": 15,
          "position": 3870
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 353,
        "end": 436,
        "startLoc": {
          "line": 353,
          "column": 12,
          "position": 3306
        },
        "endLoc": {
          "line": 436,
          "column": 32,
          "position": 3908
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "availability...</AlertDescription>\n              </Alert>\n            )}\n\n            {conflicts.length > 0 && (\n              <Alert variant=\"destructive\">\n                <AlertCircleIcon className=\"h-4 w-4\" />\n                <AlertDescription>\n                  <div className=\"font-semibold mb-2\">Scheduling Conflicts Detected:</div>\n                  <ul className=\"list-disc list-inside space-y-1\">\n                    {conflicts.map((conflict, idx) => (\n                      <li key={idx}>{conflict.description}</li>\n                    ))}\n                  </ul>\n                </AlertDescription>\n              </Alert>\n            )}\n\n            {!",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 544,
        "end": 562,
        "startLoc": {
          "line": 544,
          "column": 2,
          "position": 4672
        },
        "endLoc": {
          "line": 562,
          "column": 2,
          "position": 4824
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 440,
        "end": 458,
        "startLoc": {
          "line": 440,
          "column": 2,
          "position": 3944
        },
        "endLoc": {
          "line": 458,
          "column": 24,
          "position": 4096
        }
      }
    },
    {
      "format": "tsx",
      "lines": 34,
      "fragment": "{/* Notes */}\n            <FormField\n              control={form.control}\n              name=\"notes\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Notes</FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"Additional notes, special requirements, or instructions...\"\n                      className=\"resize-none\"\n                      rows={4}\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n                disabled={submitting}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={submitting || checking || conflicts.length > 0}\n              >\n                {submitting ? 'Scheduling...'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/scheduling/MaintenanceAppointmentModal.tsx",
        "start": 571,
        "end": 604,
        "startLoc": {
          "line": 571,
          "column": 13,
          "position": 4912
        },
        "endLoc": {
          "line": 604,
          "column": 16,
          "position": 5094
        }
      },
      "secondFile": {
        "name": "src/components/scheduling/VehicleReservationModal.tsx",
        "start": 556,
        "end": 589,
        "startLoc": {
          "line": 556,
          "column": 13,
          "position": 4728
        },
        "endLoc": {
          "line": 589,
          "column": 12,
          "position": 4910
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ")\n\n  // Toggle category expansion\n  const toggleCategory = (category: string) => {\n    setExpandedCategories(prev => {\n      const next = new Set(prev)\n      if (next.has(category)) {\n        next.delete(category)\n      } else {\n        next.add(category)\n      }\n      return next\n    })\n  }\n\n  // Expand all categories",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/monitoring/EndpointHealthDashboard.tsx",
        "start": 65,
        "end": 80,
        "startLoc": {
          "line": 65,
          "column": 5,
          "position": 374
        },
        "endLoc": {
          "line": 80,
          "column": 25,
          "position": 475
        }
      },
      "secondFile": {
        "name": "src/components/modules/analytics/EndpointMonitor.tsx",
        "start": 194,
        "end": 209,
        "startLoc": {
          "line": 194,
          "column": 2,
          "position": 1932
        },
        "endLoc": {
          "line": 209,
          "column": 28,
          "position": 2033
        }
      }
    },
    {
      "format": "javascript",
      "lines": 47,
      "fragment": "} />\n      case 'FORKLIFT':\n        return <ForkliftModel color={color} />\n      case 'MOBILE_CRANE':\n      case 'TOWER_CRANE':\n        return <CraneModel color={color} />\n      case 'GENERATOR':\n      case 'COMPRESSOR':\n      case 'PUMP':\n        return <GeneratorModel color={color} />\n      case 'FLATBED_TRAILER':\n      case 'ENCLOSED_TRAILER':\n      case 'UTILITY_TRAILER':\n        return <TrailerModel color={color} />\n      case 'PICKUP_TRUCK':\n        return <PickupTruckModel color={color} />\n      case 'SUV':\n        return <SUVModel color={color} />\n    }\n\n    // Fall back to category\n    switch (category) {\n      case 'PASSENGER_VEHICLE':\n        return <SedanModel color={color} />\n      case 'LIGHT_COMMERCIAL':\n        return <PickupTruckModel color={color} />\n      case 'HEAVY_TRUCK':\n        return <HeavyTruckModel color={color} />\n      case 'TRACTOR':\n        return <HeavyTruckModel color={color} />\n      case 'TRAILER':\n        return <TrailerModel color={color} />\n      case 'HEAVY_EQUIPMENT':\n        return <ExcavatorModel color={color} />\n      case 'UTILITY_VEHICLE':\n        return <SUVModel color={color} />\n      case 'SPECIALTY_EQUIPMENT':\n        return <GeneratorModel color={color} />\n      case 'NON_POWERED':\n        return <ToolModel color={color} />\n      default:\n        return <SedanModel color={color} />\n    }\n  }\n\n  return (\n    <group ref={groupRef",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 484,
        "end": 530,
        "startLoc": {
          "line": 484,
          "column": 6,
          "position": 7200
        },
        "endLoc": {
          "line": 530,
          "column": 9,
          "position": 7587
        }
      },
      "secondFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 458,
        "end": 517,
        "startLoc": {
          "line": 458,
          "column": 4,
          "position": 7015
        },
        "endLoc": {
          "line": 517,
          "column": 6,
          "position": 7485
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "}: { color?: string }) {\n  return (\n    <group>\n      {/* Body */}\n      <RoundedBox args={[3.5, 1.2, 1.6]} radius={0.15} position={[0, 0.7, 0]}>\n        <meshStandardMaterial color={color} metalness={0.7} roughness={0.25} />\n      </RoundedBox>\n      {/* Cabin */}\n      <RoundedBox args={[2.2, 0.8, 1.4]} radius={0.12} position={[0, 1.5, 0]}>\n        <meshStandardMaterial color=\"#1E3A5F",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 120,
        "end": 129,
        "startLoc": {
          "line": 120,
          "column": 2,
          "position": 1112
        },
        "endLoc": {
          "line": 129,
          "column": 8,
          "position": 1262
        }
      },
      "secondFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 79,
        "end": 88,
        "startLoc": {
          "line": 79,
          "column": 2,
          "position": 396
        },
        "endLoc": {
          "line": 88,
          "column": 8,
          "position": 546
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "]].map((pos, i) => (\n        <group key={i} position={pos as [number, number, number]}>\n          <Cylinder args={[0.35, 0.35, 0.25, 24]} rotation={[Math.PI / 2, 0, 0]}>\n            <meshStandardMaterial color=\"#1F2937\" metalness={0.1} roughness={0.8} />\n          </Cylinder>\n          <Cylinder args={[0.2, 0.2, 0.27, 6]} rotation={[Math.PI / 2, 0, 0]}>\n            <meshStandardMaterial color=\"#9CA3AF\" metalness={0.9} roughness={0.2} />\n          </Cylinder>\n        </group>\n      ))}\n    </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 136,
        "end": 146,
        "startLoc": {
          "line": 136,
          "column": 5,
          "position": 1412
        },
        "endLoc": {
          "line": 146,
          "column": 3,
          "position": 1609
        }
      },
      "secondFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 91,
        "end": 101,
        "startLoc": {
          "line": 91,
          "column": 4,
          "position": 629
        },
        "endLoc": {
          "line": 101,
          "column": 2,
          "position": 826
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ", -0.85]].map((pos, i) => (\n        <group key={i} position={pos as [number, number, number]}>\n          <Cylinder args={[0.3, 0.3, 0.22, 24]} rotation={[Math.PI / 2, 0, 0]}>\n            <meshStandardMaterial color=\"#1F2937\" metalness={0.1} roughness={0.8} />\n          </Cylinder>\n          <Cylinder args={[0.18, 0.18, 0.24, 6]} rotation={[Math.PI / 2, 0, 0]}>\n            <meshStandardMaterial color=\"#9CA3AF\" metalness={0.9} roughness={0.2} />\n          </Cylinder>\n        </group>\n      ))}\n    </group>\n  )\n}\n\n// Heavy Truck / Semi",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 171,
        "end": 185,
        "startLoc": {
          "line": 171,
          "column": 4,
          "position": 1998
        },
        "endLoc": {
          "line": 185,
          "column": 22,
          "position": 2209
        }
      },
      "secondFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 136,
        "end": 150,
        "startLoc": {
          "line": 136,
          "column": 5,
          "position": 1408
        },
        "endLoc": {
          "line": 150,
          "column": 16,
          "position": 1619
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "]].map((pos, i) => (\n        <group key={i} position={pos as [number, number, number]}>\n          <Cylinder args={[0.4, 0.4, 0.3, 24]} rotation={[Math.PI / 2, 0, 0]}>\n            <meshStandardMaterial color=\"#1F2937\" metalness={0.1} roughness={0.8} />\n          </Cylinder>\n          <Cylinder args={[0.25, 0.25, 0.32, 8]} rotation={[Math.PI / 2, 0, 0]}>\n            <meshStandardMaterial color=\"#6B7280",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 206,
        "end": 212,
        "startLoc": {
          "line": 206,
          "column": 2,
          "position": 2590
        },
        "endLoc": {
          "line": 212,
          "column": 8,
          "position": 2754
        }
      },
      "secondFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 91,
        "end": 97,
        "startLoc": {
          "line": 91,
          "column": 4,
          "position": 629
        },
        "endLoc": {
          "line": 97,
          "column": 8,
          "position": 793
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n      {/* Cab */}\n      <RoundedBox args={[1.5, 1.2, 1.2]} radius={0.1} position={[-0.3, 1.5, 0]}>\n        <meshStandardMaterial color={color} metalness={0.5} roughness={0.4} />\n      </RoundedBox>\n      {/* Cab glass */}\n      <Box args={[1.3, 0.8, 1]} position={[-0.3, 1.6, 0]}>\n        <meshStandardMaterial color=\"#1E3A5F\" metalness={0.9} roughness={0.1} transparent opacity={0.35} />\n      </Box>\n      {/* Boom arm */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 241,
        "end": 250,
        "startLoc": {
          "line": 241,
          "column": 9,
          "position": 3177
        },
        "endLoc": {
          "line": 250,
          "column": 15,
          "position": 3331
        }
      },
      "secondFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 188,
        "end": 197,
        "startLoc": {
          "line": 188,
          "column": 6,
          "position": 2247
        },
        "endLoc": {
          "line": 197,
          "column": 11,
          "position": 2399
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n      {/* Cab */}\n      <RoundedBox args={[1, 1, 1.4]} radius={0.08} position={[1.2, 1.2, 0]}>\n        <meshStandardMaterial color={color} metalness={0.5} roughness={0.4} />\n      </RoundedBox>\n      {/* Cab glass */}\n      <Box args={[0.5, 0.6, 1.2]} position={[1.5, 1.3, 0]}>\n        <meshStandardMaterial color=\"#1E3A5F\" metalness={0.9} roughness={0.1} transparent opacity={0.35} />\n      </Box>\n      {/* Turntable */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 359,
        "end": 368,
        "startLoc": {
          "line": 359,
          "column": 11,
          "position": 5141
        },
        "endLoc": {
          "line": 368,
          "column": 16,
          "position": 5293
        }
      },
      "secondFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 188,
        "end": 197,
        "startLoc": {
          "line": 188,
          "column": 6,
          "position": 2247
        },
        "endLoc": {
          "line": 197,
          "column": 11,
          "position": 2399
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "<Cylinder args={[0.03, 0.03, 0.3]} rotation={[0, 0, Math.PI / 2]} position={[0, 0.5, 0.53]}>\n        <meshStandardMaterial color=\"#6B7280\" metalness={0.8} roughness={0.2} />\n      </Cylinder>\n      <Cylinder args={[0.03, 0.03, 0.3]} rotation={[0, 0, Math.PI / 2]} position={[0, 0.8, 0.53]}>\n        <meshStandardMaterial color=\"#6B7280\" metalness={0.8} roughness={0.2} />\n      </Cylinder>\n      {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 449,
        "end": 455,
        "startLoc": {
          "line": 449,
          "column": 7,
          "position": 6723
        },
        "endLoc": {
          "line": 455,
          "column": 2,
          "position": 6885
        }
      },
      "secondFile": {
        "name": "src/components/garage/Asset3DViewer.tsx",
        "start": 446,
        "end": 452,
        "startLoc": {
          "line": 446,
          "column": 7,
          "position": 6642
        },
        "endLoc": {
          "line": 452,
          "column": 2,
          "position": 6804
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "} from 'react';\nimport { LoadingSpinner } from '../LoadingSpinner';\nimport { LoadingOverlay } from '../LoadingOverlay';\nimport { SkeletonTable } from '../SkeletonLoader';\nimport { ErrorMessage, FieldError } from '../ErrorMessage';\nimport { ToastContainer } from '../Toast';\nimport { Breadcrumb } from '../Breadcrumb';\nimport { useFormValidation",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/examples/CompleteUXIntegration.example.tsx",
        "start": 8,
        "end": 15,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 15
        },
        "endLoc": {
          "line": 15,
          "column": 18,
          "position": 107
        }
      },
      "secondFile": {
        "name": "src/components/examples/UXShowcase.example.tsx",
        "start": 8,
        "end": 13,
        "startLoc": {
          "line": 8,
          "column": 2,
          "position": 12
        },
        "endLoc": {
          "line": 13,
          "column": 9,
          "position": 102
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "}`}\n            </h3>\n            <p className=\"text-sm text-muted-foreground mt-1\">\n              {trips.length} trip{trips.length !== 1 ? 's' : ''} found\n            </p>\n          </div>\n\n          {/* Trip List */}\n          {trips.length === 0 ? (\n            <Card>\n              <CardContent className=\"py-12 text-center\">\n                <Route className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n                <p className=\"text-sm text-muted-foreground\">No trips recorded</p>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"space-y-3\">\n              {trips.map((trip: any) => {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverTripsView.tsx",
        "start": 48,
        "end": 65,
        "startLoc": {
          "line": 48,
          "column": 11,
          "position": 421
        },
        "endLoc": {
          "line": 65,
          "column": 2,
          "position": 589
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/VehicleTripsList.tsx",
        "start": 53,
        "end": 70,
        "startLoc": {
          "line": 53,
          "column": 12,
          "position": 439
        },
        "endLoc": {
          "line": 70,
          "column": 2,
          "position": 607
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "\">\n                            <div className=\"flex items-center gap-2\">\n                              <Badge variant={trip.status === 'completed' ? 'success' : 'default'}>\n                                {trip.status}\n                              </Badge>\n                              <span className=\"text-xs text-muted-foreground\">\n                                Trip #{trip.id.slice(0, 8)}\n                              </span>\n                            </div>\n                            {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverTripsView.tsx",
        "start": 73,
        "end": 82,
        "startLoc": {
          "line": 73,
          "column": 10,
          "position": 679
        },
        "endLoc": {
          "line": 82,
          "column": 2,
          "position": 769
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/VehicleTripsList.tsx",
        "start": 80,
        "end": 89,
        "startLoc": {
          "line": 80,
          "column": 34,
          "position": 689
        },
        "endLoc": {
          "line": 89,
          "column": 2,
          "position": 779
        }
      }
    },
    {
      "format": "tsx",
      "lines": 23,
      "fragment": ">\n                        </div>\n\n                        {/* Route */}\n                        <div className=\"flex items-start gap-2 text-sm\">\n                          <MapPin className=\"h-4 w-4 text-muted-foreground mt-0.5\" />\n                          <div className=\"flex-1 space-y-1\">\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"font-medium\">From:</span>\n                              <span className=\"text-muted-foreground truncate\">\n                                {trip.start_location || 'Unknown'}\n                              </span>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"font-medium\">To:</span>\n                              <span className=\"text-muted-foreground truncate\">\n                                {trip.end_location || 'Unknown'}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Stats */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverTripsView.tsx",
        "start": 104,
        "end": 126,
        "startLoc": {
          "line": 104,
          "column": 4,
          "position": 975
        },
        "endLoc": {
          "line": 126,
          "column": 12,
          "position": 1153
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/VehicleTripsList.tsx",
        "start": 109,
        "end": 131,
        "startLoc": {
          "line": 109,
          "column": 5,
          "position": 950
        },
        "endLoc": {
          "line": 131,
          "column": 17,
          "position": 1128
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "\">\n                          <div>\n                            <p className=\"text-xs text-muted-foreground\">Distance</p>\n                            <p className=\"font-medium\">\n                              {trip.distance ? `${trip.distance.toFixed(1)} mi` : 'N/A'}\n                            </p>\n                          </div>\n                          <div>\n                            <p className=\"text-xs text-muted-foreground\">Avg Speed</p>\n                            <p className=\"font-medium\">\n                              {trip.avg_speed ? `${trip.avg_speed.toFixed(0)} mph` : 'N/A'}\n                            </p>\n                          </div>\n                          <div>\n                            <p className=\"text-xs text-muted-foreground\">Fuel</",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverTripsView.tsx",
        "start": 127,
        "end": 141,
        "startLoc": {
          "line": 127,
          "column": 37,
          "position": 1164
        },
        "endLoc": {
          "line": 141,
          "column": 3,
          "position": 1319
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/VehicleTripsList.tsx",
        "start": 132,
        "end": 146,
        "startLoc": {
          "line": 132,
          "column": 37,
          "position": 1139
        },
        "endLoc": {
          "line": 146,
          "column": 5,
          "position": 1295
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "</CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\n                  <Fuel className=\"h-4 w-4\" />\n                  Fuel Economy\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className={`text-2xl font-bold ${getScoreColor(performance.fuel_score || 0)}`}>",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverPerformanceView.tsx",
        "start": 134,
        "end": 145,
        "startLoc": {
          "line": 134,
          "column": 15,
          "position": 1127
        },
        "endLoc": {
          "line": 145,
          "column": 2,
          "position": 1217
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/TripTelemetryView.tsx",
        "start": 107,
        "end": 118,
        "startLoc": {
          "line": 107,
          "column": 19,
          "position": 881
        },
        "endLoc": {
          "line": 118,
          "column": 2,
          "position": 955
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "|| 0}%\n                </div>\n                <Progress value={performance.fuel_score || 0} className=\"mt-2\" />\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\n                  <Clock className=\"h-4 w-4\" />\n                  On",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverPerformanceView.tsx",
        "start": 146,
        "end": 156,
        "startLoc": {
          "line": 146,
          "column": 2,
          "position": 1225
        },
        "endLoc": {
          "line": 156,
          "column": 3,
          "position": 1310
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/VehicleDetailPanel.tsx",
        "start": 160,
        "end": 169,
        "startLoc": {
          "line": 160,
          "column": 2,
          "position": 1396
        },
        "endLoc": {
          "line": 169,
          "column": 7,
          "position": 1479
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map((n) => n[0])\n      .join('')\n      .toUpperCase()\n  }\n\n  return (\n    <DrilldownContent loading={isLoading} error={error} onRetry={() => mutate()}>\n      {driver",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverDetailPanel.tsx",
        "start": 49,
        "end": 59,
        "startLoc": {
          "line": 49,
          "column": 3,
          "position": 359
        },
        "endLoc": {
          "line": 59,
          "column": 7,
          "position": 458
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/LaborDetailsView.tsx",
        "start": 28,
        "end": 34,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 311
        },
        "endLoc": {
          "line": 34,
          "column": 6,
          "position": 402
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "|| 0}%</div>\n                <Progress value={driver.safety_score || 0} className=\"mt-2\" />\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\n                  <Activity className=\"h-4 w-4\" />\n                  Performance",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverDetailPanel.tsx",
        "start": 119,
        "end": 128,
        "startLoc": {
          "line": 119,
          "column": 2,
          "position": 1038
        },
        "endLoc": {
          "line": 128,
          "column": 12,
          "position": 1121
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/VehicleDetailPanel.tsx",
        "start": 147,
        "end": 156,
        "startLoc": {
          "line": 147,
          "column": 2,
          "position": 1281
        },
        "endLoc": {
          "line": 156,
          "column": 7,
          "position": 1364
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ": any, idx: number) => (\n                    <li\n                      key={idx}\n                      className=\"flex items-start gap-2 p-2 rounded bg-destructive/10\"\n                    >\n                      <AlertTriangle className=\"h-4 w-4 text-destructive mt-0.5\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-medium\">{violation",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverDetailPanel.tsx",
        "start": 229,
        "end": 236,
        "startLoc": {
          "line": 229,
          "column": 10,
          "position": 1996
        },
        "endLoc": {
          "line": 236,
          "column": 10,
          "position": 2063
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/VehicleDetailPanel.tsx",
        "start": 463,
        "end": 470,
        "startLoc": {
          "line": 463,
          "column": 6,
          "position": 3867
        },
        "endLoc": {
          "line": 470,
          "column": 6,
          "position": 3934
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n                      <AlertTriangle className=\"h-4 w-4 text-destructive mt-0.5\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-medium\">{violation.type}</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {violation.date\n                            ? new Date(violation.date).toLocaleDateString()\n                            : 'N/A'}\n                        </p>\n                      </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/drilldown/DriverDetailPanel.tsx",
        "start": 233,
        "end": 242,
        "startLoc": {
          "line": 233,
          "column": 21,
          "position": 2027
        },
        "endLoc": {
          "line": 242,
          "column": 3,
          "position": 2116
        }
      },
      "secondFile": {
        "name": "src/components/drilldown/DriverPerformanceView.tsx",
        "start": 258,
        "end": 267,
        "startLoc": {
          "line": 258,
          "column": 25,
          "position": 2313
        },
        "endLoc": {
          "line": 267,
          "column": 2,
          "position": 2402
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ">\n\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n                  <Edit className=\"h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuItem onClick={() => startEdit(tag)}>\n                  <Edit",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/TagManager.tsx",
        "start": 103,
        "end": 113,
        "startLoc": {
          "line": 103,
          "column": 4,
          "position": 1023
        },
        "endLoc": {
          "line": 113,
          "column": 5,
          "position": 1115
        }
      },
      "secondFile": {
        "name": "src/components/documents/search/SavedSearches.tsx",
        "start": 159,
        "end": 169,
        "startLoc": {
          "line": 159,
          "column": 7,
          "position": 1323
        },
        "endLoc": {
          "line": 169,
          "column": 7,
          "position": 1415
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "{\n  if (bytes === 0) return '0 Bytes'\n\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return Math.round((",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentMapPopup.tsx",
        "start": 19,
        "end": 26,
        "startLoc": {
          "line": 19,
          "column": 2,
          "position": 72
        },
        "endLoc": {
          "line": 26,
          "column": 2,
          "position": 155
        }
      },
      "secondFile": {
        "name": "src/components/modules/compliance/DocumentManagement.tsx",
        "start": 221,
        "end": 226,
        "startLoc": {
          "line": 221,
          "column": 2,
          "position": 2016
        },
        "endLoc": {
          "line": 226,
          "column": 6,
          "position": 2097
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "&& (\n        <div className=\"flex items-center gap-2 mb-3 text-xs text-gray-600 dark:text-gray-400\">\n          <svg\n            className=\"w-4 h-4\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentMapPopup.tsx",
        "start": 142,
        "end": 154,
        "startLoc": {
          "line": 142,
          "column": 2,
          "position": 940
        },
        "endLoc": {
          "line": 154,
          "column": 31,
          "position": 1010
        }
      },
      "secondFile": {
        "name": "src/components/documents/DocumentMapPopup.tsx",
        "start": 118,
        "end": 130,
        "startLoc": {
          "line": 118,
          "column": 2,
          "position": 772
        },
        "endLoc": {
          "line": 130,
          "column": 145,
          "position": 842
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "\">\n          <svg\n            className=\"w-4 h-4\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentMapPopup.tsx",
        "start": 163,
        "end": 174,
        "startLoc": {
          "line": 163,
          "column": 80,
          "position": 1069
        },
        "endLoc": {
          "line": 174,
          "column": 161,
          "position": 1127
        }
      },
      "secondFile": {
        "name": "src/components/documents/DocumentMapPopup.tsx",
        "start": 119,
        "end": 130,
        "startLoc": {
          "line": 119,
          "column": 70,
          "position": 784
        },
        "endLoc": {
          "line": 130,
          "column": 145,
          "position": 842
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\"\n        >\n          <svg\n            className=\"w-4 h-4\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentMapPopup.tsx",
        "start": 213,
        "end": 225,
        "startLoc": {
          "line": 213,
          "column": 208,
          "position": 1339
        },
        "endLoc": {
          "line": 225,
          "column": 63,
          "position": 1398
        }
      },
      "secondFile": {
        "name": "src/components/documents/DocumentMapPopup.tsx",
        "start": 187,
        "end": 199,
        "startLoc": {
          "line": 187,
          "column": 146,
          "position": 1217
        },
        "endLoc": {
          "line": 199,
          "column": 33,
          "position": 1276
        }
      }
    },
    {
      "format": "javascript",
      "lines": 16,
      "fragment": "}\n        />\n      )}\n\n      {/* Map */}\n      <div style={{ height, width: '100%' }}>\n        <MapContainer\n          center={center}\n          zoom={zoom}\n          style={{ height: '100%', width: '100%' }}\n          scrollWheelZoom={true}\n        >\n          <TileLayer url={tileLayerUrl} attribution={tileLayerAttribution} />\n\n          {/* Auto-fit bounds */}\n          {filteredDocuments.length > 0 && <AutoFitBounds documents={filteredDocuments",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentMap.tsx",
        "start": 276,
        "end": 291,
        "startLoc": {
          "line": 276,
          "column": 7,
          "position": 1657
        },
        "endLoc": {
          "line": 291,
          "column": 18,
          "position": 1773
        }
      },
      "secondFile": {
        "name": "src/components/documents/DocumentMapCluster.tsx",
        "start": 126,
        "end": 137,
        "startLoc": {
          "line": 126,
          "column": 2,
          "position": 865
        },
        "endLoc": {
          "line": 137,
          "column": 9,
          "position": 970
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "</DropdownMenuItem>\n            <DropdownMenuItem>\n              <Share2 className=\"mr-2 h-4 w-4\" />\n              Share\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem className=\"text-destructive\">\n              <Trash2 className=\"mr-2 h-4 w-4\" />\n              Delete\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </div>\n  )",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentList.tsx",
        "start": 318,
        "end": 332,
        "startLoc": {
          "line": 318,
          "column": 13,
          "position": 2268
        },
        "endLoc": {
          "line": 332,
          "column": 2,
          "position": 2355
        }
      },
      "secondFile": {
        "name": "src/components/documents/DocumentSidebar.tsx",
        "start": 352,
        "end": 367,
        "startLoc": {
          "line": 352,
          "column": 15,
          "position": 2443
        },
        "endLoc": {
          "line": 367,
          "column": 2,
          "position": 2531
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ",\n  Tag as TagIcon\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger\n} from '@/components/ui/dropdown-menu';\nimport { Badge } from '@/components/ui/badge';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { DocumentMetadata",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentGrid.tsx",
        "start": 16,
        "end": 30,
        "startLoc": {
          "line": 16,
          "column": 5,
          "position": 79
        },
        "endLoc": {
          "line": 30,
          "column": 17,
          "position": 181
        }
      },
      "secondFile": {
        "name": "src/components/documents/DocumentList.tsx",
        "start": 20,
        "end": 35,
        "startLoc": {
          "line": 20,
          "column": 10,
          "position": 92
        },
        "endLoc": {
          "line": 35,
          "column": 6,
          "position": 195
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "}\n      onClick={onOpen}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          onOpen();\n        }\n      }}\n      role=\"button\"\n      tabIndex={0}\n      aria-label={`${document.name}, ${document.type}, ${formatFileSize(document.size)}`}\n    >\n      {/* Checkbox */}\n      <div\n        ",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentGrid.tsx",
        "start": 137,
        "end": 151,
        "startLoc": {
          "line": 137,
          "column": 2,
          "position": 981
        },
        "endLoc": {
          "line": 151,
          "column": 9,
          "position": 1101
        }
      },
      "secondFile": {
        "name": "src/components/documents/DocumentList.tsx",
        "start": 217,
        "end": 230,
        "startLoc": {
          "line": 217,
          "column": 8,
          "position": 1487
        },
        "endLoc": {
          "line": 230,
          "column": 2,
          "position": 1607
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "</Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem onClick={onOpen}>\n              <Eye className=\"mr-2 h-4 w-4\" />\n              Open\n            </DropdownMenuItem>\n            <DropdownMenuItem>\n              <Download className=\"mr-2 h-4 w-4\" />\n              Download\n            </DropdownMenuItem>\n            <DropdownMenuItem>\n              <Share2 className=\"mr-2 h-4 w-4\" />\n              Share\n            </DropdownMenuItem>\n            <DropdownMenuItem",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/documents/DocumentGrid.tsx",
        "start": 182,
        "end": 197,
        "startLoc": {
          "line": 182,
          "column": 13,
          "position": 1284
        },
        "endLoc": {
          "line": 197,
          "column": 17,
          "position": 1387
        }
      },
      "secondFile": {
        "name": "src/components/documents/DocumentList.tsx",
        "start": 308,
        "end": 323,
        "startLoc": {
          "line": 308,
          "column": 13,
          "position": 2196
        },
        "endLoc": {
          "line": 323,
          "column": 22,
          "position": 2299
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "({\n      vehicle_id: vehicleId || \"\",\n      driver_id: driverId || \"\",\n      usage_type: 'business',\n      business_purpose: \"\",\n      business_percentage: 100,\n      personal_notes: \"\",\n      miles_total: 0,\n      trip_date: new Date().toISOString().split('T')[0],\n      start_location: \"\",\n      end_location: \"\",\n      start_odometer: 0,\n      end_odometer: 0\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/dialogs/TripUsageDialog.tsx",
        "start": 150,
        "end": 163,
        "startLoc": {
          "line": 150,
          "column": 12,
          "position": 1311
        },
        "endLoc": {
          "line": 163,
          "column": 2,
          "position": 1422
        }
      },
      "secondFile": {
        "name": "src/components/dialogs/TripUsageDialog.tsx",
        "start": 43,
        "end": 55,
        "startLoc": {
          "line": 43,
          "column": 2,
          "position": 405
        },
        "endLoc": {
          "line": 55,
          "column": 2,
          "position": 514
        }
      }
    },
    {
      "format": "javascript",
      "lines": 45,
      "fragment": "}>\n                  <SelectTrigger id=\"type\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"sedan\">Sedan</SelectItem>\n                    <SelectItem value=\"suv\">SUV</SelectItem>\n                    <SelectItem value=\"truck\">Truck</SelectItem>\n                    <SelectItem value=\"van\">Van</SelectItem>\n                    <SelectItem value=\"emergency\">Emergency</SelectItem>\n                    <SelectItem value=\"specialty\">Specialty</SelectItem>\n                    <SelectItem value=\"tractor\">Tractor</SelectItem>\n                    <SelectItem value=\"forklift\">Forklift</SelectItem>\n                    <SelectItem value=\"trailer\">Trailer</SelectItem>\n                    <SelectItem value=\"construction\">Construction</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"make\">Make *</Label>\n                <Input\n                  id=\"make\"\n                  value={formData.make}\n                  onChange={(e) => setFormData({ ...formData, make: e.target.value })}\n                  placeholder=\"Ford\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"model\">Model *</Label>\n                <Input\n                  id=\"model\"\n                  value={formData.model}\n                  onChange={(e) => setFormData({ ...formData, model: e.target.value })}\n                  placeholder=\"Explorer\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"year\">Year</Label>\n                <Input\n                  id=\"year\"\n                  type=\"number\"\n                  value={formData.year",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/dialogs/AddVehicleDialog.tsx",
        "start": 305,
        "end": 349,
        "startLoc": {
          "line": 305,
          "column": 2,
          "position": 2808
        },
        "endLoc": {
          "line": 349,
          "column": 5,
          "position": 3225
        }
      },
      "secondFile": {
        "name": "src/components/examples/ErrorHandlingExample.tsx",
        "start": 128,
        "end": 153,
        "startLoc": {
          "line": 128,
          "column": 13,
          "position": 933
        },
        "endLoc": {
          "line": 153,
          "column": 4,
          "position": 1137
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"sedan\">Sedan</SelectItem>\n                    <SelectItem value=\"suv\">SUV</SelectItem>\n                    <SelectItem value=\"truck\">Truck</SelectItem>\n                    <SelectItem value=\"van\">Van</SelectItem>\n                    <SelectItem value=\"emergency",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/dialogs/AddVehicleDialog.tsx",
        "start": 306,
        "end": 314,
        "startLoc": {
          "line": 306,
          "column": 5,
          "position": 2819
        },
        "endLoc": {
          "line": 314,
          "column": 10,
          "position": 2905
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/MileageReimbursement.tsx",
        "start": 206,
        "end": 214,
        "startLoc": {
          "line": 206,
          "column": 12,
          "position": 2014
        },
        "endLoc": {
          "line": 214,
          "column": 9,
          "position": 2100
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ") {\n    return (\n      <div className={cn(\"compact-card\", className)}>\n        <div className=\"compact-card-header\">\n          <div className=\"compact-card-title\">{title}</div>\n          {currentValue && (\n            <div className=\"text-sm font-bold text-foreground\">{currentValue}</div>\n          )}\n        </div>\n        <div className=\"compact-card-content\">\n          <div className=\"flex flex-col gap-1 h-full justify-end",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/dashboard/MiniChart.tsx",
        "start": 76,
        "end": 86,
        "startLoc": {
          "line": 76,
          "column": 6,
          "position": 647
        },
        "endLoc": {
          "line": 86,
          "column": 39,
          "position": 752
        }
      },
      "secondFile": {
        "name": "src/components/dashboard/MiniChart.tsx",
        "start": 45,
        "end": 55,
        "startLoc": {
          "line": 45,
          "column": 12,
          "position": 330
        },
        "endLoc": {
          "line": 55,
          "column": 10,
          "position": 435
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "return (\n    <div className={cn(\"compact-card\", className)}>\n      <div className=\"compact-card-header\">\n        <div className=\"compact-card-title\">{title}</div>\n        {currentValue && (\n          <div className=\"text-sm font-bold text-foreground\">{currentValue}</div>\n        )}\n      </div>\n      <div className=\"compact-card-content\">\n        <div className=\"relative h-full",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/dashboard/MiniChart.tsx",
        "start": 121,
        "end": 130,
        "startLoc": {
          "line": 121,
          "column": 3,
          "position": 1062
        },
        "endLoc": {
          "line": 130,
          "column": 16,
          "position": 1162
        }
      },
      "secondFile": {
        "name": "src/components/dashboard/MiniChart.tsx",
        "start": 46,
        "end": 55,
        "startLoc": {
          "line": 46,
          "column": 5,
          "position": 335
        },
        "endLoc": {
          "line": 55,
          "column": 10,
          "position": 435
        }
      }
    },
    {
      "format": "javascript",
      "lines": 6,
      "fragment": "}\n          className=\"flex items-center justify-between p-2 rounded-md hover:bg-muted/50 cursor-pointer transition-colors\"\n          onClick={() => onVehicleClick?.(vehicle)}\n          initial={{ opacity: 0, x: -10 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ duration: 0.2, delay: index ",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/dashboard/CompactVehicleList.tsx",
        "start": 189,
        "end": 194,
        "startLoc": {
          "line": 189,
          "column": 3,
          "position": 1681
        },
        "endLoc": {
          "line": 194,
          "column": 8,
          "position": 1750
        }
      },
      "secondFile": {
        "name": "src/components/dashboard/CompactVehicleList.tsx",
        "start": 104,
        "end": 108,
        "startLoc": {
          "line": 104,
          "column": 2,
          "position": 935
        },
        "endLoc": {
          "line": 108,
          "column": 6,
          "position": 998
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ")\n            const healthyCount = categoryEndpoints.filter(e => e?.status === 'healthy').length\n            const errorCount = categoryEndpoints.filter(e => e?.status === 'error').length\n            const warningCount = categoryEndpoints.filter(e => e?.status === 'warning').length\n\n            return (\n              <Collapsible\n                ",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/dashboard/AllEndpointsMonitor.tsx",
        "start": 257,
        "end": 264,
        "startLoc": {
          "line": 257,
          "column": 2,
          "position": 2035
        },
        "endLoc": {
          "line": 264,
          "column": 17,
          "position": 2127
        }
      },
      "secondFile": {
        "name": "src/components/monitoring/EndpointHealthDashboard.tsx",
        "start": 366,
        "end": 374,
        "startLoc": {
          "line": 366,
          "column": 8,
          "position": 2518
        },
        "endLoc": {
          "line": 374,
          "column": 21,
          "position": 2611
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "})\n      })\n\n      if (response.vehicle) {\n        onVehicleSelected(response.vehicle)\n        setOpen(false)\n        toast.success(\"Vehicle identified successfully\")\n      }\n    } catch (error: any) {\n      console.error(\"Error identifying vehicle:\", error)\n      toast.error(error.message || \"Vehicle not found\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSearch",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/common/VehicleIdentification.tsx",
        "start": 91,
        "end": 107,
        "startLoc": {
          "line": 91,
          "column": 2,
          "position": 717
        },
        "endLoc": {
          "line": 107,
          "column": 13,
          "position": 823
        }
      },
      "secondFile": {
        "name": "src/components/common/VehicleIdentification.tsx",
        "start": 65,
        "end": 81,
        "startLoc": {
          "line": 65,
          "column": 2,
          "position": 518
        },
        "endLoc": {
          "line": 81,
          "column": 25,
          "position": 624
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ">\n                  </div>\n\n                  <div className=\"relative\">\n                    <div className=\"absolute inset-0 flex items-center\">\n                      <span className=\"w-full border-t\" />\n                    </div>\n                    <div className=\"relative flex justify-center text-xs uppercase\">\n                      <span className=\"bg-background px-2 text-muted-foreground\">\n                        Or enter manually\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"plate-input",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/common/VehicleIdentification.tsx",
        "start": 361,
        "end": 376,
        "startLoc": {
          "line": 361,
          "column": 2,
          "position": 3007
        },
        "endLoc": {
          "line": 376,
          "column": 12,
          "position": 3117
        }
      },
      "secondFile": {
        "name": "src/components/common/VehicleIdentification.tsx",
        "start": 316,
        "end": 331,
        "startLoc": {
          "line": 316,
          "column": 7,
          "position": 2595
        },
        "endLoc": {
          "line": 331,
          "column": 10,
          "position": 2705
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "</TableCell>\n                    <TableCell align=\"right\">\n                      <Chip\n                        label={formatTime(endpoint.p95)}\n                        size=\"small\"\n                        color={getPerformanceColor(endpoint.p95) as any}\n                      />\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <Chip\n                        label={formatTime(endpoint.p99)}\n                        size=\"small\"\n                        color={getPerformanceColor(endpoint.p99) as any}\n                      />\n                    </TableCell>\n                    <TableCell align=\"right\">{",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PerformanceMetrics.tsx",
        "start": 279,
        "end": 294,
        "startLoc": {
          "line": 279,
          "column": 21,
          "position": 2765
        },
        "endLoc": {
          "line": 294,
          "column": 2,
          "position": 2887
        }
      },
      "secondFile": {
        "name": "src/components/admin/PerformanceMetrics.tsx",
        "start": 272,
        "end": 288,
        "startLoc": {
          "line": 272,
          "column": 21,
          "position": 2711
        },
        "endLoc": {
          "line": 288,
          "column": 2,
          "position": 2835
        }
      }
    },
    {
      "format": "javascript",
      "lines": 35,
      "fragment": "}>\n                <CheckCircle color=\"success\" />\n                <Typography variant=\"h6\">\n                  {data.health?.status === 'healthy' ? '100%' :\n                   data.health?.status === 'degraded' ? '75%' : '0%'}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  System Health\n                </Typography>\n              </Paper>\n            </Grid>\n            <Grid item xs={6} md={3}>\n              <Paper sx={{ p: 2, textAlign: 'center' }}>\n                <Assessment color=\"primary\" />\n                <Typography variant=\"h6\">\n                  {data.metrics?.requestsPerMinute || 0}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Requests/min\n                </Typography>\n              </Paper>\n            </Grid>\n            <Grid item xs={6} md={3}>\n              <Paper sx={{ p: 2, textAlign: 'center' }}>\n                <Error color=\"error\" />\n                <Typography variant=\"h6\">\n                  {data.errors?.filter(e => e.timestamp > Date.now() - 3600000).length || 0}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Errors (1h)\n                </Typography>\n              </Paper>\n            </Grid>\n            <Grid item xs={6} md={3}>\n              <Paper sx={{ p: 2, textAlign: 'center' }}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/MonitoringDashboard.tsx",
        "start": 231,
        "end": 265,
        "startLoc": {
          "line": 231,
          "column": 2,
          "position": 2058
        },
        "endLoc": {
          "line": 265,
          "column": 2,
          "position": 2470
        }
      },
      "secondFile": {
        "name": "src/components/admin/MonitoringDashboard.tsx",
        "start": 229,
        "end": 254,
        "startLoc": {
          "line": 229,
          "column": 2,
          "position": 2017
        },
        "endLoc": {
          "line": 254,
          "column": 2,
          "position": 2324
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ";\n    if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`;\n    if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`;\n    return date.toLocaleDateString();\n  };\n\n  if",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/AlertsPanel.tsx",
        "start": 165,
        "end": 171,
        "startLoc": {
          "line": 165,
          "column": 11,
          "position": 1370
        },
        "endLoc": {
          "line": 171,
          "column": 3,
          "position": 1444
        }
      },
      "secondFile": {
        "name": "src/components/admin/EmulatorMonitor.tsx",
        "start": 128,
        "end": 134,
        "startLoc": {
          "line": 128,
          "column": 7,
          "position": 1067
        },
        "endLoc": {
          "line": 134,
          "column": 6,
          "position": 1141
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "\n          onMarkerClick={onMarkerClick}\n        />\n      )\n\n      await waitFor(() => {\n        const markerInstance = vi.mocked(mockLeaflet.marker).mock.results[0]?.value\n        expect(markerInstance?.on).toHaveBeenCalledWith('click', expect.any(Function))\n      })\n    })\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/__tests__/LeafletMap.test.tsx",
        "start": 378,
        "end": 388,
        "startLoc": {
          "line": 378,
          "column": 2,
          "position": 3075
        },
        "endLoc": {
          "line": 388,
          "column": 2,
          "position": 3157
        }
      },
      "secondFile": {
        "name": "src/components/__tests__/LeafletMap.test.tsx",
        "start": 309,
        "end": 320,
        "startLoc": {
          "line": 309,
          "column": 2,
          "position": 2486
        },
        "endLoc": {
          "line": 320,
          "column": 3,
          "position": 2569
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ", async () => {\n      const vehicles = createMockVehicles(3)\n      const mapInstance = vi.mocked(mockLeaflet.map).mock.results[0]?.value\n\n      render(\n        <LeafletMap\n          vehicles={vehicles}\n          showVehicles={true}\n          autoFitBounds={false}\n        />\n      )\n\n      await waitFor(() => {\n        expect(mapInstance?.fitBounds).not",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/__tests__/LeafletMap.test.tsx",
        "start": 482,
        "end": 495,
        "startLoc": {
          "line": 482,
          "column": 52,
          "position": 3857
        },
        "endLoc": {
          "line": 495,
          "column": 4,
          "position": 3960
        }
      },
      "secondFile": {
        "name": "src/components/__tests__/LeafletMap.test.tsx",
        "start": 465,
        "end": 478,
        "startLoc": {
          "line": 465,
          "column": 51,
          "position": 3737
        },
        "endLoc": {
          "line": 478,
          "column": 17,
          "position": 3840
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ", async () => {\n      const vehicles = createMockVehicles(1)\n      render(<LeafletMap vehicles={vehicles} showVehicles={true} />)\n\n      await waitFor(() => {\n        const markerInstance = vi.mocked(mockLeaflet.marker).mock.results[0]?.value\n        expect(markerInstance?.on",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/__tests__/LeafletMap.test.tsx",
        "start": 669,
        "end": 675,
        "startLoc": {
          "line": 669,
          "column": 48,
          "position": 5333
        },
        "endLoc": {
          "line": 675,
          "column": 3,
          "position": 5422
        }
      },
      "secondFile": {
        "name": "src/components/__tests__/LeafletMap.test.tsx",
        "start": 264,
        "end": 270,
        "startLoc": {
          "line": 264,
          "column": 39,
          "position": 2041
        },
        "endLoc": {
          "line": 270,
          "column": 10,
          "position": 2130
        }
      }
    },
    {
      "format": "javascript",
      "lines": 216,
      "fragment": "={customCenter} />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalledWith(\n          expect.any(HTMLElement),\n          expect.objectContaining({\n            center: { lat: 30.4383, lng: -84.2807 }\n          })\n        )\n      })\n    })\n\n    it('should initialize map with custom zoom', async () => {\n      render(<GoogleMap zoom={13} />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalledWith(\n          expect.any(HTMLElement),\n          expect.objectContaining({ zoom: 13 })\n        )\n      })\n    })\n\n    it('should initialize map with roadmap style by default', async () => {\n      render(<GoogleMap />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalledWith(\n          expect.any(HTMLElement),\n          expect.objectContaining({ mapTypeId: 'roadmap' })\n        )\n      })\n    })\n\n    it('should enable all map controls', async () => {\n      render(<GoogleMap />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalledWith(\n          expect.any(HTMLElement),\n          expect.objectContaining({\n            zoomControl: true,\n            streetViewControl: true,\n            mapTypeControl: true,\n            fullscreenControl: true,\n            scaleControl: true,\n            rotateControl: true\n          })\n        )\n      })\n    })\n  })\n\n  // ============================================================================\n  // Map Style Tests\n  // ============================================================================\n\n  describe('Map Styles', () => {\n    it('should use roadmap style', async () => {\n      render(<GoogleMap mapStyle=\"roadmap\" />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalledWith(\n          expect.any(HTMLElement),\n          expect.objectContaining({ mapTypeId: 'roadmap' })\n        )\n      })\n    })\n\n    it('should use satellite style', async () => {\n      render(<GoogleMap mapStyle=\"satellite\" />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalledWith(\n          expect.any(HTMLElement),\n          expect.objectContaining({ mapTypeId: 'satellite' })\n        )\n      })\n    })\n\n    it('should use hybrid style', async () => {\n      render(<GoogleMap mapStyle=\"hybrid\" />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalledWith(\n          expect.any(HTMLElement),\n          expect.objectContaining({ mapTypeId: 'hybrid' })\n        )\n      })\n    })\n\n    it('should use terrain style', async () => {\n      render(<GoogleMap mapStyle=\"terrain\" />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalledWith(\n          expect.any(HTMLElement),\n          expect.objectContaining({ mapTypeId: 'terrain' })\n        )\n      })\n    })\n\n    it('should update map style when prop changes', async () => {\n      const { rerender } = render(<GoogleMap mapStyle=\"roadmap\" />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Map).toHaveBeenCalled()\n      })\n\n      const mapInstance = vi.mocked(mockGoogleMaps.Map).mock.results[0]?.value\n\n      rerender(<GoogleMap mapStyle=\"satellite\" />)\n\n      await waitFor(() => {\n        expect(mapInstance?.setMapTypeId).toHaveBeenCalledWith('satellite')\n      })\n    })\n  })\n\n  // ============================================================================\n  // Vehicle Marker Tests\n  // ============================================================================\n\n  describe('Vehicle Markers', () => {\n    it('should render vehicle markers', async () => {\n      const vehicles = createMockVehicles(3)\n      render(<GoogleMap vehicles={vehicles} showVehicles={true} />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Marker).toHaveBeenCalledTimes(3)\n      })\n    })\n\n    it('should not render vehicles when showVehicles is false', async () => {\n      const vehicles = createMockVehicles(3)\n      render(<GoogleMap vehicles={vehicles} showVehicles={false} />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Marker).not.toHaveBeenCalled()\n      }, { timeout: 2000 })\n    })\n\n    it('should create markers with correct positions', async () => {\n      const vehicles = createMockVehicles(1)\n      vehicles[0].location = { lat: 30.4383, lng: -84.2807, address: 'Test' }\n\n      render(<GoogleMap vehicles={vehicles} showVehicles={true} />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Marker).toHaveBeenCalledWith(\n          expect.objectContaining({\n            position: { lat: 30.4383, lng: -84.2807 }\n          })\n        )\n      })\n    })\n\n    it('should create markers with vehicle-specific colors', async () => {\n      const vehicles = createMockVehicles(2)\n      vehicles[0].status = 'active'\n      vehicles[1].status = 'emergency'\n\n      render(<GoogleMap vehicles={vehicles} showVehicles={true} />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Marker).toHaveBeenCalledWith(\n          expect.objectContaining({\n            icon: expect.objectContaining({\n              fillColor: '#10b981' // active color\n            })\n          })\n        )\n\n        expect(mockGoogleMaps.Marker).toHaveBeenCalledWith(\n          expect.objectContaining({\n            icon: expect.objectContaining({\n              fillColor: '#ef4444' // emergency color\n            })\n          })\n        )\n      })\n    })\n\n    it('should skip vehicles with missing location', async () => {\n      const vehicles = createMockVehicles(3)\n      vehicles[1].location = null as any\n\n      render(<GoogleMap vehicles={vehicles} showVehicles={true} />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.Marker).toHaveBeenCalledTimes(2)\n      })\n    })\n\n    it('should create info windows for vehicles', async () => {\n      const vehicles = createMockVehicles(1)\n      render(<GoogleMap vehicles={vehicles} showVehicles={true} />)\n\n      await waitFor(() => {\n        expect(mockGoogleMaps.InfoWindow).toHaveBeenCalled()\n      })\n    })\n\n    it('should add click listeners to markers', async () => {\n      const vehicles = createMockVehicles(1)\n      render(<GoogleMap vehicles={vehicles} showVehicles={true} />)\n\n      await waitFor(() => {\n        const markerInstance = vi.mocked(mockGoogleMaps.Marker).mock.results[0]?.value\n        expect(markerInstance?.addListener).toHaveBeenCalledWith('click', expect.any(Function))\n      })\n    })\n\n    it('should update markers when vehicles change', async () => {\n      const { rerender } = render(\n        <GoogleMap vehicles={createMockVehicles",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/__tests__/GoogleMap.test.tsx",
        "start": 135,
        "end": 350,
        "startLoc": {
          "line": 135,
          "column": 7,
          "position": 882
        },
        "endLoc": {
          "line": 350,
          "column": 19,
          "position": 2674
        }
      },
      "secondFile": {
        "name": "src/components/__tests__/LeafletMap.test.tsx",
        "start": 110,
        "end": 310,
        "startLoc": {
          "line": 110,
          "column": 7,
          "position": 784
        },
        "endLoc": {
          "line": 310,
          "column": 14,
          "position": 2490
        }
      }
    },
    {
      "format": "javascript",
      "lines": 107,
      "fragment": "}>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Car className=\"w-5 h-5\" />\n          Mark Trip Usage\n        </CardTitle>\n        <CardDescription>\n          Classify this trip as business, personal, or mixed use\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {/* Usage Type Selection */}\n        <div className=\"space-y-3\">\n          <Label>Trip Type</Label>\n          <RadioGroup\n            value={usageType}\n            onValueChange={(value: any) => setUsageType(value)}\n            className=\"grid grid-cols-3 gap-4\"\n          >\n            <div>\n              <RadioGroupItem\n                value=\"business\"\n                id=\"business\"\n                className=\"peer sr-only\"\n              />\n              <Label\n                htmlFor=\"business\"\n                className=\"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer\"\n              >\n                <Briefcase className=\"mb-3 h-6 w-6\" />\n                <span className=\"text-sm font-medium\">Business</span>\n              </Label>\n            </div>\n\n            <div>\n              <RadioGroupItem\n                value=\"personal\"\n                id=\"personal\"\n                className=\"peer sr-only\"\n              />\n              <Label\n                htmlFor=\"personal\"\n                className=\"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer\"\n              >\n                <Coffee className=\"mb-3 h-6 w-6\" />\n                <span className=\"text-sm font-medium\">Personal</span>\n              </Label>\n            </div>\n\n            <div>\n              <RadioGroupItem\n                value=\"mixed\"\n                id=\"mixed\"\n                className=\"peer sr-only\"\n              />\n              <Label\n                htmlFor=\"mixed\"\n                className=\"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer\"\n              >\n                <SplitHorizontal className=\"mb-3 h-6 w-6\" />\n                <span className=\"text-sm font-medium\">Mixed</span>\n              </Label>\n            </div>\n          </RadioGroup>\n        </div>\n\n        {/* Mixed Trip Percentage Slider */}\n        {usageType === 'mixed' && (\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <Label>Business/Personal Split</Label>\n              <div className=\"text-sm text-muted-foreground\">\n                {businessPercentage}% / {100 - businessPercentage}%\n              </div>\n            </div>\n            <Slider\n              value={[businessPercentage]}\n              onValueChange={([value]) => setBusinessPercentage(value)}\n              min={10}\n              max={90}\n              step={5}\n              className=\"w-full\"\n            />\n            <div className=\"flex justify-between text-xs text-muted-foreground\">\n              <span>\n                {businessMiles.toFixed(1)} mi business\n              </span>\n              <span>\n                {personalMiles.toFixed(1)} mi personal\n              </span>\n            </div>\n            {errors.businessPercentage && (\n              <p className=\"text-sm text-destructive\">{errors.businessPercentage}</p>\n            )}\n          </div>\n        )}\n\n        {/* Business Purpose */}\n        {(usageType === 'business' || usageType === 'mixed') && (\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"business-purpose\">\n              Business Purpose <span className=\"text-destructive\">*</span>\n            </Label>\n            <Textarea\n              id=\"business-purpose\"\n              placeholder=\"e.g., Client meeting, site visit, vendor pickup...\"\n              value={businessPurpose",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/PersonalUse/TripMarker.tsx",
        "start": 195,
        "end": 301,
        "startLoc": {
          "line": 195,
          "column": 10,
          "position": 1760
        },
        "endLoc": {
          "line": 301,
          "column": 16,
          "position": 2522
        }
      },
      "secondFile": {
        "name": "src/components/PersonalUse/TripMarker.tsx",
        "start": 128,
        "end": 180,
        "startLoc": {
          "line": 128,
          "column": 2,
          "position": 1178
        },
        "endLoc": {
          "line": 180,
          "column": 11,
          "position": 1626
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ", 'click', () => {\n      setSelectedGeofence(newGeofence.id)\n    })\n\n    // Update state\n    setGeofences(prev => [...prev, newGeofence])\n    onGeofenceCreate?.(newGeofence)\n\n    // Reset drawing mode\n    setIsDrawing(false)\n    setDrawingMode(null)\n    if (drawingManagerRef.current) {\n      drawingManagerRef.current.setDrawingMode(null)\n    }\n  }, [geofences, onGeofenceCreate])\n\n  /**\n   * Handle rectangle completion\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/Maps/AdvancedGeofencing.tsx",
        "start": 217,
        "end": 235,
        "startLoc": {
          "line": 217,
          "column": 8,
          "position": 1608
        },
        "endLoc": {
          "line": 235,
          "column": 6,
          "position": 1714
        }
      },
      "secondFile": {
        "name": "src/components/Maps/AdvancedGeofencing.tsx",
        "start": 175,
        "end": 193,
        "startLoc": {
          "line": 175,
          "column": 7,
          "position": 1282
        },
        "endLoc": {
          "line": 193,
          "column": 6,
          "position": 1388
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ", 'click', () => {\n      setSelectedGeofence(newGeofence.id)\n    })\n\n    // Update state\n    setGeofences(prev => [...prev, newGeofence])\n    onGeofenceCreate?.(newGeofence)\n\n    // Reset drawing mode\n    setIsDrawing(false)\n    setDrawingMode(null)\n    if (drawingManagerRef.current) {\n      drawingManagerRef.current.setDrawingMode(null)\n    }\n  }, [geofences, onGeofenceCreate])\n\n  /**\n   * Start drawing a new geofence\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/Maps/AdvancedGeofencing.tsx",
        "start": 264,
        "end": 282,
        "startLoc": {
          "line": 264,
          "column": 10,
          "position": 1972
        },
        "endLoc": {
          "line": 282,
          "column": 6,
          "position": 2078
        }
      },
      "secondFile": {
        "name": "src/components/Maps/AdvancedGeofencing.tsx",
        "start": 175,
        "end": 193,
        "startLoc": {
          "line": 175,
          "column": 7,
          "position": 1282
        },
        "endLoc": {
          "line": 193,
          "column": 6,
          "position": 1388
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "return new Promise((resolve, reject) => {\n    const img = new Image();\n    const reader = new FileReader();\n\n    reader.onload = (e) => {\n      img.src = e.target?.result as string;\n    };\n\n    reader.onerror = reject;\n\n    img.onload = () => {\n      resolve",
      "tokens": 0,
      "firstFile": {
        "name": "src/utils/imageOptimization.ts",
        "start": 210,
        "end": 221,
        "startLoc": {
          "line": 210,
          "column": 3,
          "position": 1506
        },
        "endLoc": {
          "line": 221,
          "column": 8,
          "position": 1617
        }
      },
      "secondFile": {
        "name": "src/utils/imageOptimization.ts",
        "start": 27,
        "end": 38,
        "startLoc": {
          "line": 27,
          "column": 3,
          "position": 140
        },
        "endLoc": {
          "line": 38,
          "column": 4,
          "position": 251
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "this.connected = false;\n    }\n  }\n\n  async get<T>(key: string): Promise<T | null> {\n    if (!this.connected) return null;\n    try {\n      const value = await this.client.get(key);\n      return value ? JSON.parse(value) : null;\n    } catch (error) {\n      console.error(`Error getting key ",
      "tokens": 0,
      "firstFile": {
        "name": "src/utils/cache.ts",
        "start": 43,
        "end": 53,
        "startLoc": {
          "line": 43,
          "column": 7,
          "position": 419
        },
        "endLoc": {
          "line": 53,
          "column": 20,
          "position": 535
        }
      },
      "secondFile": {
        "name": "api/src/utils/cache.ts",
        "start": 54,
        "end": 65,
        "startLoc": {
          "line": 54,
          "column": 7,
          "position": 403
        },
        "endLoc": {
          "line": 65,
          "column": 26,
          "position": 520
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "${key}:`, error);\n      return null;\n    }\n  }\n\n  async set(key: string, value: any, ttlSeconds: number = 300): Promise<void> {\n    if (!this.connected) return;\n    try {\n      await this.client.set",
      "tokens": 0,
      "firstFile": {
        "name": "src/utils/cache.ts",
        "start": 53,
        "end": 61,
        "startLoc": {
          "line": 53,
          "column": 20,
          "position": 536
        },
        "endLoc": {
          "line": 61,
          "column": 4,
          "position": 619
        }
      },
      "secondFile": {
        "name": "api/src/utils/cache.ts",
        "start": 65,
        "end": 74,
        "startLoc": {
          "line": 65,
          "column": 26,
          "position": 521
        },
        "endLoc": {
          "line": 74,
          "column": 6,
          "position": 605
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "${key}:`, error);\n    }\n  }\n\n  async del(key: string): Promise<void> {\n    if (!this.connected) return;\n    try {\n      await this.client.del(key);\n    } catch (error) {\n      console.error(`Error deleting key ",
      "tokens": 0,
      "firstFile": {
        "name": "src/utils/cache.ts",
        "start": 63,
        "end": 72,
        "startLoc": {
          "line": 63,
          "column": 20,
          "position": 660
        },
        "endLoc": {
          "line": 72,
          "column": 21,
          "position": 743
        }
      },
      "secondFile": {
        "name": "api/src/utils/cache.ts",
        "start": 76,
        "end": 86,
        "startLoc": {
          "line": 76,
          "column": 26,
          "position": 639
        },
        "endLoc": {
          "line": 86,
          "column": 29,
          "position": 723
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "${key}:`, error);\n    }\n  }\n\n  async delPattern(pattern: string): Promise<void> {\n    if (!this.connected) return;\n    try {\n      const keys = await this.client.keys(pattern);\n      if (keys.length > 0) {\n        await this.client.del(keys);\n      }\n    } catch (error) {\n      console.error(`Error deleting pattern ",
      "tokens": 0,
      "firstFile": {
        "name": "src/utils/cache.ts",
        "start": 72,
        "end": 84,
        "startLoc": {
          "line": 72,
          "column": 21,
          "position": 744
        },
        "endLoc": {
          "line": 84,
          "column": 25,
          "position": 864
        }
      },
      "secondFile": {
        "name": "api/src/utils/cache.ts",
        "start": 86,
        "end": 99,
        "startLoc": {
          "line": 86,
          "column": 29,
          "position": 724
        },
        "endLoc": {
          "line": 99,
          "column": 33,
          "position": 845
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "// =====================================================\n// Enums\n// =====================================================\n\nexport enum UsageType {\n  BUSINESS = 'business',\n  PERSONAL = 'personal',\n  MIXED = 'mixed'\n}\n\nexport enum ApprovalStatus {\n  PENDING = 'pending',\n  APPROVED = 'approved',\n  REJECTED = 'rejected',\n  AUTO_APPROVED = 'auto_approved'\n}\n\nexport enum ApprovalWorkflow {\n  MANAGER = 'manager',\n  FLEET_ADMIN = 'fleet_admin',\n  BOTH = 'both',\n  NONE = 'none'\n}\n\nexport enum ChargeStatus {\n  PENDING = 'pending',\n  INVOICED = 'invoiced',\n  BILLED = 'billed',\n  PAID = 'paid',\n  WAIVED = 'waived',\n  DISPUTED = 'disputed'\n}\n\n// =====================================================",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 6,
        "end": 39,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 39,
          "column": 57,
          "position": 186
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 7,
        "end": 40,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 40,
          "column": 7,
          "position": 186
        }
      }
    },
    {
      "format": "typescript",
      "lines": 97,
      "fragment": "}\n\n// =====================================================\n// Trip Usage Classification\n// =====================================================\n\nexport interface TripUsageClassification {\n  id: string\n  tenant_id: string\n  trip_id?: string\n  vehicle_id: string\n  driver_id: string\n\n  // Usage classification\n  usage_type: UsageType\n  business_purpose?: string\n  business_percentage?: number\n  personal_notes?: string\n\n  // Mileage breakdown\n  miles_total: number\n  miles_business: number // Computed\n  miles_personal: number // Computed\n\n  // Trip details\n  trip_date: Date | string\n  start_location?: string\n  end_location?: string\n  start_odometer?: number\n  end_odometer?: number\n\n  // Approval workflow\n  approved_by_user_id?: string\n  approved_at?: Date | string\n  approval_status: ApprovalStatus\n  rejection_reason?: string\n\n  // Metadata\n  metadata?: Record<string, any>\n\n  // Audit fields\n  created_at: Date | string\n  updated_at: Date | string\n  created_by_user_id?: string\n}\n\nexport interface CreateTripUsageRequest {\n  vehicle_id: string\n  driver_id: string\n  usage_type: UsageType\n  business_purpose?: string\n  business_percentage?: number\n  personal_notes?: string\n  miles_total: number\n  trip_date: string\n  start_location?: string\n  end_location?: string\n  start_odometer?: number\n  end_odometer?: number\n  trip_id?: string\n}\n\nexport interface UpdateTripUsageRequest {\n  usage_type?: UsageType\n  business_purpose?: string\n  business_percentage?: number\n  personal_notes?: string\n  miles_total?: number\n  start_location?: string\n  end_location?: string\n}\n\nexport interface ApproveTripRequest {\n  approver_notes?: string\n}\n\nexport interface RejectTripRequest {\n  rejection_reason: string\n}\n\n// =====================================================\n// Personal Use Policies\n// =====================================================\n\nexport interface PersonalUsePolicy {\n  id: string\n  tenant_id: string\n\n  // Policy settings\n  allow_personal_use: boolean\n  require_approval: boolean\n  max_personal_miles_per_month?: number\n  max_personal_miles_per_year?: number\n\n  // Charging configuration\n  charge_personal_use: boolean\n  personal_use_rate_per_mile",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 37,
        "end": 133,
        "startLoc": {
          "line": 37,
          "column": 1,
          "position": 183
        },
        "endLoc": {
          "line": 133,
          "column": 27,
          "position": 677
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 65,
        "end": 161,
        "startLoc": {
          "line": 65,
          "column": 1,
          "position": 357
        },
        "endLoc": {
          "line": 161,
          "column": 15,
          "position": 851
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "?: number\n\n  // Reporting requirements\n  reporting_required: boolean\n  approval_workflow: ApprovalWorkflow\n\n  // Notification settings\n  notification_settings: NotificationSettings\n\n  // Auto-approval thresholds\n  auto_approve_under_miles?: number\n  auto_approve_days_advance?: number\n\n  // Policy dates\n  effective_date: Date | string\n  expiration_date?: Date | string\n\n  // Audit fields\n  created_by_user_id?: string\n  created_at: Date | string\n  updated_at: Date | string\n}\n\nexport interface NotificationSettings {\n  notify_at_percentage?: number\n  notify_manager_on_exceed?: boolean\n  notify_driver_on_limit?: boolean\n  email_notifications?: boolean\n}\n\nexport interface CreatePolicyRequest {\n  allow_personal_use: boolean\n  require_approval: boolean\n  max_personal_miles_per_month?: number\n  max_personal_miles_per_year?: number\n  charge_personal_use: boolean\n  personal_use_rate_per_mile",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 133,
        "end": 169,
        "startLoc": {
          "line": 133,
          "column": 27,
          "position": 678
        },
        "endLoc": {
          "line": 169,
          "column": 27,
          "position": 866
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 172,
        "end": 208,
        "startLoc": {
          "line": 172,
          "column": 29,
          "position": 914
        },
        "endLoc": {
          "line": 208,
          "column": 15,
          "position": 1102
        }
      }
    },
    {
      "format": "typescript",
      "lines": 45,
      "fragment": "?: number\n  reporting_required?: boolean\n  approval_workflow?: ApprovalWorkflow\n  notification_settings?: NotificationSettings\n  auto_approve_under_miles?: number\n  effective_date: string\n  expiration_date?: string\n}\n\nexport interface UpdatePolicyRequest extends Partial<CreatePolicyRequest> {}\n\n// =====================================================\n// Personal Use Charges\n// =====================================================\n\nexport interface PersonalUseCharge {\n  id: string\n  tenant_id: string\n  driver_id: string\n  trip_usage_id?: string\n\n  // Billing period\n  charge_period: string // YYYY-MM\n  charge_period_start: Date | string\n  charge_period_end: Date | string\n\n  // Charge calculation\n  miles_charged: number\n  rate_per_mile: number\n  total_charge: number\n\n  // Payment tracking\n  charge_status: ChargeStatus\n  payment_method?: string\n  paid_at?: Date | string\n  waived_by_user_id?: string\n  waived_at?: Date | string\n  waived_reason?: string\n\n  // Invoice information\n  invoice_number?: string\n  invoice_date?: Date | string\n  due_date?: Date | string\n\n  // Additional information",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 169,
        "end": 213,
        "startLoc": {
          "line": 169,
          "column": 27,
          "position": 867
        },
        "endLoc": {
          "line": 213,
          "column": 26,
          "position": 1115
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 217,
        "end": 261,
        "startLoc": {
          "line": 217,
          "column": 29,
          "position": 1166
        },
        "endLoc": {
          "line": 261,
          "column": 24,
          "position": 1414
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "?: string\n}\n\nexport interface CalculateChargesRequest {\n  driver_id: string\n  charge_period: string // YYYY-MM\n}\n\nexport interface CalculateChargesResponse {\n  driver_id: string\n  charge_period: string\n  total_personal_miles: number\n  rate_per_mile: number\n  total_charge: number\n  trips_included: number\n  charge_breakdown: ChargeBreakdownItem[]\n}\n\nexport interface ChargeBreakdownItem {\n  trip_usage_id: string\n  trip_date: string\n  miles_personal: number\n  rate: number\n  charge: number\n}\n\n// =====================================================\n// Driver Usage Limits",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 242,
        "end": 269,
        "startLoc": {
          "line": 242,
          "column": 6,
          "position": 1291
        },
        "endLoc": {
          "line": 269,
          "column": 23,
          "position": 1422
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 319,
        "end": 346,
        "startLoc": {
          "line": 319,
          "column": 13,
          "position": 1772
        },
        "endLoc": {
          "line": 346,
          "column": 26,
          "position": 1903
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "}\n\n// =====================================================\n// Driver Usage Limits\n// =====================================================\n\nexport interface DriverUsageLimits {\n  driver_id: string\n  tenant_id: string\n\n  // Current month\n  current_month: {\n    period: string // YYYY-MM\n    personal_miles: number\n    limit?: number\n    percentage_used?: number\n    exceeds_limit: boolean\n  }\n\n  // Current year\n  current_year: {\n    year: number\n    personal_miles: number\n    limit?: number\n    percentage_used?: number\n    exceeds_limit: boolean\n  }\n\n  // Warnings\n  warnings: string[]\n\n  // Policy info\n  policy: {\n    allow_personal_use: boolean\n    require_approval: boolean\n    charge_personal_use: boolean\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 266,
        "end": 302,
        "startLoc": {
          "line": 266,
          "column": 1,
          "position": 1417
        },
        "endLoc": {
          "line": 302,
          "column": 2,
          "position": 1580
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 451,
        "end": 487,
        "startLoc": {
          "line": 451,
          "column": 1,
          "position": 2506
        },
        "endLoc": {
          "line": 487,
          "column": 15,
          "position": 2669
        }
      }
    },
    {
      "format": "typescript",
      "lines": 67,
      "fragment": "export interface MonthlyUsageSummary {\n  tenant_id: string\n  driver_id: string\n  month: string // YYYY-MM\n  total_trips: number\n  total_personal_miles: number\n  total_business_miles: number\n  total_miles: number\n  personal_trips: number\n  business_trips: number\n  mixed_trips: number\n  pending_approvals: number\n}\n\nexport interface DriverUsageReport {\n  driver_id: string\n  driver_name?: string\n  personal_miles: number\n  business_miles: number\n  total_miles: number\n  personal_percentage: number\n  charges_pending: number\n  charges_paid: number\n  limit_exceeded: boolean\n}\n\nexport interface ComplianceReport {\n  tenant_id: string\n  report_period: {\n    start: string\n    end: string\n  }\n  total_drivers: number\n  total_trips: number\n  business_miles: number\n  personal_miles: number\n  business_percentage: number\n  personal_percentage: number\n  drivers: DriverUsageReport[]\n  charges_billed: number\n  charges_collected: number\n}\n\n// =====================================================\n// Query Filters\n// =====================================================\n\nexport interface TripUsageFilters {\n  tenant_id?: string\n  driver_id?: string\n  vehicle_id?: string\n  usage_type?: UsageType\n  approval_status?: ApprovalStatus\n  start_date?: string\n  end_date?: string\n  month?: string // YYYY-MM\n  year?: number\n  limit?: number\n  offset?: number\n}\n\nexport interface ChargeFilters {\n  tenant_id?: string\n  driver_id?: string\n  charge_period?: string\n  charge_status?: ChargeStatus\n  start_date",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 309,
        "end": 375,
        "startLoc": {
          "line": 309,
          "column": 1,
          "position": 1592
        },
        "endLoc": {
          "line": 375,
          "column": 11,
          "position": 1965
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 543,
        "end": 609,
        "startLoc": {
          "line": 543,
          "column": 1,
          "position": 2951
        },
        "endLoc": {
          "line": 609,
          "column": 17,
          "position": 3324
        }
      }
    },
    {
      "format": "typescript",
      "lines": 44,
      "fragment": "limit?: number\n  offset?: number\n}\n\n// =====================================================\n// API Response Types\n// =====================================================\n\nexport interface ApiResponse<T> {\n  success: boolean\n  data?: T\n  error?: string\n  message?: string\n}\n\nexport interface PaginatedResponse<T> {\n  data: T[]\n  total: number\n  limit: number\n  offset: number\n  has_more: boolean\n}\n\n// =====================================================\n// Validation Helpers\n// =====================================================\n\nexport function isValidUsageType(type: string): type is UsageType {\n  return Object.values(UsageType).includes(type as UsageType)\n}\n\nexport function isValidApprovalStatus(status: string): status is ApprovalStatus {\n  return Object.values(ApprovalStatus).includes(status as ApprovalStatus)\n}\n\nexport function isValidChargeStatus(status: string): status is ChargeStatus {\n  return Object.values(ChargeStatus).includes(status as ChargeStatus)\n}\n\nexport function isValidApprovalWorkflow(workflow: string): workflow is ApprovalWorkflow {\n  return Object.values(ApprovalWorkflow).includes(workflow as ApprovalWorkflow)\n}\n\n// =====================================================",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 377,
        "end": 420,
        "startLoc": {
          "line": 377,
          "column": 3,
          "position": 1979
        },
        "endLoc": {
          "line": 420,
          "column": 57,
          "position": 2268
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 624,
        "end": 667,
        "startLoc": {
          "line": 624,
          "column": 3,
          "position": 3419
        },
        "endLoc": {
          "line": 667,
          "column": 7,
          "position": 3708
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": ")\n}\n\n// =====================================================\n// Business Logic Helpers\n// =====================================================\n\nexport function calculateMileageBreakdown(\n  total_miles: number,\n  usage_type: UsageType,\n  business_percentage?: number\n): { business_miles: number; personal_miles: number } {\n  switch (usage_type) {\n    case UsageType.BUSINESS:\n      return { business_miles: total_miles, personal_miles: 0 }\n\n    case UsageType.PERSONAL:\n      return { business_miles: 0, personal_miles: total_miles }\n\n    case UsageType.MIXED:\n      if (business_percentage === undefined) {\n        throw new Error('Business percentage required for mixed usage type'",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 417,
        "end": 438,
        "startLoc": {
          "line": 417,
          "column": 17,
          "position": 2263
        },
        "endLoc": {
          "line": 438,
          "column": 52,
          "position": 2414
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 676,
        "end": 697,
        "startLoc": {
          "line": 676,
          "column": 20,
          "position": 3832
        },
        "endLoc": {
          "line": 697,
          "column": 52,
          "position": 3983
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ")\n      }\n      const business_miles = Math.round(total_miles * (business_percentage / 100) * 100) / 100\n      const personal_miles = Math.round(total_miles * ((100 - business_percentage) / 100) * 100) / 100\n      return { business_miles, personal_miles }\n\n    default:\n      throw new Error(`Invalid usage type: ${usage_type}`)\n  }\n}\n\nexport function calculateCharge(miles: number, rate_per_mile: number): number {\n  return Math.round(miles * rate_per_mile * 100) / 100\n}\n\nexport function formatChargePeriod",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 438,
        "end": 453,
        "startLoc": {
          "line": 438,
          "column": 52,
          "position": 2415
        },
        "endLoc": {
          "line": 453,
          "column": 19,
          "position": 2579
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 697,
        "end": 712,
        "startLoc": {
          "line": 697,
          "column": 52,
          "position": 3984
        },
        "endLoc": {
          "line": 712,
          "column": 20,
          "position": 4148
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "* 100) / 100\n}\n\nexport function formatChargePeriod(date: Date): string {\n  return date.toISOString().slice(0, 7) // YYYY-MM\n}\n\nexport function getChargePeriodDates(period: string): { start: Date; end: Date } {\n  const [year, month] = period.split('-'",
      "tokens": 0,
      "firstFile": {
        "name": "src/types/trip-usage.ts",
        "start": 450,
        "end": 458,
        "startLoc": {
          "line": 450,
          "column": 2,
          "position": 2563
        },
        "endLoc": {
          "line": 458,
          "column": 4,
          "position": 2660
        }
      },
      "secondFile": {
        "name": "api/src/types/trip-usage.ts",
        "start": 720,
        "end": 728,
        "startLoc": {
          "line": 720,
          "column": 2,
          "position": 4252
        },
        "endLoc": {
          "line": 728,
          "column": 4,
          "position": 4349
        }
      }
    },
    {
      "format": "css",
      "lines": 6,
      "fragment": ": 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);\n  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);\n  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);\n  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);\n\n  /* Border Radius */",
      "tokens": 0,
      "firstFile": {
        "name": "src/styles/dashboard-layout.css",
        "start": 35,
        "end": 40,
        "startLoc": {
          "line": 35,
          "column": 14,
          "position": 281
        },
        "endLoc": {
          "line": 40,
          "column": 20,
          "position": 457
        }
      },
      "secondFile": {
        "name": "src/styles/design-tokens-responsive.css",
        "start": 282,
        "end": 286,
        "startLoc": {
          "line": 282,
          "column": 12,
          "position": 1948
        },
        "endLoc": {
          "line": 286,
          "column": 13,
          "position": 2123
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "if (context?.tags) {\n          Object.entries(context.tags).forEach(([key, value]) => {\n            scope.setTag(key, value);\n          });\n        }\n        if (context?.extra) {\n          scope.setExtras(DataSanitizer.scrubObject(context.extra));\n        }\n\n        this",
      "tokens": 0,
      "firstFile": {
        "name": "src/services/errorReporting.tsx",
        "start": 335,
        "end": 344,
        "startLoc": {
          "line": 335,
          "column": 9,
          "position": 2276
        },
        "endLoc": {
          "line": 344,
          "column": 5,
          "position": 2365
        }
      },
      "secondFile": {
        "name": "src/services/errorReporting.tsx",
        "start": 275,
        "end": 283,
        "startLoc": {
          "line": 275,
          "column": 9,
          "position": 1806
        },
        "endLoc": {
          "line": 283,
          "column": 3,
          "position": 1894
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "().nullable().optional(),\n  notes: z.string().nullable().optional(),\n  created_at: z.string(),\n  updated_at: z.string(),\n  // Extended fields\n  vehicle_vin: z.string().nullable().optional(),\n  driver_name",
      "tokens": 0,
      "firstFile": {
        "name": "src/schemas/api-responses.ts",
        "start": 141,
        "end": 147,
        "startLoc": {
          "line": 141,
          "column": 7,
          "position": 1886
        },
        "endLoc": {
          "line": 147,
          "column": 12,
          "position": 1962
        }
      },
      "secondFile": {
        "name": "src/schemas/api-responses.ts",
        "start": 109,
        "end": 115,
        "startLoc": {
          "line": 109,
          "column": 7,
          "position": 1486
        },
        "endLoc": {
          "line": 115,
          "column": 13,
          "position": 1562
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "().nullable().optional(),\n  notes: z.string().nullable().optional(),\n  created_at: z.string(),\n  updated_at: z.string(),\n  // Extended fields\n  vehicle_vin: z.string().nullable().optional(),\n  requester_name",
      "tokens": 0,
      "firstFile": {
        "name": "src/schemas/api-responses.ts",
        "start": 168,
        "end": 174,
        "startLoc": {
          "line": 168,
          "column": 5,
          "position": 2228
        },
        "endLoc": {
          "line": 174,
          "column": 15,
          "position": 2304
        }
      },
      "secondFile": {
        "name": "src/schemas/api-responses.ts",
        "start": 109,
        "end": 115,
        "startLoc": {
          "line": 109,
          "column": 7,
          "position": 1486
        },
        "endLoc": {
          "line": 115,
          "column": 13,
          "position": 1562
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "),\n  notes: z.string().nullable().optional(),\n  created_at: z.string(),\n  updated_at: z.string(),\n  // Extended fields\n  vehicle_vin: z.string().nullable().optional(),\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/schemas/api-responses.ts",
        "start": 236,
        "end": 242,
        "startLoc": {
          "line": 236,
          "column": 6,
          "position": 3207
        },
        "endLoc": {
          "line": 242,
          "column": 2,
          "position": 3273
        }
      },
      "secondFile": {
        "name": "src/schemas/api-responses.ts",
        "start": 109,
        "end": 115,
        "startLoc": {
          "line": 109,
          "column": 2,
          "position": 1495
        },
        "endLoc": {
          "line": 115,
          "column": 13,
          "position": 1562
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "const userRoles = roles.filter((r) => user.roleIds.includes(r.id))\n  const permissions = new Set<Permission>()\n\n  userRoles.forEach((role) => {\n    role.permissions.forEach((p) => permissions.add(p))\n  })\n\n  return Array",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/user-utils.ts",
        "start": 73,
        "end": 80,
        "startLoc": {
          "line": 73,
          "column": 3,
          "position": 477
        },
        "endLoc": {
          "line": 80,
          "column": 6,
          "position": 564
        }
      },
      "secondFile": {
        "name": "src/lib/user-utils.ts",
        "start": 22,
        "end": 29,
        "startLoc": {
          "line": 22,
          "column": 3,
          "position": 89
        },
        "endLoc": {
          "line": 29,
          "column": 12,
          "position": 176
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ".map(reservation => ({\n            id: reservation.id,\n            type: 'reservation' as const,\n            start: new Date(reservation.start_time),\n            end: new Date(reservation.end_time),\n            status: reservation.status,\n            data: reservation,\n          })),\n        ...query.data?.maintenance\n          .filter",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useVehicleSchedule.ts",
        "start": 209,
        "end": 218,
        "startLoc": {
          "line": 209,
          "column": 11,
          "position": 1860
        },
        "endLoc": {
          "line": 218,
          "column": 7,
          "position": 1951
        }
      },
      "secondFile": {
        "name": "src/hooks/useVehicleSchedule.ts",
        "start": 177,
        "end": 185,
        "startLoc": {
          "line": 177,
          "column": 13,
          "position": 1546
        },
        "endLoc": {
          "line": 185,
          "column": 4,
          "position": 1635
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ".map(appointment => ({\n            id: appointment.id,\n            type: 'maintenance' as const,\n            start: new Date(appointment.scheduled_start),\n            end: new Date(appointment.scheduled_end),\n            status: appointment.status,\n            data: appointment,\n          })),\n      ]\n\n      return",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useVehicleSchedule.ts",
        "start": 223,
        "end": 233,
        "startLoc": {
          "line": 223,
          "column": 11,
          "position": 1993
        },
        "endLoc": {
          "line": 233,
          "column": 7,
          "position": 2078
        }
      },
      "secondFile": {
        "name": "src/hooks/useVehicleSchedule.ts",
        "start": 185,
        "end": 195,
        "startLoc": {
          "line": 185,
          "column": 12,
          "position": 1634
        },
        "endLoc": {
          "line": 195,
          "column": 22,
          "position": 1719
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "(vehicleId, partId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"vehicle-inventory\", vehicleId] })\n      queryClient.invalidateQueries({ queryKey: [\"inventory\", \"parts\"] })\n    },\n    onError: (error) => {\n      console.error(\"Failed to remove part:\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useVehicleInventory.ts",
        "start": 352,
        "end": 358,
        "startLoc": {
          "line": 352,
          "column": 22,
          "position": 2381
        },
        "endLoc": {
          "line": 358,
          "column": 25,
          "position": 2461
        }
      },
      "secondFile": {
        "name": "src/hooks/useVehicleInventory.ts",
        "start": 339,
        "end": 345,
        "startLoc": {
          "line": 339,
          "column": 20,
          "position": 2251
        },
        "endLoc": {
          "line": 345,
          "column": 25,
          "position": 2331
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ": (usageHistory || [])\n      .filter(h => {\n        const thirtyDaysAgo = new Date()\n        thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30)\n        return new Date(h.date) >= thirtyDaysAgo\n      })\n      .reduce((sum, h) => sum + (",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useVehicleInventory.ts",
        "start": 390,
        "end": 396,
        "startLoc": {
          "line": 390,
          "column": 15,
          "position": 2849
        },
        "endLoc": {
          "line": 396,
          "column": 2,
          "position": 2936
        }
      },
      "secondFile": {
        "name": "src/hooks/useVehicleInventory.ts",
        "start": 383,
        "end": 389,
        "startLoc": {
          "line": 383,
          "column": 16,
          "position": 2746
        },
        "endLoc": {
          "line": 389,
          "column": 5,
          "position": 2833
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "fn();\n        recordMetric(name, performance.now() - start);\n        return result;\n      } catch (error) {\n        recordMetric(`${name}_error`, performance.now() - start);\n        throw error;\n      }\n    },\n    [recordMetric]\n  );\n\n  return",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useTelemetry.ts",
        "start": 455,
        "end": 466,
        "startLoc": {
          "line": 455,
          "column": 2,
          "position": 3230
        },
        "endLoc": {
          "line": 466,
          "column": 7,
          "position": 3316
        }
      },
      "secondFile": {
        "name": "src/hooks/useTelemetry.ts",
        "start": 440,
        "end": 451,
        "startLoc": {
          "line": 440,
          "column": 2,
          "position": 3079
        },
        "endLoc": {
          "line": 451,
          "column": 6,
          "position": 3165
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ", (message: any) => {\n      if (message.data?.teamId === teamId && message.data?.channelId === channelId) {\n        queryClient.setQueryData(\n          teamsKeys.messages(teamId, channelId),\n          (old: TeamsMessage[] = []) =>\n            old",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useTeams.ts",
        "start": 128,
        "end": 133,
        "startLoc": {
          "line": 128,
          "column": 24,
          "position": 1167
        },
        "endLoc": {
          "line": 133,
          "column": 4,
          "position": 1247
        }
      },
      "secondFile": {
        "name": "src/hooks/useTeams.ts",
        "start": 119,
        "end": 123,
        "startLoc": {
          "line": 119,
          "column": 20,
          "position": 1054
        },
        "endLoc": {
          "line": 123,
          "column": 2,
          "position": 1133
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ", (message: any) => {\n      if (message.data?.teamId === teamId && message.data?.channelId === channelId) {\n        queryClient.setQueryData(\n          teamsKeys.messages(teamId, channelId),\n          (old: TeamsMessage[] = []) =>\n            old.filter",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useTeams.ts",
        "start": 138,
        "end": 143,
        "startLoc": {
          "line": 138,
          "column": 24,
          "position": 1305
        },
        "endLoc": {
          "line": 143,
          "column": 7,
          "position": 1387
        }
      },
      "secondFile": {
        "name": "src/hooks/useTeams.ts",
        "start": 119,
        "end": 133,
        "startLoc": {
          "line": 119,
          "column": 20,
          "position": 1054
        },
        "endLoc": {
          "line": 133,
          "column": 4,
          "position": 1249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "export interface ValidationRule {\n  required?: boolean;\n  minLength?: number;\n  maxLength?: number;\n  pattern?: RegExp;\n  email?: boolean;\n  custom?: (value: any) => string | undefined;\n}\n\nexport interface ValidationRules {\n  [field: string]: ValidationRule;\n}\n\nexport interface FormErrors {\n  [field: string]: string;\n}\n\nexport const",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useFormValidation.ts",
        "start": 3,
        "end": 20,
        "startLoc": {
          "line": 3,
          "column": 1,
          "position": 17
        },
        "endLoc": {
          "line": 20,
          "column": 6,
          "position": 137
        }
      },
      "secondFile": {
        "name": "src/types/ux-components.d.ts",
        "start": 73,
        "end": 90,
        "startLoc": {
          "line": 73,
          "column": 1,
          "position": 377
        },
        "endLoc": {
          "line": 90,
          "column": 10,
          "position": 497
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ") {\n        setEndpoints(prev => {\n          const updated = new Map(prev)\n          const current = updated.get(endpointId)\n          if (current) {\n            updated.set(endpointId, {\n              ...current,\n              status: 'unknown',\n              lastChecked: new Date(),\n              errorMessage: 'Not tested (writes/deletes)'",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useEndpointHealth.ts",
        "start": 119,
        "end": 128,
        "startLoc": {
          "line": 119,
          "column": 7,
          "position": 1053
        },
        "endLoc": {
          "line": 128,
          "column": 30,
          "position": 1140
        }
      },
      "secondFile": {
        "name": "src/hooks/useEndpointHealth.ts",
        "start": 87,
        "end": 96,
        "startLoc": {
          "line": 87,
          "column": 2,
          "position": 786
        },
        "endLoc": {
          "line": 96,
          "column": 22,
          "position": 873
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "{\n  id: number\n  name: string\n  email: string\n  phone: string\n  licenseNumber: string\n  licenseExpiry: Date\n  licenseClass: string\n  status: 'active' | 'inactive' | 'suspended'\n  photoUrl?: string\n  azureAdId?: string\n  assignedVehicleId?: number\n  rating: number\n  totalTrips: number\n  totalMiles: number\n  safetyScore: number\n  hireDate: Date\n}\n\n// Create all CRUD hooks using the shared factory",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useDrivers.ts",
        "start": 3,
        "end": 22,
        "startLoc": {
          "line": 3,
          "column": 2,
          "position": 19
        },
        "endLoc": {
          "line": 22,
          "column": 50,
          "position": 131
        }
      },
      "secondFile": {
        "name": "api/src/emulators/DriverEmulator.ts",
        "start": 9,
        "end": 28,
        "startLoc": {
          "line": 9,
          "column": 2,
          "position": 22
        },
        "endLoc": {
          "line": 28,
          "column": 6,
          "position": 134
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ";\n\n// Query keys for consistent cache management\nexport const queryKeys = {\n  vehicles: ['vehicles'] as const,\n  vehicle: (id: string) => ['vehicles', id] as const,\n  drivers: ['drivers'] as const,\n  driver: (id: string) => ['drivers', id] as const,\n  workOrders: ['workOrders'] as const,\n  workOrder: (id: string) => ['workOrders', id] as const,\n  fuelTransactions: ['fuelTransactions'] as const,\n  maintenanceSchedules: ['maintenanceSchedules'] as const,\n  parts: ['parts'] as const,\n  part: (id: string) => ['parts', id] as const,\n  vendors: ['vendors'] as const,\n  vendor: (id: string) => ['vendors', id] as const,\n  purchaseOrders: ['purchaseOrders'] as const,\n  purchaseOrder: (id: string) => ['purchaseOrders', id] as const,\n  invoices: ['invoices'] as const,\n  invoice: (id: string) => ['invoices', id] as const,\n  facilities: ['facilities'] as const,\n  facility: (id: string) => ['facilities', id] as const,\n};\n\n// ============================================================================\n// Vehicle Queries\n// ============================================================================\n\nexport function useVehicles()",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useDataQueries.ts",
        "start": 19,
        "end": 47,
        "startLoc": {
          "line": 19,
          "column": 14,
          "position": 86
        },
        "endLoc": {
          "line": 47,
          "column": 2,
          "position": 448
        }
      },
      "secondFile": {
        "name": "src/hooks/useDataQueriesEnhanced.ts",
        "start": 31,
        "end": 60,
        "startLoc": {
          "line": 31,
          "column": 30,
          "position": 107
        },
        "endLoc": {
          "line": 60,
          "column": 8,
          "position": 471
        }
      }
    },
    {
      "format": "typescript",
      "lines": 35,
      "fragment": ",\n  });\n}\n\n// ============================================================================\n// Prefetch Utilities\n// ============================================================================\n\nexport function usePrefetchVehicle() {\n  const queryClient = useQueryClient();\n\n  return (id: string) => {\n    queryClient.prefetchQuery({\n      queryKey: queryKeys.vehicle(id),\n      queryFn: async () => {\n        const response = await apiClient.get<Vehicle>(`/vehicles/${id}`);\n        return response.data;\n      },\n    });\n  };\n}\n\nexport function usePrefetchDriver() {\n  const queryClient = useQueryClient();\n\n  return (id: string) => {\n    queryClient.prefetchQuery({\n      queryKey: queryKeys.driver(id),\n      queryFn: async () => {\n        const response = await apiClient.get<Driver>(`/drivers/${id}`);\n        return response.data;\n      },\n    });\n  };\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useDataQueries.ts",
        "start": 303,
        "end": 337,
        "startLoc": {
          "line": 303,
          "column": 5,
          "position": 2747
        },
        "endLoc": {
          "line": 337,
          "column": 2,
          "position": 2995
        }
      },
      "secondFile": {
        "name": "src/hooks/useDataQueriesEnhanced.ts",
        "start": 442,
        "end": 477,
        "startLoc": {
          "line": 442,
          "column": 8,
          "position": 3458
        },
        "endLoc": {
          "line": 477,
          "column": 2,
          "position": 3708
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "const data = await response.json();\n      const userData: User = {\n        id: data.user.id,\n        email: data.user.email,\n        firstName: data.user.first_name,\n        lastName: data.user.last_name,\n        role: data.user.role,\n        avatar: data.user.avatar,\n        token: '', // SECURITY: No token stored in memory/localStorage",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/useAuth.ts",
        "start": 105,
        "end": 113,
        "startLoc": {
          "line": 105,
          "column": 7,
          "position": 898
        },
        "endLoc": {
          "line": 113,
          "column": 52,
          "position": 998
        }
      },
      "secondFile": {
        "name": "src/hooks/useAuth.ts",
        "start": 65,
        "end": 73,
        "startLoc": {
          "line": 65,
          "column": 11,
          "position": 569
        },
        "endLoc": {
          "line": 73,
          "column": 36,
          "position": 669
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ");\n      if (!res.ok) throw new Error('Network response was not ok');\n      return res.json();\n    },\n    staleTime: 5 * 60 * 1000,\n    cacheTime: 10 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n}\n\nexport function useMaintenance",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/use-api.ts",
        "start": 338,
        "end": 348,
        "startLoc": {
          "line": 338,
          "column": 2,
          "position": 2485
        },
        "endLoc": {
          "line": 348,
          "column": 15,
          "position": 2571
        }
      },
      "secondFile": {
        "name": "src/hooks/use-api.ts",
        "start": 323,
        "end": 333,
        "startLoc": {
          "line": 323,
          "column": 2,
          "position": 2297
        },
        "endLoc": {
          "line": 333,
          "column": 11,
          "position": 2383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "${params}`);\n      if (!res.ok) throw new Error('Network response was not ok');\n      return res.json();\n    },\n    staleTime: 5 * 60 * 1000,\n    cacheTime: 10 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n}\n\nexport function useWorkOrders",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/use-api.ts",
        "start": 353,
        "end": 363,
        "startLoc": {
          "line": 353,
          "column": 19,
          "position": 2681
        },
        "endLoc": {
          "line": 363,
          "column": 14,
          "position": 2771
        }
      },
      "secondFile": {
        "name": "src/hooks/use-api.ts",
        "start": 338,
        "end": 333,
        "startLoc": {
          "line": 338,
          "column": 15,
          "position": 2481
        },
        "endLoc": {
          "line": 333,
          "column": 11,
          "position": 2383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "${params}`);\n      if (!res.ok) throw new Error('Network response was not ok');\n      return res.json();\n    },\n    staleTime: 5 * 60 * 1000,\n    cacheTime: 10 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n}\n\nexport function useFuelTransactions",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/use-api.ts",
        "start": 368,
        "end": 378,
        "startLoc": {
          "line": 368,
          "column": 19,
          "position": 2869
        },
        "endLoc": {
          "line": 378,
          "column": 20,
          "position": 2959
        }
      },
      "secondFile": {
        "name": "src/hooks/use-api.ts",
        "start": 338,
        "end": 333,
        "startLoc": {
          "line": 338,
          "column": 15,
          "position": 2481
        },
        "endLoc": {
          "line": 333,
          "column": 11,
          "position": 2383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "${params}`);\n      if (!res.ok) throw new Error('Network response was not ok');\n      return res.json();\n    },\n    staleTime: 5 * 60 * 1000,\n    cacheTime: 10 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n}\n\nexport function useFacilities",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/use-api.ts",
        "start": 383,
        "end": 393,
        "startLoc": {
          "line": 383,
          "column": 25,
          "position": 3057
        },
        "endLoc": {
          "line": 393,
          "column": 14,
          "position": 3147
        }
      },
      "secondFile": {
        "name": "src/hooks/use-api.ts",
        "start": 338,
        "end": 333,
        "startLoc": {
          "line": 338,
          "column": 15,
          "position": 2481
        },
        "endLoc": {
          "line": 333,
          "column": 11,
          "position": 2383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "${params}`);\n      if (!res.ok) throw new Error('Network response was not ok');\n      return res.json();\n    },\n    staleTime: 5 * 60 * 1000,\n    cacheTime: 10 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n}\n\nexport function useMaintenanceSchedules",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/use-api.ts",
        "start": 398,
        "end": 408,
        "startLoc": {
          "line": 398,
          "column": 18,
          "position": 3245
        },
        "endLoc": {
          "line": 408,
          "column": 24,
          "position": 3335
        }
      },
      "secondFile": {
        "name": "src/hooks/use-api.ts",
        "start": 338,
        "end": 333,
        "startLoc": {
          "line": 338,
          "column": 15,
          "position": 2481
        },
        "endLoc": {
          "line": 333,
          "column": 11,
          "position": 2383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "${params}`);\n      if (!res.ok) throw new Error('Network response was not ok');\n      return res.json();\n    },\n    staleTime: 5 * 60 * 1000,\n    cacheTime: 10 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n}\n\nexport function useRoutes",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/use-api.ts",
        "start": 413,
        "end": 423,
        "startLoc": {
          "line": 413,
          "column": 29,
          "position": 3433
        },
        "endLoc": {
          "line": 423,
          "column": 10,
          "position": 3523
        }
      },
      "secondFile": {
        "name": "src/hooks/use-api.ts",
        "start": 338,
        "end": 333,
        "startLoc": {
          "line": 338,
          "column": 15,
          "position": 2481
        },
        "endLoc": {
          "line": 333,
          "column": 11,
          "position": 2383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "${params}`);\n      if (!res.ok) throw new Error('Network response was not ok');\n      return res.json();\n    },\n    staleTime: 5 * 60 * 1000,\n    cacheTime: 10 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n}\n\nexport function useVehicleMutations",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/use-api.ts",
        "start": 428,
        "end": 438,
        "startLoc": {
          "line": 428,
          "column": 14,
          "position": 3621
        },
        "endLoc": {
          "line": 438,
          "column": 20,
          "position": 3711
        }
      },
      "secondFile": {
        "name": "src/hooks/use-api.ts",
        "start": 338,
        "end": 333,
        "startLoc": {
          "line": 338,
          "column": 15,
          "position": 2481
        },
        "endLoc": {
          "line": 333,
          "column": 11,
          "position": 2383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ";\nimport { VehicleRepository } from '../repositories/VehicleRepository';\nimport { DriverRepository } from '../repositories/DriverRepository';\nimport { VendorRepository } from '../repositories/VendorRepository';\nimport { InspectionRepository } from '../repositories/InspectionRepository';\nimport { MaintenanceRepository } from '../repositories/MaintenanceRepository';\nimport { WorkOrderRepository } from '../repositories/WorkOrderRepository';\nimport { Logger } from '../services/Logger';\n\n/**\n * Type-safe DI container interface extending AwilixContainer.\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/container/DIContainer.ts",
        "start": 1,
        "end": 12,
        "startLoc": {
          "line": 1,
          "column": 9,
          "position": 11
        },
        "endLoc": {
          "line": 12,
          "column": 4,
          "position": 105
        }
      },
      "secondFile": {
        "name": "src/container/index.ts",
        "start": 2,
        "end": 14,
        "startLoc": {
          "line": 2,
          "column": 16,
          "position": 30
        },
        "endLoc": {
          "line": 14,
          "column": 4,
          "position": 124
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ") => {\n    try {\n      const response = await fetch(`/api/video/events/${eventId}/review`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          coachingRequired",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 158,
        "end": 167,
        "startLoc": {
          "line": 158,
          "column": 7,
          "position": 1393
        },
        "endLoc": {
          "line": 167,
          "column": 17,
          "position": 1474
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 135,
        "end": 144,
        "startLoc": {
          "line": 135,
          "column": 6,
          "position": 1216
        },
        "endLoc": {
          "line": 144,
          "column": 9,
          "position": 1297
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": ">\n                  <SelectItem value=\"sedan\">Sedan</SelectItem>\n                  <SelectItem value=\"suv\">SUV</SelectItem>\n                  <SelectItem value=\"truck\">Truck</SelectItem>\n                  <SelectItem value=\"van\">Van</SelectItem>\n                  <SelectItem value=\"coupe",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/VehicleModelLibrary.tsx",
        "start": 181,
        "end": 186,
        "startLoc": {
          "line": 181,
          "column": 11,
          "position": 1667
        },
        "endLoc": {
          "line": 186,
          "column": 6,
          "position": 1736
        }
      },
      "secondFile": {
        "name": "src/components/modules/tools/MileageReimbursement.tsx",
        "start": 209,
        "end": 214,
        "startLoc": {
          "line": 209,
          "column": 14,
          "position": 2031
        },
        "endLoc": {
          "line": 214,
          "column": 9,
          "position": 2100
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "}\n      ]\n\n      const matches: SearchMatch[] = []\n      let score = 0\n\n      fields.forEach(({ field, value }) => {\n        if (value && value.toLowerCase().includes(searchTerm)) {\n          matches.push({ field, value, highlight: highlightMatch(value, searchTerm) })\n          score += value.toLowerCase() === searchTerm ? 100 : 50\n        }\n      })\n\n      if (matches.length > 0) {\n        searchResults.push({\n          type: 'work-order'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/UniversalSearch.tsx",
        "start": 205,
        "end": 220,
        "startLoc": {
          "line": 205,
          "column": 2,
          "position": 1804
        },
        "endLoc": {
          "line": 220,
          "column": 13,
          "position": 1961
        }
      },
      "secondFile": {
        "name": "src/components/UniversalSearch.tsx",
        "start": 172,
        "end": 187,
        "startLoc": {
          "line": 172,
          "column": 2,
          "position": 1485
        },
        "endLoc": {
          "line": 187,
          "column": 9,
          "position": 1642
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "}\n      ]\n\n      const matches: SearchMatch[] = []\n      let score = 0\n\n      fields.forEach(({ field, value }) => {\n        if (value && value.toLowerCase().includes(searchTerm)) {\n          matches.push({ field, value, highlight: highlightMatch(value, searchTerm) })\n          score += value.toLowerCase() === searchTerm ? 100 : 50\n        }\n      })\n\n      if (matches.length > 0) {\n        searchResults.push({\n          type: 'route'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/UniversalSearch.tsx",
        "start": 237,
        "end": 252,
        "startLoc": {
          "line": 237,
          "column": 2,
          "position": 2142
        },
        "endLoc": {
          "line": 252,
          "column": 8,
          "position": 2299
        }
      },
      "secondFile": {
        "name": "src/components/UniversalSearch.tsx",
        "start": 172,
        "end": 187,
        "startLoc": {
          "line": 172,
          "column": 2,
          "position": 1485
        },
        "endLoc": {
          "line": 187,
          "column": 9,
          "position": 1642
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ": Story = {\n  args: {\n    vehicles: generateMockVehicles(10),\n    facilities: generateMockFacilities(5),\n    cameras: generateMockCameras(8),\n    showVehicles: true,\n    showFacilities: true,\n    showCameras: true,\n    center: [30.4383, -84.2807],\n    zoom: 13,\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/UniversalMap.stories.tsx",
        "start": 288,
        "end": 298,
        "startLoc": {
          "line": 288,
          "column": 13,
          "position": 1803
        },
        "endLoc": {
          "line": 298,
          "column": 2,
          "position": 1889
        }
      },
      "secondFile": {
        "name": "src/components/UniversalMap.stories.tsx",
        "start": 101,
        "end": 111,
        "startLoc": {
          "line": 101,
          "column": 8,
          "position": 595
        },
        "endLoc": {
          "line": 111,
          "column": 17,
          "position": 681
        }
      }
    },
    {
      "format": "javascript",
      "lines": 33,
      "fragment": "={(error) => handleMapError(error)}>\n      <div className=\"relative w-full h-full\">\n        {loadingState === \"loading\" && <MapLoadingOverlay provider={provider} />}\n\n        {provider === \"google\" ? (\n          <GoogleMap\n            {...commonMapProps}\n            key=\"google-map\"\n            onError={handleMapError}\n            onReady={handleMapReady}\n          />\n        ) : (\n          <LeafletMap\n            {...commonMapProps}\n            key=\"leaflet-map\"\n            onError={handleMapError}\n            onReady={handleMapReady}\n          />\n        )}\n\n        {shouldCluster && <ClusteringBadge markerCount={totalMarkerCount} />}\n        <ProviderBadge provider={provider} />\n\n        {showPerformanceMonitor && (\n          <PerformanceMonitor\n            componentName={`UniversalMap (${provider})`}\n            position=\"bottom-right\"\n            defaultExpanded={false}\n            metrics={perf.metrics}\n            showFPS={true}\n            showMemory={true}\n            showWebVitals={true}\n            detectMemoryLeaks={true}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/UniversalMap.refactored.tsx",
        "start": 165,
        "end": 197,
        "startLoc": {
          "line": 165,
          "column": 8,
          "position": 1444
        },
        "endLoc": {
          "line": 197,
          "column": 2,
          "position": 1670
        }
      },
      "secondFile": {
        "name": "src/components/UniversalMap.tsx",
        "start": 166,
        "end": 198,
        "startLoc": {
          "line": 166,
          "column": 8,
          "position": 1428
        },
        "endLoc": {
          "line": 198,
          "column": 2,
          "position": 1654
        }
      }
    },
    {
      "format": "tsx",
      "lines": 189,
      "fragment": "const DEFAULT_CLUSTER_THRESHOLD = 100\n\n/**\n * UniversalMap - Robust dual map provider system with error handling\n *\n * Features:\n * - Automatic provider selection based on API key availability\n * - Fallback from Google Maps to Leaflet if errors occur\n * - Error boundary with user-friendly error messages\n * - Loading states and proper cleanup\n * - React 19 compatible\n * - TypeScript strict mode compatible\n * - Comprehensive prop validation\n * - Performance optimizations with marker clustering\n * - Proper ref management and memory cleanup\n */\nexport function UniversalMap(props: UniversalMapProps) {\n  const {\n    vehicles = [],\n    facilities = [],\n    cameras = [],\n    showVehicles = true,\n    showFacilities = true,\n    showCameras = true,\n    showRoutes = false,\n    center = DEFAULT_CENTER,\n    zoom = DEFAULT_ZOOM,\n    className = \"\",\n    onMapReady,\n    onMapError,\n    forceProvider,\n    enableClustering = true,\n    clusterThreshold = DEFAULT_CLUSTER_THRESHOLD,\n    enablePerformanceMonitoring = import.meta.env.DEV,\n    showPerformanceMonitor = import.meta.env.DEV,\n  } = props\n\n  const [loadingState, setLoadingState] = useState<MapLoadingState>(\"idle\")\n  const { provider, setProvider, fallbackAttempted, setFallbackAttempted } = useMapProvider(forceProvider)\n  const mountedRef = useRef(true)\n\n  const perf = usePerformanceMonitor(\"UniversalMap\", {\n    enabled: enablePerformanceMonitoring,\n    reportInterval: 10000,\n    slowRenderThreshold: 50,\n    highMemoryThreshold: 150,\n  })\n\n  const validatedCenter = useMemo(() => {\n    if (isValidCoordinates(center)) {\n      return center\n    }\n    const dynamicCenter = calculateDynamicCenter(vehicles, facilities, cameras)\n    if (process.env.NODE_ENV === 'development' && (vehicles.length > 0 || facilities.length > 0 || cameras.length > 0)) {\n      console.log(\"Map center calculated from markers:\", dynamicCenter)\n    }\n    return dynamicCenter\n  }, [center, vehicles, facilities, cameras])\n\n  const validatedZoom = useMemo(() => {\n    const zoomValue = typeof zoom === \"number\" && !isNaN(zoom) ? zoom : DEFAULT_ZOOM\n    return Math.max(1, Math.min(20, zoomValue))\n  }, [zoom])\n\n  const totalMarkerCount = useMemo(() => {\n    let count = 0\n    if (showVehicles) count += vehicles.length\n    if (showFacilities) count += facilities.length\n    if (showCameras) count += cameras.length\n    return count\n  }, [vehicles.length, facilities.length, cameras.length, showVehicles, showFacilities, showCameras])\n\n  const shouldCluster = useMemo(() => {\n    return enableClustering && totalMarkerCount > clusterThreshold\n  }, [enableClustering, totalMarkerCount, clusterThreshold])\n\n  const handleMapError = useCallback(\n    (error: Error) => {\n      console.error(`Map provider \"${provider}\" encountered error:`, error)\n      if (!mountedRef.current) return\n\n      setLoadingState(\"error\")\n      onMapError?.(error, provider)\n\n      if (provider === \"google\" && !fallbackAttempted) {\n        console.warn(\"Google Maps failed, falling back to Leaflet...\")\n        setFallbackAttempted(true)\n        setProvider(\"leaflet\")\n        setLoadingState(\"loading\")\n      }\n    },\n    [provider, fallbackAttempted, onMapError, setProvider, setFallbackAttempted]\n  )\n\n  const handleMapReady = useCallback(() => {\n    if (!mountedRef.current) return\n\n    const initTime = performance.now()\n    perf.recordMetric(\"timeToInteractive\", initTime, {\n      provider,\n      markerCount: totalMarkerCount,\n      clustering: shouldCluster,\n    })\n\n    setLoadingState(\"ready\")\n    onMapReady?.(provider)\n\n    if (import.meta.env.DEV && totalMarkerCount > 0) {\n      const suggestions = getMarkerOptimizationSuggestions(totalMarkerCount)\n      if (suggestions.length > 0) {\n        console.log(\"\\n Performance Optimization Suggestions:\")\n        suggestions.forEach((s) => {\n          console.log(`  ${s.priority === \"high\" ? \"\" : s.priority === \"medium\" ? \"\" : \"\"} ${s.message}`)\n          console.log(`     Impact: ${s.impact} | Effort: ${s.effort}`)\n        })\n      }\n    }\n  }, [provider, onMapReady, perf, totalMarkerCount, shouldCluster])\n\n  useEffect(() => {\n    mountedRef.current = true\n    const initStart = perf.startMetric(\"mapInit\")\n    setLoadingState(\"loading\")\n\n    return () => {\n      mountedRef.current = false\n      perf.recordMetric(\"componentLifetime\", Date.now() - initStart)\n    }\n  }, [])\n\n  useEffect(() => {\n    setLoadingState(\"loading\")\n  }, [provider])\n\n  const commonMapProps = {\n    vehicles,\n    facilities,\n    cameras,\n    showVehicles,\n    showFacilities,\n    showCameras,\n    showRoutes,\n    center: validatedCenter,\n    zoom: validatedZoom,\n    className,\n  }\n\n  return (\n    <MapErrorBoundary onError={(error) => handleMapError(error)}>\n      <div className=\"relative w-full h-full\">\n        {loadingState === \"loading\" && <MapLoadingOverlay provider={provider} />}\n\n        {provider === \"google\" ? (\n          <GoogleMap\n            {...commonMapProps}\n            key=\"google-map\"\n            onError={handleMapError}\n            onReady={handleMapReady}\n          />\n        ) : (\n          <LeafletMap\n            {...commonMapProps}\n            key=\"leaflet-map\"\n            onError={handleMapError}\n            onReady={handleMapReady}\n          />\n        )}\n\n        {shouldCluster && <ClusteringBadge markerCount={totalMarkerCount} />}\n        <ProviderBadge provider={provider} />\n\n        {showPerformanceMonitor && (\n          <PerformanceMonitor\n            componentName={`UniversalMap (${provider})`}\n            position=\"bottom-right\"\n            defaultExpanded={false}\n            metrics={perf.metrics}\n            showFPS={true}\n            showMemory={true}\n            showWebVitals={true}\n            detectMemoryLeaks={true}\n          />\n        )}\n      </div>\n    </MapErrorBoundary>\n  )\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/UniversalMap.refactored.tsx",
        "start": 17,
        "end": 205,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 208
        },
        "endLoc": {
          "line": 205,
          "column": 7,
          "position": 1694
        }
      },
      "secondFile": {
        "name": "src/components/UniversalMap.tsx",
        "start": 18,
        "end": 206,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 192
        },
        "endLoc": {
          "line": 206,
          "column": 27,
          "position": 1678
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ")\n  }, [])\n\n  // ==================== Utility Functions ====================\n\n  /**\n   * Format duration for display\n   */\n  const formatDuration = useCallback((minutes: number): string => {\n    const hours = Math.floor(minutes / 60)\n    const mins = Math.round(minutes % 60)\n    return hours > 0 ? `${hours}h ${mins}m` : `${mins}m`\n  }, [])\n\n  /**\n   * Get optimization score color\n   */\n  const getScoreColor",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/RouteOptimizer.tsx",
        "start": 430,
        "end": 447,
        "startLoc": {
          "line": 430,
          "column": 5,
          "position": 3451
        },
        "endLoc": {
          "line": 447,
          "column": 14,
          "position": 3572
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/AdvancedRouteOptimization.tsx",
        "start": 391,
        "end": 408,
        "startLoc": {
          "line": 391,
          "column": 2,
          "position": 2941
        },
        "endLoc": {
          "line": 408,
          "column": 21,
          "position": 3062
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"h-8 w-8 text-blue-500\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Total",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/RouteOptimizer.tsx",
        "start": 665,
        "end": 674,
        "startLoc": {
          "line": 665,
          "column": 6,
          "position": 5420
        },
        "endLoc": {
          "line": 674,
          "column": 6,
          "position": 5487
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 230,
        "end": 239,
        "startLoc": {
          "line": 230,
          "column": 6,
          "position": 2114
        },
        "endLoc": {
          "line": 239,
          "column": 9,
          "position": 2181
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"h-8 w-8 text-green-500\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Total",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/RouteOptimizer.tsx",
        "start": 677,
        "end": 686,
        "startLoc": {
          "line": 677,
          "column": 6,
          "position": 5524
        },
        "endLoc": {
          "line": 686,
          "column": 6,
          "position": 5591
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 278,
        "end": 287,
        "startLoc": {
          "line": 278,
          "column": 12,
          "position": 2516
        },
        "endLoc": {
          "line": 287,
          "column": 8,
          "position": 2583
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"h-8 w-8 text-orange-500\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Estimated",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/RouteOptimizer.tsx",
        "start": 689,
        "end": 698,
        "startLoc": {
          "line": 689,
          "column": 11,
          "position": 5631
        },
        "endLoc": {
          "line": 698,
          "column": 10,
          "position": 5698
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 266,
        "end": 275,
        "startLoc": {
          "line": 266,
          "column": 6,
          "position": 2415
        },
        "endLoc": {
          "line": 275,
          "column": 8,
          "position": 2482
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n            </CardHeader>\n            <CardContent>\n              {mapError ? (\n                <Alert variant=\"destructive\">\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertDescription>{mapError}</AlertDescription>\n                </Alert>\n              ) : (\n                <div className=\"h-96 rounded-lg overflow-hidden border",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/RouteOptimizer.tsx",
        "start": 749,
        "end": 758,
        "startLoc": {
          "line": 749,
          "column": 10,
          "position": 6167
        },
        "endLoc": {
          "line": 758,
          "column": 39,
          "position": 6240
        }
      },
      "secondFile": {
        "name": "src/components/modules/operations/AdvancedRouteOptimization.tsx",
        "start": 533,
        "end": 542,
        "startLoc": {
          "line": 533,
          "column": 16,
          "position": 4158
        },
        "endLoc": {
          "line": 542,
          "column": 44,
          "position": 4231
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "el.textContent = icon\n\n    el.addEventListener(\"mouseenter\", () => { el.style.transform = \"scale(1.2)\" })\n    el.addEventListener(\"mouseleave\", () => { el.style.transform = \"scale(1)\" })\n\n    return el\n  }, [])\n\n  /**\n   * Creates a styled marker element for a traffic camera\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/MapboxMap.tsx",
        "start": 432,
        "end": 442,
        "startLoc": {
          "line": 432,
          "column": 5,
          "position": 2400
        },
        "endLoc": {
          "line": 442,
          "column": 6,
          "position": 2481
        }
      },
      "secondFile": {
        "name": "src/components/MapboxMap.tsx",
        "start": 395,
        "end": 405,
        "startLoc": {
          "line": 395,
          "column": 5,
          "position": 2176
        },
        "endLoc": {
          "line": 405,
          "column": 6,
          "position": 2257
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "= useMemo(() => {\n    let count = 0\n    if (showVehicles) count += vehicles.length\n    if (showFacilities) count += facilities.length\n    if (showCameras) count += cameras.length\n    return count\n  }, [vehicles.length, facilities.length, cameras.length, showVehicles, showFacilities, showCameras])\n\n  // Auto-fit bounds when markers change",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/LeafletMap.tsx",
        "start": 133,
        "end": 141,
        "startLoc": {
          "line": 133,
          "column": 2,
          "position": 807
        },
        "endLoc": {
          "line": 141,
          "column": 39,
          "position": 909
        }
      },
      "secondFile": {
        "name": "src/components/UniversalMap.tsx",
        "start": 82,
        "end": 90,
        "startLoc": {
          "line": 82,
          "column": 2,
          "position": 698
        },
        "endLoc": {
          "line": 90,
          "column": 6,
          "position": 800
        }
      }
    },
    {
      "format": "tsx",
      "lines": 30,
      "fragment": ",\n      },\n    },\n  },\n  argTypes: {\n    vehicles: {\n      description: \"Array of vehicles to display on the map\",\n      control: { type: \"object\" },\n    },\n    facilities: {\n      description: \"Array of GIS facilities to display on the map\",\n      control: { type: \"object\" },\n    },\n    cameras: {\n      description: \"Array of traffic cameras to display on the map\",\n      control: { type: \"object\" },\n    },\n    showVehicles: {\n      description: \"Whether to show vehicle markers\",\n      control: { type: \"boolean\" },\n    },\n    showFacilities: {\n      description: \"Whether to show facility markers\",\n      control: { type: \"boolean\" },\n    },\n    showCameras: {\n      description: \"Whether to show camera markers\",\n      control: { type: \"boolean\" },\n    },\n    mapStyle",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/LeafletMap.stories.tsx",
        "start": 51,
        "end": 80,
        "startLoc": {
          "line": 51,
          "column": 10,
          "position": 124
        },
        "endLoc": {
          "line": 80,
          "column": 9,
          "position": 331
        }
      },
      "secondFile": {
        "name": "src/components/UniversalMap.stories.tsx",
        "start": 41,
        "end": 70,
        "startLoc": {
          "line": 41,
          "column": 10,
          "position": 124
        },
        "endLoc": {
          "line": 70,
          "column": 7,
          "position": 331
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "(\n        event.key.toLowerCase() === shortcut.key.toLowerCase() &&\n        !!event.ctrlKey === !!shortcut.ctrlKey &&\n        !!event.shiftKey === !!shortcut.shiftKey &&\n        !!event.altKey === !!shortcut.altKey &&\n        !!event.metaKey === !!shortcut.metaKey\n      ) {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/KeyboardShortcuts.tsx",
        "start": 333,
        "end": 339,
        "startLoc": {
          "line": 333,
          "column": 2,
          "position": 2247
        },
        "endLoc": {
          "line": 339,
          "column": 2,
          "position": 2339
        }
      },
      "secondFile": {
        "name": "src/components/KeyboardShortcuts.tsx",
        "start": 209,
        "end": 215,
        "startLoc": {
          "line": 209,
          "column": 2,
          "position": 1338
        },
        "endLoc": {
          "line": 215,
          "column": 2,
          "position": 1429
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "markersRef.current.forEach(({ infoWindow: iw }) => iw?.close())\n            infoWindow.open(mapInstanceRef.current, marker)\n          })\n\n          newMarkers.push({ marker, infoWindow })\n          bounds.extend({ lat: facility",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/GoogleMap.tsx",
        "start": 416,
        "end": 421,
        "startLoc": {
          "line": 416,
          "column": 13,
          "position": 2902
        },
        "endLoc": {
          "line": 421,
          "column": 9,
          "position": 2972
        }
      },
      "secondFile": {
        "name": "src/components/GoogleMap.tsx",
        "start": 380,
        "end": 385,
        "startLoc": {
          "line": 380,
          "column": 13,
          "position": 2533
        },
        "endLoc": {
          "line": 385,
          "column": 8,
          "position": 2603
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "),\n          })\n\n          marker.addListener(\"click\", () => {\n            markersRef.current.forEach(({ infoWindow: iw }) => iw?.close())\n            infoWindow.open(mapInstanceRef.current, marker)\n          })\n\n          newMarkers.push({ marker, infoWindow })\n          bounds.extend({ lat: camera",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/GoogleMap.tsx",
        "start": 447,
        "end": 456,
        "startLoc": {
          "line": 447,
          "column": 7,
          "position": 3224
        },
        "endLoc": {
          "line": 456,
          "column": 7,
          "position": 3318
        }
      },
      "secondFile": {
        "name": "src/components/GoogleMap.tsx",
        "start": 412,
        "end": 385,
        "startLoc": {
          "line": 412,
          "column": 9,
          "position": 2878
        },
        "endLoc": {
          "line": 385,
          "column": 8,
          "position": 2603
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ": Story = {\n  args: {\n    vehicles: generateMockVehicles(10),\n    facilities: generateMockFacilities(5),\n    cameras: generateMockCameras(8),\n    showVehicles: true,\n    showFacilities: true,\n    showCameras: true,\n    mapStyle: \"roadmap\",\n    center: [-84.2807, 30.4383],\n    zoom: 13,\n  },\n  parameters",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/GoogleMap.stories.tsx",
        "start": 127,
        "end": 139,
        "startLoc": {
          "line": 127,
          "column": 12,
          "position": 614
        },
        "endLoc": {
          "line": 139,
          "column": 11,
          "position": 711
        }
      },
      "secondFile": {
        "name": "src/components/GoogleMap.stories.tsx",
        "start": 112,
        "end": 124,
        "startLoc": {
          "line": 112,
          "column": 8,
          "position": 508
        },
        "endLoc": {
          "line": 124,
          "column": 2,
          "position": 604
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "export const SatelliteView: Story = {\n  args: {\n    vehicles: generateMockVehicles(10),\n    facilities: generateMockFacilities(5),\n    cameras: generateMockCameras(8),\n    showVehicles: true,\n    showFacilities: true,\n    showCameras: true,\n    mapStyle: \"satellite\",\n    center: [-",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/GoogleMap.stories.tsx",
        "start": 149,
        "end": 158,
        "startLoc": {
          "line": 149,
          "column": 1,
          "position": 752
        },
        "endLoc": {
          "line": 158,
          "column": 2,
          "position": 834
        }
      },
      "secondFile": {
        "name": "src/components/LeafletMap.stories.tsx",
        "start": 178,
        "end": 187,
        "startLoc": {
          "line": 178,
          "column": 1,
          "position": 1045
        },
        "endLoc": {
          "line": 187,
          "column": 8,
          "position": 1127
        }
      }
    },
    {
      "format": "tsx",
      "lines": 23,
      "fragment": ", error);\n    }\n  };\n\n  const getVideoPlaybackUrl = async (eventId: number) => {\n    try {\n      const response = await fetch(`/api/video/events/${eventId}/clip`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        return data.url;\n      }\n    } catch (error) {\n      console.error('Failed to get video URL:', error);\n    }\n    return null;\n  };\n\n  const handlePlayVideo = async (eventId",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/EvidenceLocker.tsx",
        "start": 160,
        "end": 182,
        "startLoc": {
          "line": 160,
          "column": 36,
          "position": 1379
        },
        "endLoc": {
          "line": 182,
          "column": 8,
          "position": 1553
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 175,
        "end": 197,
        "startLoc": {
          "line": 175,
          "column": 31,
          "position": 1526
        },
        "endLoc": {
          "line": 197,
          "column": 6,
          "position": 1700
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"h-8 w-8 text-blue-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Open",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/EvidenceLocker.tsx",
        "start": 224,
        "end": 233,
        "startLoc": {
          "line": 224,
          "column": 7,
          "position": 1987
        },
        "endLoc": {
          "line": 233,
          "column": 5,
          "position": 2054
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 230,
        "end": 239,
        "startLoc": {
          "line": 230,
          "column": 6,
          "position": 2114
        },
        "endLoc": {
          "line": 239,
          "column": 9,
          "position": 2181
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"h-8 w-8 text-green-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Legal",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/EvidenceLocker.tsx",
        "start": 236,
        "end": 245,
        "startLoc": {
          "line": 236,
          "column": 9,
          "position": 2088
        },
        "endLoc": {
          "line": 245,
          "column": 6,
          "position": 2155
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 278,
        "end": 287,
        "startLoc": {
          "line": 278,
          "column": 12,
          "position": 2516
        },
        "endLoc": {
          "line": 287,
          "column": 8,
          "position": 2583
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": " className=\"h-8 w-8 text-red-500\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Total",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/EvidenceLocker.tsx",
        "start": 248,
        "end": 257,
        "startLoc": {
          "line": 248,
          "column": 5,
          "position": 2189
        },
        "endLoc": {
          "line": 257,
          "column": 6,
          "position": 2256
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 242,
        "end": 251,
        "startLoc": {
          "line": 242,
          "column": 12,
          "position": 2213
        },
        "endLoc": {
          "line": 251,
          "column": 6,
          "position": 2280
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ").map(([key, label]) => (\n                      <SelectItem key={key} value={key}>{label}</SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Case",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/EvidenceLocker.tsx",
        "start": 423,
        "end": 431,
        "startLoc": {
          "line": 423,
          "column": 17,
          "position": 3873
        },
        "endLoc": {
          "line": 431,
          "column": 5,
          "position": 3949
        }
      },
      "secondFile": {
        "name": "src/components/VideoTelematicsDashboard.tsx",
        "start": 334,
        "end": 342,
        "startLoc": {
          "line": 334,
          "column": 16,
          "position": 3058
        },
        "endLoc": {
          "line": 342,
          "column": 5,
          "position": 3134
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "return (\n        <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4\">\n          <Card className=\"max-w-2xl w-full shadow-2xl\">\n            <CardHeader className=\"text-center\">\n              <div className=\"mx-auto mb-4 w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center\">\n                <AlertTriangle className=\"w-8 h-8 text-red-600 dark:text-red-400\" />\n              </div>\n              <CardTitle className=\"text-2xl font-bold text-red-600 dark:text-red-400\">\n                Something Went Wrong\n              </CardTitle>\n              <CardDescription className=\"text-base mt-2\">\n                We encountered an unexpected error. Don",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/EnhancedErrorBoundary.tsx",
        "start": 167,
        "end": 178,
        "startLoc": {
          "line": 167,
          "column": 7,
          "position": 1366
        },
        "endLoc": {
          "line": 178,
          "column": 4,
          "position": 1477
        }
      },
      "secondFile": {
        "name": "src/components/ErrorBoundary.tsx",
        "start": 282,
        "end": 293,
        "startLoc": {
          "line": 282,
          "column": 7,
          "position": 2138
        },
        "endLoc": {
          "line": 293,
          "column": 4,
          "position": 2249
        }
      }
    },
    {
      "format": "tsx",
      "lines": 21,
      "fragment": "to fix it.\n              </CardDescription>\n            </CardHeader>\n\n            <CardContent className=\"space-y-6\">\n              {/* Error Message */}\n              <Alert variant=\"destructive\">\n                <AlertTriangle className=\"h-4 w-4\" />\n                <AlertTitle>Error Details</AlertTitle>\n                <AlertDescription className=\"mt-2 font-mono text-sm\">\n                  {error?.message || 'An unexpected error occurred'}\n                </AlertDescription>\n              </Alert>\n\n              {/* Error Count Warning */}\n              {errorCount > 1 && (\n                <Alert>\n                  <Bug className=\"h-4 w-4\" />\n                  <AlertTitle>Multiple Errors Detected</AlertTitle>\n                  <AlertDescription>\n                    This error has occurred {errorCount} times. Consider",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/EnhancedErrorBoundary.tsx",
        "start": 179,
        "end": 199,
        "startLoc": {
          "line": 179,
          "column": 2,
          "position": 1494
        },
        "endLoc": {
          "line": 199,
          "column": 9,
          "position": 1664
        }
      },
      "secondFile": {
        "name": "src/components/ErrorBoundary.tsx",
        "start": 293,
        "end": 313,
        "startLoc": {
          "line": 293,
          "column": 2,
          "position": 2265
        },
        "endLoc": {
          "line": 313,
          "column": 2,
          "position": 2435
        }
      }
    },
    {
      "format": "tsx",
      "lines": 34,
      "fragment": "\n                >\n                  <Home className=\"w-4 h-4 mr-2\" />\n                  Go Home\n                </Button>\n              </div>\n\n              {/* Download Log Button */}\n              {showDetails && (\n                <Button\n                  onClick={this.handleDownloadLog}\n                  variant=\"ghost\"\n                  className=\"w-full\"\n                  size=\"sm\"\n                >\n                  <Bug className=\"w-4 h-4 mr-2\" />\n                  Download Error Log\n                </Button>\n              )}\n\n              {/* Support Info */}\n              <div className=\"text-center text-sm text-muted-foreground\">\n                <p>\n                  If this problem persists, please contact support with the error\n                  code:\n                </p>\n                <code className=\"mt-1 inline-block bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded font-mono\">\n                  {Date.now().toString(36).toUpperCase()}\n                </code>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      );",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/EnhancedErrorBoundary.tsx",
        "start": 254,
        "end": 287,
        "startLoc": {
          "line": 254,
          "column": 2,
          "position": 2043
        },
        "endLoc": {
          "line": 287,
          "column": 2,
          "position": 2256
        }
      },
      "secondFile": {
        "name": "src/components/ErrorBoundary.tsx",
        "start": 398,
        "end": 432,
        "startLoc": {
          "line": 398,
          "column": 2,
          "position": 3053
        },
        "endLoc": {
          "line": 432,
          "column": 2,
          "position": 3268
        }
      }
    },
    {
      "format": "javascript",
      "lines": 24,
      "fragment": "} />\n          </BarChart>\n        )\n      \n      default:\n        return (\n          <LineChart {...commonProps}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"oklch(0.90 0.005 250)\" />\n            <XAxis dataKey={xAxisKey} style={axisStyle} />\n            <YAxis style={axisStyle} />\n            <Tooltip \n              contentStyle={{ \n                backgroundColor: \"oklch(1 0 0)\",\n                border: \"1px solid oklch(0.90 0.005 250)\",\n                borderRadius: \"0.5rem\",\n                fontSize: \"14px\"\n              }}\n            />\n            <Line \n              type=\"monotone\" \n              dataKey={dataKey} \n              stroke={color} \n              strokeWidth={2}\n              dot={{",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/ChartCard.tsx",
        "start": 95,
        "end": 118,
        "startLoc": {
          "line": 95,
          "column": 2,
          "position": 712
        },
        "endLoc": {
          "line": 118,
          "column": 2,
          "position": 857
        }
      },
      "secondFile": {
        "name": "src/components/ChartCard.tsx",
        "start": 56,
        "end": 75,
        "startLoc": {
          "line": 56,
          "column": 2,
          "position": 429
        },
        "endLoc": {
          "line": 75,
          "column": 2,
          "position": 554
        }
      }
    },
    {
      "format": "javascript",
      "lines": 57,
      "fragment": "}`}\n              onRemove={() => handleClearFilter('operational_status')}\n            />\n          )}\n          {filters.primary_metric && (\n            <FilterPill\n              label={`Metric: ${primaryMetrics.find(m => m.value === filters.primary_metric)?.label}`}\n              onRemove={() => handleClearFilter('primary_metric')}\n            />\n          )}\n          {filters.is_road_legal !== undefined && (\n            <FilterPill\n              label={`Road Legal: ${filters.is_road_legal ? 'Yes' : 'No'}`}\n              onRemove={() => handleClearFilter('is_road_legal')}\n            />\n          )}\n        </div>\n      )}\n\n      {/* Filter Options */}\n      {isExpanded && (\n        <div className=\"p-4 space-y-4\">\n          {/* Asset Category */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Truck className=\"w-4 h-4 inline mr-1\" />\n              Asset Category\n            </label>\n            <select\n              value={filters.asset_category || ''}\n              onChange={(e) => handleFilterChange('asset_category', e.target.value || undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">All Categories</option>\n              {assetCategories.map(cat => (\n                <option key={cat.value} value={cat.value}>\n                  {cat.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Asset Type (conditional on category) */}\n          {filters.asset_category && availableAssetTypes.length > 0 && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                <Engine className=\"w-4 h-4 inline mr-1\" />\n                Asset Type\n              </label>\n              <select\n                value={filters.asset_type || ''}\n                onChange={(e) => handleFilterChange('asset_type', e.target.value || undefined)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">All Types</option>\n                {availableAssetTypes.map(type => (\n                  <option key={type.",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetTypeFilter.tsx",
        "start": 221,
        "end": 277,
        "startLoc": {
          "line": 221,
          "column": 6,
          "position": 2094
        },
        "endLoc": {
          "line": 277,
          "column": 2,
          "position": 2580
        }
      },
      "secondFile": {
        "name": "src/components/filters/AssetTypeFilter.tsx",
        "start": 195,
        "end": 251,
        "startLoc": {
          "line": 195,
          "column": 2,
          "position": 1620
        },
        "endLoc": {
          "line": 251,
          "column": 2,
          "position": 2106
        }
      }
    },
    {
      "format": "javascript",
      "lines": 94,
      "fragment": "}>\n                    {type.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* Power Type */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Engine className=\"w-4 h-4 inline mr-1\" />\n              Power Type\n            </label>\n            <select\n              value={filters.power_type || ''}\n              onChange={(e) => handleFilterChange('power_type', e.target.value || undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">All Power Types</option>\n              {powerTypes.map(type => (\n                <option key={type.value} value={type.value}>\n                  {type.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Operational Status */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <CheckCircle className=\"w-4 h-4 inline mr-1\" />\n              Operational Status\n            </label>\n            <select\n              value={filters.operational_status || ''}\n              onChange={(e) => handleFilterChange('operational_status', e.target.value || undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">All Statuses</option>\n              {operationalStatuses.map(status => (\n                <option key={status.value} value={status.value}>\n                  {status.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Primary Metric */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Calendar className=\"w-4 h-4 inline mr-1\" />\n              Primary Tracking Metric\n            </label>\n            <select\n              value={filters.primary_metric || ''}\n              onChange={(e) => handleFilterChange('primary_metric', e.target.value || undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">All Metrics</option>\n              {primaryMetrics.map(metric => (\n                <option key={metric.value} value={metric.value}>\n                  {metric.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Road Legal */}\n          <div>\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={filters.is_road_legal === true}\n                onChange={(e) => handleFilterChange('is_road_legal', e.target.checked ? true : undefined)}\n                className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">\n                Road Legal Only\n              </span>\n            </label>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n// Filter Pill Component\nconst FilterPill: React.FC<{ label: string; onRemove: () => void }> = ({ label, onRemove }) => (\n  <div className=\"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm\">\n    <span>{label}</span>\n    <button\n      onClick={onRemove}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetTypeFilter.tsx",
        "start": 277,
        "end": 370,
        "startLoc": {
          "line": 277,
          "column": 6,
          "position": 2590
        },
        "endLoc": {
          "line": 370,
          "column": 2,
          "position": 3336
        }
      },
      "secondFile": {
        "name": "src/components/filters/AssetTypeFilter.tsx",
        "start": 251,
        "end": 344,
        "startLoc": {
          "line": 251,
          "column": 5,
          "position": 2112
        },
        "endLoc": {
          "line": 344,
          "column": 2,
          "position": 2859
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": "interface AssetTypeFilterProps {\n  onFilterChange: (filters: FilterState) => void\n  onClear: () => void\n  activeFilters?: FilterState\n}\n\nexport interface FilterState {\n  asset_category?: AssetCategory\n  asset_type?: AssetType\n  power_type?: PowerType\n  operational_status?: OperationalStatus\n  primary_metric?: PrimaryMetric\n  is_road_legal?: boolean\n  location_id?: string\n  group_id?: string\n  fleet_id?: string\n}\n\n// Filter options derived from backend enums",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetTypeFilter.tsx",
        "start": 37,
        "end": 55,
        "startLoc": {
          "line": 37,
          "column": 1,
          "position": 98
        },
        "endLoc": {
          "line": 55,
          "column": 45,
          "position": 214
        }
      },
      "secondFile": {
        "name": "src/components/filters/AssetTypeFilter.tsx",
        "start": 46,
        "end": 64,
        "startLoc": {
          "line": 46,
          "column": 1,
          "position": 140
        },
        "endLoc": {
          "line": 64,
          "column": 48,
          "position": 256
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "const assetCategories: { value: AssetCategory; label: string; icon: typeof Truck }[] = [\n  { value: 'PASSENGER_VEHICLE', label: 'Passenger Vehicle', icon: Truck },\n  { value: 'HEAVY_EQUIPMENT', label: 'Heavy Equipment', icon: Engine },\n  { value: 'TRAILER', label: 'Trailer', icon: Truck },\n  { value: 'TRACTOR', label: 'Tractor', icon: Engine },\n  { value: 'SPECIALTY', label: 'Specialty Equipment', icon: Wrench },\n  { value: 'NON_POWERED', label: 'Non-Powered Asset', icon: Truck }\n]\n\nconst assetTypesByCategory",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetTypeFilter.tsx",
        "start": 56,
        "end": 65,
        "startLoc": {
          "line": 56,
          "column": 1,
          "position": 216
        },
        "endLoc": {
          "line": 65,
          "column": 21,
          "position": 392
        }
      },
      "secondFile": {
        "name": "src/components/filters/AssetTypeFilter.tsx",
        "start": 65,
        "end": 74,
        "startLoc": {
          "line": 65,
          "column": 1,
          "position": 258
        },
        "endLoc": {
          "line": 74,
          "column": 11,
          "position": 434
        }
      }
    },
    {
      "format": "tsx",
      "lines": 61,
      "fragment": "const powerTypes: { value: PowerType; label: string }[] = [\n  { value: 'SELF_POWERED', label: 'Self-Powered' },\n  { value: 'TOWED', label: 'Towed' },\n  { value: 'CARRIED', label: 'Carried' },\n  { value: 'STATIONARY', label: 'Stationary' },\n  { value: 'MANUAL', label: 'Manual' }\n]\n\nconst operationalStatuses: { value: OperationalStatus; label: string; color: string }[] = [\n  { value: 'AVAILABLE', label: 'Available', color: 'text-green-600' },\n  { value: 'IN_USE', label: 'In Use', color: 'text-blue-600' },\n  { value: 'MAINTENANCE', label: 'Maintenance', color: 'text-orange-600' },\n  { value: 'RESERVED', label: 'Reserved', color: 'text-purple-600' },\n  { value: 'OUT_OF_SERVICE', label: 'Out of Service', color: 'text-red-600' }\n]\n\nconst primaryMetrics: { value: PrimaryMetric; label: string }[] = [\n  { value: 'ODOMETER', label: 'Odometer (Miles)' },\n  { value: 'ENGINE_HOURS', label: 'Engine Hours' },\n  { value: 'PTO_HOURS', label: 'PTO Hours' },\n  { value: 'AUX_HOURS', label: 'Auxiliary Hours' },\n  { value: 'CYCLES', label: 'Cycle Count' },\n  { value: 'CALENDAR', label: 'Calendar-Based' }\n]\n\nexport const AssetTypeFilter: React.FC<AssetTypeFilterProps> = ({\n  onFilterChange,\n  onClear,\n  activeFilters = {}\n}) => {\n  const [filters, setFilters] = useState<FilterState>(activeFilters)\n  const [isExpanded, setIsExpanded] = useState(false)\n\n  const handleFilterChange = (key: keyof FilterState, value: any) => {\n    const newFilters = { ...filters, [key]: value }\n\n    // Clear asset_type if category changes\n    if (key === 'asset_category') {\n      delete newFilters.asset_type\n    }\n\n    setFilters(newFilters)\n    onFilterChange(newFilters)\n  }\n\n  const handleClearFilter = (key: keyof FilterState) => {\n    const newFilters = { ...filters }\n    delete newFilters[key]\n    setFilters(newFilters)\n    onFilterChange(newFilters)\n  }\n\n  const handleClearAll = () => {\n    setFilters({})\n    onClear()\n  }\n\n  const activeFilterCount = Object.keys(filters).filter(key => filters[key as keyof FilterState] !== undefined).length\n\n  const availableAssetTypes = filters.asset_category\n    ? assetTypesByCategory",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetTypeFilter.tsx",
        "start": 104,
        "end": 164,
        "startLoc": {
          "line": 104,
          "column": 1,
          "position": 886
        },
        "endLoc": {
          "line": 164,
          "column": 21,
          "position": 1591
        }
      },
      "secondFile": {
        "name": "src/components/filters/AssetTypeFilter.tsx",
        "start": 74,
        "end": 134,
        "startLoc": {
          "line": 74,
          "column": 1,
          "position": 432
        },
        "endLoc": {
          "line": 134,
          "column": 25,
          "position": 1137
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ": []\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n      {/* Filter Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n        <div className=\"flex items-center gap-2\">\n          <Funnel className=\"w-5 h-5 text-gray-600\" />\n          <h3 className=\"font-semibold text-gray-900\">Asset Filters</h3>\n          {activeFilterCount > 0 && (\n            <span className=\"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-full\">\n              {activeFilterCount} active\n            </span>\n          )}\n        </div>\n        <div className=\"flex items-center gap-2\">\n          {activeFilterCount > 0 && (\n            <button",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetTypeFilter.tsx",
        "start": 165,
        "end": 182,
        "startLoc": {
          "line": 165,
          "column": 5,
          "position": 1599
        },
        "endLoc": {
          "line": 182,
          "column": 7,
          "position": 1746
        }
      },
      "secondFile": {
        "name": "src/components/filters/AssetTypeFilter.tsx",
        "start": 135,
        "end": 152,
        "startLoc": {
          "line": 135,
          "column": 5,
          "position": 1145
        },
        "endLoc": {
          "line": 152,
          "column": 7,
          "position": 1292
        }
      }
    },
    {
      "format": "tsx",
      "lines": 85,
      "fragment": ">\n        </div>\n      </div>\n\n      {/* Active Filters Pills */}\n      {activeFilterCount > 0 && (\n        <div className=\"flex flex-wrap gap-2 p-4 border-b border-gray-200 bg-gray-50\">\n          {filters.asset_category && (\n            <FilterPill\n              label={`Category: ${assetCategories.find(c => c.value === filters.asset_category)?.label}`}\n              onRemove={() => handleClearFilter('asset_category')}\n            />\n          )}\n          {filters.asset_type && (\n            <FilterPill\n              label={`Type: ${availableAssetTypes.find(t => t.value === filters.asset_type)?.label}`}\n              onRemove={() => handleClearFilter('asset_type')}\n            />\n          )}\n          {filters.power_type && (\n            <FilterPill\n              label={`Power: ${powerTypes.find(p => p.value === filters.power_type)?.label}`}\n              onRemove={() => handleClearFilter('power_type')}\n            />\n          )}\n          {filters.operational_status && (\n            <FilterPill\n              label={`Status: ${operationalStatuses.find(s => s.value === filters.operational_status)?.label}`}\n              onRemove={() => handleClearFilter('operational_status')}\n            />\n          )}\n          {filters.primary_metric && (\n            <FilterPill\n              label={`Metric: ${primaryMetrics.find(m => m.value === filters.primary_metric)?.label}`}\n              onRemove={() => handleClearFilter('primary_metric')}\n            />\n          )}\n          {filters.is_road_legal !== undefined && (\n            <FilterPill\n              label={`Road Legal: ${filters.is_road_legal ? 'Yes' : 'No'}`}\n              onRemove={() => handleClearFilter('is_road_legal')}\n            />\n          )}\n        </div>\n      )}\n\n      {/* Filter Options */}\n      {isExpanded && (\n        <div className=\"p-4 space-y-4\">\n          {/* Asset Category */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Truck className=\"w-4 h-4 inline mr-1\" />\n              Asset Category\n            </label>\n            <select\n              value={filters.asset_category || ''}\n              onChange={(e) => handleFilterChange('asset_category', e.target.value || undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">All Categories</option>\n              {assetCategories.map(cat => (\n                <option key={cat.value} value={cat.value}>\n                  {cat.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Asset Type (conditional on category) */}\n          {filters.asset_category && availableAssetTypes.length > 0 && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                <Engine className=\"w-4 h-4 inline mr-1\" />\n                Asset Type\n              </label>\n              <select\n                value={filters.asset_type || ''}\n                onChange={(e) => handleFilterChange('asset_type', e.target.value || undefined)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">All Types</option>\n                {availableAssetTypes.map(type => (\n                  <option key={type.value} value={type.value}>\n                    {type",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetTypeFilter.tsx",
        "start": 194,
        "end": 278,
        "startLoc": {
          "line": 194,
          "column": 7,
          "position": 1837
        },
        "endLoc": {
          "line": 278,
          "column": 5,
          "position": 2595
        }
      },
      "secondFile": {
        "name": "src/components/filters/AssetTypeFilter.tsx",
        "start": 168,
        "end": 252,
        "startLoc": {
          "line": 168,
          "column": 7,
          "position": 1407
        },
        "endLoc": {
          "line": 252,
          "column": 18,
          "position": 2117
        }
      }
    },
    {
      "format": "tsx",
      "lines": 101,
      "fragment": "}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* Power Type */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Engine className=\"w-4 h-4 inline mr-1\" />\n              Power Type\n            </label>\n            <select\n              value={filters.power_type || ''}\n              onChange={(e) => handleFilterChange('power_type', e.target.value || undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">All Power Types</option>\n              {powerTypes.map(type => (\n                <option key={type.value} value={type.value}>\n                  {type.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Operational Status */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <CheckCircle className=\"w-4 h-4 inline mr-1\" />\n              Operational Status\n            </label>\n            <select\n              value={filters.operational_status || ''}\n              onChange={(e) => handleFilterChange('operational_status', e.target.value || undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">All Statuses</option>\n              {operationalStatuses.map(status => (\n                <option key={status.value} value={status.value}>\n                  {status.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Primary Metric */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              <Calendar className=\"w-4 h-4 inline mr-1\" />\n              Primary Tracking Metric\n            </label>\n            <select\n              value={filters.primary_metric || ''}\n              onChange={(e) => handleFilterChange('primary_metric', e.target.value || undefined)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">All Metrics</option>\n              {primaryMetrics.map(metric => (\n                <option key={metric.value} value={metric.value}>\n                  {metric.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Road Legal */}\n          <div>\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={filters.is_road_legal === true}\n                onChange={(e) => handleFilterChange('is_road_legal', e.target.checked ? true : undefined)}\n                className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">\n                Road Legal Only\n              </span>\n            </label>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n// Filter Pill Component\nconst FilterPill: React.FC<{ label: string; onRemove: () => void }> = ({ label, onRemove }) => (\n  <div className=\"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm\">\n    <span>{label}</span>\n    <button\n      onClick={onRemove}\n      className=\"ml-1 hover:bg-blue-200 rounded-full p-0.5 transition-colors\"\n    >\n      <X className=\"w-3 h-3\" />\n    </button>\n  </div>\n)\n\nexport default AssetTypeFilter",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetTypeFilter.tsx",
        "start": 278,
        "end": 378,
        "startLoc": {
          "line": 278,
          "column": 6,
          "position": 2598
        },
        "endLoc": {
          "line": 378,
          "column": 16,
          "position": 3375
        }
      },
      "secondFile": {
        "name": "src/components/filters/AssetTypeFilter.tsx",
        "start": 252,
        "end": 352,
        "startLoc": {
          "line": 252,
          "column": 2,
          "position": 2121
        },
        "endLoc": {
          "line": 352,
          "column": 16,
          "position": 2898
        }
      }
    },
    {
      "format": "javascript",
      "lines": 40,
      "fragment": "}>\n                        {type.label} - {type.description}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Effective From */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Effective From *\n                </label>\n                <input\n                  type=\"date\"\n                  value={effectiveFrom}\n                  onChange={(e) => setEffectiveFrom(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              {/* Notes */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Notes (Optional)\n                </label>\n                <textarea\n                  value={notes}\n                  onChange={(e) => setNotes(e.target.value)}\n                  rows={3}\n                  placeholder=\"Add any relevant notes about this attachment...\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setShowCreateDialog",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 523,
        "end": 562,
        "startLoc": {
          "line": 523,
          "column": 6,
          "position": 4198
        },
        "endLoc": {
          "line": 562,
          "column": 20,
          "position": 4446
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 453,
        "end": 490,
        "startLoc": {
          "line": 453,
          "column": 3,
          "position": 3806
        },
        "endLoc": {
          "line": 490,
          "column": 2,
          "position": 4044
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "}\n\nconst relationshipTypes: { value: RelationshipType; label: string; description: string }[] = [\n  { value: 'TOWS', label: 'Tows', description: 'Parent tows child (e.g., tractor-trailer)' },\n  { value: 'ATTACHED', label: 'Attached', description: 'Child is attached to parent (e.g., backhoe attachment)' },\n  { value: 'CARRIES', label: 'Carries', description: 'Parent carries child' },\n  { value: 'POWERS', label: 'Powers', description: 'Parent powers child equipment' },\n  { value: 'CONTAINS', label: 'Contains', description: 'Parent contains child asset' }\n]\n\nexport const AssetComboManager: React.FC<AssetComboManagerProps> = ({\n  parentAssetId",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 85,
        "end": 96,
        "startLoc": {
          "line": 85,
          "column": 1,
          "position": 389
        },
        "endLoc": {
          "line": 96,
          "column": 14,
          "position": 561
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 47,
        "end": 58,
        "startLoc": {
          "line": 47,
          "column": 1,
          "position": 176
        },
        "endLoc": {
          "line": 58,
          "column": 9,
          "position": 348
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "] = useState('')\n  const [relationshipType, setRelationshipType] = useState<RelationshipType>('TOWS')\n  const [effectiveFrom, setEffectiveFrom] = useState(new Date().toISOString().split('T')[0])\n  const [notes, setNotes] = useState('')\n\n  // Fetch current attachments",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 108,
        "end": 113,
        "startLoc": {
          "line": 108,
          "column": 19,
          "position": 710
        },
        "endLoc": {
          "line": 113,
          "column": 29,
          "position": 791
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 72,
        "end": 77,
        "startLoc": {
          "line": 72,
          "column": 16,
          "position": 538
        },
        "endLoc": {
          "line": 77,
          "column": 10,
          "position": 619
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "= async () => {\n    setLoading(true)\n    try {\n      const response = await fetch('/api/asset-relationships/active', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      })\n\n      if (!response.ok) throw new Error('Failed to fetch active combinations')\n\n      const data = await response.json()\n      // Filter to only show relationships where this asset is the parent",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 114,
        "end": 126,
        "startLoc": {
          "line": 114,
          "column": 2,
          "position": 798
        },
        "endLoc": {
          "line": 126,
          "column": 68,
          "position": 901
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 85,
        "end": 97,
        "startLoc": {
          "line": 85,
          "column": 2,
          "position": 671
        },
        "endLoc": {
          "line": 97,
          "column": 16,
          "position": 774
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      })\n\n      if (!response.ok) throw new Error('Failed to fetch relationship history')\n\n      const data = await response.json()\n      setRelationshipHistory(data.history || [])\n    } catch (err: any) {\n      toast",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 194,
        "end": 205,
        "startLoc": {
          "line": 194,
          "column": 14,
          "position": 1445
        },
        "endLoc": {
          "line": 205,
          "column": 6,
          "position": 1543
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 124,
        "end": 135,
        "startLoc": {
          "line": 124,
          "column": 8,
          "position": 1013
        },
        "endLoc": {
          "line": 135,
          "column": 8,
          "position": 1111
        }
      }
    },
    {
      "format": "tsx",
      "lines": 21,
      "fragment": ",\n        relationship_type: relationshipType,\n        effective_from: effectiveFrom,\n        notes: notes || undefined\n      }\n\n      const response = await fetch('/api/asset-relationships', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(payload)\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to create relationship')\n      }\n\n      // Success!",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 229,
        "end": 249,
        "startLoc": {
          "line": 229,
          "column": 16,
          "position": 1686
        },
        "endLoc": {
          "line": 249,
          "column": 12,
          "position": 1835
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 153,
        "end": 173,
        "startLoc": {
          "line": 153,
          "column": 13,
          "position": 1232
        },
        "endLoc": {
          "line": 173,
          "column": 14,
          "position": 1381
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "try {\n      const response = await fetch(`/api/asset-relationships/${relationshipId}/deactivate`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      })\n\n      if (!response.ok) throw new Error('Failed to deactivate relationship')\n\n      toast",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 273,
        "end": 283,
        "startLoc": {
          "line": 273,
          "column": 5,
          "position": 2002
        },
        "endLoc": {
          "line": 283,
          "column": 6,
          "position": 2083
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 198,
        "end": 208,
        "startLoc": {
          "line": 198,
          "column": 5,
          "position": 1545
        },
        "endLoc": {
          "line": 208,
          "column": 18,
          "position": 1626
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Link className=\"w-6 h-6 text-blue-600\" />\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Attached",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 303,
        "end": 310,
        "startLoc": {
          "line": 303,
          "column": 3,
          "position": 2231
        },
        "endLoc": {
          "line": 310,
          "column": 9,
          "position": 2300
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 226,
        "end": 233,
        "startLoc": {
          "line": 226,
          "column": 3,
          "position": 1770
        },
        "endLoc": {
          "line": 233,
          "column": 6,
          "position": 1839
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": ".map(combo => (\n              <div key={combo.relationship_id} className=\"p-6 hover:bg-gray-50 transition-colors\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <div className=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 359,
        "end": 364,
        "startLoc": {
          "line": 359,
          "column": 19,
          "position": 2758
        },
        "endLoc": {
          "line": 364,
          "column": 64,
          "position": 2826
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 283,
        "end": 288,
        "startLoc": {
          "line": 283,
          "column": 15,
          "position": 2272
        },
        "endLoc": {
          "line": 288,
          "column": 24,
          "position": 2340
        }
      }
    },
    {
      "format": "tsx",
      "lines": 59,
      "fragment": "&& (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">\n              Relationship History ({relationshipHistory.length})\n            </h3>\n          </div>\n          <div className=\"divide-y divide-gray-200\">\n            {relationshipHistory.length === 0 ? (\n              <div className=\"p-8 text-center text-gray-500\">\n                No relationship history found\n              </div>\n            ) : (\n              relationshipHistory.map((entry, index) => (\n                <div key={index} className=\"p-6\">\n                  <div className=\"flex items-start gap-3\">\n                    <Clock className=\"w-5 h-5 text-gray-400 mt-0.5\" />\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded\">\n                          {entry.relationship_type}\n                        </span>\n                        {!entry.effective_to && (\n                          <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded\">\n                            Active\n                          </span>\n                        )}\n                      </div>\n                      <div className=\"text-sm text-gray-900 mb-1\">\n                        <strong>{entry.parent_asset_name}</strong>  <strong>{entry.child_asset_name}</strong>\n                      </div>\n                      <div className=\"flex items-center gap-4 text-xs text-gray-600\">\n                        <span>From: {new Date(entry.effective_from).toLocaleDateString()}</span>\n                        {entry.effective_to && (\n                          <span>To: {new Date(entry.effective_to).toLocaleDateString()}</span>\n                        )}\n                        <div className=\"flex items-center gap-1\">\n                          <User className=\"w-3 h-3\" />\n                          <span>Created by: {entry.created_by_name}</span>\n                        </div>\n                      </div>\n                      {entry.notes && (\n                        <p className=\"mt-2 text-sm text-gray-600 italic\">{entry.notes}</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Create Relationship Dialog */}\n      {showCreateDialog && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-xl font-semibold text-gray-900\">Attach",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 419,
        "end": 477,
        "startLoc": {
          "line": 419,
          "column": 2,
          "position": 3269
        },
        "endLoc": {
          "line": 477,
          "column": 7,
          "position": 3822
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 330,
        "end": 388,
        "startLoc": {
          "line": 330,
          "column": 2,
          "position": 2714
        },
        "endLoc": {
          "line": 388,
          "column": 7,
          "position": 3267
        }
      }
    },
    {
      "format": "tsx",
      "lines": 26,
      "fragment": ">\n              </div>\n\n              {/* Effective From */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Effective From *\n                </label>\n                <input\n                  type=\"date\"\n                  value={effectiveFrom}\n                  onChange={(e) => setEffectiveFrom(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              {/* Notes */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Notes (Optional)\n                </label>\n                <textarea\n                  value={notes}\n                  onChange={(e) => setNotes(e.target.value)}\n                  rows={3}\n                  placeholder=\"Add any relevant notes about this attachment...",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/AssetComboManager.enhanced.tsx",
        "start": 528,
        "end": 553,
        "startLoc": {
          "line": 528,
          "column": 7,
          "position": 4234
        },
        "endLoc": {
          "line": 553,
          "column": 48,
          "position": 4395
        }
      },
      "secondFile": {
        "name": "src/components/AssetComboManager.tsx",
        "start": 457,
        "end": 482,
        "startLoc": {
          "line": 457,
          "column": 7,
          "position": 3838
        },
        "endLoc": {
          "line": 482,
          "column": 50,
          "position": 3999
        }
      }
    },
    {
      "format": "css",
      "lines": 16,
      "fragment": "--color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-card: var(--card);\n  --color-card-foreground: var(--card-foreground);\n  --color-popover: var(--popover);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-destructive-foreground",
      "tokens": 0,
      "firstFile": {
        "name": "src/index.css",
        "start": 84,
        "end": 99,
        "startLoc": {
          "line": 84,
          "column": 3,
          "position": 725
        },
        "endLoc": {
          "line": 99,
          "column": 31,
          "position": 875
        }
      },
      "secondFile": {
        "name": "src/main.css",
        "start": 114,
        "end": 129,
        "startLoc": {
          "line": 114,
          "column": 3,
          "position": 1046
        },
        "endLoc": {
          "line": 129,
          "column": 15,
          "position": 1196
        }
      }
    }
  ]
}