<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>API-Documentation</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">API-Documentation</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#fleet-management-platform---api-documentation"
id="toc-fleet-management-platform---api-documentation">Fleet Management
Platform - API Documentation</a>
<ul>
<li><a href="#table-of-contents" id="toc-table-of-contents">Table of
Contents</a></li>
<li><a href="#overview" id="toc-overview">Overview</a>
<ul>
<li><a href="#key-features" id="toc-key-features">Key Features</a></li>
<li><a href="#technology-stack" id="toc-technology-stack">Technology
Stack</a></li>
</ul></li>
<li><a href="#authentication-authorization"
id="toc-authentication-authorization">Authentication &amp;
Authorization</a>
<ul>
<li><a href="#authentication-flow"
id="toc-authentication-flow">Authentication Flow</a></li>
<li><a href="#authorization-headers"
id="toc-authorization-headers">Authorization Headers</a></li>
<li><a href="#csrf-protection" id="toc-csrf-protection">CSRF
Protection</a></li>
<li><a href="#role-based-access-control-rbac"
id="toc-role-based-access-control-rbac">Role-Based Access Control
(RBAC)</a></li>
<li><a href="#permissions-structure"
id="toc-permissions-structure">Permissions Structure</a></li>
</ul></li>
<li><a href="#api-categories" id="toc-api-categories">API
Categories</a></li>
<li><a href="#core-fleet-management" id="toc-core-fleet-management">Core
Fleet Management</a>
<ul>
<li><a href="#vehicles" id="toc-vehicles">Vehicles</a></li>
<li><a href="#drivers" id="toc-drivers">Drivers</a></li>
</ul></li>
<li><a href="#asset-management" id="toc-asset-management">Asset
Management</a>
<ul>
<li><a href="#heavy-equipment" id="toc-heavy-equipment">Heavy
Equipment</a></li>
</ul></li>
<li><a href="#maintenance-work-orders"
id="toc-maintenance-work-orders">Maintenance &amp; Work Orders</a>
<ul>
<li><a href="#maintenance-records"
id="toc-maintenance-records">Maintenance Records</a></li>
<li><a href="#work-orders" id="toc-work-orders">Work Orders</a></li>
</ul></li>
<li><a href="#fuel-management" id="toc-fuel-management">Fuel
Management</a>
<ul>
<li><a href="#fuel-transactions" id="toc-fuel-transactions">Fuel
Transactions</a></li>
</ul></li>
<li><a href="#gps-tracking" id="toc-gps-tracking">GPS &amp; Tracking</a>
<ul>
<li><a href="#real-time-vehicle-positions"
id="toc-real-time-vehicle-positions">Real-Time Vehicle
Positions</a></li>
<li><a href="#geofencing" id="toc-geofencing">Geofencing</a></li>
</ul></li>
<li><a href="#ev-management" id="toc-ev-management">EV Management</a>
<ul>
<li><a href="#charging-stations" id="toc-charging-stations">Charging
Stations</a></li>
<li><a href="#charging-sessions" id="toc-charging-sessions">Charging
Sessions</a></li>
</ul></li>
<li><a href="#document-management" id="toc-document-management">Document
Management</a>
<ul>
<li><a href="#documents" id="toc-documents">Documents</a></li>
</ul></li>
<li><a href="#analytics-reporting"
id="toc-analytics-reporting">Analytics &amp; Reporting</a>
<ul>
<li><a href="#executive-dashboard"
id="toc-executive-dashboard">Executive Dashboard</a></li>
<li><a href="#custom-reports" id="toc-custom-reports">Custom
Reports</a></li>
</ul></li>
<li><a href="#ai-automation" id="toc-ai-automation">AI &amp;
Automation</a>
<ul>
<li><a href="#ai-powered-semantic-search"
id="toc-ai-powered-semantic-search">AI-Powered Semantic Search</a></li>
<li><a href="#ai-task-prioritization" id="toc-ai-task-prioritization">AI
Task Prioritization</a></li>
<li><a href="#ai-dispatch-optimization"
id="toc-ai-dispatch-optimization">AI Dispatch Optimization</a></li>
</ul></li>
<li><a href="#mobile-integration" id="toc-mobile-integration">Mobile
Integration</a>
<ul>
<li><a href="#mobile-notifications" id="toc-mobile-notifications">Mobile
Notifications</a></li>
<li><a href="#mobile-trip-logging" id="toc-mobile-trip-logging">Mobile
Trip Logging</a></li>
<li><a href="#mobile-photo-upload" id="toc-mobile-photo-upload">Mobile
Photo Upload</a></li>
</ul></li>
<li><a href="#safety-compliance" id="toc-safety-compliance">Safety &amp;
Compliance</a>
<ul>
<li><a href="#safety-incidents" id="toc-safety-incidents">Safety
Incidents</a></li>
<li><a href="#osha-compliance" id="toc-osha-compliance">OSHA
Compliance</a></li>
<li><a href="#vehicle-inspections" id="toc-vehicle-inspections">Vehicle
Inspections</a></li>
</ul></li>
<li><a href="#integration-guides"
id="toc-integration-guides">Integration Guides</a>
<ul>
<li><a href="#getting-started" id="toc-getting-started">Getting
Started</a></li>
<li><a href="#code-examples" id="toc-code-examples">Code
Examples</a></li>
<li><a href="#webhook-integration" id="toc-webhook-integration">Webhook
Integration</a></li>
</ul></li>
<li><a href="#error-handling" id="toc-error-handling">Error Handling</a>
<ul>
<li><a href="#standard-error-response"
id="toc-standard-error-response">Standard Error Response</a></li>
<li><a href="#http-status-codes" id="toc-http-status-codes">HTTP Status
Codes</a></li>
<li><a href="#error-codes" id="toc-error-codes">Error Codes</a></li>
<li><a href="#example-error-responses"
id="toc-example-error-responses">Example Error Responses</a></li>
</ul></li>
<li><a href="#rate-limiting" id="toc-rate-limiting">Rate Limiting</a>
<ul>
<li><a href="#rate-limit-tiers" id="toc-rate-limit-tiers">Rate Limit
Tiers</a></li>
<li><a href="#rate-limit-headers" id="toc-rate-limit-headers">Rate Limit
Headers</a></li>
<li><a href="#handling-rate-limits"
id="toc-handling-rate-limits">Handling Rate Limits</a></li>
</ul></li>
<li><a href="#best-practices" id="toc-best-practices">Best Practices</a>
<ul>
<li><a href="#security-best-practices"
id="toc-security-best-practices">Security Best Practices</a></li>
<li><a href="#performance-best-practices"
id="toc-performance-best-practices">Performance Best Practices</a></li>
<li><a href="#error-handling-best-practices"
id="toc-error-handling-best-practices">Error Handling Best
Practices</a></li>
<li><a href="#integration-best-practices"
id="toc-integration-best-practices">Integration Best Practices</a></li>
<li><a href="#testing-best-practices"
id="toc-testing-best-practices">Testing Best Practices</a></li>
</ul></li>
<li><a href="#postman-collection" id="toc-postman-collection">Postman
Collection</a>
<ul>
<li><a href="#import-collection" id="toc-import-collection">Import
Collection</a></li>
<li><a href="#environment-variables"
id="toc-environment-variables">Environment Variables</a></li>
<li><a href="#pre-request-scripts"
id="toc-pre-request-scripts">Pre-request Scripts</a></li>
</ul></li>
<li><a href="#support-resources" id="toc-support-resources">Support
&amp; Resources</a>
<ul>
<li><a href="#documentation"
id="toc-documentation">Documentation</a></li>
<li><a href="#support-channels" id="toc-support-channels">Support
Channels</a></li>
<li><a href="#sla-uptime" id="toc-sla-uptime">SLA &amp; Uptime</a></li>
<li><a href="#compliance" id="toc-compliance">Compliance</a></li>
</ul></li>
<li><a href="#appendix" id="toc-appendix">Appendix</a>
<ul>
<li><a href="#glossary" id="toc-glossary">Glossary</a></li>
<li><a href="#common-abbreviations" id="toc-common-abbreviations">Common
Abbreviations</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="fleet-management-platform---api-documentation">Fleet Management
Platform - API Documentation</h1>
<p><strong>Version:</strong> 1.0.0 <strong>Base URL:</strong>
<code>https://proud-bay-0fdc8040f.3.azurestaticapps.net/api</code>
<strong>Last Updated:</strong> January 2, 2026</p>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ol type="1">
<li><a href="#overview">Overview</a></li>
<li><a href="#authentication--authorization">Authentication &amp;
Authorization</a></li>
<li><a href="#api-categories">API Categories</a></li>
<li><a href="#core-fleet-management">Core Fleet Management</a></li>
<li><a href="#asset-management">Asset Management</a></li>
<li><a href="#maintenance--work-orders">Maintenance &amp; Work
Orders</a></li>
<li><a href="#fuel-management">Fuel Management</a></li>
<li><a href="#gps--tracking">GPS &amp; Tracking</a></li>
<li><a href="#ev-management">EV Management</a></li>
<li><a href="#document-management">Document Management</a></li>
<li><a href="#analytics--reporting">Analytics &amp; Reporting</a></li>
<li><a href="#ai--automation">AI &amp; Automation</a></li>
<li><a href="#mobile-integration">Mobile Integration</a></li>
<li><a href="#safety--compliance">Safety &amp; Compliance</a></li>
<li><a href="#integration-guides">Integration Guides</a></li>
<li><a href="#error-handling">Error Handling</a></li>
<li><a href="#rate-limiting">Rate Limiting</a></li>
<li><a href="#best-practices">Best Practices</a></li>
</ol>
<hr />
<h2 id="overview">Overview</h2>
<p>The Fleet Management Platform API is a comprehensive RESTful API
designed for managing vehicle fleets, assets, maintenance, compliance,
and operations. It provides secure, scalable endpoints with multi-tenant
isolation, role-based access control (RBAC), and real-time
capabilities.</p>
<h3 id="key-features">Key Features</h3>
<ul>
<li><strong>Multi-tenant Architecture</strong>: Complete tenant
isolation with Row-Level Security (RLS)</li>
<li><strong>Role-Based Access Control</strong>: Granular permissions
(Admin, Manager, User, Guest)</li>
<li><strong>Real-time Updates</strong>: WebSocket support for live
data</li>
<li><strong>AI-Powered Features</strong>: Semantic search, predictive
maintenance, route optimization</li>
<li><strong>Comprehensive Auditing</strong>: Full audit trail for all
operations</li>
<li><strong>FIPS-Compliant Security</strong>: Enterprise-grade
encryption and authentication</li>
</ul>
<h3 id="technology-stack">Technology Stack</h3>
<ul>
<li><strong>Runtime</strong>: Node.js with Express</li>
<li><strong>Database</strong>: PostgreSQL with Drizzle ORM</li>
<li><strong>Authentication</strong>: JWT with FIPS-compliant crypto</li>
<li><strong>Caching</strong>: Redis for performance optimization</li>
<li><strong>Monitoring</strong>: Application Insights &amp; Sentry</li>
</ul>
<hr />
<h2 id="authentication-authorization">Authentication &amp;
Authorization</h2>
<h3 id="authentication-flow">Authentication Flow</h3>
<p>The API uses <strong>JWT (JSON Web Tokens)</strong> for
authentication with FIPS 140-2 compliant cryptography.</p>
<h4 id="oauth-2.0-authentication-recommended">1. OAuth 2.0
Authentication (Recommended)</h4>
<p><strong>Endpoint:</strong> <code>POST /api/auth/login</code></p>
<p><strong>Request:</strong></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;email&quot;</span><span class="fu">:</span> <span class="st">&quot;admin@fleet.com&quot;</span><span class="fu">,</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;password&quot;</span><span class="fu">:</span> <span class="st">&quot;SecurePassword123!&quot;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;token&quot;</span><span class="fu">:</span> <span class="st">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><span class="fu">,</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;user&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;uuid&quot;</span><span class="fu">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;email&quot;</span><span class="fu">:</span> <span class="st">&quot;admin@fleet.com&quot;</span><span class="fu">,</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;first_name&quot;</span><span class="fu">:</span> <span class="st">&quot;John&quot;</span><span class="fu">,</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;last_name&quot;</span><span class="fu">:</span> <span class="st">&quot;Doe&quot;</span><span class="fu">,</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;role&quot;</span><span class="fu">:</span> <span class="st">&quot;admin&quot;</span><span class="fu">,</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;permissions&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;vehicle:read&quot;</span><span class="ot">,</span> <span class="st">&quot;vehicle:write&quot;</span><span class="ot">,</span> <span class="er">...</span><span class="ot">]</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;expires_in&quot;</span><span class="fu">:</span> <span class="dv">86400</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="microsoft-azure-ad-authentication">2. Microsoft Azure AD
Authentication</h4>
<p><strong>Endpoint:</strong>
<code>POST /api/microsoft-auth/login</code></p>
<p><strong>Request:</strong></p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;authorization_code_from_azure&quot;</span><span class="fu">,</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;redirect_uri&quot;</span><span class="fu">:</span> <span class="st">&quot;https://yourapp.com/auth/callback&quot;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;token&quot;</span><span class="fu">:</span> <span class="st">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><span class="fu">,</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;user&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="er">...</span> <span class="fu">},</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;microsoft_token&quot;</span><span class="fu">:</span> <span class="st">&quot;azure_access_token&quot;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="authorization-headers">Authorization Headers</h3>
<p>Include the JWT token in all API requests:</p>
<pre class="http"><code>Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></pre>
<h3 id="csrf-protection">CSRF Protection</h3>
<p>For state-changing operations (POST, PUT, DELETE), include a CSRF
token:</p>
<p><strong>Get CSRF Token:</strong></p>
<pre class="http"><code>GET /api/csrf-token</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;csrfToken&quot;</span><span class="fu">:</span> <span class="st">&quot;random-token-here&quot;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Include in requests:</strong></p>
<pre class="http"><code>X-CSRF-Token: random-token-here</code></pre>
<h3 id="role-based-access-control-rbac">Role-Based Access Control
(RBAC)</h3>
<table>
<thead>
<tr>
<th>Role</th>
<th>Permissions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Admin</strong></td>
<td>Full access</td>
<td>Complete system control</td>
</tr>
<tr>
<td><strong>Manager</strong></td>
<td>Read/Write (limited)</td>
<td>Manage fleet operations</td>
</tr>
<tr>
<td><strong>User</strong></td>
<td>Read/Write (own scope)</td>
<td>Standard user access</td>
</tr>
<tr>
<td><strong>Guest</strong></td>
<td>Read-only</td>
<td>View-only access</td>
</tr>
</tbody>
</table>
<h3 id="permissions-structure">Permissions Structure</h3>
<div class="sourceCode" id="cb9"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>PERMISSIONS <span class="op">=</span> {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Vehicles</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  VEHICLE_READ<span class="op">:</span> <span class="st">&quot;vehicle:read&quot;</span><span class="op">,</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  VEHICLE_CREATE<span class="op">:</span> <span class="st">&quot;vehicle:create&quot;</span><span class="op">,</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  VEHICLE_UPDATE<span class="op">:</span> <span class="st">&quot;vehicle:update&quot;</span><span class="op">,</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  VEHICLE_DELETE<span class="op">:</span> <span class="st">&quot;vehicle:delete&quot;</span><span class="op">,</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Maintenance</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  MAINTENANCE_READ<span class="op">:</span> <span class="st">&quot;maintenance:read&quot;</span><span class="op">,</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  MAINTENANCE_CREATE<span class="op">:</span> <span class="st">&quot;maintenance:create&quot;</span><span class="op">,</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  MAINTENANCE_UPDATE<span class="op">:</span> <span class="st">&quot;maintenance:update&quot;</span><span class="op">,</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  MAINTENANCE_DELETE<span class="op">:</span> <span class="st">&quot;maintenance:delete&quot;</span><span class="op">,</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="co">// And more...</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<hr />
<h2 id="api-categories">API Categories</h2>
<p>The API is organized into the following categories:</p>
<ol type="1">
<li><strong>Core Fleet Management</strong> - Vehicles, drivers,
facilities</li>
<li><strong>Asset Management</strong> - Heavy equipment, multi-asset
tracking</li>
<li><strong>Maintenance &amp; Work Orders</strong> -
Preventive/corrective maintenance</li>
<li><strong>Fuel Management</strong> - Transactions, purchasing,
analytics</li>
<li><strong>GPS &amp; Tracking</strong> - Real-time location,
geofencing</li>
<li><strong>EV Management</strong> - Charging stations, sessions,
optimization</li>
<li><strong>Document Management</strong> - OCR, storage, search</li>
<li><strong>Analytics &amp; Reporting</strong> - Executive dashboards,
custom reports</li>
<li><strong>AI &amp; Automation</strong> - Semantic search, predictive
analytics</li>
<li><strong>Mobile Integration</strong> - Mobile apps, OBD2,
notifications</li>
<li><strong>Safety &amp; Compliance</strong> - Incidents, OSHA,
inspections</li>
</ol>
<hr />
<h2 id="core-fleet-management">Core Fleet Management</h2>
<h3 id="vehicles">Vehicles</h3>
<h4 id="list-all-vehicles">List All Vehicles</h4>
<pre class="http"><code>GET /api/vehicles?page=1&amp;pageSize=20&amp;search=ford&amp;status=active</code></pre>
<p><strong>Query Parameters:</strong> - <code>page</code> (number): Page
number (default: 1) - <code>pageSize</code> (number): Items per page
(default: 20, max: 100) - <code>search</code> (string): Search by make,
model, VIN, or license plate - <code>status</code> (string): Filter by
status (active, maintenance, retired)</p>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vin&quot;</span><span class="fu">:</span> <span class="st">&quot;1HGBH41JXMN109186&quot;</span><span class="fu">,</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;license_plate&quot;</span><span class="fu">:</span> <span class="st">&quot;ABC-123&quot;</span><span class="fu">,</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;make&quot;</span><span class="fu">:</span> <span class="st">&quot;Ford&quot;</span><span class="fu">,</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;model&quot;</span><span class="fu">:</span> <span class="st">&quot;F-150&quot;</span><span class="fu">,</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;year&quot;</span><span class="fu">:</span> <span class="dv">2023</span><span class="fu">,</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;active&quot;</span><span class="fu">,</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;odometer&quot;</span><span class="fu">:</span> <span class="dv">45678</span><span class="fu">,</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;fuel_type&quot;</span><span class="fu">:</span> <span class="st">&quot;gasoline&quot;</span><span class="fu">,</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;assigned_driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;facility_id&quot;</span><span class="fu">:</span> <span class="st">&quot;facility-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;updated_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;total&quot;</span><span class="fu">:</span> <span class="dv">150</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="get-vehicle-by-id">Get Vehicle by ID</h4>
<pre class="http"><code>GET /api/vehicles/:id</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;vin&quot;</span><span class="fu">:</span> <span class="st">&quot;1HGBH41JXMN109186&quot;</span><span class="fu">,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;license_plate&quot;</span><span class="fu">:</span> <span class="st">&quot;ABC-123&quot;</span><span class="fu">,</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;make&quot;</span><span class="fu">:</span> <span class="st">&quot;Ford&quot;</span><span class="fu">,</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;model&quot;</span><span class="fu">:</span> <span class="st">&quot;F-150&quot;</span><span class="fu">,</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;year&quot;</span><span class="fu">:</span> <span class="dv">2023</span><span class="fu">,</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;active&quot;</span><span class="fu">,</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;odometer&quot;</span><span class="fu">:</span> <span class="dv">45678</span><span class="fu">,</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;engine_hours&quot;</span><span class="fu">:</span> <span class="dv">1234</span><span class="fu">,</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;fuel_type&quot;</span><span class="fu">:</span> <span class="st">&quot;gasoline&quot;</span><span class="fu">,</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;fuel_capacity&quot;</span><span class="fu">:</span> <span class="fl">26.0</span><span class="fu">,</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;assigned_driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;facility_id&quot;</span><span class="fu">:</span> <span class="st">&quot;facility-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;purchase_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2023-01-15&quot;</span><span class="fu">,</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;purchase_price&quot;</span><span class="fu">:</span> <span class="fl">45000.00</span><span class="fu">,</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;current_value&quot;</span><span class="fu">:</span> <span class="fl">38000.00</span><span class="fu">,</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;insurance_policy&quot;</span><span class="fu">:</span> <span class="st">&quot;POL-12345&quot;</span><span class="fu">,</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;registration_expiry&quot;</span><span class="fu">:</span> <span class="st">&quot;2025-01-15&quot;</span><span class="fu">,</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;updated_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="create-vehicle">Create Vehicle</h4>
<pre class="http"><code>POST /api/vehicles
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vin&quot;</span><span class="fu">:</span> <span class="st">&quot;1HGBH41JXMN109186&quot;</span><span class="fu">,</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;license_plate&quot;</span><span class="fu">:</span> <span class="st">&quot;ABC-123&quot;</span><span class="fu">,</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;make&quot;</span><span class="fu">:</span> <span class="st">&quot;Ford&quot;</span><span class="fu">,</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;model&quot;</span><span class="fu">:</span> <span class="st">&quot;F-150&quot;</span><span class="fu">,</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;year&quot;</span><span class="fu">:</span> <span class="dv">2023</span><span class="fu">,</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;fuel_type&quot;</span><span class="fu">:</span> <span class="st">&quot;gasoline&quot;</span><span class="fu">,</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;fuel_capacity&quot;</span><span class="fu">:</span> <span class="fl">26.0</span><span class="fu">,</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;active&quot;</span><span class="fu">,</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;purchase_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2023-01-15&quot;</span><span class="fu">,</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;purchase_price&quot;</span><span class="fu">:</span> <span class="fl">45000.00</span><span class="fu">,</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;facility_id&quot;</span><span class="fu">:</span> <span class="st">&quot;facility-uuid&quot;</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;vin&quot;</span><span class="fu">:</span> <span class="st">&quot;1HGBH41JXMN109186&quot;</span><span class="fu">,</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="er">...</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Validation Rules:</strong> - <code>vin</code>: 17 characters,
alphanumeric - <code>year</code>: 1900-2100 - <code>make</code>,
<code>model</code>: Required, 1-100 characters - <code>fuel_type</code>:
One of: gasoline, diesel, electric, hybrid, cng, lpg</p>
<h4 id="update-vehicle">Update Vehicle</h4>
<pre class="http"><code>PUT /api/vehicles/:id
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;odometer&quot;</span><span class="fu">:</span> <span class="dv">46000</span><span class="fu">,</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;maintenance&quot;</span><span class="fu">,</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;assigned_driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;new-driver-uuid&quot;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="delete-vehicle">Delete Vehicle</h4>
<pre class="http"><code>DELETE /api/vehicles/:id
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;message&quot;</span><span class="fu">:</span> <span class="st">&quot;Vehicle deleted successfully&quot;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h3 id="drivers">Drivers</h3>
<h4 id="list-all-drivers">List All Drivers</h4>
<pre class="http"><code>GET /api/drivers?page=1&amp;limit=50</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;email&quot;</span><span class="fu">:</span> <span class="st">&quot;john.doe@fleet.com&quot;</span><span class="fu">,</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;first_name&quot;</span><span class="fu">:</span> <span class="st">&quot;John&quot;</span><span class="fu">,</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;last_name&quot;</span><span class="fu">:</span> <span class="st">&quot;Doe&quot;</span><span class="fu">,</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phone&quot;</span><span class="fu">:</span> <span class="st">&quot;+1-555-0100&quot;</span><span class="fu">,</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;license_number&quot;</span><span class="fu">:</span> <span class="st">&quot;D1234567&quot;</span><span class="fu">,</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;license_expiry&quot;</span><span class="fu">:</span> <span class="st">&quot;2026-12-31&quot;</span><span class="fu">,</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;license_class&quot;</span><span class="fu">:</span> <span class="st">&quot;CDL-A&quot;</span><span class="fu">,</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;hire_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2020-01-15&quot;</span><span class="fu">,</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;is_active&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;role&quot;</span><span class="fu">:</span> <span class="st">&quot;driver&quot;</span><span class="fu">,</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2020-01-15T10:00:00Z&quot;</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;pagination&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;page&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;limit&quot;</span><span class="fu">:</span> <span class="dv">50</span><span class="fu">,</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;total&quot;</span><span class="fu">:</span> <span class="dv">125</span><span class="fu">,</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;pages&quot;</span><span class="fu">:</span> <span class="dv">3</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="get-driver-by-id">Get Driver by ID</h4>
<pre class="http"><code>GET /api/drivers/:id</code></pre>
<h4 id="create-driver">Create Driver</h4>
<pre class="http"><code>POST /api/drivers
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;email&quot;</span><span class="fu">:</span> <span class="st">&quot;john.doe@fleet.com&quot;</span><span class="fu">,</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;first_name&quot;</span><span class="fu">:</span> <span class="st">&quot;John&quot;</span><span class="fu">,</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;last_name&quot;</span><span class="fu">:</span> <span class="st">&quot;Doe&quot;</span><span class="fu">,</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;phone&quot;</span><span class="fu">:</span> <span class="st">&quot;+1-555-0100&quot;</span><span class="fu">,</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;license_number&quot;</span><span class="fu">:</span> <span class="st">&quot;D1234567&quot;</span><span class="fu">,</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;license_expiry&quot;</span><span class="fu">:</span> <span class="st">&quot;2026-12-31&quot;</span><span class="fu">,</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;license_class&quot;</span><span class="fu">:</span> <span class="st">&quot;CDL-A&quot;</span><span class="fu">,</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;hire_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2020-01-15&quot;</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="asset-management">Asset Management</h2>
<h3 id="heavy-equipment">Heavy Equipment</h3>
<p>Track construction equipment, trailers, and other fleet assets.</p>
<h4 id="list-heavy-equipment">List Heavy Equipment</h4>
<pre class="http"><code>GET /api/heavy-equipment?type=excavator&amp;status=active</code></pre>
<p><strong>Query Parameters:</strong> - <code>type</code>: Filter by
equipment type (excavator, dozer, crane, etc.) - <code>status</code>:
Filter by status (active, maintenance, retired) - <code>page</code>,
<code>pageSize</code>: Pagination</p>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;equipment-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;asset_type&quot;</span><span class="fu">:</span> <span class="st">&quot;excavator&quot;</span><span class="fu">,</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;make&quot;</span><span class="fu">:</span> <span class="st">&quot;Caterpillar&quot;</span><span class="fu">,</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;model&quot;</span><span class="fu">:</span> <span class="st">&quot;320&quot;</span><span class="fu">,</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;serial_number&quot;</span><span class="fu">:</span> <span class="st">&quot;CAT123456&quot;</span><span class="fu">,</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;year&quot;</span><span class="fu">:</span> <span class="dv">2022</span><span class="fu">,</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;active&quot;</span><span class="fu">,</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;engine_hours&quot;</span><span class="fu">:</span> <span class="dv">1500</span><span class="fu">,</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="st">&quot;Site A&quot;</span><span class="fu">,</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;assigned_to&quot;</span><span class="fu">:</span> <span class="st">&quot;operator-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;purchase_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2022-03-15&quot;</span><span class="fu">,</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;purchase_price&quot;</span><span class="fu">:</span> <span class="fl">250000.00</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;total&quot;</span><span class="fu">:</span> <span class="dv">45</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="track-asset-location">Track Asset Location</h4>
<pre class="http"><code>GET /api/assets-mobile/:assetId/location</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;asset_id&quot;</span><span class="fu">:</span> <span class="st">&quot;equipment-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span><span class="fu">,</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;accuracy&quot;</span><span class="fu">:</span> <span class="dv">10</span><span class="fu">,</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;timestamp&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;in_use&quot;</span><span class="fu">,</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;operator&quot;</span><span class="fu">:</span> <span class="st">&quot;John Doe&quot;</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="maintenance-work-orders">Maintenance &amp; Work Orders</h2>
<h3 id="maintenance-records">Maintenance Records</h3>
<h4 id="list-maintenance-records">List Maintenance Records</h4>
<pre class="http"><code>GET /api/maintenance?vehicleId=123&amp;status=pending&amp;page=1&amp;pageSize=20</code></pre>
<p><strong>Query Parameters:</strong> - <code>vehicleId</code> (number):
Filter by vehicle ID - <code>status</code>: Filter by status (pending,
in_progress, completed, cancelled) - <code>type</code>: Filter by type
(preventive, corrective, inspection) - <code>startDate</code>,
<code>endDate</code>: Date range filter</p>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;preventive&quot;</span><span class="fu">,</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;pending&quot;</span><span class="fu">,</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Oil change and tire rotation&quot;</span><span class="fu">,</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;odometer_reading&quot;</span><span class="fu">:</span> <span class="dv">45000</span><span class="fu">,</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;scheduled_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-20&quot;</span><span class="fu">,</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;completed_date&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;technician_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tech-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;cost&quot;</span><span class="fu">:</span> <span class="fl">150.00</span><span class="fu">,</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;notes&quot;</span><span class="fu">:</span> <span class="st">&quot;Due for service&quot;</span><span class="fu">,</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-10T10:00:00Z&quot;</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;total&quot;</span><span class="fu">:</span> <span class="dv">25</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="get-maintenance-by-id">Get Maintenance by ID</h4>
<pre class="http"><code>GET /api/maintenance/:id</code></pre>
<h4 id="get-maintenance-history-by-vehicle">Get Maintenance History by
Vehicle</h4>
<pre class="http"><code>GET /api/maintenance/vehicle/:vehicleId</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;preventive&quot;</span><span class="fu">,</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Oil change&quot;</span><span class="fu">,</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;completed_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15&quot;</span><span class="fu">,</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;cost&quot;</span><span class="fu">:</span> <span class="fl">75.00</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;corrective&quot;</span><span class="fu">,</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Brake replacement&quot;</span><span class="fu">,</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;completed_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-10&quot;</span><span class="fu">,</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;cost&quot;</span><span class="fu">:</span> <span class="fl">450.00</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;total_cost&quot;</span><span class="fu">:</span> <span class="fl">525.00</span><span class="fu">,</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;total_records&quot;</span><span class="fu">:</span> <span class="dv">2</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="create-maintenance-record">Create Maintenance Record</h4>
<pre class="http"><code>POST /api/maintenance
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;preventive&quot;</span><span class="fu">,</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Oil change and tire rotation&quot;</span><span class="fu">,</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;odometer_reading&quot;</span><span class="fu">:</span> <span class="dv">45000</span><span class="fu">,</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;scheduled_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-20&quot;</span><span class="fu">,</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;technician_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tech-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;estimated_cost&quot;</span><span class="fu">:</span> <span class="fl">150.00</span><span class="fu">,</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;notes&quot;</span><span class="fu">:</span> <span class="st">&quot;Regular maintenance&quot;</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Validation:</strong> - <code>vehicle_id</code>: Required,
must exist in tenant - <code>type</code>: One of: preventive,
corrective, inspection - <code>description</code>: Required, 1-1000
characters - <code>odometer_reading</code>: Optional, positive
number</p>
<h4 id="update-maintenance-record">Update Maintenance Record</h4>
<pre class="http"><code>PUT /api/maintenance/:id
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;completed&quot;</span><span class="fu">,</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;completed_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-20&quot;</span><span class="fu">,</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;actual_cost&quot;</span><span class="fu">:</span> <span class="fl">165.00</span><span class="fu">,</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;notes&quot;</span><span class="fu">:</span> <span class="st">&quot;Completed successfully. Also replaced air filter.&quot;</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h3 id="work-orders">Work Orders</h3>
<h4 id="list-work-orders">List Work Orders</h4>
<pre class="http"><code>GET /api/work-orders?status=open&amp;priority=high&amp;page=1&amp;limit=50</code></pre>
<p><strong>Query Parameters:</strong> - <code>status</code>: Filter by
status (open, in_progress, on_hold, completed, cancelled) -
<code>priority</code>: Filter by priority (low, medium, high, critical)
- <code>facility_id</code>: Filter by facility -
<code>assigned_technician_id</code>: Filter by technician</p>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;wo-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;work_order_number&quot;</span><span class="fu">:</span> <span class="st">&quot;WO-2024-001&quot;</span><span class="fu">,</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="st">&quot;vehicle-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;facility_id&quot;</span><span class="fu">:</span> <span class="st">&quot;facility-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;assigned_technician_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tech-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;preventive&quot;</span><span class="fu">,</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;priority&quot;</span><span class="fu">:</span> <span class="st">&quot;high&quot;</span><span class="fu">,</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;open&quot;</span><span class="fu">,</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Engine diagnostic and repair&quot;</span><span class="fu">,</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;odometer_reading&quot;</span><span class="fu">:</span> <span class="dv">50000</span><span class="fu">,</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;engine_hours_reading&quot;</span><span class="fu">:</span> <span class="dv">1250</span><span class="fu">,</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;scheduled_start&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-20T08:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;scheduled_end&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-20T17:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;actual_start&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;actual_end&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;labor_cost&quot;</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;parts_cost&quot;</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;total_cost&quot;</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;notes&quot;</span><span class="fu">:</span> <span class="st">&quot;&quot;</span><span class="fu">,</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;pagination&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;page&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;limit&quot;</span><span class="fu">:</span> <span class="dv">50</span><span class="fu">,</span></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;total&quot;</span><span class="fu">:</span> <span class="dv">42</span></span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="create-work-order">Create Work Order</h4>
<pre class="http"><code>POST /api/work-orders
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;work_order_number&quot;</span><span class="fu">:</span> <span class="st">&quot;WO-2024-001&quot;</span><span class="fu">,</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="st">&quot;vehicle-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;facility_id&quot;</span><span class="fu">:</span> <span class="st">&quot;facility-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;assigned_technician_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tech-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;preventive&quot;</span><span class="fu">,</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;priority&quot;</span><span class="fu">:</span> <span class="st">&quot;high&quot;</span><span class="fu">,</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Engine diagnostic and repair&quot;</span><span class="fu">,</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;odometer_reading&quot;</span><span class="fu">:</span> <span class="dv">50000</span><span class="fu">,</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;scheduled_start&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-20T08:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;scheduled_end&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-20T17:00:00Z&quot;</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="fuel-management">Fuel Management</h2>
<h3 id="fuel-transactions">Fuel Transactions</h3>
<h4 id="list-fuel-transactions">List Fuel Transactions</h4>
<pre class="http"><code>GET /api/fuel-transactions?vehicleId=123&amp;startDate=2024-01-01&amp;endDate=2024-01-31</code></pre>
<p><strong>Query Parameters:</strong> - <code>vehicleId</code> (number):
Filter by vehicle - <code>driverId</code> (string): Filter by driver -
<code>paymentMethod</code>: Filter by payment method (fleet_card, cash,
credit_card) - <code>startDate</code>, <code>endDate</code>: Date range
filter - <code>page</code>, <code>pageSize</code>: Pagination</p>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;transaction_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;odometer&quot;</span><span class="fu">:</span> <span class="dv">45678</span><span class="fu">,</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;gallons&quot;</span><span class="fu">:</span> <span class="fl">15.5</span><span class="fu">,</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;price_per_gallon&quot;</span><span class="fu">:</span> <span class="fl">3.45</span><span class="fu">,</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;total_cost&quot;</span><span class="fu">:</span> <span class="fl">53.48</span><span class="fu">,</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;fuel_type&quot;</span><span class="fu">:</span> <span class="st">&quot;gasoline&quot;</span><span class="fu">,</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;payment_method&quot;</span><span class="fu">:</span> <span class="st">&quot;fleet_card&quot;</span><span class="fu">,</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;card_last_four&quot;</span><span class="fu">:</span> <span class="st">&quot;1234&quot;</span><span class="fu">,</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;merchant&quot;</span><span class="fu">:</span> <span class="st">&quot;Shell Station&quot;</span><span class="fu">,</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="st">&quot;123 Main St, Tallahassee, FL&quot;</span><span class="fu">,</span></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:35:00Z&quot;</span></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;total&quot;</span><span class="fu">:</span> <span class="dv">156</span></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="get-fuel-transaction-by-id">Get Fuel Transaction by ID</h4>
<pre class="http"><code>GET /api/fuel-transactions/:id</code></pre>
<h4 id="create-fuel-transaction">Create Fuel Transaction</h4>
<pre class="http"><code>POST /api/fuel-transactions
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;transaction_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;odometer&quot;</span><span class="fu">:</span> <span class="dv">45678</span><span class="fu">,</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;gallons&quot;</span><span class="fu">:</span> <span class="fl">15.5</span><span class="fu">,</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;price_per_gallon&quot;</span><span class="fu">:</span> <span class="fl">3.45</span><span class="fu">,</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;fuel_type&quot;</span><span class="fu">:</span> <span class="st">&quot;gasoline&quot;</span><span class="fu">,</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;payment_method&quot;</span><span class="fu">:</span> <span class="st">&quot;fleet_card&quot;</span><span class="fu">,</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;card_last_four&quot;</span><span class="fu">:</span> <span class="st">&quot;1234&quot;</span><span class="fu">,</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;merchant&quot;</span><span class="fu">:</span> <span class="st">&quot;Shell Station&quot;</span><span class="fu">,</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="st">&quot;123 Main St, Tallahassee, FL&quot;</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Validation:</strong> - <code>vehicle_id</code>: Required,
must exist in tenant - <code>gallons</code>: Required, positive number -
<code>price_per_gallon</code>: Required, positive number -
<code>fuel_type</code>: One of: gasoline, diesel, electric, hybrid, cng,
lpg - <code>payment_method</code>: One of: fleet_card, cash,
credit_card, invoice</p>
<hr />
<h2 id="gps-tracking">GPS &amp; Tracking</h2>
<h3 id="real-time-vehicle-positions">Real-Time Vehicle Positions</h3>
<h4 id="get-all-vehicle-positions">Get All Vehicle Positions</h4>
<pre class="http"><code>GET /api/gps?status=moving&amp;page=1&amp;limit=50</code></pre>
<p><strong>Query Parameters:</strong> - <code>status</code>: Filter by
status (moving, idle, stopped) - <code>minLat</code>,
<code>maxLat</code>, <code>minLng</code>, <code>maxLng</code>: Bounding
box filter - <code>page</code>, <code>limit</code>: Pagination</p>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;success&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span><span class="fu">,</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;speed&quot;</span><span class="fu">:</span> <span class="fl">45.5</span><span class="fu">,</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;heading&quot;</span><span class="fu">:</span> <span class="dv">90</span><span class="fu">,</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;moving&quot;</span><span class="fu">,</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;odometer&quot;</span><span class="fu">:</span> <span class="dv">45678</span><span class="fu">,</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;timestamp&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;pagination&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;page&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;limit&quot;</span><span class="fu">:</span> <span class="dv">50</span><span class="fu">,</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;total&quot;</span><span class="fu">:</span> <span class="dv">150</span><span class="fu">,</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;totalPages&quot;</span><span class="fu">:</span> <span class="dv">3</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="get-vehicle-position-history">Get Vehicle Position History</h4>
<pre class="http"><code>GET /api/gps/vehicle/:vehicleId/history?startTime=2024-01-15T00:00:00Z&amp;endTime=2024-01-15T23:59:59Z</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;success&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span><span class="fu">,</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;speed&quot;</span><span class="fu">:</span> <span class="fl">45.5</span><span class="fu">,</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;heading&quot;</span><span class="fu">:</span> <span class="dv">90</span><span class="fu">,</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;timestamp&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T08:00:00Z&quot;</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4450</span><span class="fu">,</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2900</span><span class="fu">,</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;speed&quot;</span><span class="fu">:</span> <span class="fl">50.0</span><span class="fu">,</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;heading&quot;</span><span class="fu">:</span> <span class="dv">95</span><span class="fu">,</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;timestamp&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T08:05:00Z&quot;</span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;total_points&quot;</span><span class="fu">:</span> <span class="dv">288</span></span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="geofencing">Geofencing</h3>
<h4 id="list-geofences">List Geofences</h4>
<pre class="http"><code>GET /api/geofences</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb53"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;geofence-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Main Depot&quot;</span><span class="fu">,</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;facility&quot;</span><span class="fu">,</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;geometry&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Polygon&quot;</span><span class="fu">,</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;coordinates&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>          <span class="ot">[</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>            <span class="ot">[</span><span class="fl">-84.2807</span><span class="ot">,</span> <span class="fl">30.4383</span><span class="ot">],</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>            <span class="ot">[</span><span class="fl">-84.2750</span><span class="ot">,</span> <span class="fl">30.4383</span><span class="ot">],</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>            <span class="ot">[</span><span class="fl">-84.2750</span><span class="ot">,</span> <span class="fl">30.4420</span><span class="ot">],</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>            <span class="ot">[</span><span class="fl">-84.2807</span><span class="ot">,</span> <span class="fl">30.4420</span><span class="ot">],</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>            <span class="ot">[</span><span class="fl">-84.2807</span><span class="ot">,</span> <span class="fl">30.4383</span><span class="ot">]</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>          <span class="ot">]</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>        <span class="ot">]</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">},</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;alerts_enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-10T10:00:00Z&quot;</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="create-geofence">Create Geofence</h4>
<pre class="http"><code>POST /api/geofences
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb55"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Service Area North&quot;</span><span class="fu">,</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;service_area&quot;</span><span class="fu">,</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;geometry&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Polygon&quot;</span><span class="fu">,</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;coordinates&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="er">...</span><span class="ot">]</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;alerts_enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;alert_on_entry&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;alert_on_exit&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="get-geofence-alerts">Get Geofence Alerts</h4>
<pre class="http"><code>GET /api/gps/geofence-alerts?startDate=2024-01-01&amp;endDate=2024-01-31</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb57"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;alert-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;geofence_id&quot;</span><span class="fu">:</span> <span class="st">&quot;geofence-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;alert_type&quot;</span><span class="fu">:</span> <span class="st">&quot;exit&quot;</span><span class="fu">,</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;timestamp&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="ev-management">EV Management</h2>
<h3 id="charging-stations">Charging Stations</h3>
<h4 id="list-charging-stations">List Charging Stations</h4>
<pre class="http"><code>GET /api/charging-stations?status=available</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb59"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;station-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Depot Charger 1&quot;</span><span class="fu">,</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="st">&quot;Main Depot&quot;</span><span class="fu">,</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span><span class="fu">,</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;available&quot;</span><span class="fu">,</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;power_output_kw&quot;</span><span class="fu">:</span> <span class="dv">50</span><span class="fu">,</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;connector_type&quot;</span><span class="fu">:</span> <span class="st">&quot;CCS&quot;</span><span class="fu">,</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;cost_per_kwh&quot;</span><span class="fu">:</span> <span class="fl">0.12</span><span class="fu">,</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;is_public&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2023-06-15T10:00:00Z&quot;</span></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="get-charging-station-by-id">Get Charging Station by ID</h4>
<pre class="http"><code>GET /api/charging-stations/:id</code></pre>
<h3 id="charging-sessions">Charging Sessions</h3>
<h4 id="list-charging-sessions">List Charging Sessions</h4>
<pre class="http"><code>GET /api/charging-sessions?vehicleId=123&amp;status=active</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;session-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;station_id&quot;</span><span class="fu">:</span> <span class="st">&quot;station-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;start_time&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;end_time&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;start_battery_level&quot;</span><span class="fu">:</span> <span class="dv">20</span><span class="fu">,</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;end_battery_level&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;energy_delivered_kwh&quot;</span><span class="fu">:</span> <span class="fl">15.5</span><span class="fu">,</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;cost&quot;</span><span class="fu">:</span> <span class="fl">1.86</span><span class="fu">,</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;active&quot;</span><span class="fu">,</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="start-charging-session">Start Charging Session</h4>
<pre class="http"><code>POST /api/charging-sessions
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb64"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;station_id&quot;</span><span class="fu">:</span> <span class="st">&quot;station-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;start_battery_level&quot;</span><span class="fu">:</span> <span class="dv">20</span><span class="fu">,</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="end-charging-session">End Charging Session</h4>
<pre class="http"><code>PUT /api/charging-sessions/:id/complete
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb66"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;end_battery_level&quot;</span><span class="fu">:</span> <span class="dv">80</span><span class="fu">,</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;energy_delivered_kwh&quot;</span><span class="fu">:</span> <span class="fl">25.5</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="document-management">Document Management</h2>
<h3 id="documents">Documents</h3>
<h4 id="upload-document">Upload Document</h4>
<pre class="http"><code>POST /api/documents
Content-Type: multipart/form-data
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Form Data:</strong> - <code>file</code>: Document file (PDF,
DOCX, images) - <code>document_type</code>: Type of document (invoice,
registration, insurance, etc.) - <code>vehicle_id</code>: (Optional)
Associated vehicle - <code>driver_id</code>: (Optional) Associated
driver - <code>description</code>: Document description</p>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb68"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;doc-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;filename&quot;</span><span class="fu">:</span> <span class="st">&quot;registration.pdf&quot;</span><span class="fu">,</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;document_type&quot;</span><span class="fu">:</span> <span class="st">&quot;registration&quot;</span><span class="fu">,</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;file_size&quot;</span><span class="fu">:</span> <span class="dv">1048576</span><span class="fu">,</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;mime_type&quot;</span><span class="fu">:</span> <span class="st">&quot;application/pdf&quot;</span><span class="fu">,</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;storage_path&quot;</span><span class="fu">:</span> <span class="st">&quot;documents/2024/01/registration.pdf&quot;</span><span class="fu">,</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;ocr_status&quot;</span><span class="fu">:</span> <span class="st">&quot;processing&quot;</span><span class="fu">,</span></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="list-documents">List Documents</h4>
<pre class="http"><code>GET /api/documents?vehicleId=123&amp;documentType=registration</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb70"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;doc-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;filename&quot;</span><span class="fu">:</span> <span class="st">&quot;registration.pdf&quot;</span><span class="fu">,</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;document_type&quot;</span><span class="fu">:</span> <span class="st">&quot;registration&quot;</span><span class="fu">,</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;file_size&quot;</span><span class="fu">:</span> <span class="dv">1048576</span><span class="fu">,</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;download_url&quot;</span><span class="fu">:</span> <span class="st">&quot;/api/documents/doc-uuid/download&quot;</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="download-document">Download Document</h4>
<pre class="http"><code>GET /api/documents/:id/download
Authorization: Bearer {token}</code></pre>
<p><strong>Response:</strong> Binary file stream</p>
<h4 id="ocr-processing">OCR Processing</h4>
<pre class="http"><code>POST /api/documents/:id/ocr
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb73"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;document_id&quot;</span><span class="fu">:</span> <span class="st">&quot;doc-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;ocr_status&quot;</span><span class="fu">:</span> <span class="st">&quot;completed&quot;</span><span class="fu">,</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;extracted_text&quot;</span><span class="fu">:</span> <span class="st">&quot;...&quot;</span><span class="fu">,</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;confidence&quot;</span><span class="fu">:</span> <span class="fl">0.95</span><span class="fu">,</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;entities&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;dates&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;2024-01-15&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;amounts&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="fl">150.00</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;vendor&quot;</span><span class="fu">:</span> <span class="st">&quot;ABC Auto Parts&quot;</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="analytics-reporting">Analytics &amp; Reporting</h2>
<h3 id="executive-dashboard">Executive Dashboard</h3>
<h4 id="get-dashboard-summary">Get Dashboard Summary</h4>
<pre class="http"><code>GET /api/executive-dashboard/summary?period=30d</code></pre>
<p><strong>Query Parameters:</strong> - <code>period</code>: Time period
(7d, 30d, 90d, 1y) - <code>startDate</code>, <code>endDate</code>:
Custom date range</p>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb75"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;summary&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;total_vehicles&quot;</span><span class="fu">:</span> <span class="dv">150</span><span class="fu">,</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;active_vehicles&quot;</span><span class="fu">:</span> <span class="dv">142</span><span class="fu">,</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;in_maintenance&quot;</span><span class="fu">:</span> <span class="dv">8</span><span class="fu">,</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;total_drivers&quot;</span><span class="fu">:</span> <span class="dv">125</span><span class="fu">,</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;active_drivers&quot;</span><span class="fu">:</span> <span class="dv">118</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;metrics&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;total_miles&quot;</span><span class="fu">:</span> <span class="dv">456789</span><span class="fu">,</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;total_fuel_cost&quot;</span><span class="fu">:</span> <span class="fl">125430.50</span><span class="fu">,</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;total_maintenance_cost&quot;</span><span class="fu">:</span> <span class="fl">45620.00</span><span class="fu">,</span></span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;average_mpg&quot;</span><span class="fu">:</span> <span class="fl">15.5</span><span class="fu">,</span></span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;utilization_rate&quot;</span><span class="fu">:</span> <span class="fl">0.85</span></span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;trends&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;miles_trend&quot;</span><span class="fu">:</span> <span class="st">&quot;+5.2%&quot;</span><span class="fu">,</span></span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;fuel_cost_trend&quot;</span><span class="fu">:</span> <span class="st">&quot;-2.1%&quot;</span><span class="fu">,</span></span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;maintenance_cost_trend&quot;</span><span class="fu">:</span> <span class="st">&quot;+8.5%&quot;</span></span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="get-fleet-performance-metrics">Get Fleet Performance
Metrics</h4>
<pre class="http"><code>GET /api/executive-dashboard/fleet-performance</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb77"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_utilization&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;average&quot;</span><span class="fu">:</span> <span class="fl">85.5</span><span class="fu">,</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;by_type&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sedan&quot;</span><span class="fu">:</span> <span class="fl">92.0</span><span class="fu">,</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;truck&quot;</span><span class="fu">:</span> <span class="fl">88.5</span><span class="fu">,</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;van&quot;</span><span class="fu">:</span> <span class="fl">78.0</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;fuel_efficiency&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;fleet_average_mpg&quot;</span><span class="fu">:</span> <span class="fl">15.5</span><span class="fu">,</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;best_performers&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span> <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">45</span><span class="fu">,</span> <span class="dt">&quot;mpg&quot;</span><span class="fu">:</span> <span class="fl">22.5</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span> <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">67</span><span class="fu">,</span> <span class="dt">&quot;mpg&quot;</span><span class="fu">:</span> <span class="fl">21.8</span> <span class="fu">}</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;worst_performers&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span> <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">12</span><span class="fu">,</span> <span class="dt">&quot;mpg&quot;</span><span class="fu">:</span> <span class="fl">10.2</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span> <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">89</span><span class="fu">,</span> <span class="dt">&quot;mpg&quot;</span><span class="fu">:</span> <span class="fl">11.5</span> <span class="fu">}</span></span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;maintenance_metrics&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb77-22"><a href="#cb77-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;preventive_compliance&quot;</span><span class="fu">:</span> <span class="fl">94.5</span><span class="fu">,</span></span>
<span id="cb77-23"><a href="#cb77-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;average_downtime_days&quot;</span><span class="fu">:</span> <span class="fl">2.5</span><span class="fu">,</span></span>
<span id="cb77-24"><a href="#cb77-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cost_per_vehicle&quot;</span><span class="fu">:</span> <span class="fl">3045.00</span></span>
<span id="cb77-25"><a href="#cb77-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb77-26"><a href="#cb77-26" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="custom-reports">Custom Reports</h3>
<h4 id="generate-custom-report">Generate Custom Report</h4>
<pre class="http"><code>POST /api/custom-reports/generate
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb79"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;report_type&quot;</span><span class="fu">:</span> <span class="st">&quot;fuel_analysis&quot;</span><span class="fu">,</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;date_range&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-01&quot;</span><span class="fu">,</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;end&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-31&quot;</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;filters&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;vehicle_ids&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="dv">123</span><span class="ot">,</span> <span class="dv">456</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;fuel_types&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;gasoline&quot;</span><span class="ot">,</span> <span class="st">&quot;diesel&quot;</span><span class="ot">]</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;grouping&quot;</span><span class="fu">:</span> <span class="st">&quot;vehicle&quot;</span><span class="fu">,</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;format&quot;</span><span class="fu">:</span> <span class="st">&quot;pdf&quot;</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb80"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;report_id&quot;</span><span class="fu">:</span> <span class="st">&quot;report-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;processing&quot;</span><span class="fu">,</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;estimated_completion&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:05:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;download_url&quot;</span><span class="fu">:</span> <span class="kw">null</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="check-report-status">Check Report Status</h4>
<pre class="http"><code>GET /api/custom-reports/:reportId/status</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb82"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;report_id&quot;</span><span class="fu">:</span> <span class="st">&quot;report-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;completed&quot;</span><span class="fu">,</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;download_url&quot;</span><span class="fu">:</span> <span class="st">&quot;/api/custom-reports/report-uuid/download&quot;</span><span class="fu">,</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;completed_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:03:00Z&quot;</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="ai-automation">AI &amp; Automation</h2>
<h3 id="ai-powered-semantic-search">AI-Powered Semantic Search</h3>
<h4 id="semantic-search">Semantic Search</h4>
<pre class="http"><code>POST /api/ai-search/semantic
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb84"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;query&quot;</span><span class="fu">:</span> <span class="st">&quot;Find all maintenance records for vehicles with engine issues in the last 90 days&quot;</span><span class="fu">,</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;limit&quot;</span><span class="fu">:</span> <span class="dv">10</span><span class="fu">,</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;minScore&quot;</span><span class="fu">:</span> <span class="fl">0.7</span><span class="fu">,</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;filter&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;document_type&quot;</span><span class="fu">:</span> <span class="st">&quot;maintenance&quot;</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb85"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;query&quot;</span><span class="fu">:</span> <span class="st">&quot;Find all maintenance records for vehicles with engine issues in the last 90 days&quot;</span><span class="fu">,</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;results&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;doc-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;content&quot;</span><span class="fu">:</span> <span class="st">&quot;Engine diagnostic performed. Found issue with fuel injector...&quot;</span><span class="fu">,</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;score&quot;</span><span class="fu">:</span> <span class="fl">0.92</span><span class="fu">,</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;metadata&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-10&quot;</span><span class="fu">,</span></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;corrective&quot;</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;count&quot;</span><span class="fu">:</span> <span class="dv">8</span><span class="fu">,</span></span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;searchTimeMs&quot;</span><span class="fu">:</span> <span class="dv">145</span><span class="fu">,</span></span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;strategy&quot;</span><span class="fu">:</span> <span class="st">&quot;semantic&quot;</span></span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="hybrid-search-keyword-semantic">Hybrid Search (Keyword +
Semantic)</h4>
<pre class="http"><code>POST /api/ai-search/hybrid
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb87"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;query&quot;</span><span class="fu">:</span> <span class="st">&quot;brake replacement&quot;</span><span class="fu">,</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;limit&quot;</span><span class="fu">:</span> <span class="dv">20</span><span class="fu">,</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;keywordWeight&quot;</span><span class="fu">:</span> <span class="fl">0.3</span><span class="fu">,</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vectorWeight&quot;</span><span class="fu">:</span> <span class="fl">0.7</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="ai-task-prioritization">AI Task Prioritization</h3>
<h4 id="get-prioritized-tasks">Get Prioritized Tasks</h4>
<pre class="http"><code>POST /api/ai-tasks/prioritize
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb89"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;task-1&quot;</span><span class="fu">,</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Oil change for Vehicle 123&quot;</span><span class="fu">,</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;maintenance&quot;</span><span class="fu">,</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;due_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-20&quot;</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;task-2&quot;</span><span class="fu">,</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Brake inspection for Vehicle 456&quot;</span><span class="fu">,</span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;inspection&quot;</span><span class="fu">,</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;due_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-18&quot;</span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb90"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;prioritized_tasks&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;task-2&quot;</span><span class="fu">,</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;priority_score&quot;</span><span class="fu">:</span> <span class="fl">0.92</span><span class="fu">,</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Safety-critical inspection due in 3 days&quot;</span><span class="fu">,</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;recommended_action&quot;</span><span class="fu">:</span> <span class="st">&quot;Schedule immediately&quot;</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;task-1&quot;</span><span class="fu">,</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;priority_score&quot;</span><span class="fu">:</span> <span class="fl">0.75</span><span class="fu">,</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Preventive maintenance due in 5 days&quot;</span><span class="fu">,</span></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;recommended_action&quot;</span><span class="fu">:</span> <span class="st">&quot;Schedule within 48 hours&quot;</span></span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="ai-dispatch-optimization">AI Dispatch Optimization</h3>
<pre class="http"><code>POST /api/ai-dispatch/optimize
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb92"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;jobs&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;job-1&quot;</span><span class="fu">,</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;lat&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span> <span class="dt">&quot;lng&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span> <span class="fu">},</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;duration&quot;</span><span class="fu">:</span> <span class="dv">60</span><span class="fu">,</span></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;priority&quot;</span><span class="fu">:</span> <span class="st">&quot;high&quot;</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicles&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;lat&quot;</span><span class="fu">:</span> <span class="fl">30.4500</span><span class="fu">,</span> <span class="dt">&quot;lng&quot;</span><span class="fu">:</span> <span class="fl">-84.2900</span> <span class="fu">},</span></span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;capacity&quot;</span><span class="fu">:</span> <span class="dv">1000</span></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb93"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;assignments&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;jobs&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;job-1&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;route&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="er">...</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;estimated_time&quot;</span><span class="fu">:</span> <span class="dv">120</span><span class="fu">,</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;estimated_distance&quot;</span><span class="fu">:</span> <span class="fl">15.5</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;optimization_score&quot;</span><span class="fu">:</span> <span class="fl">0.88</span></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="mobile-integration">Mobile Integration</h2>
<h3 id="mobile-notifications">Mobile Notifications</h3>
<h4 id="send-push-notification">Send Push Notification</h4>
<pre class="http"><code>POST /api/push-notifications
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb95"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;user_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Vehicle Assignment&quot;</span><span class="fu">,</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;body&quot;</span><span class="fu">:</span> <span class="st">&quot;You have been assigned to Vehicle #123&quot;</span><span class="fu">,</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;vehicle_assignment&quot;</span><span class="fu">,</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;priority&quot;</span><span class="fu">:</span> <span class="st">&quot;high&quot;</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="mobile-trip-logging">Mobile Trip Logging</h3>
<h4 id="start-trip">Start Trip</h4>
<pre class="http"><code>POST /api/mobile-trips/start
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb97"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;start_location&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;start_odometer&quot;</span><span class="fu">:</span> <span class="dv">45678</span><span class="fu">,</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;trip_type&quot;</span><span class="fu">:</span> <span class="st">&quot;business&quot;</span></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb98"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;trip_id&quot;</span><span class="fu">:</span> <span class="st">&quot;trip-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;in_progress&quot;</span><span class="fu">,</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;start_time&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T08:00:00Z&quot;</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="end-trip">End Trip</h4>
<pre class="http"><code>PUT /api/mobile-trips/:tripId/end
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb100"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;end_location&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4500</span><span class="fu">,</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2900</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;end_odometer&quot;</span><span class="fu">:</span> <span class="dv">45700</span><span class="fu">,</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;purpose&quot;</span><span class="fu">:</span> <span class="st">&quot;Client meeting&quot;</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="mobile-photo-upload">Mobile Photo Upload</h3>
<pre class="http"><code>POST /api/mobile-photos
Content-Type: multipart/form-data
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Form Data:</strong> - <code>photo</code>: Image file -
<code>vehicle_id</code>: Vehicle ID - <code>photo_type</code>: Type
(damage, inspection, fuel_receipt) - <code>latitude</code>,
<code>longitude</code>: GPS coordinates - <code>notes</code>: Optional
notes</p>
<hr />
<h2 id="safety-compliance">Safety &amp; Compliance</h2>
<h3 id="safety-incidents">Safety Incidents</h3>
<h4 id="list-incidents">List Incidents</h4>
<pre class="http"><code>GET /api/safety-incidents?severity=high&amp;status=open</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb103"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;incident-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;incident_number&quot;</span><span class="fu">:</span> <span class="st">&quot;INC-2024-001&quot;</span><span class="fu">,</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;incident_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;severity&quot;</span><span class="fu">:</span> <span class="st">&quot;high&quot;</span><span class="fu">,</span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;collision&quot;</span><span class="fu">,</span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;under_investigation&quot;</span><span class="fu">,</span></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Minor collision at intersection&quot;</span><span class="fu">,</span></span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="st">&quot;Main St &amp; 5th Ave&quot;</span><span class="fu">,</span></span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;injuries&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;police_report_number&quot;</span><span class="fu">:</span> <span class="st">&quot;PR-123456&quot;</span><span class="fu">,</span></span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;created_at&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:45:00Z&quot;</span></span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb103-19"><a href="#cb103-19" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="report-incident">Report Incident</h4>
<pre class="http"><code>POST /api/safety-incidents
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb105"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;driver_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;incident_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;severity&quot;</span><span class="fu">:</span> <span class="st">&quot;high&quot;</span><span class="fu">,</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;collision&quot;</span><span class="fu">,</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Minor collision at intersection&quot;</span><span class="fu">,</span></span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="st">&quot;Main St &amp; 5th Ave&quot;</span><span class="fu">,</span></span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span></span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span><span class="fu">,</span></span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;injuries&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;witnesses&quot;</span><span class="fu">:</span> <span class="ot">[]</span></span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="osha-compliance">OSHA Compliance</h3>
<h4 id="get-compliance-forms">Get Compliance Forms</h4>
<pre class="http"><code>GET /api/osha-compliance/forms</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb107"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;forms&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;form-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;form_type&quot;</span><span class="fu">:</span> <span class="st">&quot;300&quot;</span><span class="fu">,</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;form_name&quot;</span><span class="fu">:</span> <span class="st">&quot;Log of Work-Related Injuries and Illnesses&quot;</span><span class="fu">,</span></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;year&quot;</span><span class="fu">:</span> <span class="dv">2024</span><span class="fu">,</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;in_progress&quot;</span><span class="fu">,</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;last_updated&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T10:00:00Z&quot;</span></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="vehicle-inspections">Vehicle Inspections</h3>
<h4 id="list-inspections">List Inspections</h4>
<pre class="http"><code>GET /api/inspections?vehicleId=123&amp;status=completed</code></pre>
<p><strong>Response:</strong></p>
<div class="sourceCode" id="cb109"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;inspection-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;inspector_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;inspection_date&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T08:00:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;pre_trip&quot;</span><span class="fu">,</span></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;completed&quot;</span><span class="fu">,</span></span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;passed&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;odometer&quot;</span><span class="fu">:</span> <span class="dv">45678</span><span class="fu">,</span></span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;item&quot;</span><span class="fu">:</span> <span class="st">&quot;brakes&quot;</span><span class="fu">,</span></span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;pass&quot;</span><span class="fu">,</span></span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;notes&quot;</span><span class="fu">:</span> <span class="st">&quot;&quot;</span></span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb109-18"><a href="#cb109-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span></span>
<span id="cb109-19"><a href="#cb109-19" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;item&quot;</span><span class="fu">:</span> <span class="st">&quot;tires&quot;</span><span class="fu">,</span></span>
<span id="cb109-20"><a href="#cb109-20" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;pass&quot;</span><span class="fu">,</span></span>
<span id="cb109-21"><a href="#cb109-21" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;notes&quot;</span><span class="fu">:</span> <span class="st">&quot;&quot;</span></span>
<span id="cb109-22"><a href="#cb109-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb109-23"><a href="#cb109-23" aria-hidden="true" tabindex="-1"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb109-24"><a href="#cb109-24" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;defects&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></span>
<span id="cb109-25"><a href="#cb109-25" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;signature&quot;</span><span class="fu">:</span> <span class="st">&quot;base64_signature_data&quot;</span></span>
<span id="cb109-26"><a href="#cb109-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb109-27"><a href="#cb109-27" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb109-28"><a href="#cb109-28" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="create-inspection">Create Inspection</h4>
<pre class="http"><code>POST /api/inspections
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request Body:</strong></p>
<div class="sourceCode" id="cb111"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;inspector_id&quot;</span><span class="fu">:</span> <span class="st">&quot;driver-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;pre_trip&quot;</span><span class="fu">,</span></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;odometer&quot;</span><span class="fu">:</span> <span class="dv">45678</span><span class="fu">,</span></span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span> <span class="dt">&quot;item&quot;</span><span class="fu">:</span> <span class="st">&quot;brakes&quot;</span><span class="fu">,</span> <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;pass&quot;</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span> <span class="dt">&quot;item&quot;</span><span class="fu">:</span> <span class="st">&quot;tires&quot;</span><span class="fu">,</span> <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;pass&quot;</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span> <span class="dt">&quot;item&quot;</span><span class="fu">:</span> <span class="st">&quot;lights&quot;</span><span class="fu">,</span> <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;pass&quot;</span> <span class="fu">}</span></span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;defects&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;signature&quot;</span><span class="fu">:</span> <span class="st">&quot;base64_signature_data&quot;</span></span>
<span id="cb111-13"><a href="#cb111-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="integration-guides">Integration Guides</h2>
<h3 id="getting-started">Getting Started</h3>
<h4 id="obtain-api-credentials">1. Obtain API Credentials</h4>
<p>Contact your fleet administrator to receive: - API endpoint URL -
Tenant ID - User credentials or OAuth client credentials</p>
<h4 id="authenticate">2. Authenticate</h4>
<p><strong>Using Username/Password:</strong></p>
<div class="sourceCode" id="cb112"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> POST https://api.fleet.com/api/auth/login <span class="dt">\</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Content-Type: application/json&quot;</span> <span class="dt">\</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">-d</span> <span class="st">&#39;{</span></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;email&quot;: &quot;your-email@company.com&quot;,</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;password&quot;: &quot;your-password&quot;</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="st">  }&#39;</span></span></code></pre></div>
<p><strong>Using Microsoft Azure AD:</strong></p>
<div class="sourceCode" id="cb113"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Redirect user to Azure AD login</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="ex">https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">?client_id={client_id}</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&amp;</span><span class="va">response_type</span><span class="op">=</span>code</span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&amp;</span><span class="va">redirect_uri</span><span class="op">=</span>{redirect_uri}</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&amp;</span><span class="va">scope</span><span class="op">=</span>openid <span class="ex">profile</span> email</span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Exchange code for token</span></span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> POST https://api.fleet.com/api/microsoft-auth/login <span class="dt">\</span></span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Content-Type: application/json&quot;</span> <span class="dt">\</span></span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">-d</span> <span class="st">&#39;{</span></span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;code&quot;: &quot;authorization_code&quot;,</span></span>
<span id="cb113-13"><a href="#cb113-13" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;redirect_uri&quot;: &quot;https://yourapp.com/callback&quot;</span></span>
<span id="cb113-14"><a href="#cb113-14" aria-hidden="true" tabindex="-1"></a><span class="st">  }&#39;</span></span></code></pre></div>
<h4 id="make-api-calls">3. Make API Calls</h4>
<p>Include the JWT token in all requests:</p>
<div class="sourceCode" id="cb114"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> GET https://api.fleet.com/api/vehicles <span class="dt">\</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Authorization: Bearer {your_jwt_token}&quot;</span></span></code></pre></div>
<h3 id="code-examples">Code Examples</h3>
<h4 id="javascriptnode.js">JavaScript/Node.js</h4>
<div class="sourceCode" id="cb115"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> axios <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;axios&#39;</span>)<span class="op">;</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FleetAPIClient {</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">constructor</span>(baseURL<span class="op">,</span> email<span class="op">,</span> password) {</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">baseURL</span> <span class="op">=</span> baseURL<span class="op">;</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">email</span> <span class="op">=</span> email<span class="op">;</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">password</span> <span class="op">=</span> password<span class="op">;</span></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">token</span> <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">authenticate</span>() {</span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">post</span>(<span class="vs">`</span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">baseURL</span><span class="sc">}</span><span class="vs">/api/auth/login`</span><span class="op">,</span> {</span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">email</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="at">email</span><span class="op">,</span></span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">password</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="at">password</span></span>
<span id="cb115-15"><a href="#cb115-15" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb115-16"><a href="#cb115-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">token</span> <span class="op">=</span> response<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="at">token</span><span class="op">;</span></span>
<span id="cb115-17"><a href="#cb115-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">token</span><span class="op">;</span></span>
<span id="cb115-18"><a href="#cb115-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb115-19"><a href="#cb115-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-20"><a href="#cb115-20" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">getVehicles</span>(params <span class="op">=</span> {}) {</span>
<span id="cb115-21"><a href="#cb115-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">get</span>(<span class="vs">`</span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">baseURL</span><span class="sc">}</span><span class="vs">/api/vehicles`</span><span class="op">,</span> {</span>
<span id="cb115-22"><a href="#cb115-22" aria-hidden="true" tabindex="-1"></a>      <span class="dt">headers</span><span class="op">:</span> {</span>
<span id="cb115-23"><a href="#cb115-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;Authorization&#39;</span><span class="op">:</span> <span class="vs">`Bearer </span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">token</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb115-24"><a href="#cb115-24" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb115-25"><a href="#cb115-25" aria-hidden="true" tabindex="-1"></a>      params</span>
<span id="cb115-26"><a href="#cb115-26" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb115-27"><a href="#cb115-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response<span class="op">.</span><span class="at">data</span><span class="op">;</span></span>
<span id="cb115-28"><a href="#cb115-28" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb115-29"><a href="#cb115-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-30"><a href="#cb115-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">createVehicle</span>(vehicleData) {</span>
<span id="cb115-31"><a href="#cb115-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Get CSRF token first</span></span>
<span id="cb115-32"><a href="#cb115-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> csrfResponse <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">get</span>(<span class="vs">`</span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">baseURL</span><span class="sc">}</span><span class="vs">/api/csrf-token`</span><span class="op">,</span> {</span>
<span id="cb115-33"><a href="#cb115-33" aria-hidden="true" tabindex="-1"></a>      <span class="dt">headers</span><span class="op">:</span> { <span class="st">&#39;Authorization&#39;</span><span class="op">:</span> <span class="vs">`Bearer </span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">token</span><span class="sc">}</span><span class="vs">`</span> }</span>
<span id="cb115-34"><a href="#cb115-34" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb115-35"><a href="#cb115-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> csrfToken <span class="op">=</span> csrfResponse<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="at">csrfToken</span><span class="op">;</span></span>
<span id="cb115-36"><a href="#cb115-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-37"><a href="#cb115-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Create vehicle</span></span>
<span id="cb115-38"><a href="#cb115-38" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">post</span>(</span>
<span id="cb115-39"><a href="#cb115-39" aria-hidden="true" tabindex="-1"></a>      <span class="vs">`</span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">baseURL</span><span class="sc">}</span><span class="vs">/api/vehicles`</span><span class="op">,</span></span>
<span id="cb115-40"><a href="#cb115-40" aria-hidden="true" tabindex="-1"></a>      vehicleData<span class="op">,</span></span>
<span id="cb115-41"><a href="#cb115-41" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb115-42"><a href="#cb115-42" aria-hidden="true" tabindex="-1"></a>        <span class="dt">headers</span><span class="op">:</span> {</span>
<span id="cb115-43"><a href="#cb115-43" aria-hidden="true" tabindex="-1"></a>          <span class="st">&#39;Authorization&#39;</span><span class="op">:</span> <span class="vs">`Bearer </span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">token</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb115-44"><a href="#cb115-44" aria-hidden="true" tabindex="-1"></a>          <span class="st">&#39;X-CSRF-Token&#39;</span><span class="op">:</span> csrfToken</span>
<span id="cb115-45"><a href="#cb115-45" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb115-46"><a href="#cb115-46" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb115-47"><a href="#cb115-47" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb115-48"><a href="#cb115-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response<span class="op">.</span><span class="at">data</span><span class="op">;</span></span>
<span id="cb115-49"><a href="#cb115-49" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb115-50"><a href="#cb115-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-51"><a href="#cb115-51" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">getMaintenanceByVehicle</span>(vehicleId) {</span>
<span id="cb115-52"><a href="#cb115-52" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">get</span>(</span>
<span id="cb115-53"><a href="#cb115-53" aria-hidden="true" tabindex="-1"></a>      <span class="vs">`</span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">baseURL</span><span class="sc">}</span><span class="vs">/api/maintenance/vehicle/</span><span class="sc">${</span>vehicleId<span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb115-54"><a href="#cb115-54" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb115-55"><a href="#cb115-55" aria-hidden="true" tabindex="-1"></a>        <span class="dt">headers</span><span class="op">:</span> { <span class="st">&#39;Authorization&#39;</span><span class="op">:</span> <span class="vs">`Bearer </span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">token</span><span class="sc">}</span><span class="vs">`</span> }</span>
<span id="cb115-56"><a href="#cb115-56" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb115-57"><a href="#cb115-57" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb115-58"><a href="#cb115-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response<span class="op">.</span><span class="at">data</span><span class="op">;</span></span>
<span id="cb115-59"><a href="#cb115-59" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb115-60"><a href="#cb115-60" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb115-61"><a href="#cb115-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-62"><a href="#cb115-62" aria-hidden="true" tabindex="-1"></a><span class="co">// Usage</span></span>
<span id="cb115-63"><a href="#cb115-63" aria-hidden="true" tabindex="-1"></a>(<span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb115-64"><a href="#cb115-64" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> client <span class="op">=</span> <span class="kw">new</span> <span class="fu">FleetAPIClient</span>(</span>
<span id="cb115-65"><a href="#cb115-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;https://api.fleet.com&#39;</span><span class="op">,</span></span>
<span id="cb115-66"><a href="#cb115-66" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;user@company.com&#39;</span><span class="op">,</span></span>
<span id="cb115-67"><a href="#cb115-67" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;password123&#39;</span></span>
<span id="cb115-68"><a href="#cb115-68" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb115-69"><a href="#cb115-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-70"><a href="#cb115-70" aria-hidden="true" tabindex="-1"></a>  <span class="cf">await</span> client<span class="op">.</span><span class="fu">authenticate</span>()<span class="op">;</span></span>
<span id="cb115-71"><a href="#cb115-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-72"><a href="#cb115-72" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> vehicles <span class="op">=</span> <span class="cf">await</span> client<span class="op">.</span><span class="fu">getVehicles</span>({</span>
<span id="cb115-73"><a href="#cb115-73" aria-hidden="true" tabindex="-1"></a>    <span class="dt">page</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb115-74"><a href="#cb115-74" aria-hidden="true" tabindex="-1"></a>    <span class="dt">pageSize</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb115-75"><a href="#cb115-75" aria-hidden="true" tabindex="-1"></a>    <span class="dt">status</span><span class="op">:</span> <span class="st">&#39;active&#39;</span></span>
<span id="cb115-76"><a href="#cb115-76" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb115-77"><a href="#cb115-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-78"><a href="#cb115-78" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Found </span><span class="sc">${</span>vehicles<span class="op">.</span><span class="at">total</span><span class="sc">}</span><span class="vs"> vehicles`</span>)<span class="op">;</span></span>
<span id="cb115-79"><a href="#cb115-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-80"><a href="#cb115-80" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Create a new vehicle</span></span>
<span id="cb115-81"><a href="#cb115-81" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> newVehicle <span class="op">=</span> <span class="cf">await</span> client<span class="op">.</span><span class="fu">createVehicle</span>({</span>
<span id="cb115-82"><a href="#cb115-82" aria-hidden="true" tabindex="-1"></a>    <span class="dt">vin</span><span class="op">:</span> <span class="st">&#39;1HGBH41JXMN109186&#39;</span><span class="op">,</span></span>
<span id="cb115-83"><a href="#cb115-83" aria-hidden="true" tabindex="-1"></a>    <span class="dt">make</span><span class="op">:</span> <span class="st">&#39;Ford&#39;</span><span class="op">,</span></span>
<span id="cb115-84"><a href="#cb115-84" aria-hidden="true" tabindex="-1"></a>    <span class="dt">model</span><span class="op">:</span> <span class="st">&#39;F-150&#39;</span><span class="op">,</span></span>
<span id="cb115-85"><a href="#cb115-85" aria-hidden="true" tabindex="-1"></a>    <span class="dt">year</span><span class="op">:</span> <span class="dv">2023</span><span class="op">,</span></span>
<span id="cb115-86"><a href="#cb115-86" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fuel_type</span><span class="op">:</span> <span class="st">&#39;gasoline&#39;</span></span>
<span id="cb115-87"><a href="#cb115-87" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb115-88"><a href="#cb115-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-89"><a href="#cb115-89" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Created vehicle </span><span class="sc">${</span>newVehicle<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="at">id</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb115-90"><a href="#cb115-90" aria-hidden="true" tabindex="-1"></a>})()<span class="op">;</span></span></code></pre></div>
<h4 id="python">Python</h4>
<div class="sourceCode" id="cb116"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Dict, Optional, List</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> FleetAPIClient:</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, base_url: <span class="bu">str</span>, email: <span class="bu">str</span>, password: <span class="bu">str</span>):</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.base_url <span class="op">=</span> base_url</span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.email <span class="op">=</span> email</span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.password <span class="op">=</span> password</span>
<span id="cb116-9"><a href="#cb116-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.token: Optional[<span class="bu">str</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb116-10"><a href="#cb116-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.session <span class="op">=</span> requests.Session()</span>
<span id="cb116-11"><a href="#cb116-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-12"><a href="#cb116-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> authenticate(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb116-13"><a href="#cb116-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Authenticate and get JWT token&quot;&quot;&quot;</span></span>
<span id="cb116-14"><a href="#cb116-14" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="va">self</span>.session.post(</span>
<span id="cb116-15"><a href="#cb116-15" aria-hidden="true" tabindex="-1"></a>            <span class="ss">f&quot;</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>base_url<span class="sc">}</span><span class="ss">/api/auth/login&quot;</span>,</span>
<span id="cb116-16"><a href="#cb116-16" aria-hidden="true" tabindex="-1"></a>            json<span class="op">=</span>{<span class="st">&quot;email&quot;</span>: <span class="va">self</span>.email, <span class="st">&quot;password&quot;</span>: <span class="va">self</span>.password}</span>
<span id="cb116-17"><a href="#cb116-17" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb116-18"><a href="#cb116-18" aria-hidden="true" tabindex="-1"></a>        response.raise_for_status()</span>
<span id="cb116-19"><a href="#cb116-19" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.token <span class="op">=</span> response.json()[<span class="st">&quot;token&quot;</span>]</span>
<span id="cb116-20"><a href="#cb116-20" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.session.headers.update({</span>
<span id="cb116-21"><a href="#cb116-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Authorization&quot;</span>: <span class="ss">f&quot;Bearer </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>token<span class="sc">}</span><span class="ss">&quot;</span></span>
<span id="cb116-22"><a href="#cb116-22" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb116-23"><a href="#cb116-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.token</span>
<span id="cb116-24"><a href="#cb116-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-25"><a href="#cb116-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_csrf_token(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb116-26"><a href="#cb116-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Get CSRF token for state-changing operations&quot;&quot;&quot;</span></span>
<span id="cb116-27"><a href="#cb116-27" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="va">self</span>.session.get(<span class="ss">f&quot;</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>base_url<span class="sc">}</span><span class="ss">/api/csrf-token&quot;</span>)</span>
<span id="cb116-28"><a href="#cb116-28" aria-hidden="true" tabindex="-1"></a>        response.raise_for_status()</span>
<span id="cb116-29"><a href="#cb116-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> response.json()[<span class="st">&quot;csrfToken&quot;</span>]</span>
<span id="cb116-30"><a href="#cb116-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-31"><a href="#cb116-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_vehicles(<span class="va">self</span>, <span class="op">**</span>params) <span class="op">-&gt;</span> Dict:</span>
<span id="cb116-32"><a href="#cb116-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Get list of vehicles&quot;&quot;&quot;</span></span>
<span id="cb116-33"><a href="#cb116-33" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="va">self</span>.session.get(</span>
<span id="cb116-34"><a href="#cb116-34" aria-hidden="true" tabindex="-1"></a>            <span class="ss">f&quot;</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>base_url<span class="sc">}</span><span class="ss">/api/vehicles&quot;</span>,</span>
<span id="cb116-35"><a href="#cb116-35" aria-hidden="true" tabindex="-1"></a>            params<span class="op">=</span>params</span>
<span id="cb116-36"><a href="#cb116-36" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb116-37"><a href="#cb116-37" aria-hidden="true" tabindex="-1"></a>        response.raise_for_status()</span>
<span id="cb116-38"><a href="#cb116-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> response.json()</span>
<span id="cb116-39"><a href="#cb116-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-40"><a href="#cb116-40" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> create_vehicle(<span class="va">self</span>, vehicle_data: Dict) <span class="op">-&gt;</span> Dict:</span>
<span id="cb116-41"><a href="#cb116-41" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Create a new vehicle&quot;&quot;&quot;</span></span>
<span id="cb116-42"><a href="#cb116-42" aria-hidden="true" tabindex="-1"></a>        csrf_token <span class="op">=</span> <span class="va">self</span>.get_csrf_token()</span>
<span id="cb116-43"><a href="#cb116-43" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="va">self</span>.session.post(</span>
<span id="cb116-44"><a href="#cb116-44" aria-hidden="true" tabindex="-1"></a>            <span class="ss">f&quot;</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>base_url<span class="sc">}</span><span class="ss">/api/vehicles&quot;</span>,</span>
<span id="cb116-45"><a href="#cb116-45" aria-hidden="true" tabindex="-1"></a>            json<span class="op">=</span>vehicle_data,</span>
<span id="cb116-46"><a href="#cb116-46" aria-hidden="true" tabindex="-1"></a>            headers<span class="op">=</span>{<span class="st">&quot;X-CSRF-Token&quot;</span>: csrf_token}</span>
<span id="cb116-47"><a href="#cb116-47" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb116-48"><a href="#cb116-48" aria-hidden="true" tabindex="-1"></a>        response.raise_for_status()</span>
<span id="cb116-49"><a href="#cb116-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> response.json()</span>
<span id="cb116-50"><a href="#cb116-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-51"><a href="#cb116-51" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_fuel_transactions(</span>
<span id="cb116-52"><a href="#cb116-52" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>,</span>
<span id="cb116-53"><a href="#cb116-53" aria-hidden="true" tabindex="-1"></a>        vehicle_id: Optional[<span class="bu">int</span>] <span class="op">=</span> <span class="va">None</span>,</span>
<span id="cb116-54"><a href="#cb116-54" aria-hidden="true" tabindex="-1"></a>        start_date: Optional[<span class="bu">str</span>] <span class="op">=</span> <span class="va">None</span>,</span>
<span id="cb116-55"><a href="#cb116-55" aria-hidden="true" tabindex="-1"></a>        end_date: Optional[<span class="bu">str</span>] <span class="op">=</span> <span class="va">None</span></span>
<span id="cb116-56"><a href="#cb116-56" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">-&gt;</span> List[Dict]:</span>
<span id="cb116-57"><a href="#cb116-57" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;Get fuel transactions with optional filters&quot;&quot;&quot;</span></span>
<span id="cb116-58"><a href="#cb116-58" aria-hidden="true" tabindex="-1"></a>        params <span class="op">=</span> {}</span>
<span id="cb116-59"><a href="#cb116-59" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> vehicle_id:</span>
<span id="cb116-60"><a href="#cb116-60" aria-hidden="true" tabindex="-1"></a>            params[<span class="st">&quot;vehicleId&quot;</span>] <span class="op">=</span> vehicle_id</span>
<span id="cb116-61"><a href="#cb116-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> start_date:</span>
<span id="cb116-62"><a href="#cb116-62" aria-hidden="true" tabindex="-1"></a>            params[<span class="st">&quot;startDate&quot;</span>] <span class="op">=</span> start_date</span>
<span id="cb116-63"><a href="#cb116-63" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> end_date:</span>
<span id="cb116-64"><a href="#cb116-64" aria-hidden="true" tabindex="-1"></a>            params[<span class="st">&quot;endDate&quot;</span>] <span class="op">=</span> end_date</span>
<span id="cb116-65"><a href="#cb116-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-66"><a href="#cb116-66" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="va">self</span>.session.get(</span>
<span id="cb116-67"><a href="#cb116-67" aria-hidden="true" tabindex="-1"></a>            <span class="ss">f&quot;</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>base_url<span class="sc">}</span><span class="ss">/api/fuel-transactions&quot;</span>,</span>
<span id="cb116-68"><a href="#cb116-68" aria-hidden="true" tabindex="-1"></a>            params<span class="op">=</span>params</span>
<span id="cb116-69"><a href="#cb116-69" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb116-70"><a href="#cb116-70" aria-hidden="true" tabindex="-1"></a>        response.raise_for_status()</span>
<span id="cb116-71"><a href="#cb116-71" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> response.json()[<span class="st">&quot;data&quot;</span>]</span>
<span id="cb116-72"><a href="#cb116-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-73"><a href="#cb116-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Usage</span></span>
<span id="cb116-74"><a href="#cb116-74" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb116-75"><a href="#cb116-75" aria-hidden="true" tabindex="-1"></a>    client <span class="op">=</span> FleetAPIClient(</span>
<span id="cb116-76"><a href="#cb116-76" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;https://api.fleet.com&quot;</span>,</span>
<span id="cb116-77"><a href="#cb116-77" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;user@company.com&quot;</span>,</span>
<span id="cb116-78"><a href="#cb116-78" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;password123&quot;</span></span>
<span id="cb116-79"><a href="#cb116-79" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb116-80"><a href="#cb116-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-81"><a href="#cb116-81" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Authenticate</span></span>
<span id="cb116-82"><a href="#cb116-82" aria-hidden="true" tabindex="-1"></a>    client.authenticate()</span>
<span id="cb116-83"><a href="#cb116-83" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Authenticated successfully&quot;</span>)</span>
<span id="cb116-84"><a href="#cb116-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-85"><a href="#cb116-85" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get vehicles</span></span>
<span id="cb116-86"><a href="#cb116-86" aria-hidden="true" tabindex="-1"></a>    vehicles <span class="op">=</span> client.get_vehicles(page<span class="op">=</span><span class="dv">1</span>, pageSize<span class="op">=</span><span class="dv">20</span>, status<span class="op">=</span><span class="st">&quot;active&quot;</span>)</span>
<span id="cb116-87"><a href="#cb116-87" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;Found </span><span class="sc">{</span>vehicles[<span class="st">&#39;total&#39;</span>]<span class="sc">}</span><span class="ss"> vehicles&quot;</span>)</span>
<span id="cb116-88"><a href="#cb116-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-89"><a href="#cb116-89" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a vehicle</span></span>
<span id="cb116-90"><a href="#cb116-90" aria-hidden="true" tabindex="-1"></a>    new_vehicle <span class="op">=</span> client.create_vehicle({</span>
<span id="cb116-91"><a href="#cb116-91" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;vin&quot;</span>: <span class="st">&quot;1HGBH41JXMN109186&quot;</span>,</span>
<span id="cb116-92"><a href="#cb116-92" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;make&quot;</span>: <span class="st">&quot;Ford&quot;</span>,</span>
<span id="cb116-93"><a href="#cb116-93" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;model&quot;</span>: <span class="st">&quot;F-150&quot;</span>,</span>
<span id="cb116-94"><a href="#cb116-94" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;year&quot;</span>: <span class="dv">2023</span>,</span>
<span id="cb116-95"><a href="#cb116-95" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;fuel_type&quot;</span>: <span class="st">&quot;gasoline&quot;</span></span>
<span id="cb116-96"><a href="#cb116-96" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb116-97"><a href="#cb116-97" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;Created vehicle </span><span class="sc">{</span>new_vehicle[<span class="st">&#39;data&#39;</span>][<span class="st">&#39;id&#39;</span>]<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb116-98"><a href="#cb116-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-99"><a href="#cb116-99" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get fuel transactions</span></span>
<span id="cb116-100"><a href="#cb116-100" aria-hidden="true" tabindex="-1"></a>    transactions <span class="op">=</span> client.get_fuel_transactions(</span>
<span id="cb116-101"><a href="#cb116-101" aria-hidden="true" tabindex="-1"></a>        vehicle_id<span class="op">=</span><span class="dv">123</span>,</span>
<span id="cb116-102"><a href="#cb116-102" aria-hidden="true" tabindex="-1"></a>        start_date<span class="op">=</span><span class="st">&quot;2024-01-01&quot;</span>,</span>
<span id="cb116-103"><a href="#cb116-103" aria-hidden="true" tabindex="-1"></a>        end_date<span class="op">=</span><span class="st">&quot;2024-01-31&quot;</span></span>
<span id="cb116-104"><a href="#cb116-104" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb116-105"><a href="#cb116-105" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;Found </span><span class="sc">{</span><span class="bu">len</span>(transactions)<span class="sc">}</span><span class="ss"> fuel transactions&quot;</span>)</span></code></pre></div>
<h4 id="curl-examples">cURL Examples</h4>
<p><strong>List Vehicles:</strong></p>
<div class="sourceCode" id="cb117"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> GET <span class="st">&quot;https://api.fleet.com/api/vehicles?page=1&amp;pageSize=20&quot;</span> <span class="dt">\</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span></span></code></pre></div>
<p><strong>Create Vehicle:</strong></p>
<div class="sourceCode" id="cb118"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Get CSRF token</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="va">CSRF_TOKEN</span><span class="op">=</span><span class="va">$(</span><span class="ex">curl</span> <span class="at">-X</span> GET <span class="st">&quot;https://api.fleet.com/api/csrf-token&quot;</span> <span class="dt">\</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Authorization: Bearer {token}&quot;</span> <span class="kw">|</span> <span class="ex">jq</span> <span class="at">-r</span> <span class="st">&#39;.csrfToken&#39;</span><span class="va">)</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Create vehicle</span></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> POST <span class="st">&quot;https://api.fleet.com/api/vehicles&quot;</span> <span class="dt">\</span></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Authorization: Bearer {token}&quot;</span> <span class="dt">\</span></span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;X-CSRF-Token: </span><span class="va">$CSRF_TOKEN</span><span class="st">&quot;</span> <span class="dt">\</span></span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Content-Type: application/json&quot;</span> <span class="dt">\</span></span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">-d</span> <span class="st">&#39;{</span></span>
<span id="cb118-11"><a href="#cb118-11" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;vin&quot;: &quot;1HGBH41JXMN109186&quot;,</span></span>
<span id="cb118-12"><a href="#cb118-12" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;make&quot;: &quot;Ford&quot;,</span></span>
<span id="cb118-13"><a href="#cb118-13" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;model&quot;: &quot;F-150&quot;,</span></span>
<span id="cb118-14"><a href="#cb118-14" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;year&quot;: 2023,</span></span>
<span id="cb118-15"><a href="#cb118-15" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;fuel_type&quot;: &quot;gasoline&quot;</span></span>
<span id="cb118-16"><a href="#cb118-16" aria-hidden="true" tabindex="-1"></a><span class="st">  }&#39;</span></span></code></pre></div>
<p><strong>Get Maintenance Records:</strong></p>
<div class="sourceCode" id="cb119"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> GET <span class="st">&quot;https://api.fleet.com/api/maintenance/vehicle/123&quot;</span> <span class="dt">\</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Authorization: Bearer {token}&quot;</span></span></code></pre></div>
<p><strong>Create Fuel Transaction:</strong></p>
<div class="sourceCode" id="cb120"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> POST <span class="st">&quot;https://api.fleet.com/api/fuel-transactions&quot;</span> <span class="dt">\</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Authorization: Bearer {token}&quot;</span> <span class="dt">\</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;X-CSRF-Token: {csrf_token}&quot;</span> <span class="dt">\</span></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Content-Type: application/json&quot;</span> <span class="dt">\</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">-d</span> <span class="st">&#39;{</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;vehicle_id&quot;: 123,</span></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;driver_id&quot;: &quot;driver-uuid&quot;,</span></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;transaction_date&quot;: &quot;2024-01-15T14:30:00Z&quot;,</span></span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;gallons&quot;: 15.5,</span></span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;price_per_gallon&quot;: 3.45,</span></span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;fuel_type&quot;: &quot;gasoline&quot;,</span></span>
<span id="cb120-12"><a href="#cb120-12" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;payment_method&quot;: &quot;fleet_card&quot;</span></span>
<span id="cb120-13"><a href="#cb120-13" aria-hidden="true" tabindex="-1"></a><span class="st">  }&#39;</span></span></code></pre></div>
<h3 id="webhook-integration">Webhook Integration</h3>
<p>The API supports webhooks for real-time event notifications.</p>
<h4 id="configure-webhook">Configure Webhook</h4>
<pre class="http"><code>POST /api/webhooks
Content-Type: application/json
Authorization: Bearer {token}
X-CSRF-Token: {csrf_token}</code></pre>
<p><strong>Request:</strong></p>
<div class="sourceCode" id="cb122"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;https://your-server.com/webhook&quot;</span><span class="fu">,</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;events&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;vehicle.created&quot;</span><span class="ot">,</span></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;vehicle.updated&quot;</span><span class="ot">,</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;maintenance.due&quot;</span><span class="ot">,</span></span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;geofence.entered&quot;</span><span class="ot">,</span></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;geofence.exited&quot;</span></span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;secret&quot;</span><span class="fu">:</span> <span class="st">&quot;your-webhook-secret&quot;</span></span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="webhook-payload-example">Webhook Payload Example</h4>
<div class="sourceCode" id="cb123"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;event&quot;</span><span class="fu">:</span> <span class="st">&quot;geofence.exited&quot;</span><span class="fu">,</span></span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;timestamp&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;vehicle_id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;geofence_id&quot;</span><span class="fu">:</span> <span class="st">&quot;geofence-uuid&quot;</span><span class="fu">,</span></span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">30.4383</span><span class="fu">,</span></span>
<span id="cb123-9"><a href="#cb123-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-84.2807</span></span>
<span id="cb123-10"><a href="#cb123-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb123-11"><a href="#cb123-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb123-12"><a href="#cb123-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;signature&quot;</span><span class="fu">:</span> <span class="st">&quot;hmac-sha256-signature&quot;</span></span>
<span id="cb123-13"><a href="#cb123-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h4 id="verify-webhook-signature">Verify Webhook Signature</h4>
<div class="sourceCode" id="cb124"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> crypto <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;crypto&#39;</span>)<span class="op">;</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">verifyWebhook</span>(payload<span class="op">,</span> signature<span class="op">,</span> secret) {</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> hmac <span class="op">=</span> crypto<span class="op">.</span><span class="fu">createHmac</span>(<span class="st">&#39;sha256&#39;</span><span class="op">,</span> secret)<span class="op">;</span></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> digest <span class="op">=</span> hmac<span class="op">.</span><span class="fu">update</span>(<span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>(payload))<span class="op">.</span><span class="fu">digest</span>(<span class="st">&#39;hex&#39;</span>)<span class="op">;</span></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> crypto<span class="op">.</span><span class="fu">timingSafeEqual</span>(</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Buffer</span><span class="op">.</span><span class="fu">from</span>(signature)<span class="op">,</span></span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Buffer</span><span class="op">.</span><span class="fu">from</span>(digest)</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<hr />
<h2 id="error-handling">Error Handling</h2>
<h3 id="standard-error-response">Standard Error Response</h3>
<p>All errors follow this format:</p>
<div class="sourceCode" id="cb125"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;error&quot;</span><span class="fu">:</span> <span class="st">&quot;Error message&quot;</span><span class="fu">,</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;ERROR_CODE&quot;</span><span class="fu">,</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;details&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;field&quot;</span><span class="fu">:</span> <span class="st">&quot;Additional context&quot;</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;timestamp&quot;</span><span class="fu">:</span> <span class="st">&quot;2024-01-15T14:30:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;request_id&quot;</span><span class="fu">:</span> <span class="st">&quot;req-uuid&quot;</span></span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="http-status-codes">HTTP Status Codes</h3>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>200</strong></td>
<td>Success</td>
<td>Request completed successfully</td>
</tr>
<tr>
<td><strong>201</strong></td>
<td>Created</td>
<td>Resource created successfully</td>
</tr>
<tr>
<td><strong>400</strong></td>
<td>Bad Request</td>
<td>Invalid input data</td>
</tr>
<tr>
<td><strong>401</strong></td>
<td>Unauthorized</td>
<td>Missing or invalid token</td>
</tr>
<tr>
<td><strong>403</strong></td>
<td>Forbidden</td>
<td>Insufficient permissions</td>
</tr>
<tr>
<td><strong>404</strong></td>
<td>Not Found</td>
<td>Resource doesnt exist</td>
</tr>
<tr>
<td><strong>409</strong></td>
<td>Conflict</td>
<td>Duplicate resource</td>
</tr>
<tr>
<td><strong>422</strong></td>
<td>Validation Error</td>
<td>Input validation failed</td>
</tr>
<tr>
<td><strong>429</strong></td>
<td>Too Many Requests</td>
<td>Rate limit exceeded</td>
</tr>
<tr>
<td><strong>500</strong></td>
<td>Internal Server Error</td>
<td>Server error</td>
</tr>
<tr>
<td><strong>503</strong></td>
<td>Service Unavailable</td>
<td>Service temporarily unavailable</td>
</tr>
</tbody>
</table>
<h3 id="error-codes">Error Codes</h3>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 41%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
<th>Resolution</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AUTH_FAILED</code></td>
<td>Authentication failed</td>
<td>Check credentials</td>
</tr>
<tr>
<td><code>INVALID_TOKEN</code></td>
<td>JWT token invalid</td>
<td>Re-authenticate</td>
</tr>
<tr>
<td><code>TOKEN_EXPIRED</code></td>
<td>JWT token expired</td>
<td>Refresh token</td>
</tr>
<tr>
<td><code>PERMISSION_DENIED</code></td>
<td>Insufficient permissions</td>
<td>Contact administrator</td>
</tr>
<tr>
<td><code>VALIDATION_ERROR</code></td>
<td>Input validation failed</td>
<td>Fix input data</td>
</tr>
<tr>
<td><code>RESOURCE_NOT_FOUND</code></td>
<td>Resource doesnt exist</td>
<td>Check ID</td>
</tr>
<tr>
<td><code>DUPLICATE_RESOURCE</code></td>
<td>Resource already exists</td>
<td>Use unique values</td>
</tr>
<tr>
<td><code>RATE_LIMIT_EXCEEDED</code></td>
<td>Too many requests</td>
<td>Wait before retrying</td>
</tr>
<tr>
<td><code>TENANT_ISOLATION_VIOLATION</code></td>
<td>Cross-tenant access attempt</td>
<td>Check tenant context</td>
</tr>
</tbody>
</table>
<h3 id="example-error-responses">Example Error Responses</h3>
<p><strong>Validation Error (400):</strong></p>
<div class="sourceCode" id="cb126"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;error&quot;</span><span class="fu">:</span> <span class="st">&quot;Validation error&quot;</span><span class="fu">,</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;VALIDATION_ERROR&quot;</span><span class="fu">,</span></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;details&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;field&quot;</span><span class="fu">:</span> <span class="st">&quot;vin&quot;</span><span class="fu">,</span></span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;message&quot;</span><span class="fu">:</span> <span class="st">&quot;VIN must be exactly 17 characters&quot;</span></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;field&quot;</span><span class="fu">:</span> <span class="st">&quot;year&quot;</span><span class="fu">,</span></span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;message&quot;</span><span class="fu">:</span> <span class="st">&quot;Year must be between 1900 and 2100&quot;</span></span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Authentication Error (401):</strong></p>
<div class="sourceCode" id="cb127"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;error&quot;</span><span class="fu">:</span> <span class="st">&quot;Invalid credentials&quot;</span><span class="fu">,</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;AUTH_FAILED&quot;</span><span class="fu">,</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;attempts_remaining&quot;</span><span class="fu">:</span> <span class="dv">2</span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Permission Error (403):</strong></p>
<div class="sourceCode" id="cb128"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;error&quot;</span><span class="fu">:</span> <span class="st">&quot;Insufficient permissions&quot;</span><span class="fu">,</span></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;PERMISSION_DENIED&quot;</span><span class="fu">,</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;required_permission&quot;</span><span class="fu">:</span> <span class="st">&quot;vehicle:delete&quot;</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Not Found Error (404):</strong></p>
<div class="sourceCode" id="cb129"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;error&quot;</span><span class="fu">:</span> <span class="st">&quot;Vehicle not found&quot;</span><span class="fu">,</span></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;RESOURCE_NOT_FOUND&quot;</span><span class="fu">,</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;resource_type&quot;</span><span class="fu">:</span> <span class="st">&quot;vehicle&quot;</span><span class="fu">,</span></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;resource_id&quot;</span><span class="fu">:</span> <span class="dv">123</span></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Rate Limit Error (429):</strong></p>
<div class="sourceCode" id="cb130"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;error&quot;</span><span class="fu">:</span> <span class="st">&quot;Rate limit exceeded&quot;</span><span class="fu">,</span></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;RATE_LIMIT_EXCEEDED&quot;</span><span class="fu">,</span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;retry_after&quot;</span><span class="fu">:</span> <span class="dv">60</span><span class="fu">,</span></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;limit&quot;</span><span class="fu">:</span> <span class="dv">100</span><span class="fu">,</span></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;window&quot;</span><span class="fu">:</span> <span class="st">&quot;1 minute&quot;</span></span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="rate-limiting">Rate Limiting</h2>
<h3 id="rate-limit-tiers">Rate Limit Tiers</h3>
<table>
<thead>
<tr>
<th>Endpoint Category</th>
<th>Limit</th>
<th>Window</th>
<th>Burst</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authentication</td>
<td>5 requests</td>
<td>15 minutes</td>
<td>10</td>
</tr>
<tr>
<td>Registration</td>
<td>3 requests</td>
<td>1 hour</td>
<td>5</td>
</tr>
<tr>
<td>Read Operations</td>
<td>100 requests</td>
<td>1 minute</td>
<td>200</td>
</tr>
<tr>
<td>Write Operations</td>
<td>50 requests</td>
<td>1 minute</td>
<td>100</td>
</tr>
<tr>
<td>File Uploads</td>
<td>10 requests</td>
<td>1 minute</td>
<td>20</td>
</tr>
<tr>
<td>Global (per IP)</td>
<td>1000 requests</td>
<td>15 minutes</td>
<td>1500</td>
</tr>
</tbody>
</table>
<h3 id="rate-limit-headers">Rate Limit Headers</h3>
<p>All responses include rate limit information:</p>
<pre class="http"><code>X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1705329600
X-RateLimit-Window: 60</code></pre>
<h3 id="handling-rate-limits">Handling Rate Limits</h3>
<p><strong>Best Practices:</strong></p>
<ol type="1">
<li><strong>Implement Exponential Backoff</strong></li>
</ol>
<div class="sourceCode" id="cb132"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">retryWithBackoff</span>(fn<span class="op">,</span> maxRetries <span class="op">=</span> <span class="dv">3</span>) {</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> maxRetries<span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="cf">await</span> <span class="fu">fn</span>()<span class="op">;</span></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (error<span class="op">.</span><span class="at">response</span><span class="op">?.</span><span class="at">status</span> <span class="op">===</span> <span class="dv">429</span> <span class="op">&amp;&amp;</span> i <span class="op">&lt;</span> maxRetries <span class="op">-</span> <span class="dv">1</span>) {</span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> delay <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">pow</span>(<span class="dv">2</span><span class="op">,</span> i) <span class="op">*</span> <span class="dv">1000</span><span class="op">;</span></span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> <span class="kw">new</span> <span class="bu">Promise</span>(resolve <span class="kw">=&gt;</span> <span class="pp">setTimeout</span>(resolve<span class="op">,</span> delay))<span class="op">;</span></span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb132-10"><a href="#cb132-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">throw</span> error<span class="op">;</span></span>
<span id="cb132-11"><a href="#cb132-11" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb132-12"><a href="#cb132-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb132-13"><a href="#cb132-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb132-14"><a href="#cb132-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<ol start="2" type="1">
<li><strong>Respect Retry-After Header</strong></li>
</ol>
<div class="sourceCode" id="cb133"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (response<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="dv">429</span>) {</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> retryAfter <span class="op">=</span> response<span class="op">.</span><span class="at">headers</span>[<span class="st">&#39;retry-after&#39;</span>]<span class="op">;</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">await</span> <span class="fu">sleep</span>(retryAfter <span class="op">*</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<ol start="3" type="1">
<li><strong>Use Batch Endpoints</strong></li>
</ol>
<pre class="http"><code>POST /api/v1/batch</code></pre>
<hr />
<h2 id="best-practices">Best Practices</h2>
<h3 id="security-best-practices">Security Best Practices</h3>
<ol type="1">
<li><p><strong>Always Use HTTPS</strong></p>
<ul>
<li>Never send tokens over HTTP</li>
<li>All production endpoints use TLS 1.2+</li>
</ul></li>
<li><p><strong>Secure Token Storage</strong></p>
<div class="sourceCode" id="cb135"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co">//  Bad - stored in localStorage</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>localStorage<span class="op">.</span><span class="fu">setItem</span>(<span class="st">&#39;token&#39;</span><span class="op">,</span> token)<span class="op">;</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="co">//  Good - httpOnly cookie or secure storage</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="co">// Set by server with httpOnly, secure flags</span></span></code></pre></div></li>
<li><p><strong>Implement Token Refresh</strong></p>
<div class="sourceCode" id="cb136"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">isTokenExpiringSoon</span>(token)) {</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  token <span class="op">=</span> <span class="cf">await</span> <span class="fu">refreshToken</span>()<span class="op">;</span></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Validate All Input</strong></p>
<div class="sourceCode" id="cb137"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Client-side validation</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> schema <span class="op">=</span> z<span class="op">.</span><span class="fu">object</span>({</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">vin</span><span class="op">:</span> z<span class="op">.</span><span class="fu">string</span>()<span class="op">.</span><span class="fu">length</span>(<span class="dv">17</span>)<span class="op">,</span></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">year</span><span class="op">:</span> z<span class="op">.</span><span class="fu">number</span>()<span class="op">.</span><span class="fu">min</span>(<span class="dv">1900</span>)<span class="op">.</span><span class="fu">max</span>(<span class="dv">2100</span>)</span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a>schema<span class="op">.</span><span class="fu">parse</span>(data)<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Use CSRF Tokens</strong></p>
<ul>
<li>Always include CSRF token for POST/PUT/DELETE</li>
<li>Refresh CSRF token periodically</li>
</ul></li>
</ol>
<h3 id="performance-best-practices">Performance Best Practices</h3>
<ol type="1">
<li><p><strong>Use Pagination</strong></p>
<pre class="http"><code>GET /api/vehicles?page=1&amp;pageSize=20</code></pre></li>
<li><p><strong>Filter Server-Side</strong></p>
<pre class="http"><code>GET /api/fuel-transactions?vehicleId=123&amp;startDate=2024-01-01</code></pre></li>
<li><p><strong>Request Only Needed Fields</strong></p>
<pre class="http"><code>GET /api/vehicles?fields=id,vin,make,model</code></pre></li>
<li><p><strong>Cache Responses</strong></p>
<div class="sourceCode" id="cb141"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> cache <span class="op">=</span> <span class="kw">new</span> <span class="bu">Map</span>()<span class="op">;</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> cacheKey <span class="op">=</span> <span class="vs">`vehicles-</span><span class="sc">${</span>page<span class="sc">}</span><span class="vs">-</span><span class="sc">${</span>pageSize<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (cache<span class="op">.</span><span class="fu">has</span>(cacheKey)) {</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> cache<span class="op">.</span><span class="fu">get</span>(cacheKey)<span class="op">;</span></span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetchVehicles</span>(page<span class="op">,</span> pageSize)<span class="op">;</span></span>
<span id="cb141-9"><a href="#cb141-9" aria-hidden="true" tabindex="-1"></a>cache<span class="op">.</span><span class="fu">set</span>(cacheKey<span class="op">,</span> data)<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Use Batch Endpoints</strong></p>
<pre class="http"><code>POST /api/v1/batch
{
  &quot;requests&quot;: [
    { &quot;method&quot;: &quot;GET&quot;, &quot;url&quot;: &quot;/api/vehicles/123&quot; },
    { &quot;method&quot;: &quot;GET&quot;, &quot;url&quot;: &quot;/api/vehicles/456&quot; }
  ]
}</code></pre></li>
</ol>
<h3 id="error-handling-best-practices">Error Handling Best
Practices</h3>
<ol type="1">
<li><p><strong>Handle All Error Cases</strong></p>
<div class="sourceCode" id="cb143"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span> {</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> api<span class="op">.</span><span class="fu">getVehicle</span>(id)<span class="op">;</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">catch</span> (error) {</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (error<span class="op">.</span><span class="at">response</span><span class="op">?.</span><span class="at">status</span> <span class="op">===</span> <span class="dv">404</span>) {</span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Handle not found</span></span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (error<span class="op">.</span><span class="at">response</span><span class="op">?.</span><span class="at">status</span> <span class="op">===</span> <span class="dv">401</span>) {</span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Re-authenticate</span></span>
<span id="cb143-8"><a href="#cb143-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb143-9"><a href="#cb143-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Handle other errors</span></span>
<span id="cb143-10"><a href="#cb143-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb143-11"><a href="#cb143-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Log Errors with Context</strong></p>
<div class="sourceCode" id="cb144"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>logger<span class="op">.</span><span class="fu">error</span>(<span class="st">&#39;Failed to create vehicle&#39;</span><span class="op">,</span> {</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>  vehicleData<span class="op">,</span></span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">error</span><span class="op">:</span> error<span class="op">.</span><span class="at">message</span><span class="op">,</span></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">requestId</span><span class="op">:</span> error<span class="op">.</span><span class="at">response</span><span class="op">?.</span><span class="at">headers</span>[<span class="st">&#39;x-request-id&#39;</span>]</span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Provide User-Friendly Messages</strong></p>
<div class="sourceCode" id="cb145"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> errorMessages <span class="op">=</span> {</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;VALIDATION_ERROR&#39;</span><span class="op">:</span> <span class="st">&#39;Please check your input&#39;</span><span class="op">,</span></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;AUTH_FAILED&#39;</span><span class="op">:</span> <span class="st">&#39;Invalid credentials&#39;</span><span class="op">,</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;PERMISSION_DENIED&#39;</span><span class="op">:</span> <span class="st">&#39;You don</span><span class="sc">\&#39;</span><span class="st">t have access to this resource&#39;</span></span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div></li>
</ol>
<h3 id="integration-best-practices">Integration Best Practices</h3>
<ol type="1">
<li><p><strong>Version Your API Calls</strong></p>
<pre class="http"><code>Accept: application/vnd.fleet.v1+json</code></pre></li>
<li><p><strong>Handle Webhooks Idempotently</strong></p>
<div class="sourceCode" id="cb147"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> processedEvents <span class="op">=</span> <span class="kw">new</span> <span class="bu">Set</span>()<span class="op">;</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (processedEvents<span class="op">.</span><span class="fu">has</span>(<span class="bu">event</span><span class="op">.</span><span class="at">id</span>)) {</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span><span class="op">;</span> <span class="co">// Already processed</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a><span class="fu">processEvent</span>(<span class="bu">event</span>)<span class="op">;</span></span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a>processedEvents<span class="op">.</span><span class="fu">add</span>(<span class="bu">event</span><span class="op">.</span><span class="at">id</span>)<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Monitor API Health</strong></p>
<pre class="http"><code>GET /api/health
GET /api/health-detailed</code></pre></li>
<li><p><strong>Use Correlation IDs</strong></p>
<pre class="http"><code>X-Correlation-ID: unique-request-id</code></pre></li>
<li><p><strong>Implement Circuit Breakers</strong></p>
<div class="sourceCode" id="cb150"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> breaker <span class="op">=</span> <span class="kw">new</span> <span class="fu">CircuitBreaker</span>(api<span class="op">.</span><span class="at">call</span><span class="op">,</span> {</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">threshold</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">timeout</span><span class="op">:</span> <span class="dv">3000</span><span class="op">,</span></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">resetTimeout</span><span class="op">:</span> <span class="dv">30000</span></span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
</ol>
<h3 id="testing-best-practices">Testing Best Practices</h3>
<ol type="1">
<li><p><strong>Test Authentication Flow</strong></p>
<div class="sourceCode" id="cb151"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(<span class="st">&#39;Authentication&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">it</span>(<span class="st">&#39;should authenticate with valid credentials&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> api<span class="op">.</span><span class="fu">login</span>(email<span class="op">,</span> password)<span class="op">;</span></span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">expect</span>(response<span class="op">.</span><span class="at">token</span>)<span class="op">.</span><span class="fu">toBeDefined</span>()<span class="op">;</span></span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb151-6"><a href="#cb151-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-7"><a href="#cb151-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">it</span>(<span class="st">&#39;should reject invalid credentials&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb151-8"><a href="#cb151-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">await</span> <span class="fu">expect</span>(</span>
<span id="cb151-9"><a href="#cb151-9" aria-hidden="true" tabindex="-1"></a>      api<span class="op">.</span><span class="fu">login</span>(email<span class="op">,</span> <span class="st">&#39;wrong-password&#39;</span>)</span>
<span id="cb151-10"><a href="#cb151-10" aria-hidden="true" tabindex="-1"></a>    )<span class="op">.</span><span class="at">rejects</span><span class="op">.</span><span class="fu">toThrow</span>(<span class="st">&#39;AUTH_FAILED&#39;</span>)<span class="op">;</span></span>
<span id="cb151-11"><a href="#cb151-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb151-12"><a href="#cb151-12" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Test Tenant Isolation</strong></p>
<div class="sourceCode" id="cb152"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">it</span>(<span class="st">&#39;should not access other tenant data&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> api<span class="op">.</span><span class="fu">getVehicle</span>(otherTenantVehicleId)<span class="op">;</span></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect</span>(response<span class="op">.</span><span class="at">status</span>)<span class="op">.</span><span class="fu">toBe</span>(<span class="dv">404</span>)<span class="op">;</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Test Rate Limits</strong></p>
<div class="sourceCode" id="cb153"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">it</span>(<span class="st">&#39;should enforce rate limits&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> promises <span class="op">=</span> <span class="bu">Array</span>(<span class="dv">101</span>)<span class="op">.</span><span class="fu">fill</span>()<span class="op">.</span><span class="fu">map</span>(() <span class="kw">=&gt;</span> api<span class="op">.</span><span class="fu">getVehicles</span>())<span class="op">;</span></span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> results <span class="op">=</span> <span class="cf">await</span> <span class="bu">Promise</span><span class="op">.</span><span class="fu">allSettled</span>(promises)<span class="op">;</span></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> rateLimited <span class="op">=</span> results<span class="op">.</span><span class="fu">filter</span>(r <span class="kw">=&gt;</span></span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>    r<span class="op">.</span><span class="at">status</span> <span class="op">===</span> <span class="st">&#39;rejected&#39;</span> <span class="op">&amp;&amp;</span></span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a>    r<span class="op">.</span><span class="at">reason</span><span class="op">.</span><span class="at">response</span><span class="op">?.</span><span class="at">status</span> <span class="op">===</span> <span class="dv">429</span></span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expect</span>(rateLimited<span class="op">.</span><span class="at">length</span>)<span class="op">.</span><span class="fu">toBeGreaterThan</span>(<span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
</ol>
<hr />
<h2 id="postman-collection">Postman Collection</h2>
<h3 id="import-collection">Import Collection</h3>
<p>Download the Postman collection:</p>
<pre><code>https://api.fleet.com/docs/postman-collection.json</code></pre>
<h3 id="environment-variables">Environment Variables</h3>
<p>Set up these variables in Postman:</p>
<div class="sourceCode" id="cb155"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;base_url&quot;</span><span class="fu">:</span> <span class="st">&quot;https://api.fleet.com&quot;</span><span class="fu">,</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;token&quot;</span><span class="fu">:</span> <span class="st">&quot;{{auth_token}}&quot;</span><span class="fu">,</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tenant_id&quot;</span><span class="fu">:</span> <span class="st">&quot;your-tenant-id&quot;</span><span class="fu">,</span></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;csrf_token&quot;</span><span class="fu">:</span> <span class="st">&quot;{{csrf_token}}&quot;</span></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="pre-request-scripts">Pre-request Scripts</h3>
<p><strong>Auto-refresh token:</strong></p>
<div class="sourceCode" id="cb156"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="op">!</span>pm<span class="op">.</span><span class="at">globals</span><span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;token&#39;</span>) <span class="op">||</span> <span class="fu">isTokenExpired</span>()) {</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>  pm<span class="op">.</span><span class="fu">sendRequest</span>({</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">url</span><span class="op">:</span> pm<span class="op">.</span><span class="at">variables</span><span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;base_url&#39;</span>) <span class="op">+</span> <span class="st">&#39;/api/auth/login&#39;</span><span class="op">,</span></span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">method</span><span class="op">:</span> <span class="st">&#39;POST&#39;</span><span class="op">,</span></span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">header</span><span class="op">:</span> { <span class="st">&#39;Content-Type&#39;</span><span class="op">:</span> <span class="st">&#39;application/json&#39;</span> }<span class="op">,</span></span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">body</span><span class="op">:</span> {</span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">mode</span><span class="op">:</span> <span class="st">&#39;raw&#39;</span><span class="op">,</span></span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">raw</span><span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>({</span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">email</span><span class="op">:</span> pm<span class="op">.</span><span class="at">environment</span><span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;email&#39;</span>)<span class="op">,</span></span>
<span id="cb156-10"><a href="#cb156-10" aria-hidden="true" tabindex="-1"></a>        <span class="dt">password</span><span class="op">:</span> pm<span class="op">.</span><span class="at">environment</span><span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;password&#39;</span>)</span>
<span id="cb156-11"><a href="#cb156-11" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb156-12"><a href="#cb156-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb156-13"><a href="#cb156-13" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> (err<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb156-14"><a href="#cb156-14" aria-hidden="true" tabindex="-1"></a>    pm<span class="op">.</span><span class="at">globals</span><span class="op">.</span><span class="fu">set</span>(<span class="st">&#39;token&#39;</span><span class="op">,</span> res<span class="op">.</span><span class="fu">json</span>()<span class="op">.</span><span class="at">token</span>)<span class="op">;</span></span>
<span id="cb156-15"><a href="#cb156-15" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb156-16"><a href="#cb156-16" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<hr />
<h2 id="support-resources">Support &amp; Resources</h2>
<h3 id="documentation">Documentation</h3>
<ul>
<li><strong>API Reference</strong>: https://api.fleet.com/docs</li>
<li><strong>Developer Portal</strong>: https://developers.fleet.com</li>
<li><strong>Changelog</strong>: https://api.fleet.com/changelog</li>
</ul>
<h3 id="support-channels">Support Channels</h3>
<ul>
<li><strong>Email</strong>: api-support@fleet.com</li>
<li><strong>Slack</strong>: #fleet-api-support</li>
<li><strong>GitHub</strong>: https://github.com/fleet/api/issues</li>
</ul>
<h3 id="sla-uptime">SLA &amp; Uptime</h3>
<ul>
<li><strong>Uptime Target</strong>: 99.9%</li>
<li><strong>Support Hours</strong>: 24/7 for critical issues</li>
<li><strong>Response Time</strong>: &lt; 1 hour for P1 issues</li>
</ul>
<h3 id="compliance">Compliance</h3>
<ul>
<li><strong>FIPS 140-2</strong>: Cryptographic operations</li>
<li><strong>SOC 2 Type II</strong>: Annual certification</li>
<li><strong>GDPR</strong>: Data privacy compliance</li>
<li><strong>ISO 27001</strong>: Information security</li>
</ul>
<hr />
<h2 id="appendix">Appendix</h2>
<h3 id="glossary">Glossary</h3>
<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>VIN</strong></td>
<td>Vehicle Identification Number (17 characters)</td>
</tr>
<tr>
<td><strong>OBD2</strong></td>
<td>On-Board Diagnostics (vehicle diagnostic system)</td>
</tr>
<tr>
<td><strong>RBAC</strong></td>
<td>Role-Based Access Control</td>
</tr>
<tr>
<td><strong>RLS</strong></td>
<td>Row-Level Security (database isolation)</td>
</tr>
<tr>
<td><strong>JWT</strong></td>
<td>JSON Web Token (authentication)</td>
</tr>
<tr>
<td><strong>CSRF</strong></td>
<td>Cross-Site Request Forgery (security protection)</td>
</tr>
<tr>
<td><strong>OCR</strong></td>
<td>Optical Character Recognition</td>
</tr>
<tr>
<td><strong>RAG</strong></td>
<td>Retrieval-Augmented Generation (AI technique)</td>
</tr>
</tbody>
</table>
<h3 id="common-abbreviations">Common Abbreviations</h3>
<ul>
<li><strong>API</strong>: Application Programming Interface</li>
<li><strong>REST</strong>: Representational State Transfer</li>
<li><strong>CRUD</strong>: Create, Read, Update, Delete</li>
<li><strong>FIPS</strong>: Federal Information Processing Standards</li>
<li><strong>OSHA</strong>: Occupational Safety and Health
Administration</li>
<li><strong>EV</strong>: Electric Vehicle</li>
<li><strong>GPS</strong>: Global Positioning System</li>
<li><strong>MPG</strong>: Miles Per Gallon</li>
<li><strong>kWh</strong>: Kilowatt-hour</li>
</ul>
<hr />
<p><strong>Last Updated</strong>: January 2, 2026
<strong>Version</strong>: 1.0.0 <strong>Maintained by</strong>: Fleet
Platform API Team</p>
<p>For the most up-to-date documentation, visit:
https://api.fleet.com/docs</p>
</body>
</html>
