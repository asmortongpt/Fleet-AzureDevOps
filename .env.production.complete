# ===========================================
# CTAFleet - Production Environment Variables
# ===========================================
# IMPORTANT: This is a COMPLETE template with ALL possible variables
# Copy this to .env.production and fill in your actual values
# NEVER commit files with actual secrets to version control
# ===========================================

# ------------------
# ENVIRONMENT
# ------------------
NODE_ENV=production
ENVIRONMENT=production
PORT=3000

# ------------------
# FRONTEND (Vite)
# ------------------
VITE_API_URL=
VITE_ENVIRONMENT=production
VITE_BUILD_VERSION=

# Azure AD Authentication
VITE_AZURE_AD_CLIENT_ID=
VITE_AZURE_AD_TENANT_ID=
VITE_AZURE_AD_REDIRECT_URI=https://fleet.ctafleet.com/auth/callback

# Azure Maps
VITE_AZURE_MAPS_SUBSCRIPTION_KEY=

# Feature Flags
VITE_ENABLE_AI_ASSISTANT=true
VITE_ENABLE_TEAMS_INTEGRATION=true
VITE_ENABLE_EMAIL_CENTER=true
VITE_ENABLE_DARK_MODE=true
VITE_ENABLE_ANALYTICS=true

# ------------------
# DATABASE
# ------------------
# PostgreSQL (Production)
POSTGRES_HOST=postgres-service
POSTGRES_PORT=5432
POSTGRES_DB=fleetdb
POSTGRES_USER=fleetadmin
POSTGRES_PASSWORD=

# Database Connection String (for Node.js)
DATABASE_URL=postgresql://fleetadmin:<PASSWORD>@postgres-service:5432/fleetdb

# Database Performance
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_WORK_MEM=16MB
POSTGRES_MAINTENANCE_WORK_MEM=256MB

# ------------------
# REDIS CACHE
# ------------------
REDIS_HOST=redis-service
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://:<PASSWORD>@redis-service:6379
REDIS_TLS=false
REDIS_MAX_MEMORY=512mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# ------------------
# AUTHENTICATION & SECURITY
# ------------------
# JWT Configuration
JWT_SECRET=
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=HS256

# Session Configuration
SESSION_SECRET=
SESSION_MAX_AGE=86400000

# Password Requirements
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# Security Headers
ENABLE_HELMET=true
ENABLE_CORS=true
CORS_ORIGIN=https://fleet.ctafleet.com,https://www.ctafleet.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ------------------
# AZURE SERVICES
# ------------------
# Azure OpenAI Service
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_KEY=
AZURE_OPENAI_DEPLOYMENT=gpt-4
AZURE_OPENAI_API_VERSION=2023-12-01-preview
AZURE_OPENAI_MAX_TOKENS=4000
AZURE_OPENAI_TEMPERATURE=0.7

# Microsoft Graph API
MS_GRAPH_CLIENT_ID=
MS_GRAPH_CLIENT_SECRET=
MS_GRAPH_TENANT_ID=
MS_GRAPH_SCOPE=https://graph.microsoft.com/.default
MS_GRAPH_API_VERSION=v1.0

# Azure Storage
AZURE_STORAGE_ACCOUNT_NAME=
AZURE_STORAGE_ACCOUNT_KEY=
AZURE_STORAGE_CONNECTION_STRING=
AZURE_STORAGE_CONTAINER_NAME=fleet-files
AZURE_STORAGE_BACKUP_CONTAINER=database-backups
AZURE_STORAGE_SAS_TOKEN=

# Azure Maps
AZURE_MAPS_SUBSCRIPTION_KEY=
AZURE_MAPS_API_VERSION=2.0

# Azure Cognitive Services
AZURE_COMPUTER_VISION_ENDPOINT=
AZURE_COMPUTER_VISION_KEY=
AZURE_TEXT_ANALYTICS_ENDPOINT=
AZURE_TEXT_ANALYTICS_KEY=

# Azure Search (for RAG)
AZURE_SEARCH_ENDPOINT=
AZURE_SEARCH_KEY=
AZURE_SEARCH_INDEX_NAME=fleet-docs

# Azure Cosmos DB (for Test Orchestrator)
AZURE_COSMOS_ENDPOINT=
AZURE_COSMOS_KEY=
AZURE_COSMOS_DATABASE=fleet-testing
AZURE_COSMOS_CONTAINER=test-results

# Azure Key Vault
AZURE_KEY_VAULT_URI=
AZURE_KEY_VAULT_CLIENT_ID=
AZURE_KEY_VAULT_CLIENT_SECRET=
AZURE_KEY_VAULT_TENANT_ID=

# ------------------
# MONITORING & LOGGING
# ------------------
# Application Insights
APPLICATION_INSIGHTS_CONNECTION_STRING=
APPLICATION_INSIGHTS_INSTRUMENTATION_KEY=
APPLICATION_INSIGHTS_SAMPLING_PERCENTAGE=100

# Log Level
LOG_LEVEL=info
LOG_FORMAT=json
LOG_TIMESTAMP=true

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_SERVICE_NAME=fleet-api
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0

# ------------------
# EMAIL & NOTIFICATIONS
# ------------------
# SendGrid Email
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@ctafleet.com
SENDGRID_FROM_NAME=CTAFleet

# SMTP (Alternative to SendGrid)
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=
SMTP_PASSWORD=

# Twilio SMS
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
TWILIO_MESSAGING_SERVICE_SID=

# ------------------
# WEBHOOKS & INTEGRATIONS
# ------------------
# Webhook URLs
BACKUP_WEBHOOK_URL=
RESTORE_WEBHOOK_URL=
ALERT_WEBHOOK_URL=
DEPLOYMENT_WEBHOOK_URL=

# Slack Integration
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#fleet-alerts
SLACK_BOT_TOKEN=

# Microsoft Teams Integration
TEAMS_WEBHOOK_URL=

# ------------------
# BACKUP & DISASTER RECOVERY
# ------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_GPG_RECIPIENT=backup@ctafleet.com

# Disaster Recovery
DR_ENABLED=true
DR_LOCATION=westus2
RTO_TARGET_MINUTES=30
RPO_TARGET_MINUTES=15

# ------------------
# PERFORMANCE & SCALING
# ------------------
# Worker Processes
WEB_CONCURRENCY=4
WORKER_THREADS=4

# Memory Limits
NODE_OPTIONS=--max-old-space-size=4096

# Connection Pooling
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=10000

# Cache TTL
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER_DATA=300
CACHE_TTL_STATIC_DATA=86400

# ------------------
# FEATURE FLAGS (Advanced)
# ------------------
ENABLE_PREDICTIVE_MAINTENANCE=true
ENABLE_AI_COPILOT=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_REAL_TIME_TRACKING=true
ENABLE_GEOFENCING=true
ENABLE_DRIVER_BEHAVIOR=true
ENABLE_FUEL_ANALYTICS=true
ENABLE_MAINTENANCE_SCHEDULING=true

# ------------------
# EXTERNAL APIS (Optional)
# ------------------
# Google Maps API (Alternative to Azure Maps)
GOOGLE_MAPS_API_KEY=

# Weather API
OPENWEATHER_API_KEY=

# Fuel Card Integration
WEXFLEET_API_KEY=
FLEETCOR_API_KEY=

# ELD Integration
SAMSARA_API_KEY=
GEOTAB_API_KEY=

# ------------------
# DEVELOPMENT & DEBUG (Set to false in production)
# ------------------
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_QUERY_LOGGING=false
ENABLE_API_DOCS=false
SWAGGER_ENABLED=false

# ===========================================
# VALIDATION CHECKLIST
# ===========================================
# Before deploying to production, ensure:
# [ ] All <PLACEHOLDER> values are replaced with actual values
# [ ] All secrets are at least 32 characters long
# [ ] Database passwords meet complexity requirements
# [ ] Azure service keys are valid and have appropriate permissions
# [ ] CORS_ORIGIN is set to actual domain (not *)
# [ ] Rate limiting is appropriately configured
# [ ] Backup schedules are configured
# [ ] Monitoring endpoints are configured
# [ ] This file is NOT committed to version control
# [ ] Secrets are stored in Azure Key Vault (production best practice)
# ===========================================
